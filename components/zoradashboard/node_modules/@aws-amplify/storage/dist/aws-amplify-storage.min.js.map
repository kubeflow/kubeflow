{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@aws-sdk/protocol-http/dist/es/httpResponse.js","webpack:///./node_modules/@aws-sdk/protocol-http/dist/es/httpRequest.js","webpack:///external \"@aws-amplify/core\"","webpack:///./node_modules/axios/lib/utils.js","webpack:///./node_modules/fast-xml-parser/src/util.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/fast-xml-parser/src/xmlstr2xmlnode.js","webpack:///./node_modules/@aws-crypto/crc32/build/index.js","webpack:///./node_modules/@aws-sdk/util-locate-window/dist/es/index.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/ie11Sha256.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/isEmptyData.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/constants.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/webCryptoSha256.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/constants.js","webpack:///./node_modules/@aws-crypto/sha256-browser/node_modules/@aws-sdk/util-utf8-browser/dist/es/index.js","webpack:///./node_modules/@aws-crypto/sha256-browser/node_modules/@aws-sdk/util-utf8-browser/dist/es/whatwgEncodingApi.js","webpack:///./node_modules/@aws-crypto/sha256-browser/node_modules/@aws-sdk/util-utf8-browser/dist/es/pureJs.js","webpack:///./node_modules/fast-xml-parser/src/parser.js","webpack:///./node_modules/uuid/index.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/index.js","webpack:///./node_modules/bowser/es5.js","webpack:///./node_modules/axios/lib/axios.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/axios/lib/helpers/isAxiosError.js","webpack:///./node_modules/fast-xml-parser/src/node2json.js","webpack:///./node_modules/fast-xml-parser/src/xmlNode.js","webpack:///./node_modules/fast-xml-parser/src/validator.js","webpack:///./node_modules/fast-xml-parser/src/nimndata.js","webpack:///./node_modules/fast-xml-parser/src/node2json_str.js","webpack:///./node_modules/fast-xml-parser/src/json2xml.js","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/crossPlatformSha256.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/index.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/jsSha256.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/RawSha256.js","webpack:///./node_modules/@aws-crypto/supports-web-crypto/build/index.js","webpack:///./node_modules/@aws-crypto/supports-web-crypto/build/supportsWebCrypto.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/index.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/CryptoOperation.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/Key.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/KeyOperation.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/MsSubtleCrypto.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/MsWindow.js","webpack:///./node_modules/@aws-sdk/client-s3/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@aws-sdk/middleware-stack/dist/es/MiddlewareStack.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/client.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/command.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/extended-encode-uri-component.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/get-array-if-single-item.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/get-value-from-text-node.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/lazy-json.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/date-utils.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/models/models_0.js","webpack:///./node_modules/@aws-sdk/xml-builder/dist/es/XmlNode.js","webpack:///./node_modules/@aws-sdk/xml-builder/dist/es/escape-attribute.js","webpack:///./node_modules/@aws-sdk/xml-builder/dist/es/XmlText.js","webpack:///./node_modules/@aws-sdk/xml-builder/dist/es/escape-element.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/protocols/Aws_restXml.js","webpack:///./node_modules/@aws-sdk/middleware-bucket-endpoint/dist/es/bucketHostnameUtils.js","webpack:///./node_modules/@aws-sdk/middleware-bucket-endpoint/dist/es/bucketHostname.js","webpack:///./node_modules/@aws-sdk/middleware-bucket-endpoint/dist/es/bucketEndpointMiddleware.js","webpack:///./node_modules/@aws-sdk/middleware-bucket-endpoint/node_modules/@aws-sdk/util-arn-parser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-sdk-s3/dist/es/validate-bucket-name.js","webpack:///./node_modules/@aws-sdk/middleware-sdk-s3/node_modules/@aws-sdk/util-arn-parser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-sdk-s3/dist/es/use-regional-endpoint.js","webpack:///./node_modules/@aws-sdk/middleware-sdk-s3/dist/es/throw-200-exceptions.js","webpack:///./node_modules/@aws-sdk/middleware-serde/dist/es/serdePlugin.js","webpack:///./node_modules/@aws-sdk/middleware-serde/dist/es/deserializerMiddleware.js","webpack:///./node_modules/@aws-sdk/middleware-serde/dist/es/serializerMiddleware.js","webpack:///./node_modules/@aws-sdk/eventstream-marshaller/node_modules/@aws-sdk/util-hex-encoding/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-ssec/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/CopyObjectCommand.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/GetObjectCommand.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/DeleteObjectCommand.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/ListObjectsCommand.js","webpack:///./node_modules/@aws-sdk/eventstream-marshaller/dist/es/Int64.js","webpack:///./node_modules/@aws-sdk/eventstream-marshaller/dist/es/HeaderMarshaller.js","webpack:///./node_modules/@aws-sdk/eventstream-marshaller/dist/es/EventStreamMarshaller.js","webpack:///./node_modules/@aws-sdk/eventstream-marshaller/dist/es/splitMessage.js","webpack:///./node_modules/@aws-sdk/eventstream-serde-browser/node_modules/@aws-sdk/eventstream-serde-universal/dist/es/EventStreamMarshaller.js","webpack:///./node_modules/@aws-sdk/eventstream-serde-browser/node_modules/@aws-sdk/eventstream-serde-universal/dist/es/getChunkedStream.js","webpack:///./node_modules/@aws-sdk/eventstream-serde-browser/node_modules/@aws-sdk/eventstream-serde-universal/dist/es/getUnmarshalledStream.js","webpack:///./node_modules/@aws-sdk/eventstream-serde-browser/dist/es/EventStreamMarshaller.js","webpack:///./node_modules/@aws-sdk/eventstream-serde-browser/dist/es/utils.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/node_modules/@aws-sdk/util-uri-escape/dist/es/escape-uri.js","webpack:///./node_modules/@aws-sdk/util-base64-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/dist/es/fetch-http-handler.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/node_modules/@aws-sdk/querystring-builder/dist/es/index.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/dist/es/request-timeout.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/dist/es/stream-collector.js","webpack:///./node_modules/@aws-sdk/chunked-blob-reader/dist/es/index.js","webpack:///./node_modules/@aws-sdk/util-utf8-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/util-utf8-browser/dist/es/whatwgEncodingApi.js","webpack:///./node_modules/@aws-sdk/util-utf8-browser/dist/es/pureJs.js","webpack:///./node_modules/@aws-sdk/md5-js/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/md5-js/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/retryMiddleware.js","webpack:///./node_modules/@aws-sdk/service-error-classification/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/service-error-classification/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/delayDecider.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/retryDecider.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/defaultStrategy.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/defaultRetryQuota.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/configurations.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/endpoints.js","webpack:///./node_modules/@aws-sdk/url-parser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/invalid-dependency/dist/es/invalidProvider.js","webpack:///./node_modules/@aws-sdk/util-user-agent-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/runtimeConfig.shared.js","webpack:///./node_modules/@aws-sdk/url-parser/node_modules/@aws-sdk/querystring-parser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/runtimeConfig.browser.js","webpack:///./node_modules/@aws-sdk/util-body-length-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/eventstream-serde-browser/dist/es/provider.js","webpack:///./node_modules/@aws-sdk/hash-blob-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/config-resolver/dist/es/EndpointsConfig.js","webpack:///./node_modules/@aws-sdk/config-resolver/dist/es/RegionConfig.js","webpack:///./node_modules/@aws-sdk/middleware-content-length/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-expect-continue/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/util-hex-encoding/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-host-header/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-logger/dist/es/loggerMiddleware.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/credentialDerivation.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalHeaders.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/util-uri-escape/dist/es/escape-uri.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/getPayloadHash.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/is-array-buffer/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/cloneRequest.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/prepareRequest.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/utilDate.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/SignatureV4.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/moveHeadersToQuery.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/hasHeader.js","webpack:///./node_modules/@aws-sdk/middleware-signing/node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalQuery.js","webpack:///./node_modules/@aws-sdk/middleware-signing/dist/es/configurations.js","webpack:///./node_modules/@aws-sdk/middleware-signing/dist/es/middleware.js","webpack:///./node_modules/@aws-sdk/middleware-user-agent/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/middleware-user-agent/dist/es/user-agent-middleware.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/S3Client.js","webpack:///./node_modules/@aws-sdk/eventstream-serde-config-resolver/dist/es/EventStreamSerdeConfig.js","webpack:///./node_modules/@aws-sdk/middleware-user-agent/dist/es/configurations.js","webpack:///./node_modules/@aws-sdk/middleware-bucket-endpoint/dist/es/configurations.js","webpack:///./node_modules/@aws-sdk/util-uri-escape/dist/es/escape-uri.js","webpack:///./node_modules/@aws-sdk/querystring-builder/dist/es/index.js","webpack:///./node_modules/@aws-sdk/util-format-url/dist/es/index.js","webpack:///./node_modules/@aws-sdk/util-create-request/dist/es/index.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/util-hex-encoding/dist/es/index.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/credentialDerivation.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalHeaders.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/util-uri-escape/dist/es/escape-uri.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/getPayloadHash.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/is-array-buffer/dist/es/index.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/cloneRequest.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/prepareRequest.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/utilDate.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/SignatureV4.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/moveHeadersToQuery.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/hasHeader.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalQuery.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/dist/es/presigner.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/s3-request-presigner/dist/es/getSignedUrl.js","webpack:///../../src/providers/axios-http-handler.ts","webpack:///../../src/common/StorageErrorStrings.ts","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/PutObjectCommand.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/models/models_1.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/CreateMultipartUploadCommand.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/UploadPartCommand.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/CompleteMultipartUploadCommand.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/AbortMultipartUploadCommand.js","webpack:///./node_modules/@aws-sdk/client-s3/dist/es/commands/ListPartsCommand.js","webpack:///../../src/providers/AWSS3ProviderManagedUpload.ts","webpack:///../../src/providers/AWSS3Provider.ts","webpack:///../src/Storage.ts","webpack:///../src/index.ts","webpack:///./node_modules/@aws-crypto/sha256-js/node_modules/@aws-sdk/util-utf8-browser/dist/es/index.js","webpack:///./node_modules/@aws-crypto/sha256-js/node_modules/@aws-sdk/util-utf8-browser/dist/es/whatwgEncodingApi.js","webpack:///./node_modules/@aws-crypto/sha256-js/node_modules/@aws-sdk/util-utf8-browser/dist/es/pureJs.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","constructor","__assign","assign","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","__createBinding","k","k2","undefined","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","HttpResponse","options","statusCode","headers","isInstance","response","resp","HttpRequest","method","hostname","port","query","protocol","substr","path","charAt","request","req","clone","cloned","keys","reduce","carry","paramName","_a","param","isArray","toString","val","isUndefined","isObject","isPlainObject","getPrototypeOf","isFunction","forEach","obj","fn","isArrayBuffer","isBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","assignValue","slice","extend","trim","str","replace","stripBOM","content","charCodeAt","nameStartChar","nameRegexp","regexName","RegExp","isExist","isEmptyObject","arrayMode","len","getValue","buildOptions","defaultOptions","props","newOptions","isTagNameInArrayMode","tagName","parentTagName","test","isName","string","match","exec","getAllMatches","regex","matches","allmatches","index","ReflectOwnKeys","R","ReflectApply","args","Function","ownKeys","getOwnPropertyNames","NumberIsNaN","Number","isNaN","EventEmitter","init","once","emitter","errorListener","err","removeListener","resolver","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","type","prepend","events","existing","warning","newListener","emit","unshift","warned","w","Error","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","arr","ret","unwrapListeners","arrayClone","listenerCount","copy","addEventListener","wrapListener","arg","removeEventListener","RangeError","setMaxListeners","getMaxListeners","doError","er","message","context","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","spliceOne","off","removeAllListeners","rawListeners","eventNames","util","xmlNode","parseInt","parseFloat","attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","attrName","stopNodes","processTagValue","parseValue","parseTrueNumberOnly","resolveNameSpace","tagname","tags","split","prefix","shouldParse","parsed","attrsRegx","buildAttributesMap","attrStr","attrs","attrCollection","closingIndexForOpeningTag","data","attrBoundary","tagExp","ch","findClosingIndex","xmlData","errMsg","closingIndex","getTraversalObj","xmlObj","currentNode","textData","closeIndex","substring","colonIndex","includes","child","attrsMap","startIndex","parent","childNode","addChild","separatorIndex","shouldBuildAttributesMap","lastIndexOf","Crc32","crc32","tslib_1","update","digest","checksum","e_1","data_1","data_1_1","byte","lookupTable","e_1_1","return","Uint32Array","from","fallbackWindow","locateWindow","self","utils","encode","encodeURIComponent","url","params","paramsSerializer","serializedParams","parts","toISOString","JSON","stringify","join","hashmarkIndex","__CANCEL__","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","adapter","defaults","XMLHttpRequest","process","transformRequest","transformResponse","parse","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","status","common","cookies","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","config","requestData","requestHeaders","auth","username","password","unescape","Authorization","btoa","fullPath","baseURL","open","toUpperCase","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseType","responseText","statusText","onabort","onerror","ontimeout","timeoutErrorMessage","xsrfValue","withCredentials","read","toLowerCase","setRequestHeader","onDownloadProgress","onUploadProgress","upload","cancelToken","promise","cancel","abort","send","enhanceError","code","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","source","mergeDeepProperties","prop","axiosKeys","otherKeys","filter","Cancel","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rnds","Math","random","byteToHex","buf","offset","bth","Sha256","isEmptyData_1","constants_1","util_utf8_browser_1","util_locate_window_1","secret","operation","keyOperation","subtle","importKey","toArrayBufferView","SHA_256_HMAC_ALGO","oncomplete","getKeyPromise","keyData","sign","catch","toHash","_this","isEmptyData","finish","fromUtf8","byteOffset","byteLength","BYTES_PER_ELEMENT","EMPTY_DATA_SHA_256","SHA_256_HASH","hash","convertToBuffer","typedArray","MAX_HASHABLE_LENGTH","INIT","KEY","DIGEST_LENGTH","BLOCK_SIZE","pow","input","TextEncoder","bytes","surrogatePair","TextDecoder","decode","decoded","fromCharCode","nextByte","encoded","map","byteValue","decodeURIComponent","nodeToJson","xmlToNodeobj","x2xmlnode","validator","validationOption","validate","msg","traversableObj","convertToJson","convertTonimn","convert2nimn","convertToJsonString","j2xParser","parseToNimn","schema","v1","v4","uuid","WebCryptoSha256","Ie11Sha256","ie11Sha256_1","webCryptoSha256_1","17","getFirstMatch","getSecondMatch","matchAndReturnConst","getWindowsVersionName","getMacOSVersionName","splice","getAndroidVersionName","getVersionPrecision","compareVersions","max","u","reverse","min","find","getBrowserAlias","BROWSER_ALIASES_MAP","getBrowserTypeByAlias","BROWSER_MAP","18","ENGINE_MAP","OS_MAP","PLATFORMS_MAP","Bada","BlackBerry","Chrome","Chromium","Electron","Epiphany","Firefox","Focus","Generic","Googlebot","Maxthon","Opera","PhantomJS","Puffin","QupZilla","QQ","QQLite","Safari","Sailfish","SeaMonkey","Sleipnir","Swing","Tizen","Vivaldi","WeChat","Roku","amazon_silk","android","bada","blackberry","chrome","chromium","electron","epiphany","firefox","focus","generic","googlebot","google_search","ie","k_meleon","maxthon","edge","mz","naver","opera","opera_coast","phantomjs","puffin","qupzilla","qq","qqlite","safari","sailfish","samsung_internet","seamonkey","sleipnir","swing","tizen","uc","vivaldi","webos","wechat","yandex","tablet","mobile","desktop","tv","WindowsPhone","Windows","MacOS","iOS","Android","WebOS","Linux","ChromeOS","PlayStation4","EdgeHTML","Blink","Trident","Presto","Gecko","WebKit","90","configurable","writable","getParser","getResult","91","_ua","parsedResult","getUA","parseBrowser","browser","some","describe","getBrowser","getBrowserName","getBrowserVersion","version","getOS","os","parseOS","getOSName","getOSVersion","getPlatform","platform","parsePlatform","getPlatformType","getEngine","engine","parseEngine","getEngineName","satisfies","isOS","isPlatform","h","isBrowser","compareVersion","isEngine","is","92","search","93","versionName","94","vendor","model","95","Axios","mergeConfig","createInstance","defaultConfig","instance","axios","instanceConfig","CancelToken","isCancel","all","promises","spread","isAxiosError","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","getUri","handlers","use","eject","id","transformData","throwIfCancellationRequested","throwIfRequested","reason","fns","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","array","noop","nextTick","title","env","argv","versions","binding","cwd","chdir","dir","umask","normalizedName","toJSON","description","number","fileName","lineNumber","columnNumber","stack","write","expires","domain","secure","cookie","Date","toGMTString","remove","now","isAbsoluteURL","combineURLs","requestedURL","relativeURL","ignoreDuplicateOf","line","originURL","msie","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","host","pathname","location","requestURL","executor","resolvePromise","token","callback","payload","node","jObj","asArray","tag","readPI","start","getErrorObject","getLineNumberForPosition","readCommentAndCDATA","angleBracketsCount","tagFound","reachedRoot","closingTag","readAttributeStr","isValid","validateAttributeString","tagClosed","otg","afterAmp","validateAmpersand","startChar","validAttrStrRegxp","attrNames","getPositionFromMatch","validateAttrName","re","validateNumberAmpersand","char","chars","nilChar","missingChar","nilPremitive","missingPremitive","emptyChar","emptyValue","boundryChar","objStart","arrStart","arrayEnd","charsArr","_e","e_schema","hasValidData","itemSchema","arr_len","arr_i","processValue","isAppChar","x2j","_cToJsonStr","level","indentBy","format","supressEmptyNode","Parser","isAttribute","attrPrefixLen","isCDATA","replaceCDATAstr","replaceCDATAarr","indentate","tagEndChar","newLine","buildTextNode","buildEmptyTextNode","buildObjNode","buildEmptyObjNode","buildTextValNode","buildObjectNode","cdata","repeat","startsWith","j2x","attr","arrLen","item","Ks","L","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","clockseq","seedBytes","msecs","getTime","nsecs","dt","tl","tmh","ii","sha256_js_1","supports_web_crypto_1","ie11_detection_1","supportsWebCrypto","isMsWindow","encoding","RawSha256_1","RawSha256","outer","inner","bufferHash","bufferFromSecret","digestSync","finished","Int32Array","temp","bufferLength","bytesHashed","hashBuffer","bitsHashed","bufferView","DataView","undecoratedLength","setUint8","setUint32","floor","out","state0","state1","state2","state3","state4","state5","state6","state7","t1_1","t2_1","t1","t2","supportsZeroByteGCM","supportsSubtleCrypto","supportsSecureRandom","subtleCryptoMethods","every","methodName","_b","generateKey","encrypt","iv","additionalData","tagLength","msSubtleCryptoMethods","quacksLikeAnMsWindow","subtle_1","constructStack","absoluteEntries","relativeEntries","entriesNameSet","Set","cloneTo","toStack","entry","add","middleware","addRelativeTo","expandRelativeMiddlewareList","expandedMiddlewareList","before","after","getMiddlewareList","entries","normalizedAbsoluteEntries","normalizedRelativeEntries","normalizedEntriesNameMap","normalizedEntry","toMiddleware","relation","sort","stepWeights","priorityWeights","priority","wholeList","expendedMiddlewareList","override","toOverrideIndex","findIndex","toOverride","plugin","applyToStack","toRemove","isRemoved","filterCb","delete","removeByName","removeByReference","removeByTag","_c","initialize","serialize","build","finalizeRequest","deserialize","high","normal","low","Client","middlewareStack","command","optionsOrCb","cb","resolveMiddleware","output","destroy","requestHandler","extendedEncodeURIComponent","getArrayIfSingleItem","mayBeArray","getValueFromTextNode","StringWrapper","Class","Constructor","_super","LazyJsonString","deserializeJSON","fromObject","days","months","dateToUtcString","date","year","getUTCFullYear","month","getUTCMonth","dayOfWeek","getUTCDay","dayOfMonthInt","getUTCDate","hoursInt","getUTCHours","minutesInt","getUTCMinutes","secondsInt","getUTCSeconds","AnalyticsFilter","LifecycleRuleFilter","MetricsFilter","ReplicationRuleFilter","SENSITIVE_STRING","filterSensitiveLog","SSEKMSKeyId","SSEKMSEncryptionContext","SSECustomerKey","CopySourceSSECustomerKey","visit","visitor","Prefix","Tag","And","$unknown","Filter","AnalyticsConfiguration","KMSMasterKeyID","ApplyServerSideEncryptionByDefault","Rules","ServerSideEncryptionConfiguration","KeyId","SSEKMS","Encryption","S3BucketDestination","Destination","InventoryConfiguration","MetricsConfiguration","ReplicationConfiguration","AnalyticsConfigurationList","InventoryConfigurationList","MetricsConfigurationList","LifecycleConfiguration","KMSKeyId","XmlNode","children","attributes","withName","addAttribute","addChildNode","removeAttribute","hasChildren","Boolean","xmlText","attributeName","attribute","XmlText","deserializeAws_restXmlAbortMultipartUploadCommandError","parsedOutput","errorCode","parsedBody","_d","parseBody","loadRestXmlErrorCode","deserializeAws_restXmlNoSuchUploadResponse","$metadata","deserializeMetadata","Code","Message","$fault","deserializeAws_restXmlCompleteMultipartUploadCommandError","deserializeAws_restXmlCopyObjectCommandError","deserializeAws_restXmlObjectNotInActiveTierErrorResponse","deserializeAws_restXmlCreateMultipartUploadCommandError","deserializeAws_restXmlDeleteObjectCommandError","deserializeAws_restXmlGetObjectCommandError","_f","deserializeAws_restXmlInvalidObjectStateResponse","deserializeAws_restXmlNoSuchKeyResponse","deserializeAws_restXmlListObjectsCommandError","deserializeAws_restXmlNoSuchBucketResponse","deserializeAws_restXmlListPartsCommandError","deserializeAws_restXmlPutObjectCommandError","deserializeAws_restXmlUploadPartCommandError","contents","AccessTier","StorageClass","serializeAws_restXmlCompletedMultipartUpload","bodyNode","Parts","serializeAws_restXmlCompletedPartList","ETag","PartNumber","serializeAws_restXmlCompletedPart","deserializeAws_restXmlCommonPrefixList","deserializeAws_restXmlCommonPrefix","deserializeAws_restXmlCopyObjectResult","LastModified","deserializeAws_restXmlInitiator","ID","DisplayName","deserializeAws_restXmlObjectList","Key","Size","Owner","deserializeAws_restXmlOwner","deserializeAws_restXml_Object","deserializeAws_restXmlParts","deserializeAws_restXmlPart","httpStatusCode","requestId","extendedRequestId","cfId","collectBody","streamBody","streamCollector","isSerializableHeaderValue","size","utf8Encoder","collectBodyString","parsedObj","parsedObjToReturn","DOMAIN_PATTERN","IP_ADDRESS_PATTERN","DOTS_PATTERN","DOT_PATTERN","S3_HOSTNAME_PATTERN","S3_US_EAST_1_ALTNAME_PATTERN","getPseudoRegion","region","isFipsRegion","getRegionalSuffix","endsWith","isEqualRegions","regionA","regionB","validateDNSHostLabel","tlsCompatible","bucketHostname","isCustomEndpoint","dualstackEndpoint","baseHostname","accelerateEndpoint","bucketName","isBucketNameOptions","getEndpointFromBucketName","getEndpointFromArn","clientRegion","hostnameSuffix","pathStyleEndpoint","useArnRegion","clientPartition","clientSigningRegion","validateArnEndpointOptions","service","partition","accountId","resource","validateService","validatePartition","validateAccountId","validateRegion","_g","delimiter","resourceType","rest","accesspointName","outpostId","getArnResources","endpointRegion","signingRegion","validateOutpostService","validateNoDualstack","validateNoFIPS","bucketEndpoint","signingService","validateS3Service","isDnsCompatibleBucketName","bucketEndpointMiddleware","replaceBucketInPath","bucketArn","modifiedSigningRegion","Bucket","arn","segments","regionInfoProvider","useAccelerateEndpoint","useDualstackEndpoint","forcePathStyle","bucketEndpointMiddlewareOptions","getBucketEndpointPlugin","clientStack","validateBucketNameMiddlewareOptions","getValidateBucketNamePlugin","unused","validateBucketNameMiddleware","useRegionalEndpointMiddlewareOptions","getUseRegionalEndpointPlugin","useRegionalEndpointMiddleware","throw200ExceptionsMiddlewareOptions","getThrow200ExceptionsPlugin","bodyBytes","bodyString","throw200ExceptionsMiddleware","deserializerMiddlewareOption","serializerMiddlewareOption","getSerdePlugin","serializer","deserializer","commandStack","deserializerMiddleware","serializerMiddleware","ssecMiddlewareOptions","getSsecPlugin","properties","properties_1","properties_1_1","valueView","utf8Decoder","base64Encoder","md5","ssecMiddleware","CopyObjectCommand","configuration","handlerExecutionContext","logger","clientName","commandName","inputFilterSensitiveLog","outputFilterSensitiveLog","handle","resolvedPath","labelValue","ACL","CacheControl","ContentDisposition","ContentEncoding","ContentLanguage","ContentType","CopySource","CopySourceIfMatch","CopySourceIfModifiedSince","CopySourceIfNoneMatch","CopySourceIfUnmodifiedSince","Expires","GrantFullControl","GrantRead","GrantReadACP","GrantWriteACP","MetadataDirective","TaggingDirective","ServerSideEncryption","WebsiteRedirectLocation","SSECustomerAlgorithm","SSECustomerKeyMD5","BucketKeyEnabled","CopySourceSSECustomerAlgorithm","CopySourceSSECustomerKeyMD5","RequestPayer","Tagging","ObjectLockMode","ObjectLockRetainUntilDate","ObjectLockLegalHoldStatus","ExpectedBucketOwner","ExpectedSourceBucketOwner","Metadata","acc","suffix","segment","endpoint","serializeAws_restXmlCopyObjectCommand","CopyObjectResult","CopySourceVersionId","Expiration","RequestCharged","VersionId","deserializeAws_restXmlCopyObjectCommand","GetObjectCommand","IfMatch","IfModifiedSince","IfNoneMatch","IfUnmodifiedSince","Range","range","ResponseCacheControl","ResponseContentDisposition","ResponseContentEncoding","ResponseContentLanguage","ResponseContentType","ResponseExpires","versionId","partNumber","serializeAws_restXmlGetObjectCommand","AcceptRanges","Body","ContentLength","ContentRange","DeleteMarker","MissingMeta","PartsCount","ReplicationStatus","Restore","TagCount","header","deserializeAws_restXmlGetObjectCommand","DeleteObjectCommand","MFA","BypassGovernanceRetention","serializeAws_restXmlDeleteObjectCommand","deserializeAws_restXmlDeleteObjectCommand","ListObjectsCommand","Delimiter","EncodingType","Marker","MaxKeys","serializeAws_restXmlListObjectsCommand","CommonPrefixes","Contents","IsTruncated","Name","NextMarker","deserializeAws_restXmlListObjectsCommand","SHORT_TO_HEX","HEX_TO_SHORT","encodedByte","toHex","Int64","fromNumber","remaining","abs","round","negate","valueOf","negative","HEADER_VALUE_TYPE","HeaderMarshaller","toUtf8","e_2","chunks","headerName","formatHeaderValue","chunks_1","chunks_1_1","chunk","e_2_1","shortView","setInt16","intView","setInt32","longBytes","binView","setUint16","binBytes","utf8Bytes","strView","strBytes","tsBytes","UUID_PATTERN","uuidBytes","fromHex","nameLength","getUint8","BOOLEAN_TAG","BYTE_TAG","getInt8","SHORT_TAG","getInt16","INT_TAG","getInt32","LONG_TAG","binaryLength","getUint16","BINARY_TAG","stringLength","STRING_TAG","TIMESTAMP_TAG","UUID_TAG","subarray","EventStreamMarshaller","headerMarshaller","marshall","rawHeaders","view","unmarshall","PRELUDE_LENGTH","messageLength","getUint32","headerLength","expectedPreludeChecksum","PRELUDE_MEMBER_LENGTH","expectedMessageChecksum","checksummer","splitMessage","formatHeaders","eventMarshaller","utfEncoder","currentMessageTotalLength","currentMessagePendingLength","currentMessage","messageLengthBuffer","allocateMessage","source_1","source_1_1","messageType","unmodeledError","exception","deserializedException","event","deserialized","getUnmarshalledStream","sourceIterator","chunkLength","currentOffset","bytesRemaining","numBytesForTotal","numBytesToWrite","input_1","input_1_1","payloadBuf","universalMarshaller","readableStream","bodyIterable","isReadableStream","reader","getReader","releaseLock","serialziedIterable","ReadableStream","pull","controller","close","enqueue","escapeUri","uri","hexEncode","FetchHttpHandler","requestTimeout","abortSignal","requestTimeoutInMs","aborted","abortError","queryString","iLen","qsEntry","buildQueryString","requestOptions","Headers","AbortController","timeoutInMs","fetchRequest","Request","raceOfPromises","fetch","fetchHeaders","transformedHeaders","pair","blob","timeoutError","race","alphabetByEncoding","alphabetByValue","limit","fromBase64","totalByteLength","dataView","bits","bitLength","chunkOffset","readToBase64","FileReader","onloadend","commaIndex","dataOffset","readAsDataURL","blobReader","onChunk","chunkSize","fileReader","totalBytesRead","readAsArrayBuffer","Md5","sourceData","ff","gg","hh","cmn","x","retryMiddlewareOptions","getRetryPlugin","retryStrategy","retry","retryMiddleware","CLOCK_SKEW_ERROR_CODES","THROTTLING_ERROR_CODES","TRANSIENT_ERROR_CODES","TRANSIENT_ERROR_STATUS_CODES","isThrottlingError","$retryable","throttling","defaultDelayDecider","delayBase","attempts","defaultRetryDecider","isRetryableByTrait","isClockSkewError","isTransientError","StandardRetryStrategy","maxAttemptsProvider","initialRetryTokens","MAX_CAPACITY","availableCapacity","getCapacityAmount","hasRetryTokens","retryDecider","delayDecider","retryQuota","freeze","retrieveRetryTokens","capacityAmount","releaseRetryTokens","capacityReleaseAmount","shouldRetry","maxAttempts","getMaxAttempts","retryTokenAmount","totalDelay","_loop_1","this_1","state_1","err_1","delay_1","totalRetryDelay","normalizeMaxAttempts","promisified_1","AWS_REGIONS","AWS_CN_REGIONS","AWS_ISO_REGIONS","AWS_ISO_B_REGIONS","AWS_US_GOV_REGIONS","serviceId","clientVersion","ClientSharedValues","apiVersion","disableHostPrefix","regionInfo","signingEscapePath","urlParser","URL","querystring","parseQueryString","ClientDefaultValues","runtime","base64Decoder","bitClusterCount","ceil","bodyLengthChecker","credentialDefaultProvider","defaultUserAgentProvider","parsedUA","sections","_h","eventStreamSerdeProvider","sha256","stream","Blob","base64","arrayBuffer","collectBlob","res","isDone","prior","collectStream","streamHasher","hashCtor","normalizeEndpoint","promisified_2","getEndPointFromRegion","tls","normalizeRegion","contentLengthMiddlewareOptions","getContentLengthPlugin","contentLengthMiddleware","addExpectContinueMiddlewareOptions","getAddExpectContinuePlugin","Expect","addExpectContinueMiddleware","hostHeaderMiddlewareOptions","getHostHeaderPlugin","handlerProtocol","hostHeaderMiddleware","loggerMiddlewareOptions","getLoggerPlugin","outputWithoutMetadata","info","AMZ_DATE_HEADER","GENERATED_HEADERS","SIGNATURE_HEADER","TOKEN_HEADER","ALWAYS_UNSIGNABLE_HEADERS","authorization","connection","expect","pragma","referer","te","trailer","upgrade","PROXY_HEADER_PATTERN","SEC_HEADER_PATTERN","EVENT_ALGORITHM_IDENTIFIER","signingKeyCache","cacheQueue","createScope","shortDate","hmac","ctor","getCanonicalHeaders","unsignableHeaders","signableHeaders","canonical","canonicalHeaderName","getPayloadHash","hashConstructor","cloneRequest","cloneQuery","prepareRequest","iso8601","time","toDate","SignatureV4","applyChecksum","credentials","uriEscapePath","regionProvider","normalizeRegionProvider","credentialProvider","normalizeCredentialsProvider","presign","originalRequest","signingDate","expiresIn","unhoistableHeaders","longDate","scope","canonicalHeaders","_j","_k","_l","formatDate","lname","moveHeadersToQuery","sessionToken","accessKeyId","getCanonicalHeaderList","getSignature","getSigningKey","createCanonicalRequest","toSign","signString","signEvent","signRequest","priorSignature","hashedPayload","hashedHeaders","stringToSign","requestToSign","payloadHash","signature","soughtHeader","hasHeader","ALGORITHM_IDENTIFIER","sortedHeaders","getCanonicalPath","serialized","getCanonicalQuery","createStringToSign","credentialScope","canonicalRequest","hashedRequest","keyPromise","sha256Constructor","credsHash","cacheKey","signable","secretAccessKey","normalizeProvider","getSkewCorrectedDate","systemClockOffset","awsAuthMiddleware","signer","dateHeader","serverTime","newServerTime","awsAuthMiddlewareOptions","UA_ESCAPE_REGEX","escapeUserAgent","prefixSeparatorIndex","uaName","getUserAgentMiddlewareOptions","getUserAgentPlugin","defaultUserAgent","customUserAgent","normalUAValue","section","S3Client","_config_3","normalizedCreds","signingName","resolveAwsAuthConfig","resolveEndpointsConfig","resolveRegionConfig","_config_8","eventStreamMarshaller","resolveEventStreamSerdeConfig","resolveUserAgentConfig","resolveBucketEndpointConfig","formatUrl","createRequest","client","interceptMiddleware","S3RequestPresigner","resolvedOptions","FileHeaderInfo","JSONType","QuoteFields","RestoreRequestType","SelectObjectContentEventStream","PutObjectCommand","ContentMD5","serializeAws_restXmlPutObjectCommand","deserializeAws_restXmlPutObjectCommand","CreateMultipartUploadCommand","uploads","serializeAws_restXmlCreateMultipartUploadCommand","AbortDate","AbortRuleId","UploadId","deserializeAws_restXmlCreateMultipartUploadCommand","S3","OutputLocation","RestoreRequest","Records","Stats","Progress","Cont","End","Payload","UploadPartCommand","uploadId","serializeAws_restXmlUploadPartCommand","deserializeAws_restXmlUploadPartCommand","CompleteMultipartUploadCommand","MultipartUpload","serializeAws_restXmlCompleteMultipartUploadCommand","Location","deserializeAws_restXmlCompleteMultipartUploadCommand","AbortMultipartUploadCommand","serializeAws_restXmlAbortMultipartUploadCommand","deserializeAws_restXmlAbortMultipartUploadCommand","ListPartsCommand","MaxParts","PartNumberMarker","serializeAws_restXmlListPartsCommand","Initiator","NextPartNumberMarker","Part","deserializeAws_restXmlListPartsCommand"],"mappings":"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","file":"aws-amplify-storage.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@aws-amplify/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"aws_amplify_storage\", [\"@aws-amplify/core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"aws_amplify_storage\"] = factory(require(\"@aws-amplify/core\"));\n\telse\n\t\troot[\"aws_amplify_storage\"] = factory(root[\"@aws-amplify/core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 70);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var HttpResponse = /** @class */ (function () {\n    function HttpResponse(options) {\n        this.statusCode = options.statusCode;\n        this.headers = options.headers || {};\n        this.body = options.body;\n    }\n    HttpResponse.isInstance = function (response) {\n        //determine if response is a valid HttpResponse\n        if (!response)\n            return false;\n        var resp = response;\n        return typeof resp.statusCode === \"number\" && typeof resp.headers === \"object\";\n    };\n    return HttpResponse;\n}());\nexport { HttpResponse };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cFJlc3BvbnNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2h0dHBSZXNwb25zZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFRQTtJQUtFLHNCQUFZLE9BQTRCO1FBQ3RDLElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztJQUMzQixDQUFDO0lBRU0sdUJBQVUsR0FBakIsVUFBa0IsUUFBaUI7UUFDakMsK0NBQStDO1FBQy9DLElBQUksQ0FBQyxRQUFRO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDNUIsSUFBTSxJQUFJLEdBQUcsUUFBZSxDQUFDO1FBQzdCLE9BQU8sT0FBTyxJQUFJLENBQUMsVUFBVSxLQUFLLFFBQVEsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDO0lBQ2pGLENBQUM7SUFDSCxtQkFBQztBQUFELENBQUMsQUFqQkQsSUFpQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWFkZXJCYWcsIEh0dHBNZXNzYWdlLCBIdHRwUmVzcG9uc2UgYXMgSUh0dHBSZXNwb25zZSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG50eXBlIEh0dHBSZXNwb25zZU9wdGlvbnMgPSBQYXJ0aWFsPEh0dHBNZXNzYWdlPiAmIHtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBIdHRwUmVzcG9uc2UgZXh0ZW5kcyBJSHR0cFJlc3BvbnNlIHt9XG5cbmV4cG9ydCBjbGFzcyBIdHRwUmVzcG9uc2Uge1xuICBwdWJsaWMgc3RhdHVzQ29kZTogbnVtYmVyO1xuICBwdWJsaWMgaGVhZGVyczogSGVhZGVyQmFnO1xuICBwdWJsaWMgYm9keT86IGFueTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBIdHRwUmVzcG9uc2VPcHRpb25zKSB7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlO1xuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgICB0aGlzLmJvZHkgPSBvcHRpb25zLmJvZHk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShyZXNwb25zZTogdW5rbm93bik6IHJlc3BvbnNlIGlzIEh0dHBSZXNwb25zZSB7XG4gICAgLy9kZXRlcm1pbmUgaWYgcmVzcG9uc2UgaXMgYSB2YWxpZCBIdHRwUmVzcG9uc2VcbiAgICBpZiAoIXJlc3BvbnNlKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlIGFzIGFueTtcbiAgICByZXR1cm4gdHlwZW9mIHJlc3Auc3RhdHVzQ29kZSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgcmVzcC5oZWFkZXJzID09PSBcIm9iamVjdFwiO1xuICB9XG59XG4iXX0=","import { __assign, __read, __spread } from \"tslib\";\nvar HttpRequest = /** @class */ (function () {\n    function HttpRequest(options) {\n        this.method = options.method || \"GET\";\n        this.hostname = options.hostname || \"localhost\";\n        this.port = options.port;\n        this.query = options.query || {};\n        this.headers = options.headers || {};\n        this.body = options.body;\n        this.protocol = options.protocol\n            ? options.protocol.substr(-1) !== \":\"\n                ? options.protocol + \":\"\n                : options.protocol\n            : \"https:\";\n        this.path = options.path ? (options.path.charAt(0) !== \"/\" ? \"/\" + options.path : options.path) : \"/\";\n    }\n    HttpRequest.isInstance = function (request) {\n        //determine if request is a valid httpRequest\n        if (!request)\n            return false;\n        var req = request;\n        return (\"method\" in req &&\n            \"protocol\" in req &&\n            \"hostname\" in req &&\n            \"path\" in req &&\n            typeof req[\"query\"] === \"object\" &&\n            typeof req[\"headers\"] === \"object\");\n    };\n    HttpRequest.prototype.clone = function () {\n        var cloned = new HttpRequest(__assign(__assign({}, this), { headers: __assign({}, this.headers) }));\n        if (cloned.query)\n            cloned.query = cloneQuery(cloned.query);\n        return cloned;\n    };\n    return HttpRequest;\n}());\nexport { HttpRequest };\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce(function (carry, paramName) {\n        var _a;\n        var param = query[paramName];\n        return __assign(__assign({}, carry), (_a = {}, _a[paramName] = Array.isArray(param) ? __spread(param) : param, _a));\n    }, {});\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cFJlcXVlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaHR0cFJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQU1BO0lBVUUscUJBQVksT0FBMkI7UUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQztRQUN0QyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxRQUFRLElBQUksV0FBVyxDQUFDO1FBQ2hELElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVE7WUFDOUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRztnQkFDbkMsQ0FBQyxDQUFJLE9BQU8sQ0FBQyxRQUFRLE1BQUc7Z0JBQ3hCLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUTtZQUNwQixDQUFDLENBQUMsUUFBUSxDQUFDO1FBQ2IsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBSSxPQUFPLENBQUMsSUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztJQUN4RyxDQUFDO0lBRU0sc0JBQVUsR0FBakIsVUFBa0IsT0FBZ0I7UUFDaEMsNkNBQTZDO1FBQzdDLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDM0IsSUFBTSxHQUFHLEdBQVEsT0FBTyxDQUFDO1FBQ3pCLE9BQU8sQ0FDTCxRQUFRLElBQUksR0FBRztZQUNmLFVBQVUsSUFBSSxHQUFHO1lBQ2pCLFVBQVUsSUFBSSxHQUFHO1lBQ2pCLE1BQU0sSUFBSSxHQUFHO1lBQ2IsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLEtBQUssUUFBUTtZQUNoQyxPQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxRQUFRLENBQ25DLENBQUM7SUFDSixDQUFDO0lBRUQsMkJBQUssR0FBTDtRQUNFLElBQU0sTUFBTSxHQUFHLElBQUksV0FBVyx1QkFDekIsSUFBSSxLQUNQLE9BQU8sZUFBTyxJQUFJLENBQUMsT0FBTyxLQUMxQixDQUFDO1FBQ0gsSUFBSSxNQUFNLENBQUMsS0FBSztZQUFFLE1BQU0sQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBQ0gsa0JBQUM7QUFBRCxDQUFDLEFBL0NELElBK0NDOztBQUVELFNBQVMsVUFBVSxDQUFDLEtBQXdCO0lBQzFDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQyxLQUF3QixFQUFFLFNBQWlCOztRQUMzRSxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0IsNkJBQ0ssS0FBSyxnQkFDUCxTQUFTLElBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFVBQUssS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLE9BQ3REO0lBQ0osQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuZHBvaW50LCBIZWFkZXJCYWcsIEh0dHBNZXNzYWdlLCBIdHRwUmVxdWVzdCBhcyBJSHR0cFJlcXVlc3QsIFF1ZXJ5UGFyYW1ldGVyQmFnIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbnR5cGUgSHR0cFJlcXVlc3RPcHRpb25zID0gUGFydGlhbDxIdHRwTWVzc2FnZT4gJiBQYXJ0aWFsPEVuZHBvaW50PiAmIHsgbWV0aG9kPzogc3RyaW5nIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSHR0cFJlcXVlc3QgZXh0ZW5kcyBJSHR0cFJlcXVlc3Qge31cblxuZXhwb3J0IGNsYXNzIEh0dHBSZXF1ZXN0IGltcGxlbWVudHMgSHR0cE1lc3NhZ2UsIEVuZHBvaW50IHtcbiAgcHVibGljIG1ldGhvZDogc3RyaW5nO1xuICBwdWJsaWMgcHJvdG9jb2w6IHN0cmluZztcbiAgcHVibGljIGhvc3RuYW1lOiBzdHJpbmc7XG4gIHB1YmxpYyBwb3J0PzogbnVtYmVyO1xuICBwdWJsaWMgcGF0aDogc3RyaW5nO1xuICBwdWJsaWMgcXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnO1xuICBwdWJsaWMgaGVhZGVyczogSGVhZGVyQmFnO1xuICBwdWJsaWMgYm9keT86IGFueTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBIdHRwUmVxdWVzdE9wdGlvbnMpIHtcbiAgICB0aGlzLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCI7XG4gICAgdGhpcy5ob3N0bmFtZSA9IG9wdGlvbnMuaG9zdG5hbWUgfHwgXCJsb2NhbGhvc3RcIjtcbiAgICB0aGlzLnBvcnQgPSBvcHRpb25zLnBvcnQ7XG4gICAgdGhpcy5xdWVyeSA9IG9wdGlvbnMucXVlcnkgfHwge307XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xuICAgIHRoaXMuYm9keSA9IG9wdGlvbnMuYm9keTtcbiAgICB0aGlzLnByb3RvY29sID0gb3B0aW9ucy5wcm90b2NvbFxuICAgICAgPyBvcHRpb25zLnByb3RvY29sLnN1YnN0cigtMSkgIT09IFwiOlwiXG4gICAgICAgID8gYCR7b3B0aW9ucy5wcm90b2NvbH06YFxuICAgICAgICA6IG9wdGlvbnMucHJvdG9jb2xcbiAgICAgIDogXCJodHRwczpcIjtcbiAgICB0aGlzLnBhdGggPSBvcHRpb25zLnBhdGggPyAob3B0aW9ucy5wYXRoLmNoYXJBdCgwKSAhPT0gXCIvXCIgPyBgLyR7b3B0aW9ucy5wYXRofWAgOiBvcHRpb25zLnBhdGgpIDogXCIvXCI7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShyZXF1ZXN0OiB1bmtub3duKTogcmVxdWVzdCBpcyBIdHRwUmVxdWVzdCB7XG4gICAgLy9kZXRlcm1pbmUgaWYgcmVxdWVzdCBpcyBhIHZhbGlkIGh0dHBSZXF1ZXN0XG4gICAgaWYgKCFyZXF1ZXN0KSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgcmVxOiBhbnkgPSByZXF1ZXN0O1xuICAgIHJldHVybiAoXG4gICAgICBcIm1ldGhvZFwiIGluIHJlcSAmJlxuICAgICAgXCJwcm90b2NvbFwiIGluIHJlcSAmJlxuICAgICAgXCJob3N0bmFtZVwiIGluIHJlcSAmJlxuICAgICAgXCJwYXRoXCIgaW4gcmVxICYmXG4gICAgICB0eXBlb2YgcmVxW1wicXVlcnlcIl0gPT09IFwib2JqZWN0XCIgJiZcbiAgICAgIHR5cGVvZiByZXFbXCJoZWFkZXJzXCJdID09PSBcIm9iamVjdFwiXG4gICAgKTtcbiAgfVxuXG4gIGNsb25lKCk6IEh0dHBSZXF1ZXN0IHtcbiAgICBjb25zdCBjbG9uZWQgPSBuZXcgSHR0cFJlcXVlc3Qoe1xuICAgICAgLi4udGhpcyxcbiAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gICAgaWYgKGNsb25lZC5xdWVyeSkgY2xvbmVkLnF1ZXJ5ID0gY2xvbmVRdWVyeShjbG9uZWQucXVlcnkpO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvbmVRdWVyeShxdWVyeTogUXVlcnlQYXJhbWV0ZXJCYWcpOiBRdWVyeVBhcmFtZXRlckJhZyB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeSkucmVkdWNlKChjYXJyeTogUXVlcnlQYXJhbWV0ZXJCYWcsIHBhcmFtTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcGFyYW0gPSBxdWVyeVtwYXJhbU5hbWVdO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jYXJyeSxcbiAgICAgIFtwYXJhbU5hbWVdOiBBcnJheS5pc0FycmF5KHBhcmFtKSA/IFsuLi5wYXJhbV0gOiBwYXJhbSxcbiAgICB9O1xuICB9LCB7fSk7XG59XG4iXX0=","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nconst nameStartChar = ':A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\nconst nameChar = nameStartChar + '\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\nconst nameRegexp = '[' + nameStartChar + '][' + nameChar + ']*'\nconst regexName = new RegExp('^' + nameRegexp + '$');\n\nconst getAllMatches = function(string, regex) {\n  const matches = [];\n  let match = regex.exec(string);\n  while (match) {\n    const allmatches = [];\n    const len = match.length;\n    for (let index = 0; index < len; index++) {\n      allmatches.push(match[index]);\n    }\n    matches.push(allmatches);\n    match = regex.exec(string);\n  }\n  return matches;\n};\n\nconst isName = function(string) {\n  const match = regexName.exec(string);\n  return !(match === null || typeof match === 'undefined');\n};\n\nexports.isExist = function(v) {\n  return typeof v !== 'undefined';\n};\n\nexports.isEmptyObject = function(obj) {\n  return Object.keys(obj).length === 0;\n};\n\n/**\n * Copy all the properties of a into b.\n * @param {*} target\n * @param {*} a\n */\nexports.merge = function(target, a, arrayMode) {\n  if (a) {\n    const keys = Object.keys(a); // will return an array of own properties\n    const len = keys.length; //don't make it inline\n    for (let i = 0; i < len; i++) {\n      if (arrayMode === 'strict') {\n        target[keys[i]] = [ a[keys[i]] ];\n      } else {\n        target[keys[i]] = a[keys[i]];\n      }\n    }\n  }\n};\n/* exports.merge =function (b,a){\n  return Object.assign(b,a);\n} */\n\nexports.getValue = function(v) {\n  if (exports.isExist(v)) {\n    return v;\n  } else {\n    return '';\n  }\n};\n\n// const fakeCall = function(a) {return a;};\n// const fakeCallNoReturn = function() {};\n\nexports.buildOptions = function(options, defaultOptions, props) {\n  var newOptions = {};\n  if (!options) {\n    return defaultOptions; //if there are not options\n  }\n\n  for (let i = 0; i < props.length; i++) {\n    if (options[props[i]] !== undefined) {\n      newOptions[props[i]] = options[props[i]];\n    } else {\n      newOptions[props[i]] = defaultOptions[props[i]];\n    }\n  }\n  return newOptions;\n};\n\n/**\n * Check if a tag name should be treated as array\n *\n * @param tagName the node tagname\n * @param arrayMode the array mode option\n * @param parentTagName the parent tag name\n * @returns {boolean} true if node should be parsed as array\n */\nexports.isTagNameInArrayMode = function (tagName, arrayMode, parentTagName) {\n  if (arrayMode === false) {\n    return false;\n  } else if (arrayMode instanceof RegExp) {\n    return arrayMode.test(tagName);\n  } else if (typeof arrayMode === 'function') {\n    return !!arrayMode(tagName, parentTagName);\n  }\n\n  return arrayMode === \"strict\";\n}\n\nexports.isName = isName;\nexports.getAllMatches = getAllMatches;\nexports.nameRegexp = nameRegexp;\n","module.exports = require('./lib/axios');","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\n\nconst util = require('./util');\nconst buildOptions = require('./util').buildOptions;\nconst xmlNode = require('./xmlNode');\nconst regx =\n  '<((!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\\\/)(NAME)\\\\s*>))([^<]*)'\n  .replace(/NAME/g, util.nameRegexp);\n\n//const tagsRegx = new RegExp(\"<(\\\\/?[\\\\w:\\\\-\\._]+)([^>]*)>(\\\\s*\"+cdataRegx+\")*([^<]+)?\",\"g\");\n//const tagsRegx = new RegExp(\"<(\\\\/?)((\\\\w*:)?([\\\\w:\\\\-\\._]+))([^>]*)>([^<]*)(\"+cdataRegx+\"([^<]*))*([^<]+)?\",\"g\");\n\n//polyfill\nif (!Number.parseInt && window.parseInt) {\n  Number.parseInt = window.parseInt;\n}\nif (!Number.parseFloat && window.parseFloat) {\n  Number.parseFloat = window.parseFloat;\n}\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attrNodeName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  ignoreNameSpace: false,\n  allowBooleanAttributes: false, //a tag can have attributes without any value\n  //ignoreRootElement : false,\n  parseNodeValue: true,\n  parseAttributeValue: false,\n  arrayMode: false,\n  trimValues: true, //Trim string values of tag and attributes\n  cdataTagName: false,\n  cdataPositionChar: '\\\\c',\n  tagValueProcessor: function(a, tagName) {\n    return a;\n  },\n  attrValueProcessor: function(a, attrName) {\n    return a;\n  },\n  stopNodes: []\n  //decodeStrict: false,\n};\n\nexports.defaultOptions = defaultOptions;\n\nconst props = [\n  'attributeNamePrefix',\n  'attrNodeName',\n  'textNodeName',\n  'ignoreAttributes',\n  'ignoreNameSpace',\n  'allowBooleanAttributes',\n  'parseNodeValue',\n  'parseAttributeValue',\n  'arrayMode',\n  'trimValues',\n  'cdataTagName',\n  'cdataPositionChar',\n  'tagValueProcessor',\n  'attrValueProcessor',\n  'parseTrueNumberOnly',\n  'stopNodes'\n];\nexports.props = props;\n\n/**\n * Trim -> valueProcessor -> parse value\n * @param {string} tagName\n * @param {string} val\n * @param {object} options\n */\nfunction processTagValue(tagName, val, options) {\n  if (val) {\n    if (options.trimValues) {\n      val = val.trim();\n    }\n    val = options.tagValueProcessor(val, tagName);\n    val = parseValue(val, options.parseNodeValue, options.parseTrueNumberOnly);\n  }\n\n  return val;\n}\n\nfunction resolveNameSpace(tagname, options) {\n  if (options.ignoreNameSpace) {\n    const tags = tagname.split(':');\n    const prefix = tagname.charAt(0) === '/' ? '/' : '';\n    if (tags[0] === 'xmlns') {\n      return '';\n    }\n    if (tags.length === 2) {\n      tagname = prefix + tags[1];\n    }\n  }\n  return tagname;\n}\n\nfunction parseValue(val, shouldParse, parseTrueNumberOnly) {\n  if (shouldParse && typeof val === 'string') {\n    let parsed;\n    if (val.trim() === '' || isNaN(val)) {\n      parsed = val === 'true' ? true : val === 'false' ? false : val;\n    } else {\n      if (val.indexOf('0x') !== -1) {\n        //support hexa decimal\n        parsed = Number.parseInt(val, 16);\n      } else if (val.indexOf('.') !== -1) {\n        parsed = Number.parseFloat(val);\n        val = val.replace(/\\.?0+$/, \"\");\n      } else {\n        parsed = Number.parseInt(val, 10);\n      }\n      if (parseTrueNumberOnly) {\n        parsed = String(parsed) === val ? parsed : val;\n      }\n    }\n    return parsed;\n  } else {\n    if (util.isExist(val)) {\n      return val;\n    } else {\n      return '';\n    }\n  }\n}\n\n//TODO: change regex to capture NS\n//const attrsRegx = new RegExp(\"([\\\\w\\\\-\\\\.\\\\:]+)\\\\s*=\\\\s*(['\\\"])((.|\\n)*?)\\\\2\",\"gm\");\nconst attrsRegx = new RegExp('([^\\\\s=]+)\\\\s*(=\\\\s*([\\'\"])(.*?)\\\\3)?', 'g');\n\nfunction buildAttributesMap(attrStr, options) {\n  if (!options.ignoreAttributes && typeof attrStr === 'string') {\n    attrStr = attrStr.replace(/\\r?\\n/g, ' ');\n    //attrStr = attrStr || attrStr.trim();\n\n    const matches = util.getAllMatches(attrStr, attrsRegx);\n    const len = matches.length; //don't make it inline\n    const attrs = {};\n    for (let i = 0; i < len; i++) {\n      const attrName = resolveNameSpace(matches[i][1], options);\n      if (attrName.length) {\n        if (matches[i][4] !== undefined) {\n          if (options.trimValues) {\n            matches[i][4] = matches[i][4].trim();\n          }\n          matches[i][4] = options.attrValueProcessor(matches[i][4], attrName);\n          attrs[options.attributeNamePrefix + attrName] = parseValue(\n            matches[i][4],\n            options.parseAttributeValue,\n            options.parseTrueNumberOnly\n          );\n        } else if (options.allowBooleanAttributes) {\n          attrs[options.attributeNamePrefix + attrName] = true;\n        }\n      }\n    }\n    if (!Object.keys(attrs).length) {\n      return;\n    }\n    if (options.attrNodeName) {\n      const attrCollection = {};\n      attrCollection[options.attrNodeName] = attrs;\n      return attrCollection;\n    }\n    return attrs;\n  }\n}\n\nconst getTraversalObj = function(xmlData, options) {\n  xmlData = xmlData.replace(/\\r\\n?/g, \"\\n\");\n  options = buildOptions(options, defaultOptions, props);\n  const xmlObj = new xmlNode('!xml');\n  let currentNode = xmlObj;\n  let textData = \"\";\n\n//function match(xmlData){\n  for(let i=0; i< xmlData.length; i++){\n    const ch = xmlData[i];\n    if(ch === '<'){\n      if( xmlData[i+1] === '/') {//Closing Tag\n        const closeIndex = findClosingIndex(xmlData, \">\", i, \"Closing Tag is not closed.\")\n        let tagName = xmlData.substring(i+2,closeIndex).trim();\n\n        if(options.ignoreNameSpace){\n          const colonIndex = tagName.indexOf(\":\");\n          if(colonIndex !== -1){\n            tagName = tagName.substr(colonIndex+1);\n          }\n        }\n\n        /* if (currentNode.parent) {\n          currentNode.parent.val = util.getValue(currentNode.parent.val) + '' + processTagValue2(tagName, textData , options);\n        } */\n        if(currentNode){\n          if(currentNode.val){\n            currentNode.val = util.getValue(currentNode.val) + '' + processTagValue(tagName, textData , options);\n          }else{\n            currentNode.val = processTagValue(tagName, textData , options);\n          }\n        }\n\n        if (options.stopNodes.length && options.stopNodes.includes(currentNode.tagname)) {\n          currentNode.child = []\n          if (currentNode.attrsMap == undefined) { currentNode.attrsMap = {}}\n          currentNode.val = xmlData.substr(currentNode.startIndex + 1, i - currentNode.startIndex - 1)\n        }\n        currentNode = currentNode.parent;\n        textData = \"\";\n        i = closeIndex;\n      } else if( xmlData[i+1] === '?') {\n        i = findClosingIndex(xmlData, \"?>\", i, \"Pi Tag is not closed.\")\n      } else if(xmlData.substr(i + 1, 3) === '!--') {\n        i = findClosingIndex(xmlData, \"-->\", i, \"Comment is not closed.\")\n      } else if( xmlData.substr(i + 1, 2) === '!D') {\n        const closeIndex = findClosingIndex(xmlData, \">\", i, \"DOCTYPE is not closed.\")\n        const tagExp = xmlData.substring(i, closeIndex);\n        if(tagExp.indexOf(\"[\") >= 0){\n          i = xmlData.indexOf(\"]>\", i) + 1;\n        }else{\n          i = closeIndex;\n        }\n      }else if(xmlData.substr(i + 1, 2) === '![') {\n        const closeIndex = findClosingIndex(xmlData, \"]]>\", i, \"CDATA is not closed.\") - 2\n        const tagExp = xmlData.substring(i + 9,closeIndex);\n\n        //considerations\n        //1. CDATA will always have parent node\n        //2. A tag with CDATA is not a leaf node so it's value would be string type.\n        if(textData){\n          currentNode.val = util.getValue(currentNode.val) + '' + processTagValue(currentNode.tagname, textData , options);\n          textData = \"\";\n        }\n\n        if (options.cdataTagName) {\n          //add cdata node\n          const childNode = new xmlNode(options.cdataTagName, currentNode, tagExp);\n          currentNode.addChild(childNode);\n          //for backtracking\n          currentNode.val = util.getValue(currentNode.val) + options.cdataPositionChar;\n          //add rest value to parent node\n          if (tagExp) {\n            childNode.val = tagExp;\n          }\n        } else {\n          currentNode.val = (currentNode.val || '') + (tagExp || '');\n        }\n\n        i = closeIndex + 2;\n      }else {//Opening tag\n        const result = closingIndexForOpeningTag(xmlData, i+1)\n        let tagExp = result.data;\n        const closeIndex = result.index;\n        const separatorIndex = tagExp.indexOf(\" \");\n        let tagName = tagExp;\n        let shouldBuildAttributesMap = true;\n        if(separatorIndex !== -1){\n          tagName = tagExp.substr(0, separatorIndex).replace(/\\s\\s*$/, '');\n          tagExp = tagExp.substr(separatorIndex + 1);\n        }\n\n        if(options.ignoreNameSpace){\n          const colonIndex = tagName.indexOf(\":\");\n          if(colonIndex !== -1){\n            tagName = tagName.substr(colonIndex+1);\n            shouldBuildAttributesMap = tagName !== result.data.substr(colonIndex + 1);\n          }\n        }\n\n        //save text to parent node\n        if (currentNode && textData) {\n          if(currentNode.tagname !== '!xml'){\n            currentNode.val = util.getValue(currentNode.val) + '' + processTagValue( currentNode.tagname, textData, options);\n          }\n        }\n\n        if(tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1){//selfClosing tag\n\n          if(tagName[tagName.length - 1] === \"/\"){ //remove trailing '/'\n            tagName = tagName.substr(0, tagName.length - 1);\n            tagExp = tagName;\n          }else{\n            tagExp = tagExp.substr(0, tagExp.length - 1);\n          }\n\n          const childNode = new xmlNode(tagName, currentNode, '');\n          if(tagName !== tagExp){\n            childNode.attrsMap = buildAttributesMap(tagExp, options);\n          }\n          currentNode.addChild(childNode);\n        }else{//opening tag\n\n          const childNode = new xmlNode( tagName, currentNode );\n          if (options.stopNodes.length && options.stopNodes.includes(childNode.tagname)) {\n            childNode.startIndex=closeIndex;\n          }\n          if(tagName !== tagExp && shouldBuildAttributesMap){\n            childNode.attrsMap = buildAttributesMap(tagExp, options);\n          }\n          currentNode.addChild(childNode);\n          currentNode = childNode;\n        }\n        textData = \"\";\n        i = closeIndex;\n      }\n    }else{\n      textData += xmlData[i];\n    }\n  }\n  return xmlObj;\n}\n\nfunction closingIndexForOpeningTag(data, i){\n  let attrBoundary;\n  let tagExp = \"\";\n  for (let index = i; index < data.length; index++) {\n    let ch = data[index];\n    if (attrBoundary) {\n        if (ch === attrBoundary) attrBoundary = \"\";//reset\n    } else if (ch === '\"' || ch === \"'\") {\n        attrBoundary = ch;\n    } else if (ch === '>') {\n        return {\n          data: tagExp,\n          index: index\n        }\n    } else if (ch === '\\t') {\n      ch = \" \"\n    }\n    tagExp += ch;\n  }\n}\n\nfunction findClosingIndex(xmlData, str, i, errMsg){\n  const closingIndex = xmlData.indexOf(str, i);\n  if(closingIndex === -1){\n    throw new Error(errMsg)\n  }else{\n    return closingIndex + str.length - 1;\n  }\n}\n\nexports.getTraversalObj = getTraversalObj;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Crc32 = exports.crc32 = void 0;\nvar tslib_1 = require(\"tslib\");\nfunction crc32(data) {\n    return new Crc32().update(data).digest();\n}\nexports.crc32 = crc32;\nvar Crc32 = /** @class */ (function () {\n    function Crc32() {\n        this.checksum = 0xffffffff;\n    }\n    Crc32.prototype.update = function (data) {\n        var e_1, _a;\n        try {\n            for (var data_1 = tslib_1.__values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n                var byte = data_1_1.value;\n                this.checksum =\n                    (this.checksum >>> 8) ^ lookupTable[(this.checksum ^ byte) & 0xff];\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return this;\n    };\n    Crc32.prototype.digest = function () {\n        return (this.checksum ^ 0xffffffff) >>> 0;\n    };\n    return Crc32;\n}());\nexports.Crc32 = Crc32;\n// prettier-ignore\nvar lookupTable = Uint32Array.from([\n    0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA,\n    0x076DC419, 0x706AF48F, 0xE963A535, 0x9E6495A3,\n    0x0EDB8832, 0x79DCB8A4, 0xE0D5E91E, 0x97D2D988,\n    0x09B64C2B, 0x7EB17CBD, 0xE7B82D07, 0x90BF1D91,\n    0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE,\n    0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7,\n    0x136C9856, 0x646BA8C0, 0xFD62F97A, 0x8A65C9EC,\n    0x14015C4F, 0x63066CD9, 0xFA0F3D63, 0x8D080DF5,\n    0x3B6E20C8, 0x4C69105E, 0xD56041E4, 0xA2677172,\n    0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B,\n    0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940,\n    0x32D86CE3, 0x45DF5C75, 0xDCD60DCF, 0xABD13D59,\n    0x26D930AC, 0x51DE003A, 0xC8D75180, 0xBFD06116,\n    0x21B4F4B5, 0x56B3C423, 0xCFBA9599, 0xB8BDA50F,\n    0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924,\n    0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D,\n    0x76DC4190, 0x01DB7106, 0x98D220BC, 0xEFD5102A,\n    0x71B18589, 0x06B6B51F, 0x9FBFE4A5, 0xE8B8D433,\n    0x7807C9A2, 0x0F00F934, 0x9609A88E, 0xE10E9818,\n    0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01,\n    0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E,\n    0x6C0695ED, 0x1B01A57B, 0x8208F4C1, 0xF50FC457,\n    0x65B0D9C6, 0x12B7E950, 0x8BBEB8EA, 0xFCB9887C,\n    0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3, 0xFBD44C65,\n    0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2,\n    0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB,\n    0x4369E96A, 0x346ED9FC, 0xAD678846, 0xDA60B8D0,\n    0x44042D73, 0x33031DE5, 0xAA0A4C5F, 0xDD0D7CC9,\n    0x5005713C, 0x270241AA, 0xBE0B1010, 0xC90C2086,\n    0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F,\n    0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4,\n    0x59B33D17, 0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD,\n    0xEDB88320, 0x9ABFB3B6, 0x03B6E20C, 0x74B1D29A,\n    0xEAD54739, 0x9DD277AF, 0x04DB2615, 0x73DC1683,\n    0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8,\n    0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1,\n    0xF00F9344, 0x8708A3D2, 0x1E01F268, 0x6906C2FE,\n    0xF762575D, 0x806567CB, 0x196C3671, 0x6E6B06E7,\n    0xFED41B76, 0x89D32BE0, 0x10DA7A5A, 0x67DD4ACC,\n    0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5,\n    0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252,\n    0xD1BB67F1, 0xA6BC5767, 0x3FB506DD, 0x48B2364B,\n    0xD80D2BDA, 0xAF0A1B4C, 0x36034AF6, 0x41047A60,\n    0xDF60EFC3, 0xA867DF55, 0x316E8EEF, 0x4669BE79,\n    0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236,\n    0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F,\n    0xC5BA3BBE, 0xB2BD0B28, 0x2BB45A92, 0x5CB36A04,\n    0xC2D7FFA7, 0xB5D0CF31, 0x2CD99E8B, 0x5BDEAE1D,\n    0x9B64C2B0, 0xEC63F226, 0x756AA39C, 0x026D930A,\n    0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713,\n    0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38,\n    0x92D28E9B, 0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21,\n    0x86D3D2D4, 0xF1D4E242, 0x68DDB3F8, 0x1FDA836E,\n    0x81BE16CD, 0xF6B9265B, 0x6FB077E1, 0x18B74777,\n    0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C,\n    0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45,\n    0xA00AE278, 0xD70DD2EE, 0x4E048354, 0x3903B3C2,\n    0xA7672661, 0xD06016F7, 0x4969474D, 0x3E6E77DB,\n    0xAED16A4A, 0xD9D65ADC, 0x40DF0B66, 0x37D83BF0,\n    0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9,\n    0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6,\n    0xBAD03605, 0xCDD70693, 0x54DE5729, 0x23D967BF,\n    0xB3667A2E, 0xC4614AB8, 0x5D681B02, 0x2A6F2B94,\n    0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B, 0x2D02EF8D,\n]);\n//# sourceMappingURL=index.js.map","var fallbackWindow = {};\n/**\n * Locates the global scope for a browser or browser-like environment. If\n * neither `window` nor `self` is defined by the environment, the same object\n * will be returned on each invocation.\n */\nexport function locateWindow() {\n    if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else if (typeof self !== \"undefined\") {\n        return self;\n    }\n    return fallbackWindow;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxjQUFjLEdBQUcsRUFBWSxDQUFDO0FBRXBDOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsWUFBWTtJQUMxQixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtRQUNqQyxPQUFPLE1BQU0sQ0FBQztLQUNmO1NBQU0sSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXLEVBQUU7UUFDdEMsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELE9BQU8sY0FBYyxDQUFDO0FBQ3hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmYWxsYmFja1dpbmRvdyA9IHt9IGFzIFdpbmRvdztcblxuLyoqXG4gKiBMb2NhdGVzIHRoZSBnbG9iYWwgc2NvcGUgZm9yIGEgYnJvd3NlciBvciBicm93c2VyLWxpa2UgZW52aXJvbm1lbnQuIElmXG4gKiBuZWl0aGVyIGB3aW5kb3dgIG5vciBgc2VsZmAgaXMgZGVmaW5lZCBieSB0aGUgZW52aXJvbm1lbnQsIHRoZSBzYW1lIG9iamVjdFxuICogd2lsbCBiZSByZXR1cm5lZCBvbiBlYWNoIGludm9jYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2NhdGVXaW5kb3coKTogV2luZG93IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICByZXR1cm4gZmFsbGJhY2tXaW5kb3c7XG59XG4iXX0=","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sha256 = void 0;\nvar isEmptyData_1 = require(\"./isEmptyData\");\nvar constants_1 = require(\"./constants\");\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        if (secret) {\n            this.operation = getKeyPromise(secret).then(function (keyData) {\n                return util_locate_window_1.locateWindow().msCrypto.subtle.sign(constants_1.SHA_256_HMAC_ALGO, keyData);\n            });\n            this.operation.catch(function () { });\n        }\n        else {\n            this.operation = Promise.resolve(util_locate_window_1.locateWindow().msCrypto.subtle.digest(\"SHA-256\"));\n        }\n    }\n    Sha256.prototype.update = function (toHash) {\n        var _this = this;\n        if (isEmptyData_1.isEmptyData(toHash)) {\n            return;\n        }\n        this.operation = this.operation.then(function (operation) {\n            operation.onerror = function () {\n                _this.operation = Promise.reject(new Error(\"Error encountered updating hash\"));\n            };\n            operation.process(toArrayBufferView(toHash));\n            return operation;\n        });\n        this.operation.catch(function () { });\n    };\n    Sha256.prototype.digest = function () {\n        return this.operation.then(function (operation) {\n            return new Promise(function (resolve, reject) {\n                operation.onerror = function () {\n                    reject(new Error(\"Error encountered finalizing hash\"));\n                };\n                operation.oncomplete = function () {\n                    if (operation.result) {\n                        resolve(new Uint8Array(operation.result));\n                    }\n                    reject(new Error(\"Error encountered finalizing hash\"));\n                };\n                operation.finish();\n            });\n        });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction getKeyPromise(secret) {\n    return new Promise(function (resolve, reject) {\n        var keyOperation = util_locate_window_1.locateWindow().msCrypto.subtle.importKey(\"raw\", toArrayBufferView(secret), constants_1.SHA_256_HMAC_ALGO, false, [\"sign\"]);\n        keyOperation.oncomplete = function () {\n            if (keyOperation.result) {\n                resolve(keyOperation.result);\n            }\n            reject(new Error(\"ImportKey completed without importing key.\"));\n        };\n        keyOperation.onerror = function () {\n            reject(new Error(\"ImportKey failed to import key.\"));\n        };\n    });\n}\nfunction toArrayBufferView(data) {\n    if (typeof data === \"string\") {\n        return util_utf8_browser_1.fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWUxMVNoYTI1Ni5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9pZTExU2hhMjU2LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZDQUE0QztBQUM1Qyx5Q0FBZ0Q7QUFFaEQsZ0VBQXNEO0FBRXRELGtFQUEyRDtBQUUzRDtJQUdFLGdCQUFZLE1BQW1CO1FBQzdCLElBQUksTUFBTSxFQUFFO1lBQ1YsSUFBSSxDQUFDLFNBQVMsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsT0FBTztnQkFDakQsT0FBQyxpQ0FBWSxFQUFlLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQy9DLDZCQUFpQixFQUNqQixPQUFPLENBQ1I7WUFIRCxDQUdDLENBQ0YsQ0FBQztZQUNGLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLGNBQU8sQ0FBQyxDQUFDLENBQUM7U0FDaEM7YUFBTTtZQUNMLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FDN0IsaUNBQVksRUFBZSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUMvRCxDQUFDO1NBQ0g7SUFDSCxDQUFDO0lBRUQsdUJBQU0sR0FBTixVQUFPLE1BQWtCO1FBQXpCLGlCQWdCQztRQWZDLElBQUkseUJBQVcsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUN2QixPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQUEsU0FBUztZQUM1QyxTQUFTLENBQUMsT0FBTyxHQUFHO2dCQUNsQixLQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQzdCLElBQUksS0FBSyxDQUFDLGlDQUFpQyxDQUFDLENBQzdDLENBQUM7WUFDSixDQUFDLENBQUM7WUFDRixTQUFTLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFFN0MsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxjQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCx1QkFBTSxHQUFOO1FBQ0UsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FDeEIsVUFBQSxTQUFTO1lBQ1AsT0FBQSxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO2dCQUMxQixTQUFTLENBQUMsT0FBTyxHQUFHO29CQUNsQixNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxDQUFDO2dCQUN6RCxDQUFDLENBQUM7Z0JBQ0YsU0FBUyxDQUFDLFVBQVUsR0FBRztvQkFDckIsSUFBSSxTQUFTLENBQUMsTUFBTSxFQUFFO3dCQUNwQixPQUFPLENBQUMsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7cUJBQzNDO29CQUNELE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pELENBQUMsQ0FBQztnQkFFRixTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDckIsQ0FBQyxDQUFDO1FBWkYsQ0FZRSxDQUNMLENBQUM7SUFDSixDQUFDO0lBQ0gsYUFBQztBQUFELENBQUMsQUF2REQsSUF1REM7QUF2RFksd0JBQU07QUF5RG5CLFNBQVMsYUFBYSxDQUFDLE1BQWtCO0lBQ3ZDLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtRQUNqQyxJQUFNLFlBQVksR0FBSSxpQ0FBWSxFQUFlLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQ3pFLEtBQUssRUFDTCxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsRUFDekIsNkJBQWlCLEVBQ2pCLEtBQUssRUFDTCxDQUFDLE1BQU0sQ0FBQyxDQUNULENBQUM7UUFFRixZQUFZLENBQUMsVUFBVSxHQUFHO1lBQ3hCLElBQUksWUFBWSxDQUFDLE1BQU0sRUFBRTtnQkFDdkIsT0FBTyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUM5QjtZQUVELE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyw0Q0FBNEMsQ0FBQyxDQUFDLENBQUM7UUFDbEUsQ0FBQyxDQUFDO1FBQ0YsWUFBWSxDQUFDLE9BQU8sR0FBRztZQUNyQixNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsaUNBQWlDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsaUJBQWlCLENBQUMsSUFBZ0I7SUFDekMsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDNUIsT0FBTyw0QkFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3ZCO0lBRUQsSUFBSSxXQUFXLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzVCLE9BQU8sSUFBSSxVQUFVLENBQ25CLElBQUksQ0FBQyxNQUFNLEVBQ1gsSUFBSSxDQUFDLFVBQVUsRUFDZixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxpQkFBaUIsQ0FDL0MsQ0FBQztLQUNIO0lBRUQsT0FBTyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM5QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbXB0eURhdGEgfSBmcm9tIFwiLi9pc0VtcHR5RGF0YVwiO1xuaW1wb3J0IHsgU0hBXzI1Nl9ITUFDX0FMR08gfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEhhc2gsIFNvdXJjZURhdGEgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IGZyb21VdGY4IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXRmOC1icm93c2VyXCI7XG5pbXBvcnQgeyBDcnlwdG9PcGVyYXRpb24sIEtleSwgTXNXaW5kb3cgfSBmcm9tIFwiQGF3cy1jcnlwdG8vaWUxMS1kZXRlY3Rpb25cIjtcbmltcG9ydCB7IGxvY2F0ZVdpbmRvdyB9IGZyb20gXCJAYXdzLXNkay91dGlsLWxvY2F0ZS13aW5kb3dcIjtcblxuZXhwb3J0IGNsYXNzIFNoYTI1NiBpbXBsZW1lbnRzIEhhc2gge1xuICBwcml2YXRlIG9wZXJhdGlvbjogUHJvbWlzZTxDcnlwdG9PcGVyYXRpb24+O1xuXG4gIGNvbnN0cnVjdG9yKHNlY3JldD86IFNvdXJjZURhdGEpIHtcbiAgICBpZiAoc2VjcmV0KSB7XG4gICAgICB0aGlzLm9wZXJhdGlvbiA9IGdldEtleVByb21pc2Uoc2VjcmV0KS50aGVuKGtleURhdGEgPT5cbiAgICAgICAgKGxvY2F0ZVdpbmRvdygpIGFzIE1zV2luZG93KS5tc0NyeXB0by5zdWJ0bGUuc2lnbihcbiAgICAgICAgICBTSEFfMjU2X0hNQUNfQUxHTyxcbiAgICAgICAgICBrZXlEYXRhXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLm9wZXJhdGlvbi5jYXRjaCgoKSA9PiB7fSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3BlcmF0aW9uID0gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAobG9jYXRlV2luZG93KCkgYXMgTXNXaW5kb3cpLm1zQ3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZSh0b0hhc2g6IFNvdXJjZURhdGEpOiB2b2lkIHtcbiAgICBpZiAoaXNFbXB0eURhdGEodG9IYXNoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub3BlcmF0aW9uID0gdGhpcy5vcGVyYXRpb24udGhlbihvcGVyYXRpb24gPT4ge1xuICAgICAgb3BlcmF0aW9uLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMub3BlcmF0aW9uID0gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgbmV3IEVycm9yKFwiRXJyb3IgZW5jb3VudGVyZWQgdXBkYXRpbmcgaGFzaFwiKVxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIG9wZXJhdGlvbi5wcm9jZXNzKHRvQXJyYXlCdWZmZXJWaWV3KHRvSGFzaCkpO1xuXG4gICAgICByZXR1cm4gb3BlcmF0aW9uO1xuICAgIH0pO1xuICAgIHRoaXMub3BlcmF0aW9uLmNhdGNoKCgpID0+IHt9KTtcbiAgfVxuXG4gIGRpZ2VzdCgpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICByZXR1cm4gdGhpcy5vcGVyYXRpb24udGhlbjxVaW50OEFycmF5PihcbiAgICAgIG9wZXJhdGlvbiA9PlxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgb3BlcmF0aW9uLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiRXJyb3IgZW5jb3VudGVyZWQgZmluYWxpemluZyBoYXNoXCIpKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIG9wZXJhdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgVWludDhBcnJheShvcGVyYXRpb24ucmVzdWx0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiRXJyb3IgZW5jb3VudGVyZWQgZmluYWxpemluZyBoYXNoXCIpKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgb3BlcmF0aW9uLmZpbmlzaCgpO1xuICAgICAgICB9KVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0S2V5UHJvbWlzZShzZWNyZXQ6IFNvdXJjZURhdGEpOiBQcm9taXNlPEtleT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGtleU9wZXJhdGlvbiA9IChsb2NhdGVXaW5kb3coKSBhcyBNc1dpbmRvdykubXNDcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICAgIFwicmF3XCIsXG4gICAgICB0b0FycmF5QnVmZmVyVmlldyhzZWNyZXQpLFxuICAgICAgU0hBXzI1Nl9ITUFDX0FMR08sXG4gICAgICBmYWxzZSxcbiAgICAgIFtcInNpZ25cIl1cbiAgICApO1xuXG4gICAga2V5T3BlcmF0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICBpZiAoa2V5T3BlcmF0aW9uLnJlc3VsdCkge1xuICAgICAgICByZXNvbHZlKGtleU9wZXJhdGlvbi5yZXN1bHQpO1xuICAgICAgfVxuXG4gICAgICByZWplY3QobmV3IEVycm9yKFwiSW1wb3J0S2V5IGNvbXBsZXRlZCB3aXRob3V0IGltcG9ydGluZyBrZXkuXCIpKTtcbiAgICB9O1xuICAgIGtleU9wZXJhdGlvbi5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIkltcG9ydEtleSBmYWlsZWQgdG8gaW1wb3J0IGtleS5cIikpO1xuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5QnVmZmVyVmlldyhkYXRhOiBTb3VyY2VEYXRhKTogVWludDhBcnJheSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBmcm9tVXRmOChkYXRhKTtcbiAgfVxuXG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICBkYXRhLmJ1ZmZlcixcbiAgICAgIGRhdGEuYnl0ZU9mZnNldCxcbiAgICAgIGRhdGEuYnl0ZUxlbmd0aCAvIFVpbnQ4QXJyYXkuQllURVNfUEVSX0VMRU1FTlRcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEpO1xufVxuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEmptyData = void 0;\nfunction isEmptyData(data) {\n    if (typeof data === \"string\") {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\nexports.isEmptyData = isEmptyData;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNFbXB0eURhdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaXNFbXB0eURhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsU0FBZ0IsV0FBVyxDQUFDLElBQWdCO0lBQzFDLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQzVCLE9BQU8sSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7S0FDMUI7SUFFRCxPQUFPLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFDO0FBQy9CLENBQUM7QUFORCxrQ0FNQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNvdXJjZURhdGEgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHlEYXRhKGRhdGE6IFNvdXJjZURhdGEpOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGRhdGEubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuYnl0ZUxlbmd0aCA9PT0gMDtcbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EMPTY_DATA_SHA_256 = exports.SHA_256_HMAC_ALGO = exports.SHA_256_HASH = void 0;\nexports.SHA_256_HASH = { name: \"SHA-256\" };\nexports.SHA_256_HMAC_ALGO = {\n    name: \"HMAC\",\n    hash: exports.SHA_256_HASH\n};\nexports.EMPTY_DATA_SHA_256 = new Uint8Array([\n    227,\n    176,\n    196,\n    66,\n    152,\n    252,\n    28,\n    20,\n    154,\n    251,\n    244,\n    200,\n    153,\n    111,\n    185,\n    36,\n    39,\n    174,\n    65,\n    228,\n    100,\n    155,\n    147,\n    76,\n    164,\n    149,\n    153,\n    27,\n    120,\n    82,\n    184,\n    85\n]);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBYSxRQUFBLFlBQVksR0FBd0IsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLENBQUM7QUFFeEQsUUFBQSxpQkFBaUIsR0FBZ0Q7SUFDNUUsSUFBSSxFQUFFLE1BQU07SUFDWixJQUFJLEVBQUUsb0JBQVk7Q0FDbkIsQ0FBQztBQUVXLFFBQUEsa0JBQWtCLEdBQUcsSUFBSSxVQUFVLENBQUM7SUFDL0MsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsRUFBRTtJQUNGLEdBQUc7SUFDSCxHQUFHO0lBQ0gsRUFBRTtJQUNGLEVBQUU7SUFDRixHQUFHO0lBQ0gsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsRUFBRTtJQUNGLEVBQUU7SUFDRixHQUFHO0lBQ0gsRUFBRTtJQUNGLEdBQUc7SUFDSCxHQUFHO0lBQ0gsR0FBRztJQUNILEdBQUc7SUFDSCxFQUFFO0lBQ0YsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsRUFBRTtJQUNGLEdBQUc7SUFDSCxFQUFFO0lBQ0YsR0FBRztJQUNILEVBQUU7Q0FDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU0hBXzI1Nl9IQVNIOiB7IG5hbWU6IFwiU0hBLTI1NlwiIH0gPSB7IG5hbWU6IFwiU0hBLTI1NlwiIH07XG5cbmV4cG9ydCBjb25zdCBTSEFfMjU2X0hNQUNfQUxHTzogeyBuYW1lOiBcIkhNQUNcIjsgaGFzaDogeyBuYW1lOiBcIlNIQS0yNTZcIiB9IH0gPSB7XG4gIG5hbWU6IFwiSE1BQ1wiLFxuICBoYXNoOiBTSEFfMjU2X0hBU0hcbn07XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9EQVRBX1NIQV8yNTYgPSBuZXcgVWludDhBcnJheShbXG4gIDIyNyxcbiAgMTc2LFxuICAxOTYsXG4gIDY2LFxuICAxNTIsXG4gIDI1MixcbiAgMjgsXG4gIDIwLFxuICAxNTQsXG4gIDI1MSxcbiAgMjQ0LFxuICAyMDAsXG4gIDE1MyxcbiAgMTExLFxuICAxODUsXG4gIDM2LFxuICAzOSxcbiAgMTc0LFxuICA2NSxcbiAgMjI4LFxuICAxMDAsXG4gIDE1NSxcbiAgMTQ3LFxuICA3NixcbiAgMTY0LFxuICAxNDksXG4gIDE1MyxcbiAgMjcsXG4gIDEyMCxcbiAgODIsXG4gIDE4NCxcbiAgODVcbl0pO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sha256 = void 0;\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar isEmptyData_1 = require(\"./isEmptyData\");\nvar constants_1 = require(\"./constants\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        this.toHash = new Uint8Array(0);\n        if (secret !== void 0) {\n            this.key = new Promise(function (resolve, reject) {\n                util_locate_window_1.locateWindow()\n                    .crypto.subtle.importKey(\"raw\", convertToBuffer(secret), constants_1.SHA_256_HMAC_ALGO, false, [\"sign\"])\n                    .then(resolve, reject);\n            });\n            this.key.catch(function () { });\n        }\n    }\n    Sha256.prototype.update = function (data) {\n        if (isEmptyData_1.isEmptyData(data)) {\n            return;\n        }\n        var update = convertToBuffer(data);\n        var typedArray = new Uint8Array(this.toHash.byteLength + update.byteLength);\n        typedArray.set(this.toHash, 0);\n        typedArray.set(update, this.toHash.byteLength);\n        this.toHash = typedArray;\n    };\n    Sha256.prototype.digest = function () {\n        var _this = this;\n        if (this.key) {\n            return this.key.then(function (key) {\n                return util_locate_window_1.locateWindow()\n                    .crypto.subtle.sign(constants_1.SHA_256_HMAC_ALGO, key, _this.toHash)\n                    .then(function (data) { return new Uint8Array(data); });\n            });\n        }\n        if (isEmptyData_1.isEmptyData(this.toHash)) {\n            return Promise.resolve(constants_1.EMPTY_DATA_SHA_256);\n        }\n        return Promise.resolve()\n            .then(function () {\n            return util_locate_window_1.locateWindow().crypto.subtle.digest(constants_1.SHA_256_HASH, _this.toHash);\n        })\n            .then(function (data) { return Promise.resolve(new Uint8Array(data)); });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction convertToBuffer(data) {\n    if (typeof data === \"string\") {\n        return util_utf8_browser_1.fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViQ3J5cHRvU2hhMjU2LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3dlYkNyeXB0b1NoYTI1Ni50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSxnRUFBc0Q7QUFDdEQsNkNBQTRDO0FBQzVDLHlDQUlxQjtBQUNyQixrRUFBMkQ7QUFFM0Q7SUFJRSxnQkFBWSxNQUFtQjtRQUZ2QixXQUFNLEdBQWUsSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFHN0MsSUFBSSxNQUFNLEtBQUssS0FBSyxDQUFDLEVBQUU7WUFDckIsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO2dCQUNyQyxpQ0FBWSxFQUFFO3FCQUNYLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUN0QixLQUFLLEVBQ0wsZUFBZSxDQUFDLE1BQU0sQ0FBQyxFQUN2Qiw2QkFBaUIsRUFDakIsS0FBSyxFQUNMLENBQUMsTUFBTSxDQUFDLENBQ1Q7cUJBQ0EsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUMzQixDQUFDLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLGNBQU8sQ0FBQyxDQUFDLENBQUM7U0FDMUI7SUFDSCxDQUFDO0lBRUQsdUJBQU0sR0FBTixVQUFPLElBQWdCO1FBQ3JCLElBQUkseUJBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNyQixPQUFPO1NBQ1I7UUFFRCxJQUFNLE1BQU0sR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsSUFBTSxVQUFVLEdBQUcsSUFBSSxVQUFVLENBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQzNDLENBQUM7UUFDRixVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0IsVUFBVSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMvQyxJQUFJLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBRUQsdUJBQU0sR0FBTjtRQUFBLGlCQWtCQztRQWpCQyxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDWixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQUEsR0FBRztnQkFDdEIsT0FBQSxpQ0FBWSxFQUFFO3FCQUNYLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLDZCQUFpQixFQUFFLEdBQUcsRUFBRSxLQUFJLENBQUMsTUFBTSxDQUFDO3FCQUN2RCxJQUFJLENBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBcEIsQ0FBb0IsQ0FBQztZQUZyQyxDQUVxQyxDQUN0QyxDQUFDO1NBQ0g7UUFFRCxJQUFJLHlCQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQzVCLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyw4QkFBa0IsQ0FBQyxDQUFDO1NBQzVDO1FBRUQsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFO2FBQ3JCLElBQUksQ0FBQztZQUNKLE9BQUEsaUNBQVksRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLHdCQUFZLEVBQUUsS0FBSSxDQUFDLE1BQU0sQ0FBQztRQUE5RCxDQUE4RCxDQUMvRDthQUNBLElBQUksQ0FBQyxVQUFBLElBQUksSUFBSSxPQUFBLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBckMsQ0FBcUMsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFDSCxhQUFDO0FBQUQsQ0FBQyxBQXRERCxJQXNEQztBQXREWSx3QkFBTTtBQXdEbkIsU0FBUyxlQUFlLENBQUMsSUFBZ0I7SUFDdkMsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDNUIsT0FBTyw0QkFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3ZCO0lBRUQsSUFBSSxXQUFXLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzVCLE9BQU8sSUFBSSxVQUFVLENBQ25CLElBQUksQ0FBQyxNQUFNLEVBQ1gsSUFBSSxDQUFDLFVBQVUsRUFDZixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxpQkFBaUIsQ0FDL0MsQ0FBQztLQUNIO0lBRUQsT0FBTyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM5QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSGFzaCwgU291cmNlRGF0YSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuaW1wb3J0IHsgZnJvbVV0ZjggfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11dGY4LWJyb3dzZXJcIjtcbmltcG9ydCB7IGlzRW1wdHlEYXRhIH0gZnJvbSBcIi4vaXNFbXB0eURhdGFcIjtcbmltcG9ydCB7XG4gIEVNUFRZX0RBVEFfU0hBXzI1NixcbiAgU0hBXzI1Nl9IQVNILFxuICBTSEFfMjU2X0hNQUNfQUxHT1xufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGxvY2F0ZVdpbmRvdyB9IGZyb20gXCJAYXdzLXNkay91dGlsLWxvY2F0ZS13aW5kb3dcIjtcblxuZXhwb3J0IGNsYXNzIFNoYTI1NiBpbXBsZW1lbnRzIEhhc2gge1xuICBwcml2YXRlIHJlYWRvbmx5IGtleTogUHJvbWlzZTxDcnlwdG9LZXk+IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHRvSGFzaDogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KDApO1xuXG4gIGNvbnN0cnVjdG9yKHNlY3JldD86IFNvdXJjZURhdGEpIHtcbiAgICBpZiAoc2VjcmV0ICE9PSB2b2lkIDApIHtcbiAgICAgIHRoaXMua2V5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsb2NhdGVXaW5kb3coKVxuICAgICAgICAgIC5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICAgICAgICAgIFwicmF3XCIsXG4gICAgICAgICAgICBjb252ZXJ0VG9CdWZmZXIoc2VjcmV0KSxcbiAgICAgICAgICAgIFNIQV8yNTZfSE1BQ19BTEdPLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBbXCJzaWduXCJdXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMua2V5LmNhdGNoKCgpID0+IHt9KTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGUoZGF0YTogU291cmNlRGF0YSk6IHZvaWQge1xuICAgIGlmIChpc0VtcHR5RGF0YShkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZSA9IGNvbnZlcnRUb0J1ZmZlcihkYXRhKTtcbiAgICBjb25zdCB0eXBlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICB0aGlzLnRvSGFzaC5ieXRlTGVuZ3RoICsgdXBkYXRlLmJ5dGVMZW5ndGhcbiAgICApO1xuICAgIHR5cGVkQXJyYXkuc2V0KHRoaXMudG9IYXNoLCAwKTtcbiAgICB0eXBlZEFycmF5LnNldCh1cGRhdGUsIHRoaXMudG9IYXNoLmJ5dGVMZW5ndGgpO1xuICAgIHRoaXMudG9IYXNoID0gdHlwZWRBcnJheTtcbiAgfVxuXG4gIGRpZ2VzdCgpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICBpZiAodGhpcy5rZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmtleS50aGVuKGtleSA9PlxuICAgICAgICBsb2NhdGVXaW5kb3coKVxuICAgICAgICAgIC5jcnlwdG8uc3VidGxlLnNpZ24oU0hBXzI1Nl9ITUFDX0FMR08sIGtleSwgdGhpcy50b0hhc2gpXG4gICAgICAgICAgLnRoZW4oZGF0YSA9PiBuZXcgVWludDhBcnJheShkYXRhKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGlzRW1wdHlEYXRhKHRoaXMudG9IYXNoKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShFTVBUWV9EQVRBX1NIQV8yNTYpO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgbG9jYXRlV2luZG93KCkuY3J5cHRvLnN1YnRsZS5kaWdlc3QoU0hBXzI1Nl9IQVNILCB0aGlzLnRvSGFzaClcbiAgICAgIClcbiAgICAgIC50aGVuKGRhdGEgPT4gUHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KGRhdGEpKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udmVydFRvQnVmZmVyKGRhdGE6IFNvdXJjZURhdGEpOiBVaW50OEFycmF5IHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGZyb21VdGY4KGRhdGEpO1xuICB9XG5cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhkYXRhKSkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShcbiAgICAgIGRhdGEuYnVmZmVyLFxuICAgICAgZGF0YS5ieXRlT2Zmc2V0LFxuICAgICAgZGF0YS5ieXRlTGVuZ3RoIC8gVWludDhBcnJheS5CWVRFU19QRVJfRUxFTUVOVFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MAX_HASHABLE_LENGTH = exports.INIT = exports.KEY = exports.DIGEST_LENGTH = exports.BLOCK_SIZE = void 0;\n/**\n * @internal\n */\nexports.BLOCK_SIZE = 64;\n/**\n * @internal\n */\nexports.DIGEST_LENGTH = 32;\n/**\n * @internal\n */\nexports.KEY = new Uint32Array([\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n]);\n/**\n * @internal\n */\nexports.INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19\n];\n/**\n * @internal\n */\nexports.MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n//# sourceMappingURL=constants.js.map","import { fromUtf8 as jsFromUtf8, toUtf8 as jsToUtf8 } from \"./pureJs\";\nimport { fromUtf8 as textEncoderFromUtf8, toUtf8 as textEncoderToUtf8 } from \"./whatwgEncodingApi\";\nexport var fromUtf8 = function (input) {\n    return typeof TextEncoder === \"function\" ? textEncoderFromUtf8(input) : jsFromUtf8(input);\n};\nexport var toUtf8 = function (input) {\n    return typeof TextDecoder === \"function\" ? textEncoderToUtf8(input) : jsToUtf8(input);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsSUFBSSxVQUFVLEVBQUUsTUFBTSxJQUFJLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxJQUFJLG1CQUFtQixFQUFFLE1BQU0sSUFBSSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBS25HLE1BQU0sQ0FBQyxJQUFNLFFBQVEsR0FBRyxVQUFDLEtBQWE7SUFDcEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO0FBQWxGLENBQWtGLENBQUM7QUFFckYsTUFBTSxDQUFDLElBQU0sTUFBTSxHQUFHLFVBQUMsS0FBaUI7SUFDdEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO0FBQTlFLENBQThFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tVXRmOCBhcyBqc0Zyb21VdGY4LCB0b1V0ZjggYXMganNUb1V0ZjggfSBmcm9tIFwiLi9wdXJlSnNcIjtcbmltcG9ydCB7IGZyb21VdGY4IGFzIHRleHRFbmNvZGVyRnJvbVV0ZjgsIHRvVXRmOCBhcyB0ZXh0RW5jb2RlclRvVXRmOCB9IGZyb20gXCIuL3doYXR3Z0VuY29kaW5nQXBpXCI7XG5cbmRlY2xhcmUgY29uc3QgVGV4dERlY29kZXI6IEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBmcm9tVXRmOCA9IChpbnB1dDogc3RyaW5nKTogVWludDhBcnJheSA9PlxuICB0eXBlb2YgVGV4dEVuY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyRnJvbVV0ZjgoaW5wdXQpIDoganNGcm9tVXRmOChpbnB1dCk7XG5cbmV4cG9ydCBjb25zdCB0b1V0ZjggPSAoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcgPT5cbiAgdHlwZW9mIFRleHREZWNvZGVyID09PSBcImZ1bmN0aW9uXCIgPyB0ZXh0RW5jb2RlclRvVXRmOChpbnB1dCkgOiBqc1RvVXRmOChpbnB1dCk7XG4iXX0=","export function fromUtf8(input) {\n    return new TextEncoder().encode(input);\n}\nexport function toUtf8(input) {\n    return new TextDecoder(\"utf-8\").decode(input);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hhdHdnRW5jb2RpbmdBcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvd2hhdHdnRW5jb2RpbmdBcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUNBLE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBYTtJQUNwQyxPQUFPLElBQUksV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLE9BQU8sSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZGVjbGFyYXRpb24gb2YgdGhlIGdsb2JhbCBUZXh0RW5jb2RlciBhbmQgVGV4dERlY29kZXIgY29uc3RydWN0b3JzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9lbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcvXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5uYW1lc3BhY2UgRW5jb2Rpbmcge1xuICBpbnRlcmZhY2UgVGV4dERlY29kZXJPcHRpb25zIHtcbiAgICBmYXRhbD86IGJvb2xlYW47XG4gICAgaWdub3JlQk9NPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlT3B0aW9ucyB7XG4gICAgc3RyZWFtPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlciB7XG4gICAgcmVhZG9ubHkgZW5jb2Rpbmc6IHN0cmluZztcbiAgICByZWFkb25seSBmYXRhbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBpZ25vcmVCT006IGJvb2xlYW47XG4gICAgZGVjb2RlKGlucHV0PzogQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcsIG9wdGlvbnM/OiBUZXh0RGVjb2RlT3B0aW9ucyk6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGV4dERlY29kZXJDb25zdHJ1Y3RvciB7XG4gICAgbmV3IChsYWJlbD86IHN0cmluZywgb3B0aW9ucz86IFRleHREZWNvZGVyT3B0aW9ucyk6IFRleHREZWNvZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIFRleHRFbmNvZGVyIHtcbiAgICByZWFkb25seSBlbmNvZGluZzogXCJ1dGYtOFwiO1xuICAgIGVuY29kZShpbnB1dD86IHN0cmluZyk6IFVpbnQ4QXJyYXk7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRleHRFbmNvZGVyQ29uc3RydWN0b3Ige1xuICAgIG5ldyAoKTogVGV4dEVuY29kZXI7XG4gIH1cbn1cblxuZGVjbGFyZSBjb25zdCBUZXh0RGVjb2RlcjogRW5jb2RpbmcuVGV4dERlY29kZXJDb25zdHJ1Y3RvcjtcblxuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRW5jb2RpbmcuVGV4dEVuY29kZXJDb25zdHJ1Y3RvcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGlucHV0KTtcbn1cbiJdfQ==","/**\n * Converts a JS string from its native UCS-2/UTF-16 representation into a\n * Uint8Array of the bytes used to represent the equivalent characters in UTF-8.\n *\n * Cribbed from the `goog.crypt.stringToUtf8ByteArray` function in the Google\n * Closure library, though updated to use typed arrays.\n */\nexport var fromUtf8 = function (input) {\n    var bytes = [];\n    for (var i = 0, len = input.length; i < len; i++) {\n        var value = input.charCodeAt(i);\n        if (value < 0x80) {\n            bytes.push(value);\n        }\n        else if (value < 0x800) {\n            bytes.push((value >> 6) | 192, (value & 63) | 128);\n        }\n        else if (i + 1 < input.length && (value & 0xfc00) === 0xd800 && (input.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\n            var surrogatePair = 0x10000 + ((value & 1023) << 10) + (input.charCodeAt(++i) & 1023);\n            bytes.push((surrogatePair >> 18) | 240, ((surrogatePair >> 12) & 63) | 128, ((surrogatePair >> 6) & 63) | 128, (surrogatePair & 63) | 128);\n        }\n        else {\n            bytes.push((value >> 12) | 224, ((value >> 6) & 63) | 128, (value & 63) | 128);\n        }\n    }\n    return Uint8Array.from(bytes);\n};\n/**\n * Converts a typed array of bytes containing UTF-8 data into a native JS\n * string.\n *\n * Partly cribbed from the `goog.crypt.utf8ByteArrayToString` function in the\n * Google Closure library, though updated to use typed arrays and to better\n * handle astral plane code points.\n */\nexport var toUtf8 = function (input) {\n    var decoded = \"\";\n    for (var i = 0, len = input.length; i < len; i++) {\n        var byte = input[i];\n        if (byte < 0x80) {\n            decoded += String.fromCharCode(byte);\n        }\n        else if (192 <= byte && byte < 224) {\n            var nextByte = input[++i];\n            decoded += String.fromCharCode(((byte & 31) << 6) | (nextByte & 63));\n        }\n        else if (240 <= byte && byte < 365) {\n            var surrogatePair = [byte, input[++i], input[++i], input[++i]];\n            var encoded = \"%\" + surrogatePair.map(function (byteValue) { return byteValue.toString(16); }).join(\"%\");\n            decoded += decodeURIComponent(encoded);\n        }\n        else {\n            decoded += String.fromCharCode(((byte & 15) << 12) | ((input[++i] & 63) << 6) | (input[++i] & 63));\n        }\n    }\n    return decoded;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZUpzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3B1cmVKcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxRQUFRLEdBQUcsVUFBQyxLQUFhO0lBQ3BDLElBQU0sS0FBSyxHQUFrQixFQUFFLENBQUM7SUFDaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksS0FBSyxHQUFHLElBQUksRUFBRTtZQUNoQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ25CO2FBQU0sSUFBSSxLQUFLLEdBQUcsS0FBSyxFQUFFO1lBQ3hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FBQyxDQUFDO1NBQ3hFO2FBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxFQUFFO1lBQy9HLElBQU0sYUFBYSxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQVksQ0FBQyxDQUFDO1lBQ3hHLEtBQUssQ0FBQyxJQUFJLENBQ1IsQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBVSxFQUNsQyxDQUFDLENBQUMsYUFBYSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFDL0MsQ0FBQyxDQUFDLGFBQWEsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLEVBQzlDLENBQUMsYUFBYSxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FDeEMsQ0FBQztTQUNIO2FBQU07WUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLENBQUMsQ0FBQztTQUNqSDtLQUNGO0lBRUQsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsSUFBTSxNQUFNLEdBQUcsVUFBQyxLQUFpQjtJQUN0QyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDakIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFO1lBQ2YsT0FBTyxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVUsRUFBRTtZQUNsRCxJQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM1QixPQUFPLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEVBQVEsQ0FBQyxDQUFDLENBQUM7U0FDakY7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVcsRUFBRTtZQUNuRCxJQUFNLGFBQWEsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLElBQU0sT0FBTyxHQUFHLEdBQUcsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUMsU0FBUyxJQUFLLE9BQUEsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6RixPQUFPLElBQUksa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNMLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUM1QixDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxDQUNuRixDQUFDO1NBQ0g7S0FDRjtJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKUyBzdHJpbmcgZnJvbSBpdHMgbmF0aXZlIFVDUy0yL1VURi0xNiByZXByZXNlbnRhdGlvbiBpbnRvIGFcbiAqIFVpbnQ4QXJyYXkgb2YgdGhlIGJ5dGVzIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlcXVpdmFsZW50IGNoYXJhY3RlcnMgaW4gVVRGLTguXG4gKlxuICogQ3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXlgIGZ1bmN0aW9uIGluIHRoZSBHb29nbGVcbiAqIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5ID0+IHtcbiAgY29uc3QgYnl0ZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmICh2YWx1ZSA8IDB4ODApIHtcbiAgICAgIGJ5dGVzLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAweDgwMCkge1xuICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gNikgfCAwYjExMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICB9IGVsc2UgaWYgKGkgKyAxIDwgaW5wdXQubGVuZ3RoICYmICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAoaW5wdXQuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSAweDEwMDAwICsgKCh2YWx1ZSAmIDBiMTExMTExMTExMSkgPDwgMTApICsgKGlucHV0LmNoYXJDb2RlQXQoKytpKSAmIDBiMTExMTExMTExMSk7XG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICAoc3Vycm9nYXRlUGFpciA+PiAxOCkgfCAwYjExMTEwMDAwLFxuICAgICAgICAoKHN1cnJvZ2F0ZVBhaXIgPj4gMTIpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKChzdXJyb2dhdGVQYWlyID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKHN1cnJvZ2F0ZVBhaXIgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBieXRlcy5wdXNoKCh2YWx1ZSA+PiAxMikgfCAwYjExMTAwMDAwLCAoKHZhbHVlID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCwgKHZhbHVlICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShieXRlcyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgdHlwZWQgYXJyYXkgb2YgYnl0ZXMgY29udGFpbmluZyBVVEYtOCBkYXRhIGludG8gYSBuYXRpdmUgSlNcbiAqIHN0cmluZy5cbiAqXG4gKiBQYXJ0bHkgY3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC51dGY4Qnl0ZUFycmF5VG9TdHJpbmdgIGZ1bmN0aW9uIGluIHRoZVxuICogR29vZ2xlIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cyBhbmQgdG8gYmV0dGVyXG4gKiBoYW5kbGUgYXN0cmFsIHBsYW5lIGNvZGUgcG9pbnRzLlxuICovXG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0OiBVaW50OEFycmF5KTogc3RyaW5nID0+IHtcbiAgbGV0IGRlY29kZWQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBieXRlID0gaW5wdXRbaV07XG4gICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XG4gICAgfSBlbHNlIGlmICgwYjExMDAwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTExMDAwMDApIHtcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gaW5wdXRbKytpXTtcbiAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGJ5dGUgJiAwYjExMTExKSA8PCA2KSB8IChuZXh0Qnl0ZSAmIDBiMTExMTExKSk7XG4gICAgfSBlbHNlIGlmICgwYjExMTEwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTAxMTAxMTAxKSB7XG4gICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID0gW2J5dGUsIGlucHV0WysraV0sIGlucHV0WysraV0sIGlucHV0WysraV1dO1xuICAgICAgY29uc3QgZW5jb2RlZCA9IFwiJVwiICsgc3Vycm9nYXRlUGFpci5tYXAoKGJ5dGVWYWx1ZSkgPT4gYnl0ZVZhbHVlLnRvU3RyaW5nKDE2KSkuam9pbihcIiVcIik7XG4gICAgICBkZWNvZGVkICs9IGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICAoKGJ5dGUgJiAwYjExMTEpIDw8IDEyKSB8ICgoaW5wdXRbKytpXSAmIDBiMTExMTExKSA8PCA2KSB8IChpbnB1dFsrK2ldICYgMGIxMTExMTEpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWNvZGVkO1xufTtcbiJdfQ==","'use strict';\n\nconst nodeToJson = require('./node2json');\nconst xmlToNodeobj = require('./xmlstr2xmlnode');\nconst x2xmlnode = require('./xmlstr2xmlnode');\nconst buildOptions = require('./util').buildOptions;\nconst validator = require('./validator');\n\nexports.parse = function(xmlData, options, validationOption) {\n  if( validationOption){\n    if(validationOption === true) validationOption = {}\n    \n    const result = validator.validate(xmlData, validationOption);\n    if (result !== true) {\n      throw Error( result.err.msg)\n    }\n  }\n  options = buildOptions(options, x2xmlnode.defaultOptions, x2xmlnode.props);\n  const traversableObj = xmlToNodeobj.getTraversalObj(xmlData, options)\n  //print(traversableObj, \"  \");\n  return nodeToJson.convertToJson(traversableObj, options);\n};\nexports.convertTonimn = require('./nimndata').convert2nimn;\nexports.getTraversalObj = xmlToNodeobj.getTraversalObj;\nexports.convertToJson = nodeToJson.convertToJson;\nexports.convertToJsonString = require('./node2json_str').convertToJsonString;\nexports.validate = validator.validate;\nexports.j2xParser = require('./json2xml');\nexports.parseToNimn = function(xmlData, schema, options) {\n  return exports.convertTonimn(exports.getTraversalObj(xmlData, options), schema, options);\n};\n\n\nfunction print(xmlNode, indentation){\n  if(xmlNode){\n    console.log(indentation + \"{\")\n    console.log(indentation + \"  \\\"tagName\\\": \\\"\" + xmlNode.tagname + \"\\\", \");\n    if(xmlNode.parent){\n      console.log(indentation + \"  \\\"parent\\\": \\\"\" + xmlNode.parent.tagname  + \"\\\", \");\n    }\n    console.log(indentation + \"  \\\"val\\\": \\\"\" + xmlNode.val  + \"\\\", \");\n    console.log(indentation + \"  \\\"attrs\\\": \" + JSON.stringify(xmlNode.attrsMap,null,4)  + \", \");\n\n    if(xmlNode.child){\n      console.log(indentation + \"\\\"child\\\": {\")\n      const indentation2 = indentation + indentation;\n      Object.keys(xmlNode.child).forEach( function(key) {\n        const node = xmlNode.child[key];\n\n        if(Array.isArray(node)){\n          console.log(indentation +  \"\\\"\"+key+\"\\\" :[\")\n          node.forEach( function(item,index) {\n            //console.log(indentation + \" \\\"\"+index+\"\\\" : [\")\n            print(item, indentation2);\n          })\n          console.log(indentation + \"],\")  \n        }else{\n          console.log(indentation + \" \\\"\"+key+\"\\\" : {\")\n          print(node, indentation2);\n          console.log(indentation + \"},\")  \n        }\n      });\n      console.log(indentation + \"},\")\n    }\n    console.log(indentation + \"},\")\n  }\n}\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebCryptoSha256 = exports.Ie11Sha256 = void 0;\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./crossPlatformSha256\"), exports);\nvar ie11Sha256_1 = require(\"./ie11Sha256\");\nObject.defineProperty(exports, \"Ie11Sha256\", { enumerable: true, get: function () { return ie11Sha256_1.Sha256; } });\nvar webCryptoSha256_1 = require(\"./webCryptoSha256\");\nObject.defineProperty(exports, \"WebCryptoSha256\", { enumerable: true, get: function () { return webCryptoSha256_1.Sha256; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGdFQUFzQztBQUN0QywyQ0FBb0Q7QUFBM0Msd0dBQUEsTUFBTSxPQUFjO0FBQzdCLHFEQUE4RDtBQUFyRCxrSEFBQSxNQUFNLE9BQW1CIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vY3Jvc3NQbGF0Zm9ybVNoYTI1NlwiO1xuZXhwb3J0IHsgU2hhMjU2IGFzIEllMTFTaGEyNTYgfSBmcm9tIFwiLi9pZTExU2hhMjU2XCI7XG5leHBvcnQgeyBTaGEyNTYgYXMgV2ViQ3J5cHRvU2hhMjU2IH0gZnJvbSBcIi4vd2ViQ3J5cHRvU2hhMjU2XCI7XG4iXX0=","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.bowser=t():e.bowser=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=i,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"};t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"};t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"};t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"};t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:\"BROWSER_MAP\",get:function(){return s.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return s.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return s.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];\"string\"==typeof a?(i[t]=a,s+=1):\"object\"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\\/(\\d+(\\.?_?\\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(e){var t={name:\"Opera Touch\"},r=i.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:\"Miui\"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||i.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:s.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}));","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nconst util = require('./util');\n\nconst convertToJson = function(node, options, parentTagName) {\n  const jObj = {};\n\n  // when no child node or attr is present\n  if ((!node.child || util.isEmptyObject(node.child)) && (!node.attrsMap || util.isEmptyObject(node.attrsMap))) {\n    return util.isExist(node.val) ? node.val : '';\n  }\n\n  // otherwise create a textnode if node has some text\n  if (util.isExist(node.val) && !(typeof node.val === 'string' && (node.val === '' || node.val === options.cdataPositionChar))) {\n    const asArray = util.isTagNameInArrayMode(node.tagname, options.arrayMode, parentTagName)\n    jObj[options.textNodeName] = asArray ? [node.val] : node.val;\n  }\n\n  util.merge(jObj, node.attrsMap, options.arrayMode);\n\n  const keys = Object.keys(node.child);\n  for (let index = 0; index < keys.length; index++) {\n    const tagName = keys[index];\n    if (node.child[tagName] && node.child[tagName].length > 1) {\n      jObj[tagName] = [];\n      for (let tag in node.child[tagName]) {\n        if (node.child[tagName].hasOwnProperty(tag)) {\n          jObj[tagName].push(convertToJson(node.child[tagName][tag], options, tagName));\n        }\n      }\n    } else {\n      const result = convertToJson(node.child[tagName][0], options, tagName);\n      const asArray = (options.arrayMode === true && typeof result === 'object') || util.isTagNameInArrayMode(tagName, options.arrayMode, parentTagName);\n      jObj[tagName] = asArray ? [result] : result;\n    }\n  }\n\n  //add value\n  return jObj;\n};\n\nexports.convertToJson = convertToJson;\n","'use strict';\n\nmodule.exports = function(tagname, parent, val) {\n  this.tagname = tagname;\n  this.parent = parent;\n  this.child = {}; //child tags\n  this.attrsMap = {}; //attributes map\n  this.val = val; //text only\n  this.addChild = function(child) {\n    if (Array.isArray(this.child[child.tagname])) {\n      //already presents\n      this.child[child.tagname].push(child);\n    } else {\n      this.child[child.tagname] = [child];\n    }\n  };\n};\n","'use strict';\n\nconst util = require('./util');\n\nconst defaultOptions = {\n  allowBooleanAttributes: false, //A tag can have attributes without any value\n};\n\nconst props = ['allowBooleanAttributes'];\n\n//const tagsPattern = new RegExp(\"<\\\\/?([\\\\w:\\\\-_\\.]+)\\\\s*\\/?>\",\"g\");\nexports.validate = function (xmlData, options) {\n  options = util.buildOptions(options, defaultOptions, props);\n\n  //xmlData = xmlData.replace(/(\\r\\n|\\n|\\r)/gm,\"\");//make it single line\n  //xmlData = xmlData.replace(/(^\\s*<\\?xml.*?\\?>)/g,\"\");//Remove XML starting tag\n  //xmlData = xmlData.replace(/(<!DOCTYPE[\\s\\w\\\"\\.\\/\\-\\:]+(\\[.*\\])*\\s*>)/g,\"\");//Remove DOCTYPE\n  const tags = [];\n  let tagFound = false;\n\n  //indicates that the root tag has been closed (aka. depth 0 has been reached)\n  let reachedRoot = false;\n\n  if (xmlData[0] === '\\ufeff') {\n    // check for byte order mark (BOM)\n    xmlData = xmlData.substr(1);\n  }\n\n  for (let i = 0; i < xmlData.length; i++) {\n\n    if (xmlData[i] === '<' && xmlData[i+1] === '?') {\n      i+=2;\n      i = readPI(xmlData,i);\n      if (i.err) return i;\n    }else if (xmlData[i] === '<') {\n      //starting of tag\n      //read until you reach to '>' avoiding any '>' in attribute value\n\n      i++;\n      \n      if (xmlData[i] === '!') {\n        i = readCommentAndCDATA(xmlData, i);\n        continue;\n      } else {\n        let closingTag = false;\n        if (xmlData[i] === '/') {\n          //closing tag\n          closingTag = true;\n          i++;\n        }\n        //read tagname\n        let tagName = '';\n        for (; i < xmlData.length &&\n          xmlData[i] !== '>' &&\n          xmlData[i] !== ' ' &&\n          xmlData[i] !== '\\t' &&\n          xmlData[i] !== '\\n' &&\n          xmlData[i] !== '\\r'; i++\n        ) {\n          tagName += xmlData[i];\n        }\n        tagName = tagName.trim();\n        //console.log(tagName);\n\n        if (tagName[tagName.length - 1] === '/') {\n          //self closing tag without attributes\n          tagName = tagName.substring(0, tagName.length - 1);\n          //continue;\n          i--;\n        }\n        if (!validateTagName(tagName)) {\n          let msg;\n          if (tagName.trim().length === 0) {\n            msg = \"There is an unnecessary space between tag name and backward slash '</ ..'.\";\n          } else {\n            msg = \"Tag '\"+tagName+\"' is an invalid name.\";\n          }\n          return getErrorObject('InvalidTag', msg, getLineNumberForPosition(xmlData, i));\n        }\n\n        const result = readAttributeStr(xmlData, i);\n        if (result === false) {\n          return getErrorObject('InvalidAttr', \"Attributes for '\"+tagName+\"' have open quote.\", getLineNumberForPosition(xmlData, i));\n        }\n        let attrStr = result.value;\n        i = result.index;\n\n        if (attrStr[attrStr.length - 1] === '/') {\n          //self closing tag\n          attrStr = attrStr.substring(0, attrStr.length - 1);\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid === true) {\n            tagFound = true;\n            //continue; //text may presents after self closing tag\n          } else {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, i - attrStr.length + isValid.err.line));\n          }\n        } else if (closingTag) {\n          if (!result.tagClosed) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' doesn't have proper closing.\", getLineNumberForPosition(xmlData, i));\n          } else if (attrStr.trim().length > 0) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' can't have attributes or invalid starting.\", getLineNumberForPosition(xmlData, i));\n          } else {\n            const otg = tags.pop();\n            if (tagName !== otg) {\n              return getErrorObject('InvalidTag', \"Closing tag '\"+otg+\"' is expected inplace of '\"+tagName+\"'.\", getLineNumberForPosition(xmlData, i));\n            }\n\n            //when there are no more tags, we reached the root level.\n            if (tags.length == 0) {\n              reachedRoot = true;\n            }\n          }\n        } else {\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid !== true) {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, i - attrStr.length + isValid.err.line));\n          }\n\n          //if the root level has been reached before ...\n          if (reachedRoot === true) {\n            return getErrorObject('InvalidXml', 'Multiple possible root nodes found.', getLineNumberForPosition(xmlData, i));\n          } else {\n            tags.push(tagName);\n          }\n          tagFound = true;\n        }\n\n        //skip tag text value\n        //It may include comments and CDATA value\n        for (i++; i < xmlData.length; i++) {\n          if (xmlData[i] === '<') {\n            if (xmlData[i + 1] === '!') {\n              //comment or CADATA\n              i++;\n              i = readCommentAndCDATA(xmlData, i);\n              continue;\n            } else if (xmlData[i+1] === '?') {\n              i = readPI(xmlData, ++i);\n              if (i.err) return i;\n            } else{\n              break;\n            }\n          } else if (xmlData[i] === '&') {\n            const afterAmp = validateAmpersand(xmlData, i);\n            if (afterAmp == -1)\n              return getErrorObject('InvalidChar', \"char '&' is not expected.\", getLineNumberForPosition(xmlData, i));\n            i = afterAmp;\n          }\n        } //end of reading tag text value\n        if (xmlData[i] === '<') {\n          i--;\n        }\n      }\n    } else {\n      if (xmlData[i] === ' ' || xmlData[i] === '\\t' || xmlData[i] === '\\n' || xmlData[i] === '\\r') {\n        continue;\n      }\n      return getErrorObject('InvalidChar', \"char '\"+xmlData[i]+\"' is not expected.\", getLineNumberForPosition(xmlData, i));\n    }\n  }\n\n  if (!tagFound) {\n    return getErrorObject('InvalidXml', 'Start tag expected.', 1);\n  } else if (tags.length > 0) {\n    return getErrorObject('InvalidXml', \"Invalid '\"+JSON.stringify(tags, null, 4).replace(/\\r?\\n/g, '')+\"' found.\", 1);\n  }\n\n  return true;\n};\n\n/**\n * Read Processing insstructions and skip\n * @param {*} xmlData\n * @param {*} i\n */\nfunction readPI(xmlData, i) {\n  var start = i;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] == '?' || xmlData[i] == ' ') {\n      //tagname\n      var tagname = xmlData.substr(start, i - start);\n      if (i > 5 && tagname === 'xml') {\n        return getErrorObject('InvalidXml', 'XML declaration allowed only at the start of the document.', getLineNumberForPosition(xmlData, i));\n      } else if (xmlData[i] == '?' && xmlData[i + 1] == '>') {\n        //check if valid attribut string\n        i++;\n        break;\n      } else {\n        continue;\n      }\n    }\n  }\n  return i;\n}\n\nfunction readCommentAndCDATA(xmlData, i) {\n  if (xmlData.length > i + 5 && xmlData[i + 1] === '-' && xmlData[i + 2] === '-') {\n    //comment\n    for (i += 3; i < xmlData.length; i++) {\n      if (xmlData[i] === '-' && xmlData[i + 1] === '-' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  } else if (\n    xmlData.length > i + 8 &&\n    xmlData[i + 1] === 'D' &&\n    xmlData[i + 2] === 'O' &&\n    xmlData[i + 3] === 'C' &&\n    xmlData[i + 4] === 'T' &&\n    xmlData[i + 5] === 'Y' &&\n    xmlData[i + 6] === 'P' &&\n    xmlData[i + 7] === 'E'\n  ) {\n    let angleBracketsCount = 1;\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === '<') {\n        angleBracketsCount++;\n      } else if (xmlData[i] === '>') {\n        angleBracketsCount--;\n        if (angleBracketsCount === 0) {\n          break;\n        }\n      }\n    }\n  } else if (\n    xmlData.length > i + 9 &&\n    xmlData[i + 1] === '[' &&\n    xmlData[i + 2] === 'C' &&\n    xmlData[i + 3] === 'D' &&\n    xmlData[i + 4] === 'A' &&\n    xmlData[i + 5] === 'T' &&\n    xmlData[i + 6] === 'A' &&\n    xmlData[i + 7] === '['\n  ) {\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === ']' && xmlData[i + 1] === ']' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  }\n\n  return i;\n}\n\nvar doubleQuote = '\"';\nvar singleQuote = \"'\";\n\n/**\n * Keep reading xmlData until '<' is found outside the attribute value.\n * @param {string} xmlData\n * @param {number} i\n */\nfunction readAttributeStr(xmlData, i) {\n  let attrStr = '';\n  let startChar = '';\n  let tagClosed = false;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === doubleQuote || xmlData[i] === singleQuote) {\n      if (startChar === '') {\n        startChar = xmlData[i];\n      } else if (startChar !== xmlData[i]) {\n        //if vaue is enclosed with double quote then single quotes are allowed inside the value and vice versa\n        continue;\n      } else {\n        startChar = '';\n      }\n    } else if (xmlData[i] === '>') {\n      if (startChar === '') {\n        tagClosed = true;\n        break;\n      }\n    }\n    attrStr += xmlData[i];\n  }\n  if (startChar !== '') {\n    return false;\n  }\n\n  return {\n    value: attrStr,\n    index: i,\n    tagClosed: tagClosed\n  };\n}\n\n/**\n * Select all the attributes whether valid or invalid.\n */\nconst validAttrStrRegxp = new RegExp('(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*([\\'\"])(([\\\\s\\\\S])*?)\\\\5)?', 'g');\n\n//attr, =\"sd\", a=\"amit's\", a=\"sd\"b=\"saf\", ab  cd=\"\"\n\nfunction validateAttributeString(attrStr, options) {\n  //console.log(\"start:\"+attrStr+\":end\");\n\n  //if(attrStr.trim().length === 0) return true; //empty string\n\n  const matches = util.getAllMatches(attrStr, validAttrStrRegxp);\n  const attrNames = {};\n\n  for (let i = 0; i < matches.length; i++) {\n    if (matches[i][1].length === 0) {\n      //nospace before attribute name: a=\"sd\"b=\"saf\"\n      return getErrorObject('InvalidAttr', \"Attribute '\"+matches[i][2]+\"' has no space in starting.\", getPositionFromMatch(attrStr, matches[i][0]))\n    } else if (matches[i][3] === undefined && !options.allowBooleanAttributes) {\n      //independent attribute: ab\n      return getErrorObject('InvalidAttr', \"boolean attribute '\"+matches[i][2]+\"' is not allowed.\", getPositionFromMatch(attrStr, matches[i][0]));\n    }\n    /* else if(matches[i][6] === undefined){//attribute without value: ab=\n                    return { err: { code:\"InvalidAttr\",msg:\"attribute \" + matches[i][2] + \" has no value assigned.\"}};\n                } */\n    const attrName = matches[i][2];\n    if (!validateAttrName(attrName)) {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+attrName+\"' is an invalid name.\", getPositionFromMatch(attrStr, matches[i][0]));\n    }\n    if (!attrNames.hasOwnProperty(attrName)) {\n      //check for duplicate attribute.\n      attrNames[attrName] = 1;\n    } else {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+attrName+\"' is repeated.\", getPositionFromMatch(attrStr, matches[i][0]));\n    }\n  }\n\n  return true;\n}\n\nfunction validateNumberAmpersand(xmlData, i) {\n  let re = /\\d/;\n  if (xmlData[i] === 'x') {\n    i++;\n    re = /[\\da-fA-F]/;\n  }\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === ';')\n      return i;\n    if (!xmlData[i].match(re))\n      break;\n  }\n  return -1;\n}\n\nfunction validateAmpersand(xmlData, i) {\n  // https://www.w3.org/TR/xml/#dt-charref\n  i++;\n  if (xmlData[i] === ';')\n    return -1;\n  if (xmlData[i] === '#') {\n    i++;\n    return validateNumberAmpersand(xmlData, i);\n  }\n  let count = 0;\n  for (; i < xmlData.length; i++, count++) {\n    if (xmlData[i].match(/\\w/) && count < 20)\n      continue;\n    if (xmlData[i] === ';')\n      break;\n    return -1;\n  }\n  return i;\n}\n\nfunction getErrorObject(code, message, lineNumber) {\n  return {\n    err: {\n      code: code,\n      msg: message,\n      line: lineNumber,\n    },\n  };\n}\n\nfunction validateAttrName(attrName) {\n  return util.isName(attrName);\n}\n\n// const startsWithXML = /^xml/i;\n\nfunction validateTagName(tagname) {\n  return util.isName(tagname) /* && !tagname.match(startsWithXML) */;\n}\n\n//this function returns the line number for the character at the given index\nfunction getLineNumberForPosition(xmlData, index) {\n  var lines = xmlData.substring(0, index).split(/\\r?\\n/);\n  return lines.length;\n}\n\n//this function returns the position of the last character of match within attrStr\nfunction getPositionFromMatch(attrStr, match) {\n  return attrStr.indexOf(match) + match.length;\n}\n","'use strict';\nconst char = function(a) {\n  return String.fromCharCode(a);\n};\n\nconst chars = {\n  nilChar: char(176),\n  missingChar: char(201),\n  nilPremitive: char(175),\n  missingPremitive: char(200),\n\n  emptyChar: char(178),\n  emptyValue: char(177), //empty Premitive\n\n  boundryChar: char(179),\n\n  objStart: char(198),\n  arrStart: char(204),\n  arrayEnd: char(185),\n};\n\nconst charsArr = [\n  chars.nilChar,\n  chars.nilPremitive,\n  chars.missingChar,\n  chars.missingPremitive,\n  chars.boundryChar,\n  chars.emptyChar,\n  chars.emptyValue,\n  chars.arrayEnd,\n  chars.objStart,\n  chars.arrStart,\n];\n\nconst _e = function(node, e_schema, options) {\n  if (typeof e_schema === 'string') {\n    //premitive\n    if (node && node[0] && node[0].val !== undefined) {\n      return getValue(node[0].val, e_schema);\n    } else {\n      return getValue(node, e_schema);\n    }\n  } else {\n    const hasValidData = hasData(node);\n    if (hasValidData === true) {\n      let str = '';\n      if (Array.isArray(e_schema)) {\n        //attributes can't be repeated. hence check in children tags only\n        str += chars.arrStart;\n        const itemSchema = e_schema[0];\n        //var itemSchemaType = itemSchema;\n        const arr_len = node.length;\n\n        if (typeof itemSchema === 'string') {\n          for (let arr_i = 0; arr_i < arr_len; arr_i++) {\n            const r = getValue(node[arr_i].val, itemSchema);\n            str = processValue(str, r);\n          }\n        } else {\n          for (let arr_i = 0; arr_i < arr_len; arr_i++) {\n            const r = _e(node[arr_i], itemSchema, options);\n            str = processValue(str, r);\n          }\n        }\n        str += chars.arrayEnd; //indicates that next item is not array item\n      } else {\n        //object\n        str += chars.objStart;\n        const keys = Object.keys(e_schema);\n        if (Array.isArray(node)) {\n          node = node[0];\n        }\n        for (let i in keys) {\n          const key = keys[i];\n          //a property defined in schema can be present either in attrsMap or children tags\n          //options.textNodeName will not present in both maps, take it's value from val\n          //options.attrNodeName will be present in attrsMap\n          let r;\n          if (!options.ignoreAttributes && node.attrsMap && node.attrsMap[key]) {\n            r = _e(node.attrsMap[key], e_schema[key], options);\n          } else if (key === options.textNodeName) {\n            r = _e(node.val, e_schema[key], options);\n          } else {\n            r = _e(node.child[key], e_schema[key], options);\n          }\n          str = processValue(str, r);\n        }\n      }\n      return str;\n    } else {\n      return hasValidData;\n    }\n  }\n};\n\nconst getValue = function(a /*, type*/) {\n  switch (a) {\n    case undefined:\n      return chars.missingPremitive;\n    case null:\n      return chars.nilPremitive;\n    case '':\n      return chars.emptyValue;\n    default:\n      return a;\n  }\n};\n\nconst processValue = function(str, r) {\n  if (!isAppChar(r[0]) && !isAppChar(str[str.length - 1])) {\n    str += chars.boundryChar;\n  }\n  return str + r;\n};\n\nconst isAppChar = function(ch) {\n  return charsArr.indexOf(ch) !== -1;\n};\n\nfunction hasData(jObj) {\n  if (jObj === undefined) {\n    return chars.missingChar;\n  } else if (jObj === null) {\n    return chars.nilChar;\n  } else if (\n    jObj.child &&\n    Object.keys(jObj.child).length === 0 &&\n    (!jObj.attrsMap || Object.keys(jObj.attrsMap).length === 0)\n  ) {\n    return chars.emptyChar;\n  } else {\n    return true;\n  }\n}\n\nconst x2j = require('./xmlstr2xmlnode');\nconst buildOptions = require('./util').buildOptions;\n\nconst convert2nimn = function(node, e_schema, options) {\n  options = buildOptions(options, x2j.defaultOptions, x2j.props);\n  return _e(node, e_schema, options);\n};\n\nexports.convert2nimn = convert2nimn;\n","'use strict';\n\nconst util = require('./util');\nconst buildOptions = require('./util').buildOptions;\nconst x2j = require('./xmlstr2xmlnode');\n\n//TODO: do it later\nconst convertToJsonString = function(node, options) {\n  options = buildOptions(options, x2j.defaultOptions, x2j.props);\n\n  options.indentBy = options.indentBy || '';\n  return _cToJsonStr(node, options, 0);\n};\n\nconst _cToJsonStr = function(node, options, level) {\n  let jObj = '{';\n\n  //traver through all the children\n  const keys = Object.keys(node.child);\n\n  for (let index = 0; index < keys.length; index++) {\n    var tagname = keys[index];\n    if (node.child[tagname] && node.child[tagname].length > 1) {\n      jObj += '\"' + tagname + '\" : [ ';\n      for (var tag in node.child[tagname]) {\n        jObj += _cToJsonStr(node.child[tagname][tag], options) + ' , ';\n      }\n      jObj = jObj.substr(0, jObj.length - 1) + ' ] '; //remove extra comma in last\n    } else {\n      jObj += '\"' + tagname + '\" : ' + _cToJsonStr(node.child[tagname][0], options) + ' ,';\n    }\n  }\n  util.merge(jObj, node.attrsMap);\n  //add attrsMap as new children\n  if (util.isEmptyObject(jObj)) {\n    return util.isExist(node.val) ? node.val : '';\n  } else {\n    if (util.isExist(node.val)) {\n      if (!(typeof node.val === 'string' && (node.val === '' || node.val === options.cdataPositionChar))) {\n        jObj += '\"' + options.textNodeName + '\" : ' + stringval(node.val);\n      }\n    }\n  }\n  //add value\n  if (jObj[jObj.length - 1] === ',') {\n    jObj = jObj.substr(0, jObj.length - 2);\n  }\n  return jObj + '}';\n};\n\nfunction stringval(v) {\n  if (v === true || v === false || !isNaN(v)) {\n    return v;\n  } else {\n    return '\"' + v + '\"';\n  }\n}\n\nfunction indentate(options, level) {\n  return options.indentBy.repeat(level);\n}\n\nexports.convertToJsonString = convertToJsonString;\n","'use strict';\n//parse Empty Node as self closing node\nconst buildOptions = require('./util').buildOptions;\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attrNodeName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  cdataTagName: false,\n  cdataPositionChar: '\\\\c',\n  format: false,\n  indentBy: '  ',\n  supressEmptyNode: false,\n  tagValueProcessor: function(a) {\n    return a;\n  },\n  attrValueProcessor: function(a) {\n    return a;\n  },\n};\n\nconst props = [\n  'attributeNamePrefix',\n  'attrNodeName',\n  'textNodeName',\n  'ignoreAttributes',\n  'cdataTagName',\n  'cdataPositionChar',\n  'format',\n  'indentBy',\n  'supressEmptyNode',\n  'tagValueProcessor',\n  'attrValueProcessor',\n];\n\nfunction Parser(options) {\n  this.options = buildOptions(options, defaultOptions, props);\n  if (this.options.ignoreAttributes || this.options.attrNodeName) {\n    this.isAttribute = function(/*a*/) {\n      return false;\n    };\n  } else {\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n  if (this.options.cdataTagName) {\n    this.isCDATA = isCDATA;\n  } else {\n    this.isCDATA = function(/*a*/) {\n      return false;\n    };\n  }\n  this.replaceCDATAstr = replaceCDATAstr;\n  this.replaceCDATAarr = replaceCDATAarr;\n\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = '>\\n';\n    this.newLine = '\\n';\n  } else {\n    this.indentate = function() {\n      return '';\n    };\n    this.tagEndChar = '>';\n    this.newLine = '';\n  }\n\n  if (this.options.supressEmptyNode) {\n    this.buildTextNode = buildEmptyTextNode;\n    this.buildObjNode = buildEmptyObjNode;\n  } else {\n    this.buildTextNode = buildTextValNode;\n    this.buildObjNode = buildObjectNode;\n  }\n\n  this.buildTextValNode = buildTextValNode;\n  this.buildObjectNode = buildObjectNode;\n}\n\nParser.prototype.parse = function(jObj) {\n  return this.j2x(jObj, 0).val;\n};\n\nParser.prototype.j2x = function(jObj, level) {\n  let attrStr = '';\n  let val = '';\n  const keys = Object.keys(jObj);\n  const len = keys.length;\n  for (let i = 0; i < len; i++) {\n    const key = keys[i];\n    if (typeof jObj[key] === 'undefined') {\n      // supress undefined node\n    } else if (jObj[key] === null) {\n      val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n    } else if (jObj[key] instanceof Date) {\n      val += this.buildTextNode(jObj[key], key, '', level);\n    } else if (typeof jObj[key] !== 'object') {\n      //premitive type\n      const attr = this.isAttribute(key);\n      if (attr) {\n        attrStr += ' ' + attr + '=\"' + this.options.attrValueProcessor('' + jObj[key]) + '\"';\n      } else if (this.isCDATA(key)) {\n        if (jObj[this.options.textNodeName]) {\n          val += this.replaceCDATAstr(jObj[this.options.textNodeName], jObj[key]);\n        } else {\n          val += this.replaceCDATAstr('', jObj[key]);\n        }\n      } else {\n        //tag value\n        if (key === this.options.textNodeName) {\n          if (jObj[this.options.cdataTagName]) {\n            //value will added while processing cdata\n          } else {\n            val += this.options.tagValueProcessor('' + jObj[key]);\n          }\n        } else {\n          val += this.buildTextNode(jObj[key], key, '', level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      //repeated nodes\n      if (this.isCDATA(key)) {\n        val += this.indentate(level);\n        if (jObj[this.options.textNodeName]) {\n          val += this.replaceCDATAarr(jObj[this.options.textNodeName], jObj[key]);\n        } else {\n          val += this.replaceCDATAarr('', jObj[key]);\n        }\n      } else {\n        //nested nodes\n        const arrLen = jObj[key].length;\n        for (let j = 0; j < arrLen; j++) {\n          const item = jObj[key][j];\n          if (typeof item === 'undefined') {\n            // supress undefined node\n          } else if (item === null) {\n            val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n          } else if (typeof item === 'object') {\n            const result = this.j2x(item, level + 1);\n            val += this.buildObjNode(result.val, key, result.attrStr, level);\n          } else {\n            val += this.buildTextNode(item, key, '', level);\n          }\n        }\n      }\n    } else {\n      //nested node\n      if (this.options.attrNodeName && key === this.options.attrNodeName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n        for (let j = 0; j < L; j++) {\n          attrStr += ' ' + Ks[j] + '=\"' + this.options.attrValueProcessor('' + jObj[key][Ks[j]]) + '\"';\n        }\n      } else {\n        const result = this.j2x(jObj[key], level + 1);\n        val += this.buildObjNode(result.val, key, result.attrStr, level);\n      }\n    }\n  }\n  return {attrStr: attrStr, val: val};\n};\n\nfunction replaceCDATAstr(str, cdata) {\n  str = this.options.tagValueProcessor('' + str);\n  if (this.options.cdataPositionChar === '' || str === '') {\n    return str + '<![CDATA[' + cdata + ']]' + this.tagEndChar;\n  } else {\n    return str.replace(this.options.cdataPositionChar, '<![CDATA[' + cdata + ']]' + this.tagEndChar);\n  }\n}\n\nfunction replaceCDATAarr(str, cdata) {\n  str = this.options.tagValueProcessor('' + str);\n  if (this.options.cdataPositionChar === '' || str === '') {\n    return str + '<![CDATA[' + cdata.join(']]><![CDATA[') + ']]' + this.tagEndChar;\n  } else {\n    for (let v in cdata) {\n      str = str.replace(this.options.cdataPositionChar, '<![CDATA[' + cdata[v] + ']]>');\n    }\n    return str + this.newLine;\n  }\n}\n\nfunction buildObjectNode(val, key, attrStr, level) {\n  if (attrStr && !val.includes('<')) {\n    return (\n      this.indentate(level) +\n      '<' +\n      key +\n      attrStr +\n      '>' +\n      val +\n      //+ this.newLine\n      // + this.indentate(level)\n      '</' +\n      key +\n      this.tagEndChar\n    );\n  } else {\n    return (\n      this.indentate(level) +\n      '<' +\n      key +\n      attrStr +\n      this.tagEndChar +\n      val +\n      //+ this.newLine\n      this.indentate(level) +\n      '</' +\n      key +\n      this.tagEndChar\n    );\n  }\n}\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildObjectNode(val, key, attrStr, level);\n  } else {\n    return this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n    //+ this.newLine\n  }\n}\n\nfunction buildTextValNode(val, key, attrStr, level) {\n  return (\n    this.indentate(level) +\n    '<' +\n    key +\n    attrStr +\n    '>' +\n    this.options.tagValueProcessor(val) +\n    '</' +\n    key +\n    this.tagEndChar\n  );\n}\n\nfunction buildEmptyTextNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildTextValNode(val, key, attrStr, level);\n  } else {\n    return this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n  }\n}\n\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name /*, options*/) {\n  if (name.startsWith(this.options.attributeNamePrefix)) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\n\nfunction isCDATA(name) {\n  return name === this.options.cdataTagName;\n}\n\n//formatting\n//indentation\n//\\n after each closing or self closing tag\n\nmodule.exports = Parser;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sha256 = void 0;\nvar ie11Sha256_1 = require(\"./ie11Sha256\");\nvar webCryptoSha256_1 = require(\"./webCryptoSha256\");\nvar sha256_js_1 = require(\"@aws-crypto/sha256-js\");\nvar supports_web_crypto_1 = require(\"@aws-crypto/supports-web-crypto\");\nvar ie11_detection_1 = require(\"@aws-crypto/ie11-detection\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        if (supports_web_crypto_1.supportsWebCrypto(util_locate_window_1.locateWindow())) {\n            this.hash = new webCryptoSha256_1.Sha256(secret);\n        }\n        else if (ie11_detection_1.isMsWindow(util_locate_window_1.locateWindow())) {\n            this.hash = new ie11Sha256_1.Sha256(secret);\n        }\n        else {\n            this.hash = new sha256_js_1.Sha256(secret);\n        }\n    }\n    Sha256.prototype.update = function (data, encoding) {\n        this.hash.update(data, encoding);\n    };\n    Sha256.prototype.digest = function () {\n        return this.hash.digest();\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3Jvc3NQbGF0Zm9ybVNoYTI1Ni5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jcm9zc1BsYXRmb3JtU2hhMjU2LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUFvRDtBQUNwRCxxREFBOEQ7QUFDOUQsbURBQTJEO0FBRTNELHVFQUFvRTtBQUNwRSw2REFBd0Q7QUFDeEQsa0VBQTJEO0FBRTNEO0lBR0UsZ0JBQVksTUFBbUI7UUFDN0IsSUFBSSx1Q0FBaUIsQ0FBQyxpQ0FBWSxFQUFFLENBQUMsRUFBRTtZQUNyQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksd0JBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN6QzthQUFNLElBQUksMkJBQVUsQ0FBQyxpQ0FBWSxFQUFFLENBQUMsRUFBRTtZQUNyQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksbUJBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUNwQzthQUFNO1lBQ0wsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLGtCQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDbEM7SUFDSCxDQUFDO0lBRUQsdUJBQU0sR0FBTixVQUFPLElBQWdCLEVBQUUsUUFBc0M7UUFDN0QsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCx1QkFBTSxHQUFOO1FBQ0UsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFDSCxhQUFDO0FBQUQsQ0FBQyxBQXBCRCxJQW9CQztBQXBCWSx3QkFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNoYTI1NiBhcyBJZTExU2hhMjU2IH0gZnJvbSBcIi4vaWUxMVNoYTI1NlwiO1xuaW1wb3J0IHsgU2hhMjU2IGFzIFdlYkNyeXB0b1NoYTI1NiB9IGZyb20gXCIuL3dlYkNyeXB0b1NoYTI1NlwiO1xuaW1wb3J0IHsgU2hhMjU2IGFzIEpzU2hhMjU2IH0gZnJvbSBcIkBhd3MtY3J5cHRvL3NoYTI1Ni1qc1wiO1xuaW1wb3J0IHsgSGFzaCwgU291cmNlRGF0YSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuaW1wb3J0IHsgc3VwcG9ydHNXZWJDcnlwdG8gfSBmcm9tIFwiQGF3cy1jcnlwdG8vc3VwcG9ydHMtd2ViLWNyeXB0b1wiO1xuaW1wb3J0IHsgaXNNc1dpbmRvdyB9IGZyb20gXCJAYXdzLWNyeXB0by9pZTExLWRldGVjdGlvblwiO1xuaW1wb3J0IHsgbG9jYXRlV2luZG93IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtbG9jYXRlLXdpbmRvd1wiO1xuXG5leHBvcnQgY2xhc3MgU2hhMjU2IGltcGxlbWVudHMgSGFzaCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaGFzaDogSGFzaDtcblxuICBjb25zdHJ1Y3RvcihzZWNyZXQ/OiBTb3VyY2VEYXRhKSB7XG4gICAgaWYgKHN1cHBvcnRzV2ViQ3J5cHRvKGxvY2F0ZVdpbmRvdygpKSkge1xuICAgICAgdGhpcy5oYXNoID0gbmV3IFdlYkNyeXB0b1NoYTI1NihzZWNyZXQpO1xuICAgIH0gZWxzZSBpZiAoaXNNc1dpbmRvdyhsb2NhdGVXaW5kb3coKSkpIHtcbiAgICAgIHRoaXMuaGFzaCA9IG5ldyBJZTExU2hhMjU2KHNlY3JldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGFzaCA9IG5ldyBKc1NoYTI1NihzZWNyZXQpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZShkYXRhOiBTb3VyY2VEYXRhLCBlbmNvZGluZz86IFwidXRmOFwiIHwgXCJhc2NpaVwiIHwgXCJsYXRpbjFcIik6IHZvaWQge1xuICAgIHRoaXMuaGFzaC51cGRhdGUoZGF0YSwgZW5jb2RpbmcpO1xuICB9XG5cbiAgZGlnZXN0KCk6IFByb21pc2U8VWludDhBcnJheT4ge1xuICAgIHJldHVybiB0aGlzLmhhc2guZGlnZXN0KCk7XG4gIH1cbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./jsSha256\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sha256 = void 0;\nvar tslib_1 = require(\"tslib\");\nvar constants_1 = require(\"./constants\");\nvar RawSha256_1 = require(\"./RawSha256\");\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        this.hash = new RawSha256_1.RawSha256();\n        if (secret) {\n            this.outer = new RawSha256_1.RawSha256();\n            var inner = bufferFromSecret(secret);\n            var outer = new Uint8Array(constants_1.BLOCK_SIZE);\n            outer.set(inner);\n            for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n                inner[i] ^= 0x36;\n                outer[i] ^= 0x5c;\n            }\n            this.hash.update(inner);\n            this.outer.update(outer);\n            // overwrite the copied key in memory\n            for (var i = 0; i < inner.byteLength; i++) {\n                inner[i] = 0;\n            }\n        }\n    }\n    Sha256.prototype.update = function (toHash) {\n        if (isEmptyData(toHash) || this.error) {\n            return;\n        }\n        try {\n            this.hash.update(convertToBuffer(toHash));\n        }\n        catch (e) {\n            this.error = e;\n        }\n    };\n    /* This synchronous method keeps compatibility\n     * with the v2 aws-sdk.\n     */\n    Sha256.prototype.digestSync = function () {\n        if (this.error) {\n            throw this.error;\n        }\n        if (this.outer) {\n            if (!this.outer.finished) {\n                this.outer.update(this.hash.digest());\n            }\n            return this.outer.digest();\n        }\n        return this.hash.digest();\n    };\n    /* The underlying digest method here is synchronous.\n     * To keep the same interface with the other hash functions\n     * the default is to expose this as an async method.\n     * However, it can sometimes be useful to have a sync method.\n     */\n    Sha256.prototype.digest = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                return [2 /*return*/, this.digestSync()];\n            });\n        });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction bufferFromSecret(secret) {\n    var input = convertToBuffer(secret);\n    if (input.byteLength > constants_1.BLOCK_SIZE) {\n        var bufferHash = new RawSha256_1.RawSha256();\n        bufferHash.update(input);\n        input = bufferHash.digest();\n    }\n    var buffer = new Uint8Array(constants_1.BLOCK_SIZE);\n    buffer.set(input);\n    return buffer;\n}\nfunction isEmptyData(data) {\n    if (typeof data === \"string\") {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\nfunction convertToBuffer(data) {\n    if (typeof data === \"string\") {\n        return util_utf8_browser_1.fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=jsSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RawSha256 = void 0;\nvar constants_1 = require(\"./constants\");\n/**\n * @internal\n */\nvar RawSha256 = /** @class */ (function () {\n    function RawSha256() {\n        this.state = Int32Array.from(constants_1.INIT);\n        this.temp = new Int32Array(64);\n        this.buffer = new Uint8Array(64);\n        this.bufferLength = 0;\n        this.bytesHashed = 0;\n        /**\n         * @internal\n         */\n        this.finished = false;\n    }\n    RawSha256.prototype.update = function (data) {\n        if (this.finished) {\n            throw new Error(\"Attempted to update an already finished hash.\");\n        }\n        var position = 0;\n        var byteLength = data.byteLength;\n        this.bytesHashed += byteLength;\n        if (this.bytesHashed * 8 > constants_1.MAX_HASHABLE_LENGTH) {\n            throw new Error(\"Cannot hash more than 2^53 - 1 bits\");\n        }\n        while (byteLength > 0) {\n            this.buffer[this.bufferLength++] = data[position++];\n            byteLength--;\n            if (this.bufferLength === constants_1.BLOCK_SIZE) {\n                this.hashBuffer();\n                this.bufferLength = 0;\n            }\n        }\n    };\n    RawSha256.prototype.digest = function () {\n        if (!this.finished) {\n            var bitsHashed = this.bytesHashed * 8;\n            var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n            var undecoratedLength = this.bufferLength;\n            bufferView.setUint8(this.bufferLength++, 0x80);\n            // Ensure the final block has enough room for the hashed length\n            if (undecoratedLength % constants_1.BLOCK_SIZE >= constants_1.BLOCK_SIZE - 8) {\n                for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE; i++) {\n                    bufferView.setUint8(i, 0);\n                }\n                this.hashBuffer();\n                this.bufferLength = 0;\n            }\n            for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE - 8; i++) {\n                bufferView.setUint8(i, 0);\n            }\n            bufferView.setUint32(constants_1.BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n            bufferView.setUint32(constants_1.BLOCK_SIZE - 4, bitsHashed);\n            this.hashBuffer();\n            this.finished = true;\n        }\n        // The value in state is little-endian rather than big-endian, so flip\n        // each word into a new Uint8Array\n        var out = new Uint8Array(constants_1.DIGEST_LENGTH);\n        for (var i = 0; i < 8; i++) {\n            out[i * 4] = (this.state[i] >>> 24) & 0xff;\n            out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n            out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n            out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n        }\n        return out;\n    };\n    RawSha256.prototype.hashBuffer = function () {\n        var _a = this, buffer = _a.buffer, state = _a.state;\n        var state0 = state[0], state1 = state[1], state2 = state[2], state3 = state[3], state4 = state[4], state5 = state[5], state6 = state[6], state7 = state[7];\n        for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n            if (i < 16) {\n                this.temp[i] =\n                    ((buffer[i * 4] & 0xff) << 24) |\n                        ((buffer[i * 4 + 1] & 0xff) << 16) |\n                        ((buffer[i * 4 + 2] & 0xff) << 8) |\n                        (buffer[i * 4 + 3] & 0xff);\n            }\n            else {\n                var u = this.temp[i - 2];\n                var t1_1 = ((u >>> 17) | (u << 15)) ^ ((u >>> 19) | (u << 13)) ^ (u >>> 10);\n                u = this.temp[i - 15];\n                var t2_1 = ((u >>> 7) | (u << 25)) ^ ((u >>> 18) | (u << 14)) ^ (u >>> 3);\n                this.temp[i] =\n                    ((t1_1 + this.temp[i - 7]) | 0) + ((t2_1 + this.temp[i - 16]) | 0);\n            }\n            var t1 = ((((((state4 >>> 6) | (state4 << 26)) ^\n                ((state4 >>> 11) | (state4 << 21)) ^\n                ((state4 >>> 25) | (state4 << 7))) +\n                ((state4 & state5) ^ (~state4 & state6))) |\n                0) +\n                ((state7 + ((constants_1.KEY[i] + this.temp[i]) | 0)) | 0)) |\n                0;\n            var t2 = ((((state0 >>> 2) | (state0 << 30)) ^\n                ((state0 >>> 13) | (state0 << 19)) ^\n                ((state0 >>> 22) | (state0 << 10))) +\n                ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) |\n                0;\n            state7 = state6;\n            state6 = state5;\n            state5 = state4;\n            state4 = (state3 + t1) | 0;\n            state3 = state2;\n            state2 = state1;\n            state1 = state0;\n            state0 = (t1 + t2) | 0;\n        }\n        state[0] += state0;\n        state[1] += state1;\n        state[2] += state2;\n        state[3] += state3;\n        state[4] += state4;\n        state[5] += state5;\n        state[6] += state6;\n        state[7] += state7;\n    };\n    return RawSha256;\n}());\nexports.RawSha256 = RawSha256;\n//# sourceMappingURL=RawSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./supportsWebCrypto\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsOERBQW9DIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vc3VwcG9ydHNXZWJDcnlwdG9cIjtcbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.supportsZeroByteGCM = exports.supportsSubtleCrypto = exports.supportsSecureRandom = exports.supportsWebCrypto = void 0;\nvar tslib_1 = require(\"tslib\");\nvar subtleCryptoMethods = [\n    \"decrypt\",\n    \"digest\",\n    \"encrypt\",\n    \"exportKey\",\n    \"generateKey\",\n    \"importKey\",\n    \"sign\",\n    \"verify\"\n];\nfunction supportsWebCrypto(window) {\n    if (supportsSecureRandom(window) &&\n        typeof window.crypto.subtle === \"object\") {\n        var subtle = window.crypto.subtle;\n        return supportsSubtleCrypto(subtle);\n    }\n    return false;\n}\nexports.supportsWebCrypto = supportsWebCrypto;\nfunction supportsSecureRandom(window) {\n    if (typeof window === \"object\" && typeof window.crypto === \"object\") {\n        var getRandomValues = window.crypto.getRandomValues;\n        return typeof getRandomValues === \"function\";\n    }\n    return false;\n}\nexports.supportsSecureRandom = supportsSecureRandom;\nfunction supportsSubtleCrypto(subtle) {\n    return (subtle &&\n        subtleCryptoMethods.every(function (methodName) { return typeof subtle[methodName] === \"function\"; }));\n}\nexports.supportsSubtleCrypto = supportsSubtleCrypto;\nfunction supportsZeroByteGCM(subtle) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var key, zeroByteAuthTag, _a;\n        return tslib_1.__generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!supportsSubtleCrypto(subtle))\n                        return [2 /*return*/, false];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 4, , 5]);\n                    return [4 /*yield*/, subtle.generateKey({ name: \"AES-GCM\", length: 128 }, false, [\"encrypt\"])];\n                case 2:\n                    key = _b.sent();\n                    return [4 /*yield*/, subtle.encrypt({\n                            name: \"AES-GCM\",\n                            iv: new Uint8Array(Array(12)),\n                            additionalData: new Uint8Array(Array(16)),\n                            tagLength: 128\n                        }, key, new Uint8Array(0))];\n                case 3:\n                    zeroByteAuthTag = _b.sent();\n                    return [2 /*return*/, zeroByteAuthTag.byteLength === 16];\n                case 4:\n                    _a = _b.sent();\n                    return [2 /*return*/, false];\n                case 5: return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.supportsZeroByteGCM = supportsZeroByteGCM;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VwcG9ydHNXZWJDcnlwdG8uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc3VwcG9ydHNXZWJDcnlwdG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQVVBLElBQU0sbUJBQW1CLEdBQThCO0lBQ3JELFNBQVM7SUFDVCxRQUFRO0lBQ1IsU0FBUztJQUNULFdBQVc7SUFDWCxhQUFhO0lBQ2IsV0FBVztJQUNYLE1BQU07SUFDTixRQUFRO0NBQ1QsQ0FBQztBQUVGLFNBQWdCLGlCQUFpQixDQUFDLE1BQWM7SUFDOUMsSUFDRSxvQkFBb0IsQ0FBQyxNQUFNLENBQUM7UUFDNUIsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxRQUFRLEVBQ3hDO1FBQ1EsSUFBQSxNQUFNLEdBQUssTUFBTSxDQUFDLE1BQU0sT0FBbEIsQ0FBbUI7UUFFakMsT0FBTyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNyQztJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQVhELDhDQVdDO0FBRUQsU0FBZ0Isb0JBQW9CLENBQUMsTUFBYztJQUNqRCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsSUFBSSxPQUFPLE1BQU0sQ0FBQyxNQUFNLEtBQUssUUFBUSxFQUFFO1FBQzNELElBQUEsZUFBZSxHQUFLLE1BQU0sQ0FBQyxNQUFNLGdCQUFsQixDQUFtQjtRQUUxQyxPQUFPLE9BQU8sZUFBZSxLQUFLLFVBQVUsQ0FBQztLQUM5QztJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQVJELG9EQVFDO0FBRUQsU0FBZ0Isb0JBQW9CLENBQUMsTUFBb0I7SUFDdkQsT0FBTyxDQUNMLE1BQU07UUFDTixtQkFBbUIsQ0FBQyxLQUFLLENBQ3ZCLFVBQUEsVUFBVSxJQUFJLE9BQUEsT0FBTyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssVUFBVSxFQUF4QyxDQUF3QyxDQUN2RCxDQUNGLENBQUM7QUFDSixDQUFDO0FBUEQsb0RBT0M7QUFFRCxTQUFzQixtQkFBbUIsQ0FBQyxNQUFvQjs7Ozs7O29CQUM1RCxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDO3dCQUFFLHNCQUFPLEtBQUssRUFBQzs7OztvQkFFbEMscUJBQU0sTUFBTSxDQUFDLFdBQVcsQ0FDbEMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsRUFDaEMsS0FBSyxFQUNMLENBQUMsU0FBUyxDQUFDLENBQ1osRUFBQTs7b0JBSkssR0FBRyxHQUFHLFNBSVg7b0JBQ3VCLHFCQUFNLE1BQU0sQ0FBQyxPQUFPLENBQzFDOzRCQUNFLElBQUksRUFBRSxTQUFTOzRCQUNmLEVBQUUsRUFBRSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7NEJBQzdCLGNBQWMsRUFBRSxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7NEJBQ3pDLFNBQVMsRUFBRSxHQUFHO3lCQUNmLEVBQ0QsR0FBRyxFQUNILElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUNsQixFQUFBOztvQkFUSyxlQUFlLEdBQUcsU0FTdkI7b0JBQ0Qsc0JBQU8sZUFBZSxDQUFDLFVBQVUsS0FBSyxFQUFFLEVBQUM7OztvQkFFekMsc0JBQU8sS0FBSyxFQUFDOzs7OztDQUVoQjtBQXRCRCxrREFzQkMiLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIFN1YnRsZUNyeXB0b01ldGhvZCA9XG4gIHwgXCJkZWNyeXB0XCJcbiAgfCBcImRpZ2VzdFwiXG4gIHwgXCJlbmNyeXB0XCJcbiAgfCBcImV4cG9ydEtleVwiXG4gIHwgXCJnZW5lcmF0ZUtleVwiXG4gIHwgXCJpbXBvcnRLZXlcIlxuICB8IFwic2lnblwiXG4gIHwgXCJ2ZXJpZnlcIjtcblxuY29uc3Qgc3VidGxlQ3J5cHRvTWV0aG9kczogQXJyYXk8U3VidGxlQ3J5cHRvTWV0aG9kPiA9IFtcbiAgXCJkZWNyeXB0XCIsXG4gIFwiZGlnZXN0XCIsXG4gIFwiZW5jcnlwdFwiLFxuICBcImV4cG9ydEtleVwiLFxuICBcImdlbmVyYXRlS2V5XCIsXG4gIFwiaW1wb3J0S2V5XCIsXG4gIFwic2lnblwiLFxuICBcInZlcmlmeVwiXG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHNXZWJDcnlwdG8od2luZG93OiBXaW5kb3cpOiBib29sZWFuIHtcbiAgaWYgKFxuICAgIHN1cHBvcnRzU2VjdXJlUmFuZG9tKHdpbmRvdykgJiZcbiAgICB0eXBlb2Ygd2luZG93LmNyeXB0by5zdWJ0bGUgPT09IFwib2JqZWN0XCJcbiAgKSB7XG4gICAgY29uc3QgeyBzdWJ0bGUgfSA9IHdpbmRvdy5jcnlwdG87XG5cbiAgICByZXR1cm4gc3VwcG9ydHNTdWJ0bGVDcnlwdG8oc3VidGxlKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzU2VjdXJlUmFuZG9tKHdpbmRvdzogV2luZG93KTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB3aW5kb3cuY3J5cHRvID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgeyBnZXRSYW5kb21WYWx1ZXMgfSA9IHdpbmRvdy5jcnlwdG87XG5cbiAgICByZXR1cm4gdHlwZW9mIGdldFJhbmRvbVZhbHVlcyA9PT0gXCJmdW5jdGlvblwiO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHNTdWJ0bGVDcnlwdG8oc3VidGxlOiBTdWJ0bGVDcnlwdG8pIHtcbiAgcmV0dXJuIChcbiAgICBzdWJ0bGUgJiZcbiAgICBzdWJ0bGVDcnlwdG9NZXRob2RzLmV2ZXJ5KFxuICAgICAgbWV0aG9kTmFtZSA9PiB0eXBlb2Ygc3VidGxlW21ldGhvZE5hbWVdID09PSBcImZ1bmN0aW9uXCJcbiAgICApXG4gICk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdXBwb3J0c1plcm9CeXRlR0NNKHN1YnRsZTogU3VidGxlQ3J5cHRvKSB7XG4gIGlmICghc3VwcG9ydHNTdWJ0bGVDcnlwdG8oc3VidGxlKSkgcmV0dXJuIGZhbHNlO1xuICB0cnkge1xuICAgIGNvbnN0IGtleSA9IGF3YWl0IHN1YnRsZS5nZW5lcmF0ZUtleShcbiAgICAgIHsgbmFtZTogXCJBRVMtR0NNXCIsIGxlbmd0aDogMTI4IH0sXG4gICAgICBmYWxzZSxcbiAgICAgIFtcImVuY3J5cHRcIl1cbiAgICApO1xuICAgIGNvbnN0IHplcm9CeXRlQXV0aFRhZyA9IGF3YWl0IHN1YnRsZS5lbmNyeXB0KFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIkFFUy1HQ01cIixcbiAgICAgICAgaXY6IG5ldyBVaW50OEFycmF5KEFycmF5KDEyKSksXG4gICAgICAgIGFkZGl0aW9uYWxEYXRhOiBuZXcgVWludDhBcnJheShBcnJheSgxNikpLFxuICAgICAgICB0YWdMZW5ndGg6IDEyOFxuICAgICAgfSxcbiAgICAgIGtleSxcbiAgICAgIG5ldyBVaW50OEFycmF5KDApXG4gICAgKTtcbiAgICByZXR1cm4gemVyb0J5dGVBdXRoVGFnLmJ5dGVMZW5ndGggPT09IDE2O1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiJdfQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./CryptoOperation\"), exports);\ntslib_1.__exportStar(require(\"./Key\"), exports);\ntslib_1.__exportStar(require(\"./KeyOperation\"), exports);\ntslib_1.__exportStar(require(\"./MsSubtleCrypto\"), exports);\ntslib_1.__exportStar(require(\"./MsWindow\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=CryptoOperation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Key.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=KeyOperation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=MsSubtleCrypto.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isMsWindow = void 0;\nvar msSubtleCryptoMethods = [\n    \"decrypt\",\n    \"digest\",\n    \"encrypt\",\n    \"exportKey\",\n    \"generateKey\",\n    \"importKey\",\n    \"sign\",\n    \"verify\"\n];\nfunction quacksLikeAnMsWindow(window) {\n    return \"MSInputMethodContext\" in window && \"msCrypto\" in window;\n}\n/**\n * Determines if the provided window is (or is like) the window object one would\n * expect to encounter in Internet Explorer 11.\n */\nfunction isMsWindow(window) {\n    if (quacksLikeAnMsWindow(window) && window.msCrypto.subtle !== undefined) {\n        var _a = window.msCrypto, getRandomValues = _a.getRandomValues, subtle_1 = _a.subtle;\n        return msSubtleCryptoMethods\n            .map(function (methodName) { return subtle_1[methodName]; })\n            .concat(getRandomValues)\n            .every(function (method) { return typeof method === \"function\"; });\n    }\n    return false;\n}\nexports.isMsWindow = isMsWindow;\n//# sourceMappingURL=MsWindow.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { __assign, __read, __spread, __values } from \"tslib\";\nexport var constructStack = function () {\n    var absoluteEntries = [];\n    var relativeEntries = [];\n    var entriesNameSet = new Set();\n    var sort = function (entries) {\n        return entries.sort(function (a, b) {\n            return stepWeights[b.step] - stepWeights[a.step] ||\n                priorityWeights[b.priority || \"normal\"] - priorityWeights[a.priority || \"normal\"];\n        });\n    };\n    var removeByName = function (toRemove) {\n        var isRemoved = false;\n        var filterCb = function (entry) {\n            if (entry.name && entry.name === toRemove) {\n                isRemoved = true;\n                entriesNameSet.delete(toRemove);\n                return false;\n            }\n            return true;\n        };\n        absoluteEntries = absoluteEntries.filter(filterCb);\n        relativeEntries = relativeEntries.filter(filterCb);\n        return isRemoved;\n    };\n    var removeByReference = function (toRemove) {\n        var isRemoved = false;\n        var filterCb = function (entry) {\n            if (entry.middleware === toRemove) {\n                isRemoved = true;\n                if (entry.name)\n                    entriesNameSet.delete(entry.name);\n                return false;\n            }\n            return true;\n        };\n        absoluteEntries = absoluteEntries.filter(filterCb);\n        relativeEntries = relativeEntries.filter(filterCb);\n        return isRemoved;\n    };\n    var cloneTo = function (toStack) {\n        absoluteEntries.forEach(function (entry) {\n            //@ts-ignore\n            toStack.add(entry.middleware, __assign({}, entry));\n        });\n        relativeEntries.forEach(function (entry) {\n            //@ts-ignore\n            toStack.addRelativeTo(entry.middleware, __assign({}, entry));\n        });\n        return toStack;\n    };\n    var expandRelativeMiddlewareList = function (from) {\n        var expandedMiddlewareList = [];\n        from.before.forEach(function (entry) {\n            if (entry.before.length === 0 && entry.after.length === 0) {\n                expandedMiddlewareList.push(entry);\n            }\n            else {\n                expandedMiddlewareList.push.apply(expandedMiddlewareList, __spread(expandRelativeMiddlewareList(entry)));\n            }\n        });\n        expandedMiddlewareList.push(from);\n        from.after.reverse().forEach(function (entry) {\n            if (entry.before.length === 0 && entry.after.length === 0) {\n                expandedMiddlewareList.push(entry);\n            }\n            else {\n                expandedMiddlewareList.push.apply(expandedMiddlewareList, __spread(expandRelativeMiddlewareList(entry)));\n            }\n        });\n        return expandedMiddlewareList;\n    };\n    /**\n     * Get a final list of middleware in the order of being executed in the resolved handler.\n     */\n    var getMiddlewareList = function () {\n        var normalizedAbsoluteEntries = [];\n        var normalizedRelativeEntries = [];\n        var normalizedEntriesNameMap = {};\n        absoluteEntries.forEach(function (entry) {\n            var normalizedEntry = __assign(__assign({}, entry), { before: [], after: [] });\n            if (normalizedEntry.name)\n                normalizedEntriesNameMap[normalizedEntry.name] = normalizedEntry;\n            normalizedAbsoluteEntries.push(normalizedEntry);\n        });\n        relativeEntries.forEach(function (entry) {\n            var normalizedEntry = __assign(__assign({}, entry), { before: [], after: [] });\n            if (normalizedEntry.name)\n                normalizedEntriesNameMap[normalizedEntry.name] = normalizedEntry;\n            normalizedRelativeEntries.push(normalizedEntry);\n        });\n        normalizedRelativeEntries.forEach(function (entry) {\n            if (entry.toMiddleware) {\n                var toMiddleware = normalizedEntriesNameMap[entry.toMiddleware];\n                if (toMiddleware === undefined) {\n                    throw new Error(entry.toMiddleware + \" is not found when adding \" + (entry.name || \"anonymous\") + \" middleware \" + entry.relation + \" \" + entry.toMiddleware);\n                }\n                if (entry.relation === \"after\") {\n                    toMiddleware.after.push(entry);\n                }\n                if (entry.relation === \"before\") {\n                    toMiddleware.before.push(entry);\n                }\n            }\n        });\n        var mainChain = sort(normalizedAbsoluteEntries)\n            .map(expandRelativeMiddlewareList)\n            .reduce(function (wholeList, expendedMiddlewareList) {\n            // TODO: Replace it with Array.flat();\n            wholeList.push.apply(wholeList, __spread(expendedMiddlewareList));\n            return wholeList;\n        }, []);\n        return mainChain.map(function (entry) { return entry.middleware; });\n    };\n    var stack = {\n        add: function (middleware, options) {\n            if (options === void 0) { options = {}; }\n            var name = options.name, override = options.override;\n            var entry = __assign({ step: \"initialize\", priority: \"normal\", middleware: middleware }, options);\n            if (name) {\n                if (entriesNameSet.has(name)) {\n                    if (!override)\n                        throw new Error(\"Duplicate middleware name '\" + name + \"'\");\n                    var toOverrideIndex = absoluteEntries.findIndex(function (entry) { return entry.name === name; });\n                    var toOverride = absoluteEntries[toOverrideIndex];\n                    if (toOverride.step !== entry.step || toOverride.priority !== entry.priority) {\n                        throw new Error(\"\\\"\" + name + \"\\\" middleware with \" + toOverride.priority + \" priority in \" + toOverride.step + \" step cannot be \" +\n                            (\"overridden by same-name middleware with \" + entry.priority + \" priority in \" + entry.step + \" step.\"));\n                    }\n                    absoluteEntries.splice(toOverrideIndex, 1);\n                }\n                entriesNameSet.add(name);\n            }\n            absoluteEntries.push(entry);\n        },\n        addRelativeTo: function (middleware, options) {\n            var name = options.name, override = options.override;\n            var entry = __assign({ middleware: middleware }, options);\n            if (name) {\n                if (entriesNameSet.has(name)) {\n                    if (!override)\n                        throw new Error(\"Duplicate middleware name '\" + name + \"'\");\n                    var toOverrideIndex = relativeEntries.findIndex(function (entry) { return entry.name === name; });\n                    var toOverride = relativeEntries[toOverrideIndex];\n                    if (toOverride.toMiddleware !== entry.toMiddleware || toOverride.relation !== entry.relation) {\n                        throw new Error(\"\\\"\" + name + \"\\\" middleware \" + toOverride.relation + \" \\\"\" + toOverride.toMiddleware + \"\\\" middleware cannot be overridden \" +\n                            (\"by same-name middleware \" + entry.relation + \" \\\"\" + entry.toMiddleware + \"\\\" middleware.\"));\n                    }\n                    relativeEntries.splice(toOverrideIndex, 1);\n                }\n                entriesNameSet.add(name);\n            }\n            relativeEntries.push(entry);\n        },\n        clone: function () { return cloneTo(constructStack()); },\n        use: function (plugin) {\n            plugin.applyToStack(stack);\n        },\n        remove: function (toRemove) {\n            if (typeof toRemove === \"string\")\n                return removeByName(toRemove);\n            else\n                return removeByReference(toRemove);\n        },\n        removeByTag: function (toRemove) {\n            var isRemoved = false;\n            var filterCb = function (entry) {\n                var tags = entry.tags, name = entry.name;\n                if (tags && tags.includes(toRemove)) {\n                    if (name)\n                        entriesNameSet.delete(name);\n                    isRemoved = true;\n                    return false;\n                }\n                return true;\n            };\n            absoluteEntries = absoluteEntries.filter(filterCb);\n            relativeEntries = relativeEntries.filter(filterCb);\n            return isRemoved;\n        },\n        concat: function (from) {\n            var cloned = cloneTo(constructStack());\n            cloned.use(from);\n            return cloned;\n        },\n        applyToStack: cloneTo,\n        resolve: function (handler, context) {\n            var e_1, _a;\n            try {\n                for (var _b = __values(getMiddlewareList().reverse()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var middleware = _c.value;\n                    handler = middleware(handler, context);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return handler;\n        },\n    };\n    return stack;\n};\nvar stepWeights = {\n    initialize: 5,\n    serialize: 4,\n    build: 3,\n    finalizeRequest: 2,\n    deserialize: 1,\n};\nvar priorityWeights = {\n    high: 3,\n    normal: 2,\n    low: 1,\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWlkZGxld2FyZVN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL01pZGRsZXdhcmVTdGFjay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBZ0JBLE1BQU0sQ0FBQyxJQUFNLGNBQWMsR0FBRztJQUM1QixJQUFJLGVBQWUsR0FBNkMsRUFBRSxDQUFDO0lBQ25FLElBQUksZUFBZSxHQUE2QyxFQUFFLENBQUM7SUFDbkUsSUFBTSxjQUFjLEdBQWdCLElBQUksR0FBRyxFQUFFLENBQUM7SUFFOUMsSUFBTSxJQUFJLEdBQUcsVUFBbUQsT0FBWTtRQUMxRSxPQUFBLE9BQU8sQ0FBQyxJQUFJLENBQ1YsVUFBQyxDQUFDLEVBQUUsQ0FBQztZQUNILE9BQUEsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDekMsZUFBZSxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDO1FBRGpGLENBQ2lGLENBQ3BGO0lBSkQsQ0FJQyxDQUFDO0lBRUosSUFBTSxZQUFZLEdBQUcsVUFBQyxRQUFnQjtRQUNwQyxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdEIsSUFBTSxRQUFRLEdBQUcsVUFBQyxLQUFxQztZQUNyRCxJQUFJLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7Z0JBQ3pDLFNBQVMsR0FBRyxJQUFJLENBQUM7Z0JBQ2pCLGNBQWMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2hDLE9BQU8sS0FBSyxDQUFDO2FBQ2Q7WUFDRCxPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsQ0FBQztRQUNGLGVBQWUsR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELGVBQWUsR0FBRyxlQUFl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QUM7Q0FDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWJzb2x1dGVMb2NhdGlvbixcbiAgRGVzZXJpYWxpemVIYW5kbGVyLFxuICBIYW5kbGVyLFxuICBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCxcbiAgSGFuZGxlck9wdGlvbnMsXG4gIE1pZGRsZXdhcmVTdGFjayxcbiAgTWlkZGxld2FyZVR5cGUsXG4gIFBsdWdnYWJsZSxcbiAgUHJpb3JpdHksXG4gIFJlbGF0aXZlTG9jYXRpb24sXG4gIFN0ZXAsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBBYnNvbHV0ZU1pZGRsZXdhcmVFbnRyeSwgTWlkZGxld2FyZUVudHJ5LCBOb3JtYWxpemVkLCBSZWxhdGl2ZU1pZGRsZXdhcmVFbnRyeSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBjb25zdHJ1Y3RTdGFjayA9IDxJbnB1dCBleHRlbmRzIG9iamVjdCwgT3V0cHV0IGV4dGVuZHMgb2JqZWN0PigpOiBNaWRkbGV3YXJlU3RhY2s8SW5wdXQsIE91dHB1dD4gPT4ge1xuICBsZXQgYWJzb2x1dGVFbnRyaWVzOiBBYnNvbHV0ZU1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PltdID0gW107XG4gIGxldCByZWxhdGl2ZUVudHJpZXM6IFJlbGF0aXZlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+W10gPSBbXTtcbiAgY29uc3QgZW50cmllc05hbWVTZXQ6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuXG4gIGNvbnN0IHNvcnQgPSA8VCBleHRlbmRzIEFic29sdXRlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+PihlbnRyaWVzOiBUW10pOiBUW10gPT5cbiAgICBlbnRyaWVzLnNvcnQoXG4gICAgICAoYSwgYikgPT5cbiAgICAgICAgc3RlcFdlaWdodHNbYi5zdGVwXSAtIHN0ZXBXZWlnaHRzW2Euc3RlcF0gfHxcbiAgICAgICAgcHJpb3JpdHlXZWlnaHRzW2IucHJpb3JpdHkgfHwgXCJub3JtYWxcIl0gLSBwcmlvcml0eVdlaWdodHNbYS5wcmlvcml0eSB8fCBcIm5vcm1hbFwiXVxuICAgICk7XG5cbiAgY29uc3QgcmVtb3ZlQnlOYW1lID0gKHRvUmVtb3ZlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBsZXQgaXNSZW1vdmVkID0gZmFsc2U7XG4gICAgY29uc3QgZmlsdGVyQ2IgPSAoZW50cnk6IE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0Pik6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKGVudHJ5Lm5hbWUgJiYgZW50cnkubmFtZSA9PT0gdG9SZW1vdmUpIHtcbiAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgZW50cmllc05hbWVTZXQuZGVsZXRlKHRvUmVtb3ZlKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBhYnNvbHV0ZUVudHJpZXMgPSBhYnNvbHV0ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICByZWxhdGl2ZUVudHJpZXMgPSByZWxhdGl2ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICByZXR1cm4gaXNSZW1vdmVkO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUJ5UmVmZXJlbmNlID0gKHRvUmVtb3ZlOiBNaWRkbGV3YXJlVHlwZTxJbnB1dCwgT3V0cHV0Pik6IGJvb2xlYW4gPT4ge1xuICAgIGxldCBpc1JlbW92ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBmaWx0ZXJDYiA9IChlbnRyeTogTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+KTogYm9vbGVhbiA9PiB7XG4gICAgICBpZiAoZW50cnkubWlkZGxld2FyZSA9PT0gdG9SZW1vdmUpIHtcbiAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGVudHJ5Lm5hbWUpIGVudHJpZXNOYW1lU2V0LmRlbGV0ZShlbnRyeS5uYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBhYnNvbHV0ZUVudHJpZXMgPSBhYnNvbHV0ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICByZWxhdGl2ZUVudHJpZXMgPSByZWxhdGl2ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICByZXR1cm4gaXNSZW1vdmVkO1xuICB9O1xuXG4gIGNvbnN0IGNsb25lVG8gPSA8SW5wdXRUeXBlIGV4dGVuZHMgSW5wdXQsIE91dHB1dFR5cGUgZXh0ZW5kcyBPdXRwdXQ+KFxuICAgIHRvU3RhY2s6IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+XG4gICk6IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+ID0+IHtcbiAgICBhYnNvbHV0ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgdG9TdGFjay5hZGQoZW50cnkubWlkZGxld2FyZSwgeyAuLi5lbnRyeSB9KTtcbiAgICB9KTtcbiAgICByZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgdG9TdGFjay5hZGRSZWxhdGl2ZVRvKGVudHJ5Lm1pZGRsZXdhcmUsIHsgLi4uZW50cnkgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvU3RhY2s7XG4gIH07XG5cbiAgY29uc3QgZXhwYW5kUmVsYXRpdmVNaWRkbGV3YXJlTGlzdCA9IChcbiAgICBmcm9tOiBOb3JtYWxpemVkPE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PiwgSW5wdXQsIE91dHB1dD5cbiAgKTogTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+W10gPT4ge1xuICAgIGNvbnN0IGV4cGFuZGVkTWlkZGxld2FyZUxpc3Q6IE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PltdID0gW107XG4gICAgZnJvbS5iZWZvcmUuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS5iZWZvcmUubGVuZ3RoID09PSAwICYmIGVudHJ5LmFmdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goZW50cnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdC5wdXNoKC4uLmV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QoZW50cnkpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goZnJvbSk7XG4gICAgZnJvbS5hZnRlci5yZXZlcnNlKCkuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS5iZWZvcmUubGVuZ3RoID09PSAwICYmIGVudHJ5LmFmdGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goZW50cnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdC5wdXNoKC4uLmV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QoZW50cnkpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZXhwYW5kZWRNaWRkbGV3YXJlTGlzdDtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGEgZmluYWwgbGlzdCBvZiBtaWRkbGV3YXJlIGluIHRoZSBvcmRlciBvZiBiZWluZyBleGVjdXRlZCBpbiB0aGUgcmVzb2x2ZWQgaGFuZGxlci5cbiAgICovXG4gIGNvbnN0IGdldE1pZGRsZXdhcmVMaXN0ID0gKCk6IEFycmF5PE1pZGRsZXdhcmVUeXBlPElucHV0LCBPdXRwdXQ+PiA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZEFic29sdXRlRW50cmllczogTm9ybWFsaXplZDxBYnNvbHV0ZU1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PiwgSW5wdXQsIE91dHB1dD5bXSA9IFtdO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJpZXM6IE5vcm1hbGl6ZWQ8UmVsYXRpdmVNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD4sIElucHV0LCBPdXRwdXQ+W10gPSBbXTtcbiAgICBjb25zdCBub3JtYWxpemVkRW50cmllc05hbWVNYXA6IHtcbiAgICAgIFttaWRkbGV3YXJlTmFtZTogc3RyaW5nXTogTm9ybWFsaXplZDxNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD4sIElucHV0LCBPdXRwdXQ+O1xuICAgIH0gPSB7fTtcblxuICAgIGFic29sdXRlRW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEVudHJ5ID0ge1xuICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgYmVmb3JlOiBbXSxcbiAgICAgICAgYWZ0ZXI6IFtdLFxuICAgICAgfTtcbiAgICAgIGlmIChub3JtYWxpemVkRW50cnkubmFtZSkgbm9ybWFsaXplZEVudHJpZXNOYW1lTWFwW25vcm1hbGl6ZWRFbnRyeS5uYW1lXSA9IG5vcm1hbGl6ZWRFbnRyeTtcbiAgICAgIG5vcm1hbGl6ZWRBYnNvbHV0ZUVudHJpZXMucHVzaChub3JtYWxpemVkRW50cnkpO1xuICAgIH0pO1xuXG4gICAgcmVsYXRpdmVFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRW50cnkgPSB7XG4gICAgICAgIC4uLmVudHJ5LFxuICAgICAgICBiZWZvcmU6IFtdLFxuICAgICAgICBhZnRlcjogW10sXG4gICAgICB9O1xuICAgICAgaWYgKG5vcm1hbGl6ZWRFbnRyeS5uYW1lKSBub3JtYWxpemVkRW50cmllc05hbWVNYXBbbm9ybWFsaXplZEVudHJ5Lm5hbWVdID0gbm9ybWFsaXplZEVudHJ5O1xuICAgICAgbm9ybWFsaXplZFJlbGF0aXZlRW50cmllcy5wdXNoKG5vcm1hbGl6ZWRFbnRyeSk7XG4gICAgfSk7XG5cbiAgICBub3JtYWxpemVkUmVsYXRpdmVFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBpZiAoZW50cnkudG9NaWRkbGV3YXJlKSB7XG4gICAgICAgIGNvbnN0IHRvTWlkZGxld2FyZSA9IG5vcm1hbGl6ZWRFbnRyaWVzTmFtZU1hcFtlbnRyeS50b01pZGRsZXdhcmVdO1xuICAgICAgICBpZiAodG9NaWRkbGV3YXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgJHtlbnRyeS50b01pZGRsZXdhcmV9IGlzIG5vdCBmb3VuZCB3aGVuIGFkZGluZyAke2VudHJ5Lm5hbWUgfHwgXCJhbm9ueW1vdXNcIn0gbWlkZGxld2FyZSAke2VudHJ5LnJlbGF0aW9ufSAke1xuICAgICAgICAgICAgICBlbnRyeS50b01pZGRsZXdhcmVcbiAgICAgICAgICAgIH1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkucmVsYXRpb24gPT09IFwiYWZ0ZXJcIikge1xuICAgICAgICAgIHRvTWlkZGxld2FyZS5hZnRlci5wdXNoKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkucmVsYXRpb24gPT09IFwiYmVmb3JlXCIpIHtcbiAgICAgICAgICB0b01pZGRsZXdhcmUuYmVmb3JlLnB1c2goZW50cnkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBtYWluQ2hhaW4gPSBzb3J0KG5vcm1hbGl6ZWRBYnNvbHV0ZUVudHJpZXMpXG4gICAgICAubWFwKGV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QpXG4gICAgICAucmVkdWNlKCh3aG9sZUxpc3QsIGV4cGVuZGVkTWlkZGxld2FyZUxpc3QpID0+IHtcbiAgICAgICAgLy8gVE9ETzogUmVwbGFjZSBpdCB3aXRoIEFycmF5LmZsYXQoKTtcbiAgICAgICAgd2hvbGVMaXN0LnB1c2goLi4uZXhwZW5kZWRNaWRkbGV3YXJlTGlzdCk7XG4gICAgICAgIHJldHVybiB3aG9sZUxpc3Q7XG4gICAgICB9LCBbXSBhcyBNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD5bXSk7XG4gICAgcmV0dXJuIG1haW5DaGFpbi5tYXAoKGVudHJ5KSA9PiBlbnRyeS5taWRkbGV3YXJlKTtcbiAgfTtcblxuICBjb25zdCBzdGFjayA9IHtcbiAgICBhZGQ6IChtaWRkbGV3YXJlOiBNaWRkbGV3YXJlVHlwZTxJbnB1dCwgT3V0cHV0Piwgb3B0aW9uczogSGFuZGxlck9wdGlvbnMgJiBBYnNvbHV0ZUxvY2F0aW9uID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgb3ZlcnJpZGUgfSA9IG9wdGlvbnM7XG4gICAgICBjb25zdCBlbnRyeTogQWJzb2x1dGVNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD4gPSB7XG4gICAgICAgIHN0ZXA6IFwiaW5pdGlhbGl6ZVwiLFxuICAgICAgICBwcmlvcml0eTogXCJub3JtYWxcIixcbiAgICAgICAgbWlkZGxld2FyZSxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIH07XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBpZiAoZW50cmllc05hbWVTZXQuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgaWYgKCFvdmVycmlkZSkgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgbWlkZGxld2FyZSBuYW1lICcke25hbWV9J2ApO1xuICAgICAgICAgIGNvbnN0IHRvT3ZlcnJpZGVJbmRleCA9IGFic29sdXRlRW50cmllcy5maW5kSW5kZXgoKGVudHJ5KSA9PiBlbnRyeS5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgICBjb25zdCB0b092ZXJyaWRlID0gYWJzb2x1dGVFbnRyaWVzW3RvT3ZlcnJpZGVJbmRleF07XG4gICAgICAgICAgaWYgKHRvT3ZlcnJpZGUuc3RlcCAhPT0gZW50cnkuc3RlcCB8fCB0b092ZXJyaWRlLnByaW9yaXR5ICE9PSBlbnRyeS5wcmlvcml0eSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgXCIke25hbWV9XCIgbWlkZGxld2FyZSB3aXRoICR7dG9PdmVycmlkZS5wcmlvcml0eX0gcHJpb3JpdHkgaW4gJHt0b092ZXJyaWRlLnN0ZXB9IHN0ZXAgY2Fubm90IGJlIGAgK1xuICAgICAgICAgICAgICAgIGBvdmVycmlkZGVuIGJ5IHNhbWUtbmFtZSBtaWRkbGV3YXJlIHdpdGggJHtlbnRyeS5wcmlvcml0eX0gcHJpb3JpdHkgaW4gJHtlbnRyeS5zdGVwfSBzdGVwLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFic29sdXRlRW50cmllcy5zcGxpY2UodG9PdmVycmlkZUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzTmFtZVNldC5hZGQobmFtZSk7XG4gICAgICB9XG4gICAgICBhYnNvbHV0ZUVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgfSxcblxuICAgIGFkZFJlbGF0aXZlVG86IChtaWRkbGV3YXJlOiBNaWRkbGV3YXJlVHlwZTxJbnB1dCwgT3V0cHV0Piwgb3B0aW9uczogSGFuZGxlck9wdGlvbnMgJiBSZWxhdGl2ZUxvY2F0aW9uKSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUsIG92ZXJyaWRlIH0gPSBvcHRpb25zO1xuICAgICAgY29uc3QgZW50cnk6IFJlbGF0aXZlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+ID0ge1xuICAgICAgICBtaWRkbGV3YXJlLFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgfTtcbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIGlmIChlbnRyaWVzTmFtZVNldC5oYXMobmFtZSkpIHtcbiAgICAgICAgICBpZiAoIW92ZXJyaWRlKSB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBtaWRkbGV3YXJlIG5hbWUgJyR7bmFtZX0nYCk7XG4gICAgICAgICAgY29uc3QgdG9PdmVycmlkZUluZGV4ID0gcmVsYXRpdmVFbnRyaWVzLmZpbmRJbmRleCgoZW50cnkpID0+IGVudHJ5Lm5hbWUgPT09IG5hbWUpO1xuICAgICAgICAgIGNvbnN0IHRvT3ZlcnJpZGUgPSByZWxhdGl2ZUVudHJpZXNbdG9PdmVycmlkZUluZGV4XTtcbiAgICAgICAgICBpZiAodG9PdmVycmlkZS50b01pZGRsZXdhcmUgIT09IGVudHJ5LnRvTWlkZGxld2FyZSB8fCB0b092ZXJyaWRlLnJlbGF0aW9uICE9PSBlbnRyeS5yZWxhdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgXCIke25hbWV9XCIgbWlkZGxld2FyZSAke3RvT3ZlcnJpZGUucmVsYXRpb259IFwiJHt0b092ZXJyaWRlLnRvTWlkZGxld2FyZX1cIiBtaWRkbGV3YXJlIGNhbm5vdCBiZSBvdmVycmlkZGVuIGAgK1xuICAgICAgICAgICAgICAgIGBieSBzYW1lLW5hbWUgbWlkZGxld2FyZSAke2VudHJ5LnJlbGF0aW9ufSBcIiR7ZW50cnkudG9NaWRkbGV3YXJlfVwiIG1pZGRsZXdhcmUuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVsYXRpdmVFbnRyaWVzLnNwbGljZSh0b092ZXJyaWRlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNOYW1lU2V0LmFkZChuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICB9LFxuXG4gICAgY2xvbmU6ICgpID0+IGNsb25lVG8oY29uc3RydWN0U3RhY2s8SW5wdXQsIE91dHB1dD4oKSksXG5cbiAgICB1c2U6IChwbHVnaW46IFBsdWdnYWJsZTxJbnB1dCwgT3V0cHV0PikgPT4ge1xuICAgICAgcGx1Z2luLmFwcGx5VG9TdGFjayhzdGFjayk7XG4gICAgfSxcblxuICAgIHJlbW92ZTogKHRvUmVtb3ZlOiBNaWRkbGV3YXJlVHlwZTxJbnB1dCwgT3V0cHV0PiB8IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKHR5cGVvZiB0b1JlbW92ZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHJlbW92ZUJ5TmFtZSh0b1JlbW92ZSk7XG4gICAgICBlbHNlIHJldHVybiByZW1vdmVCeVJlZmVyZW5jZSh0b1JlbW92ZSk7XG4gICAgfSxcblxuICAgIHJlbW92ZUJ5VGFnOiAodG9SZW1vdmU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgbGV0IGlzUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZmlsdGVyQ2IgPSAoZW50cnk6IE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0Pik6IGJvb2xlYW4gPT4ge1xuICAgICAgICBjb25zdCB7IHRhZ3MsIG5hbWUgfSA9IGVudHJ5O1xuICAgICAgICBpZiAodGFncyAmJiB0YWdzLmluY2x1ZGVzKHRvUmVtb3ZlKSkge1xuICAgICAgICAgIGlmIChuYW1lKSBlbnRyaWVzTmFtZVNldC5kZWxldGUobmFtZSk7XG4gICAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgICAgYWJzb2x1dGVFbnRyaWVzID0gYWJzb2x1dGVFbnRyaWVzLmZpbHRlcihmaWx0ZXJDYik7XG4gICAgICByZWxhdGl2ZUVudHJpZXMgPSByZWxhdGl2ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICAgIHJldHVybiBpc1JlbW92ZWQ7XG4gICAgfSxcblxuICAgIGNvbmNhdDogPElucHV0VHlwZSBleHRlbmRzIElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgT3V0cHV0PihcbiAgICAgIGZyb206IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+XG4gICAgKTogTWlkZGxld2FyZVN0YWNrPElucHV0VHlwZSwgT3V0cHV0VHlwZT4gPT4ge1xuICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVUbyhjb25zdHJ1Y3RTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+KCkpO1xuICAgICAgY2xvbmVkLnVzZShmcm9tKTtcbiAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgfSxcblxuICAgIGFwcGx5VG9TdGFjazogY2xvbmVUbyxcblxuICAgIHJlc29sdmU6IDxJbnB1dFR5cGUgZXh0ZW5kcyBJbnB1dCwgT3V0cHV0VHlwZSBleHRlbmRzIE91dHB1dD4oXG4gICAgICBoYW5kbGVyOiBEZXNlcmlhbGl6ZUhhbmRsZXI8SW5wdXRUeXBlLCBPdXRwdXRUeXBlPixcbiAgICAgIGNvbnRleHQ6IEhhbmRsZXJFeGVjdXRpb25Db250ZXh0XG4gICAgKTogSGFuZGxlcjxJbnB1dFR5cGUsIE91dHB1dFR5cGU+ID0+IHtcbiAgICAgIGZvciAoY29uc3QgbWlkZGxld2FyZSBvZiBnZXRNaWRkbGV3YXJlTGlzdCgpLnJldmVyc2UoKSkge1xuICAgICAgICBoYW5kbGVyID0gbWlkZGxld2FyZShoYW5kbGVyIGFzIEhhbmRsZXI8SW5wdXQsIE91dHB1dFR5cGU+LCBjb250ZXh0KSBhcyBhbnk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFuZGxlciBhcyBIYW5kbGVyPElucHV0VHlwZSwgT3V0cHV0VHlwZT47XG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIHN0YWNrO1xufTtcblxuY29uc3Qgc3RlcFdlaWdodHM6IHsgW2tleSBpbiBTdGVwXTogbnVtYmVyIH0gPSB7XG4gIGluaXRpYWxpemU6IDUsXG4gIHNlcmlhbGl6ZTogNCxcbiAgYnVpbGQ6IDMsXG4gIGZpbmFsaXplUmVxdWVzdDogMixcbiAgZGVzZXJpYWxpemU6IDEsXG59O1xuXG5jb25zdCBwcmlvcml0eVdlaWdodHM6IHsgW2tleSBpbiBQcmlvcml0eV06IG51bWJlciB9ID0ge1xuICBoaWdoOiAzLFxuICBub3JtYWw6IDIsXG4gIGxvdzogMSxcbn07XG4iXX0=","import { constructStack } from \"@aws-sdk/middleware-stack\";\nvar Client = /** @class */ (function () {\n    function Client(config) {\n        this.middlewareStack = constructStack();\n        this.config = config;\n    }\n    Client.prototype.send = function (command, optionsOrCb, cb) {\n        var options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        var callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        var handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then(function (result) { return callback(null, result.output); }, function (err) { return callback(err); })\n                .catch(\n            // prevent any errors thrown in the callback from triggering an\n            // unhandled promise rejection\n            function () { });\n        }\n        else {\n            return handler(command).then(function (result) { return result.output; });\n        }\n    };\n    Client.prototype.destroy = function () {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n    return Client;\n}());\nexport { Client };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFlM0Q7SUFRRSxnQkFBWSxNQUFtQztRQUZ4QyxvQkFBZSxHQUFHLGNBQWMsRUFBNkIsQ0FBQztRQUduRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBY0QscUJBQUksR0FBSixVQUNFLE9BQStHLEVBQy9HLFdBQXNFLEVBQ3RFLEVBQTBDO1FBRTFDLElBQU0sT0FBTyxHQUFHLE9BQU8sV0FBVyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDNUUsSUFBTSxRQUFRLEdBQUcsT0FBTyxXQUFXLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBRSxXQUFxRCxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDakgsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxlQUFzQixFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDN0YsSUFBSSxRQUFRLEVBQUU7WUFDWixPQUFPLENBQUMsT0FBTyxDQUFDO2lCQUNiLElBQUksQ0FDSCxVQUFDLE1BQU0sSUFBSyxPQUFBLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUE3QixDQUE2QixFQUN6QyxVQUFDLEdBQVEsSUFBSyxPQUFBLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBYixDQUFhLENBQzVCO2lCQUNBLEtBQUs7WUFDSiwrREFBK0Q7WUFDL0QsOEJBQThCO1lBQzlCLGNBQU8sQ0FBQyxDQUNULENBQUM7U0FDTDthQUFNO1lBQ0wsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsTUFBTSxJQUFLLE9BQUEsTUFBTSxDQUFDLE1BQU0sRUFBYixDQUFhLENBQUMsQ0FBQztTQUN6RDtJQUNILENBQUM7SUFFRCx3QkFBTyxHQUFQO1FBQ0UsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPO1lBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDL0UsQ0FBQztJQUNILGFBQUM7QUFBRCxDQUFDLEFBbkRELElBbURDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uc3RydWN0U3RhY2sgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zdGFja1wiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIElDbGllbnQsIENvbW1hbmQsIE1ldGFkYXRhQmVhcmVyLCBSZXF1ZXN0SGFuZGxlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNtaXRoeUNvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+IHtcbiAgcmVxdWVzdEhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyPGFueSwgYW55LCBIYW5kbGVyT3B0aW9ucz47XG4gIC8qKlxuICAgKiBUaGUgQVBJIHZlcnNpb24gc2V0IGludGVybmFsbHkgYnkgdGhlIFNESywgYW5kIGlzXG4gICAqIG5vdCBwbGFubmVkIHRvIGJlIHVzZWQgYnkgY3VzdG9tZXIgY29kZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICByZWFkb25seSBhcGlWZXJzaW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFNtaXRoeVJlc29sdmVkQ29uZmlndXJhdGlvbjxIYW5kbGVyT3B0aW9ucz4gPSBTbWl0aHlDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPjtcblxuZXhwb3J0IGNsYXNzIENsaWVudDxcbiAgSGFuZGxlck9wdGlvbnMsXG4gIENsaWVudElucHV0IGV4dGVuZHMgb2JqZWN0LFxuICBDbGllbnRPdXRwdXQgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlcixcbiAgUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uIGV4dGVuZHMgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPlxuPiBpbXBsZW1lbnRzIElDbGllbnQ8Q2xpZW50SW5wdXQsIENsaWVudE91dHB1dCwgUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uPiB7XG4gIHB1YmxpYyBtaWRkbGV3YXJlU3RhY2sgPSBjb25zdHJ1Y3RTdGFjazxDbGllbnRJbnB1dCwgQ2xpZW50T3V0cHV0PigpO1xuICByZWFkb25seSBjb25maWc6IFJlc29sdmVkQ2xpZW50Q29uZmlndXJhdGlvbjtcbiAgY29uc3RydWN0b3IoY29uZmlnOiBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24pIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBzZW5kPElucHV0VHlwZSBleHRlbmRzIENsaWVudElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgQ2xpZW50T3V0cHV0PihcbiAgICBjb21tYW5kOiBDb21tYW5kPENsaWVudElucHV0LCBJbnB1dFR5cGUsIENsaWVudE91dHB1dCwgT3V0cHV0VHlwZSwgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPj4sXG4gICAgb3B0aW9ucz86IEhhbmRsZXJPcHRpb25zXG4gICk6IFByb21pc2U8T3V0cHV0VHlwZT47XG4gIHNlbmQ8SW5wdXRUeXBlIGV4dGVuZHMgQ2xpZW50SW5wdXQsIE91dHB1dFR5cGUgZXh0ZW5kcyBDbGllbnRPdXRwdXQ+KFxuICAgIGNvbW1hbmQ6IENvbW1hbmQ8Q2xpZW50SW5wdXQsIElucHV0VHlwZSwgQ2xpZW50T3V0cHV0LCBPdXRwdXRUeXBlLCBTbWl0aHlSZXNvbHZlZENvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+PixcbiAgICBjYjogKGVycjogYW55LCBkYXRhPzogT3V0cHV0VHlwZSkgPT4gdm9pZFxuICApOiB2b2lkO1xuICBzZW5kPElucHV0VHlwZSBleHRlbmRzIENsaWVudElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgQ2xpZW50T3V0cHV0PihcbiAgICBjb21tYW5kOiBDb21tYW5kPENsaWVudElucHV0LCBJbnB1dFR5cGUsIENsaWVudE91dHB1dCwgT3V0cHV0VHlwZSwgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPj4sXG4gICAgb3B0aW9uczogSGFuZGxlck9wdGlvbnMsXG4gICAgY2I6IChlcnI6IGFueSwgZGF0YT86IE91dHB1dFR5cGUpID0+IHZvaWRcbiAgKTogdm9pZDtcbiAgc2VuZDxJbnB1dFR5cGUgZXh0ZW5kcyBDbGllbnRJbnB1dCwgT3V0cHV0VHlwZSBleHRlbmRzIENsaWVudE91dHB1dD4oXG4gICAgY29tbWFuZDogQ29tbWFuZDxDbGllbnRJbnB1dCwgSW5wdXRUeXBlLCBDbGllbnRPdXRwdXQsIE91dHB1dFR5cGUsIFNtaXRoeVJlc29sdmVkQ29uZmlndXJhdGlvbjxIYW5kbGVyT3B0aW9ucz4+LFxuICAgIG9wdGlvbnNPckNiPzogSGFuZGxlck9wdGlvbnMgfCAoKGVycjogYW55LCBkYXRhPzogT3V0cHV0VHlwZSkgPT4gdm9pZCksXG4gICAgY2I/OiAoZXJyOiBhbnksIGRhdGE/OiBPdXRwdXRUeXBlKSA9PiB2b2lkXG4gICk6IFByb21pc2U8T3V0cHV0VHlwZT4gfCB2b2lkIHtcbiAgICBjb25zdCBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnNPckNiICE9PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zT3JDYiA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBjYWxsYmFjayA9IHR5cGVvZiBvcHRpb25zT3JDYiA9PT0gXCJmdW5jdGlvblwiID8gKG9wdGlvbnNPckNiIGFzIChlcnI6IGFueSwgZGF0YT86IE91dHB1dFR5cGUpID0+IHZvaWQpIDogY2I7XG4gICAgY29uc3QgaGFuZGxlciA9IGNvbW1hbmQucmVzb2x2ZU1pZGRsZXdhcmUodGhpcy5taWRkbGV3YXJlU3RhY2sgYXMgYW55LCB0aGlzLmNvbmZpZywgb3B0aW9ucyk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBoYW5kbGVyKGNvbW1hbmQpXG4gICAgICAgIC50aGVuKFxuICAgICAgICAgIChyZXN1bHQpID0+IGNhbGxiYWNrKG51bGwsIHJlc3VsdC5vdXRwdXQpLFxuICAgICAgICAgIChlcnI6IGFueSkgPT4gY2FsbGJhY2soZXJyKVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaChcbiAgICAgICAgICAvLyBwcmV2ZW50IGFueSBlcnJvcnMgdGhyb3duIGluIHRoZSBjYWxsYmFjayBmcm9tIHRyaWdnZXJpbmcgYW5cbiAgICAgICAgICAvLyB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25cbiAgICAgICAgICAoKSA9PiB7fVxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGFuZGxlcihjb21tYW5kKS50aGVuKChyZXN1bHQpID0+IHJlc3VsdC5vdXRwdXQpO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLnJlcXVlc3RIYW5kbGVyLmRlc3Ryb3kpIHRoaXMuY29uZmlnLnJlcXVlc3RIYW5kbGVyLmRlc3Ryb3koKTtcbiAgfVxufVxuIl19","import { constructStack } from \"@aws-sdk/middleware-stack\";\nvar Command = /** @class */ (function () {\n    function Command() {\n        this.middlewareStack = constructStack();\n    }\n    return Command;\n}());\nexport { Command };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUczRDtJQUFBO1FBUVcsb0JBQWUsR0FBb0MsY0FBYyxFQUFpQixDQUFDO0lBTTlGLENBQUM7SUFBRCxjQUFDO0FBQUQsQ0FBQyxBQWRELElBY0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25zdHJ1Y3RTdGFjayB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXN0YWNrXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzIElDb21tYW5kLCBIYW5kbGVyLCBNZXRhZGF0YUJlYXJlciwgTWlkZGxld2FyZVN0YWNrIGFzIElNaWRkbGV3YXJlU3RhY2sgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbW1hbmQ8XG4gIElucHV0IGV4dGVuZHMgQ2xpZW50SW5wdXQsXG4gIE91dHB1dCBleHRlbmRzIENsaWVudE91dHB1dCxcbiAgUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uLFxuICBDbGllbnRJbnB1dCBleHRlbmRzIG9iamVjdCA9IGFueSxcbiAgQ2xpZW50T3V0cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXIgPSBhbnlcbj4gaW1wbGVtZW50cyBJQ29tbWFuZDxDbGllbnRJbnB1dCwgSW5wdXQsIENsaWVudE91dHB1dCwgT3V0cHV0LCBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24+IHtcbiAgYWJzdHJhY3QgaW5wdXQ6IElucHV0O1xuICByZWFkb25seSBtaWRkbGV3YXJlU3RhY2s6IElNaWRkbGV3YXJlU3RhY2s8SW5wdXQsIE91dHB1dD4gPSBjb25zdHJ1Y3RTdGFjazxJbnB1dCwgT3V0cHV0PigpO1xuICBhYnN0cmFjdCByZXNvbHZlTWlkZGxld2FyZShcbiAgICBzdGFjazogSU1pZGRsZXdhcmVTdGFjazxDbGllbnRJbnB1dCwgQ2xpZW50T3V0cHV0PixcbiAgICBjb25maWd1cmF0aW9uOiBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24sXG4gICAgb3B0aW9uczogYW55XG4gICk6IEhhbmRsZXI8SW5wdXQsIE91dHB1dD47XG59XG4iXX0=","/**\n * Function that wraps encodeURIComponent to encode additional characters\n * to fully adhere to RFC 3986.\n */\nexport function extendedEncodeURIComponent(str) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n        return \"%\" + c.charCodeAt(0).toString(16);\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0ZW5kZWQtZW5jb2RlLXVyaS1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXh0ZW5kZWQtZW5jb2RlLXVyaS1jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHO0FBQ0gsTUFBTSxVQUFVLDBCQUEwQixDQUFDLEdBQVc7SUFDcEQsT0FBTyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQztRQUM1RCxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM1QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZ1bmN0aW9uIHRoYXQgd3JhcHMgZW5jb2RlVVJJQ29tcG9uZW50IHRvIGVuY29kZSBhZGRpdGlvbmFsIGNoYXJhY3RlcnNcbiAqIHRvIGZ1bGx5IGFkaGVyZSB0byBSRkMgMzk4Ni5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gXCIlXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cbiJdfQ==","/**\n * The XML parser will set one K:V for a member that could\n * return multiple entries but only has one.\n */\nexport var getArrayIfSingleItem = function (mayBeArray) {\n    return Array.isArray(mayBeArray) ? mayBeArray : [mayBeArray];\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWFycmF5LWlmLXNpbmdsZS1pdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dldC1hcnJheS1pZi1zaW5nbGUtaXRlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxVQUFJLFVBQWE7SUFDbkQsT0FBQSxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO0FBQXJELENBQXFELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBYTUwgcGFyc2VyIHdpbGwgc2V0IG9uZSBLOlYgZm9yIGEgbWVtYmVyIHRoYXQgY291bGRcbiAqIHJldHVybiBtdWx0aXBsZSBlbnRyaWVzIGJ1dCBvbmx5IGhhcyBvbmUuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBcnJheUlmU2luZ2xlSXRlbSA9IDxUPihtYXlCZUFycmF5OiBUKTogVCB8IFRbXSA9PlxuICBBcnJheS5pc0FycmF5KG1heUJlQXJyYXkpID8gbWF5QmVBcnJheSA6IFttYXlCZUFycmF5XTtcbiJdfQ==","/**\n * Recursively parses object and populates value is node from\n * \"#text\" key if it's available\n */\nexport var getValueFromTextNode = function (obj) {\n    var textNodeName = \"#text\";\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && obj[key][textNodeName] !== undefined) {\n            obj[key] = obj[key][textNodeName];\n        }\n        else if (typeof obj[key] === \"object\" && obj[key] !== null) {\n            obj[key] = getValueFromTextNode(obj[key]);\n        }\n    }\n    return obj;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LXZhbHVlLWZyb20tdGV4dC1ub2RlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dldC12YWx1ZS1mcm9tLXRleHQtbm9kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxVQUFDLEdBQVE7SUFDM0MsSUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDO0lBQzdCLEtBQUssSUFBTSxHQUFHLElBQUksR0FBRyxFQUFFO1FBQ3JCLElBQUksR0FBRyxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsWUFBWSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQ25FLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDbkM7YUFBTSxJQUFJLE9BQU8sR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSSxFQUFFO1lBQzVELEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMzQztLQUNGO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFJlY3Vyc2l2ZWx5IHBhcnNlcyBvYmplY3QgYW5kIHBvcHVsYXRlcyB2YWx1ZSBpcyBub2RlIGZyb21cbiAqIFwiI3RleHRcIiBrZXkgaWYgaXQncyBhdmFpbGFibGVcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFZhbHVlRnJvbVRleHROb2RlID0gKG9iajogYW55KSA9PiB7XG4gIGNvbnN0IHRleHROb2RlTmFtZSA9IFwiI3RleHRcIjtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIG9ialtrZXldW3RleHROb2RlTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgb2JqW2tleV0gPSBvYmpba2V5XVt0ZXh0Tm9kZU5hbWVdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9ialtrZXldID09PSBcIm9iamVjdFwiICYmIG9ialtrZXldICE9PSBudWxsKSB7XG4gICAgICBvYmpba2V5XSA9IGdldFZhbHVlRnJvbVRleHROb2RlKG9ialtrZXldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG4iXX0=","/**\n * Lazy String holder for JSON typed contents.\n */\nimport { __extends, __read, __spread } from \"tslib\";\n/**\n * Because of https://github.com/microsoft/tslib/issues/95,\n * TS 'extends' shim doesn't support extending native types like String.\n * So here we create StringWrapper that duplicate everything from String\n * class including its prototype chain. So we can extend from here.\n */\n// @ts-ignore StringWrapper implementation is not a simple constructor\nexport var StringWrapper = function () {\n    //@ts-ignore 'this' cannot be assigned to any, but Object.getPrototypeOf accepts any\n    var Class = Object.getPrototypeOf(this).constructor;\n    var Constructor = Function.bind.apply(String, __spread([null], arguments));\n    //@ts-ignore Call wrapped String constructor directly, don't bother typing it.\n    var instance = new Constructor();\n    Object.setPrototypeOf(instance, Class.prototype);\n    return instance;\n};\nStringWrapper.prototype = Object.create(String.prototype, {\n    constructor: {\n        value: StringWrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true,\n    },\n});\nObject.setPrototypeOf(StringWrapper, String);\nvar LazyJsonString = /** @class */ (function (_super) {\n    __extends(LazyJsonString, _super);\n    function LazyJsonString() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LazyJsonString.prototype.deserializeJSON = function () {\n        return JSON.parse(_super.prototype.toString.call(this));\n    };\n    LazyJsonString.prototype.toJSON = function () {\n        return _super.prototype.toString.call(this);\n    };\n    LazyJsonString.fromObject = function (object) {\n        if (object instanceof LazyJsonString) {\n            return object;\n        }\n        else if (object instanceof String || typeof object === \"string\") {\n            return new LazyJsonString(object);\n        }\n        return new LazyJsonString(JSON.stringify(object));\n    };\n    return LazyJsonString;\n}(StringWrapper));\nexport { LazyJsonString };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF6eS1qc29uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xhenktanNvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRzs7QUFNSDs7Ozs7R0FLRztBQUNILHNFQUFzRTtBQUN0RSxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQWtCO0lBQzFDLG9GQUFvRjtJQUNwRixJQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQztJQUN0RCxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLFlBQUcsSUFBVyxHQUFLLFNBQVMsRUFBRSxDQUFDO0lBQzdFLDhFQUE4RTtJQUM5RSxJQUFNLFFBQVEsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDO0lBQ25DLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqRCxPQUFPLFFBQWtCLENBQUM7QUFDNUIsQ0FBQyxDQUFDO0FBQ0YsYUFBYSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUU7SUFDeEQsV0FBVyxFQUFFO1FBQ1gsS0FBSyxFQUFFLGFBQWE7UUFDcEIsVUFBVSxFQUFFLEtBQUs7UUFDakIsUUFBUSxFQUFFLElBQUk7UUFDZCxZQUFZLEVBQUUsSUFBSTtLQUNuQjtDQUNGLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBRTdDO0lBQW9DLGtDQUFhO0lBQWpEOztJQWlCQSxDQUFDO0lBaEJDLHdDQUFlLEdBQWY7UUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQU0sUUFBUSxXQUFFLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsK0JBQU0sR0FBTjtRQUNFLE9BQU8saUJBQU0sUUFBUSxXQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVNLHlCQUFVLEdBQWpCLFVBQWtCLE1BQVc7UUFDM0IsSUFBSSxNQUFNLFlBQVksY0FBYyxFQUFFO1lBQ3BDLE9BQU8sTUFBTSxDQUFDO1NBQ2Y7YUFBTSxJQUFJLE1BQU0sWUFBWSxNQUFNLElBQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFO1lBQ2pFLE9BQU8sSUFBSSxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDbkM7UUFDRCxPQUFPLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBQ0gscUJBQUM7QUFBRCxDQUFDLEFBakJELENBQW9DLGFBQWEsR0FpQmhEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMYXp5IFN0cmluZyBob2xkZXIgZm9yIEpTT04gdHlwZWQgY29udGVudHMuXG4gKi9cblxuaW50ZXJmYWNlIFN0cmluZ1dyYXBwZXIge1xuICBuZXcgKGFyZzogYW55KTogU3RyaW5nO1xufVxuXG4vKipcbiAqIEJlY2F1c2Ugb2YgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC90c2xpYi9pc3N1ZXMvOTUsXG4gKiBUUyAnZXh0ZW5kcycgc2hpbSBkb2Vzbid0IHN1cHBvcnQgZXh0ZW5kaW5nIG5hdGl2ZSB0eXBlcyBsaWtlIFN0cmluZy5cbiAqIFNvIGhlcmUgd2UgY3JlYXRlIFN0cmluZ1dyYXBwZXIgdGhhdCBkdXBsaWNhdGUgZXZlcnl0aGluZyBmcm9tIFN0cmluZ1xuICogY2xhc3MgaW5jbHVkaW5nIGl0cyBwcm90b3R5cGUgY2hhaW4uIFNvIHdlIGNhbiBleHRlbmQgZnJvbSBoZXJlLlxuICovXG4vLyBAdHMtaWdub3JlIFN0cmluZ1dyYXBwZXIgaW1wbGVtZW50YXRpb24gaXMgbm90IGEgc2ltcGxlIGNvbnN0cnVjdG9yXG5leHBvcnQgY29uc3QgU3RyaW5nV3JhcHBlcjogU3RyaW5nV3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgLy9AdHMtaWdub3JlICd0aGlzJyBjYW5ub3QgYmUgYXNzaWduZWQgdG8gYW55LCBidXQgT2JqZWN0LmdldFByb3RvdHlwZU9mIGFjY2VwdHMgYW55XG4gIGNvbnN0IENsYXNzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO1xuICBjb25zdCBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoU3RyaW5nLCBbbnVsbCBhcyBhbnksIC4uLmFyZ3VtZW50c10pO1xuICAvL0B0cy1pZ25vcmUgQ2FsbCB3cmFwcGVkIFN0cmluZyBjb25zdHJ1Y3RvciBkaXJlY3RseSwgZG9uJ3QgYm90aGVyIHR5cGluZyBpdC5cbiAgY29uc3QgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICByZXR1cm4gaW5zdGFuY2UgYXMgU3RyaW5nO1xufTtcblN0cmluZ1dyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdHJpbmcucHJvdG90eXBlLCB7XG4gIGNvbnN0cnVjdG9yOiB7XG4gICAgdmFsdWU6IFN0cmluZ1dyYXBwZXIsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICB9LFxufSk7XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3RyaW5nV3JhcHBlciwgU3RyaW5nKTtcblxuZXhwb3J0IGNsYXNzIExhenlKc29uU3RyaW5nIGV4dGVuZHMgU3RyaW5nV3JhcHBlciB7XG4gIGRlc2VyaWFsaXplSlNPTigpOiBhbnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHN1cGVyLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgdG9KU09OKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLnRvU3RyaW5nKCk7XG4gIH1cblxuICBzdGF0aWMgZnJvbU9iamVjdChvYmplY3Q6IGFueSk6IExhenlKc29uU3RyaW5nIHtcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgTGF6eUpzb25TdHJpbmcpIHtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBTdHJpbmcgfHwgdHlwZW9mIG9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG5ldyBMYXp5SnNvblN0cmluZyhvYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IExhenlKc29uU3RyaW5nKEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xuICB9XG59XG4iXX0=","/**\n * Builds a proper UTC HttpDate timestamp from a Date object\n * since not all environments will have this as the expected\n * format.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toUTCString\n * > Prior to ECMAScript 2018, the format of the return value\n * > varied according to the platform. The most common return\n * > value was an RFC-1123 formatted date stamp, which is a\n * > slightly updated version of RFC-822 date stamps.\n */\n// Build indexes outside so we allocate them once.\nvar days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n// prettier-ignore\nvar months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nexport function dateToUtcString(date) {\n    var year = date.getUTCFullYear();\n    var month = date.getUTCMonth();\n    var dayOfWeek = date.getUTCDay();\n    var dayOfMonthInt = date.getUTCDate();\n    var hoursInt = date.getUTCHours();\n    var minutesInt = date.getUTCMinutes();\n    var secondsInt = date.getUTCSeconds();\n    // Build 0 prefixed strings for contents that need to be\n    // two digits and where we get an integer back.\n    var dayOfMonthString = dayOfMonthInt < 10 ? \"0\" + dayOfMonthInt : \"\" + dayOfMonthInt;\n    var hoursString = hoursInt < 10 ? \"0\" + hoursInt : \"\" + hoursInt;\n    var minutesString = minutesInt < 10 ? \"0\" + minutesInt : \"\" + minutesInt;\n    var secondsString = secondsInt < 10 ? \"0\" + secondsInt : \"\" + secondsInt;\n    return days[dayOfWeek] + \", \" + dayOfMonthString + \" \" + months[month] + \" \" + year + \" \" + hoursString + \":\" + minutesString + \":\" + secondsString + \" GMT\";\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRlLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0dBVUc7QUFFSCxrREFBa0Q7QUFDbEQsSUFBTSxJQUFJLEdBQWtCLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDOUUsa0JBQWtCO0FBQ2xCLElBQU0sTUFBTSxHQUFrQixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFFbkgsTUFBTSxVQUFVLGVBQWUsQ0FBQyxJQUFVO0lBQ3hDLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUNuQyxJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDakMsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ25DLElBQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUN4QyxJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDcEMsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3hDLElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUV4Qyx3REFBd0Q7SUFDeEQsK0NBQStDO0lBQy9DLElBQU0sZ0JBQWdCLEdBQUcsYUFBYSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBSSxhQUFlLENBQUMsQ0FBQyxDQUFDLEtBQUcsYUFBZSxDQUFDO0lBQ3ZGLElBQU0sV0FBVyxHQUFHLFFBQVEsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQUksUUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFHLFFBQVUsQ0FBQztJQUNuRSxJQUFNLGFBQWEsR0FBRyxVQUFVLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFJLFVBQVksQ0FBQyxDQUFDLENBQUMsS0FBRyxVQUFZLENBQUM7SUFDM0UsSUFBTSxhQUFhLEdBQUcsVUFBVSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBSSxVQUFZLENBQUMsQ0FBQyxDQUFDLEtBQUcsVUFBWSxDQUFDO0lBRTNFLE9BQVUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFLLGdCQUFnQixTQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBSSxJQUFJLFNBQUksV0FBVyxTQUFJLGFBQWEsU0FBSSxhQUFhLFNBQU0sQ0FBQztBQUNqSSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCdWlsZHMgYSBwcm9wZXIgVVRDIEh0dHBEYXRlIHRpbWVzdGFtcCBmcm9tIGEgRGF0ZSBvYmplY3RcbiAqIHNpbmNlIG5vdCBhbGwgZW52aXJvbm1lbnRzIHdpbGwgaGF2ZSB0aGlzIGFzIHRoZSBleHBlY3RlZFxuICogZm9ybWF0LlxuICpcbiAqIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZS90b1VUQ1N0cmluZ1xuICogPiBQcmlvciB0byBFQ01BU2NyaXB0IDIwMTgsIHRoZSBmb3JtYXQgb2YgdGhlIHJldHVybiB2YWx1ZVxuICogPiB2YXJpZWQgYWNjb3JkaW5nIHRvIHRoZSBwbGF0Zm9ybS4gVGhlIG1vc3QgY29tbW9uIHJldHVyblxuICogPiB2YWx1ZSB3YXMgYW4gUkZDLTExMjMgZm9ybWF0dGVkIGRhdGUgc3RhbXAsIHdoaWNoIGlzIGFcbiAqID4gc2xpZ2h0bHkgdXBkYXRlZCB2ZXJzaW9uIG9mIFJGQy04MjIgZGF0ZSBzdGFtcHMuXG4gKi9cblxuLy8gQnVpbGQgaW5kZXhlcyBvdXRzaWRlIHNvIHdlIGFsbG9jYXRlIHRoZW0gb25jZS5cbmNvbnN0IGRheXM6IEFycmF5PFN0cmluZz4gPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl07XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IG1vbnRoczogQXJyYXk8U3RyaW5nPiA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVUb1V0Y1N0cmluZyhkYXRlOiBEYXRlKTogc3RyaW5nIHtcbiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gIGNvbnN0IGRheU9mV2VlayA9IGRhdGUuZ2V0VVRDRGF5KCk7XG4gIGNvbnN0IGRheU9mTW9udGhJbnQgPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgY29uc3QgaG91cnNJbnQgPSBkYXRlLmdldFVUQ0hvdXJzKCk7XG4gIGNvbnN0IG1pbnV0ZXNJbnQgPSBkYXRlLmdldFVUQ01pbnV0ZXMoKTtcbiAgY29uc3Qgc2Vjb25kc0ludCA9IGRhdGUuZ2V0VVRDU2Vjb25kcygpO1xuXG4gIC8vIEJ1aWxkIDAgcHJlZml4ZWQgc3RyaW5ncyBmb3IgY29udGVudHMgdGhhdCBuZWVkIHRvIGJlXG4gIC8vIHR3byBkaWdpdHMgYW5kIHdoZXJlIHdlIGdldCBhbiBpbnRlZ2VyIGJhY2suXG4gIGNvbnN0IGRheU9mTW9udGhTdHJpbmcgPSBkYXlPZk1vbnRoSW50IDwgMTAgPyBgMCR7ZGF5T2ZNb250aEludH1gIDogYCR7ZGF5T2ZNb250aEludH1gO1xuICBjb25zdCBob3Vyc1N0cmluZyA9IGhvdXJzSW50IDwgMTAgPyBgMCR7aG91cnNJbnR9YCA6IGAke2hvdXJzSW50fWA7XG4gIGNvbnN0IG1pbnV0ZXNTdHJpbmcgPSBtaW51dGVzSW50IDwgMTAgPyBgMCR7bWludXRlc0ludH1gIDogYCR7bWludXRlc0ludH1gO1xuICBjb25zdCBzZWNvbmRzU3RyaW5nID0gc2Vjb25kc0ludCA8IDEwID8gYDAke3NlY29uZHNJbnR9YCA6IGAke3NlY29uZHNJbnR9YDtcblxuICByZXR1cm4gYCR7ZGF5c1tkYXlPZldlZWtdfSwgJHtkYXlPZk1vbnRoU3RyaW5nfSAke21vbnRoc1ttb250aF19ICR7eWVhcn0gJHtob3Vyc1N0cmluZ306JHttaW51dGVzU3RyaW5nfToke3NlY29uZHNTdHJpbmd9IEdNVGA7XG59XG4iXX0=","export var SENSITIVE_STRING = \"***SensitiveInformation***\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyw0QkFBNEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBTRU5TSVRJVkVfU1RSSU5HID0gXCIqKipTZW5zaXRpdmVJbmZvcm1hdGlvbioqKlwiO1xuIl19","import { __assign } from \"tslib\";\nimport { SENSITIVE_STRING } from \"@aws-sdk/smithy-client\";\nexport var AbortIncompleteMultipartUpload;\n(function (AbortIncompleteMultipartUpload) {\n    AbortIncompleteMultipartUpload.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AbortIncompleteMultipartUpload || (AbortIncompleteMultipartUpload = {}));\nexport var AbortMultipartUploadOutput;\n(function (AbortMultipartUploadOutput) {\n    AbortMultipartUploadOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AbortMultipartUploadOutput || (AbortMultipartUploadOutput = {}));\nexport var AbortMultipartUploadRequest;\n(function (AbortMultipartUploadRequest) {\n    AbortMultipartUploadRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AbortMultipartUploadRequest || (AbortMultipartUploadRequest = {}));\nexport var NoSuchUpload;\n(function (NoSuchUpload) {\n    NoSuchUpload.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(NoSuchUpload || (NoSuchUpload = {}));\nexport var AccelerateConfiguration;\n(function (AccelerateConfiguration) {\n    AccelerateConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AccelerateConfiguration || (AccelerateConfiguration = {}));\nexport var Grantee;\n(function (Grantee) {\n    Grantee.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Grantee || (Grantee = {}));\nexport var Grant;\n(function (Grant) {\n    Grant.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Grant || (Grant = {}));\nexport var Owner;\n(function (Owner) {\n    Owner.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Owner || (Owner = {}));\nexport var AccessControlPolicy;\n(function (AccessControlPolicy) {\n    AccessControlPolicy.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AccessControlPolicy || (AccessControlPolicy = {}));\nexport var AccessControlTranslation;\n(function (AccessControlTranslation) {\n    AccessControlTranslation.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AccessControlTranslation || (AccessControlTranslation = {}));\nexport var CompleteMultipartUploadOutput;\n(function (CompleteMultipartUploadOutput) {\n    CompleteMultipartUploadOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING }))); };\n})(CompleteMultipartUploadOutput || (CompleteMultipartUploadOutput = {}));\nexport var CompletedPart;\n(function (CompletedPart) {\n    CompletedPart.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CompletedPart || (CompletedPart = {}));\nexport var CompletedMultipartUpload;\n(function (CompletedMultipartUpload) {\n    CompletedMultipartUpload.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CompletedMultipartUpload || (CompletedMultipartUpload = {}));\nexport var CompleteMultipartUploadRequest;\n(function (CompleteMultipartUploadRequest) {\n    CompleteMultipartUploadRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CompleteMultipartUploadRequest || (CompleteMultipartUploadRequest = {}));\nexport var CopyObjectResult;\n(function (CopyObjectResult) {\n    CopyObjectResult.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CopyObjectResult || (CopyObjectResult = {}));\nexport var CopyObjectOutput;\n(function (CopyObjectOutput) {\n    CopyObjectOutput.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING })), (obj.SSEKMSEncryptionContext && { SSEKMSEncryptionContext: SENSITIVE_STRING }))); };\n})(CopyObjectOutput || (CopyObjectOutput = {}));\nexport var CopyObjectRequest;\n(function (CopyObjectRequest) {\n    CopyObjectRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign(__assign({}, obj), (obj.SSECustomerKey && { SSECustomerKey: SENSITIVE_STRING })), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING })), (obj.SSEKMSEncryptionContext && { SSEKMSEncryptionContext: SENSITIVE_STRING })), (obj.CopySourceSSECustomerKey && { CopySourceSSECustomerKey: SENSITIVE_STRING }))); };\n})(CopyObjectRequest || (CopyObjectRequest = {}));\nexport var ObjectNotInActiveTierError;\n(function (ObjectNotInActiveTierError) {\n    ObjectNotInActiveTierError.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ObjectNotInActiveTierError || (ObjectNotInActiveTierError = {}));\nexport var BucketAlreadyExists;\n(function (BucketAlreadyExists) {\n    BucketAlreadyExists.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BucketAlreadyExists || (BucketAlreadyExists = {}));\nexport var BucketAlreadyOwnedByYou;\n(function (BucketAlreadyOwnedByYou) {\n    BucketAlreadyOwnedByYou.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BucketAlreadyOwnedByYou || (BucketAlreadyOwnedByYou = {}));\nexport var CreateBucketOutput;\n(function (CreateBucketOutput) {\n    CreateBucketOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateBucketOutput || (CreateBucketOutput = {}));\nexport var CreateBucketConfiguration;\n(function (CreateBucketConfiguration) {\n    CreateBucketConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateBucketConfiguration || (CreateBucketConfiguration = {}));\nexport var CreateBucketRequest;\n(function (CreateBucketRequest) {\n    CreateBucketRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CreateBucketRequest || (CreateBucketRequest = {}));\nexport var CreateMultipartUploadOutput;\n(function (CreateMultipartUploadOutput) {\n    CreateMultipartUploadOutput.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING })), (obj.SSEKMSEncryptionContext && { SSEKMSEncryptionContext: SENSITIVE_STRING }))); };\n})(CreateMultipartUploadOutput || (CreateMultipartUploadOutput = {}));\nexport var CreateMultipartUploadRequest;\n(function (CreateMultipartUploadRequest) {\n    CreateMultipartUploadRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign({}, obj), (obj.SSECustomerKey && { SSECustomerKey: SENSITIVE_STRING })), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING })), (obj.SSEKMSEncryptionContext && { SSEKMSEncryptionContext: SENSITIVE_STRING }))); };\n})(CreateMultipartUploadRequest || (CreateMultipartUploadRequest = {}));\nexport var DeleteBucketRequest;\n(function (DeleteBucketRequest) {\n    DeleteBucketRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketRequest || (DeleteBucketRequest = {}));\nexport var DeleteBucketAnalyticsConfigurationRequest;\n(function (DeleteBucketAnalyticsConfigurationRequest) {\n    DeleteBucketAnalyticsConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketAnalyticsConfigurationRequest || (DeleteBucketAnalyticsConfigurationRequest = {}));\nexport var DeleteBucketCorsRequest;\n(function (DeleteBucketCorsRequest) {\n    DeleteBucketCorsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketCorsRequest || (DeleteBucketCorsRequest = {}));\nexport var DeleteBucketEncryptionRequest;\n(function (DeleteBucketEncryptionRequest) {\n    DeleteBucketEncryptionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketEncryptionRequest || (DeleteBucketEncryptionRequest = {}));\nexport var DeleteBucketIntelligentTieringConfigurationRequest;\n(function (DeleteBucketIntelligentTieringConfigurationRequest) {\n    DeleteBucketIntelligentTieringConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketIntelligentTieringConfigurationRequest || (DeleteBucketIntelligentTieringConfigurationRequest = {}));\nexport var DeleteBucketInventoryConfigurationRequest;\n(function (DeleteBucketInventoryConfigurationRequest) {\n    DeleteBucketInventoryConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketInventoryConfigurationRequest || (DeleteBucketInventoryConfigurationRequest = {}));\nexport var DeleteBucketLifecycleRequest;\n(function (DeleteBucketLifecycleRequest) {\n    DeleteBucketLifecycleRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketLifecycleRequest || (DeleteBucketLifecycleRequest = {}));\nexport var DeleteBucketMetricsConfigurationRequest;\n(function (DeleteBucketMetricsConfigurationRequest) {\n    DeleteBucketMetricsConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketMetricsConfigurationRequest || (DeleteBucketMetricsConfigurationRequest = {}));\nexport var DeleteBucketOwnershipControlsRequest;\n(function (DeleteBucketOwnershipControlsRequest) {\n    DeleteBucketOwnershipControlsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketOwnershipControlsRequest || (DeleteBucketOwnershipControlsRequest = {}));\nexport var DeleteBucketPolicyRequest;\n(function (DeleteBucketPolicyRequest) {\n    DeleteBucketPolicyRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketPolicyRequest || (DeleteBucketPolicyRequest = {}));\nexport var DeleteBucketReplicationRequest;\n(function (DeleteBucketReplicationRequest) {\n    DeleteBucketReplicationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketReplicationRequest || (DeleteBucketReplicationRequest = {}));\nexport var DeleteBucketTaggingRequest;\n(function (DeleteBucketTaggingRequest) {\n    DeleteBucketTaggingRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketTaggingRequest || (DeleteBucketTaggingRequest = {}));\nexport var DeleteBucketWebsiteRequest;\n(function (DeleteBucketWebsiteRequest) {\n    DeleteBucketWebsiteRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteBucketWebsiteRequest || (DeleteBucketWebsiteRequest = {}));\nexport var DeleteObjectOutput;\n(function (DeleteObjectOutput) {\n    DeleteObjectOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteObjectOutput || (DeleteObjectOutput = {}));\nexport var DeleteObjectRequest;\n(function (DeleteObjectRequest) {\n    DeleteObjectRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteObjectRequest || (DeleteObjectRequest = {}));\nexport var DeletedObject;\n(function (DeletedObject) {\n    DeletedObject.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeletedObject || (DeletedObject = {}));\nexport var _Error;\n(function (_Error) {\n    _Error.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(_Error || (_Error = {}));\nexport var DeleteObjectsOutput;\n(function (DeleteObjectsOutput) {\n    DeleteObjectsOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteObjectsOutput || (DeleteObjectsOutput = {}));\nexport var ObjectIdentifier;\n(function (ObjectIdentifier) {\n    ObjectIdentifier.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ObjectIdentifier || (ObjectIdentifier = {}));\nexport var Delete;\n(function (Delete) {\n    Delete.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Delete || (Delete = {}));\nexport var DeleteObjectsRequest;\n(function (DeleteObjectsRequest) {\n    DeleteObjectsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteObjectsRequest || (DeleteObjectsRequest = {}));\nexport var DeleteObjectTaggingOutput;\n(function (DeleteObjectTaggingOutput) {\n    DeleteObjectTaggingOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteObjectTaggingOutput || (DeleteObjectTaggingOutput = {}));\nexport var DeleteObjectTaggingRequest;\n(function (DeleteObjectTaggingRequest) {\n    DeleteObjectTaggingRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteObjectTaggingRequest || (DeleteObjectTaggingRequest = {}));\nexport var DeletePublicAccessBlockRequest;\n(function (DeletePublicAccessBlockRequest) {\n    DeletePublicAccessBlockRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeletePublicAccessBlockRequest || (DeletePublicAccessBlockRequest = {}));\nexport var GetBucketAccelerateConfigurationOutput;\n(function (GetBucketAccelerateConfigurationOutput) {\n    GetBucketAccelerateConfigurationOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketAccelerateConfigurationOutput || (GetBucketAccelerateConfigurationOutput = {}));\nexport var GetBucketAccelerateConfigurationRequest;\n(function (GetBucketAccelerateConfigurationRequest) {\n    GetBucketAccelerateConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketAccelerateConfigurationRequest || (GetBucketAccelerateConfigurationRequest = {}));\nexport var GetBucketAclOutput;\n(function (GetBucketAclOutput) {\n    GetBucketAclOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketAclOutput || (GetBucketAclOutput = {}));\nexport var GetBucketAclRequest;\n(function (GetBucketAclRequest) {\n    GetBucketAclRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketAclRequest || (GetBucketAclRequest = {}));\nexport var Tag;\n(function (Tag) {\n    Tag.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Tag || (Tag = {}));\nexport var AnalyticsAndOperator;\n(function (AnalyticsAndOperator) {\n    AnalyticsAndOperator.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AnalyticsAndOperator || (AnalyticsAndOperator = {}));\nexport var AnalyticsFilter;\n(function (AnalyticsFilter) {\n    AnalyticsFilter.visit = function (value, visitor) {\n        if (value.Prefix !== undefined)\n            return visitor.Prefix(value.Prefix);\n        if (value.Tag !== undefined)\n            return visitor.Tag(value.Tag);\n        if (value.And !== undefined)\n            return visitor.And(value.And);\n        return visitor._(value.$unknown[0], value.$unknown[1]);\n    };\n    AnalyticsFilter.filterSensitiveLog = function (obj) {\n        var _a;\n        if (obj.Prefix !== undefined)\n            return { Prefix: obj.Prefix };\n        if (obj.Tag !== undefined)\n            return { Tag: Tag.filterSensitiveLog(obj.Tag) };\n        if (obj.And !== undefined)\n            return { And: AnalyticsAndOperator.filterSensitiveLog(obj.And) };\n        if (obj.$unknown !== undefined)\n            return _a = {}, _a[obj.$unknown[0]] = \"UNKNOWN\", _a;\n    };\n})(AnalyticsFilter || (AnalyticsFilter = {}));\nexport var AnalyticsS3BucketDestination;\n(function (AnalyticsS3BucketDestination) {\n    AnalyticsS3BucketDestination.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AnalyticsS3BucketDestination || (AnalyticsS3BucketDestination = {}));\nexport var AnalyticsExportDestination;\n(function (AnalyticsExportDestination) {\n    AnalyticsExportDestination.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(AnalyticsExportDestination || (AnalyticsExportDestination = {}));\nexport var StorageClassAnalysisDataExport;\n(function (StorageClassAnalysisDataExport) {\n    StorageClassAnalysisDataExport.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(StorageClassAnalysisDataExport || (StorageClassAnalysisDataExport = {}));\nexport var StorageClassAnalysis;\n(function (StorageClassAnalysis) {\n    StorageClassAnalysis.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(StorageClassAnalysis || (StorageClassAnalysis = {}));\nexport var AnalyticsConfiguration;\n(function (AnalyticsConfiguration) {\n    AnalyticsConfiguration.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Filter && { Filter: AnalyticsFilter.filterSensitiveLog(obj.Filter) }))); };\n})(AnalyticsConfiguration || (AnalyticsConfiguration = {}));\nexport var GetBucketAnalyticsConfigurationOutput;\n(function (GetBucketAnalyticsConfigurationOutput) {\n    GetBucketAnalyticsConfigurationOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.AnalyticsConfiguration && {\n        AnalyticsConfiguration: AnalyticsConfiguration.filterSensitiveLog(obj.AnalyticsConfiguration),\n    }))); };\n})(GetBucketAnalyticsConfigurationOutput || (GetBucketAnalyticsConfigurationOutput = {}));\nexport var GetBucketAnalyticsConfigurationRequest;\n(function (GetBucketAnalyticsConfigurationRequest) {\n    GetBucketAnalyticsConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketAnalyticsConfigurationRequest || (GetBucketAnalyticsConfigurationRequest = {}));\nexport var CORSRule;\n(function (CORSRule) {\n    CORSRule.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CORSRule || (CORSRule = {}));\nexport var GetBucketCorsOutput;\n(function (GetBucketCorsOutput) {\n    GetBucketCorsOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketCorsOutput || (GetBucketCorsOutput = {}));\nexport var GetBucketCorsRequest;\n(function (GetBucketCorsRequest) {\n    GetBucketCorsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketCorsRequest || (GetBucketCorsRequest = {}));\nexport var ServerSideEncryptionByDefault;\n(function (ServerSideEncryptionByDefault) {\n    ServerSideEncryptionByDefault.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.KMSMasterKeyID && { KMSMasterKeyID: SENSITIVE_STRING }))); };\n})(ServerSideEncryptionByDefault || (ServerSideEncryptionByDefault = {}));\nexport var ServerSideEncryptionRule;\n(function (ServerSideEncryptionRule) {\n    ServerSideEncryptionRule.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.ApplyServerSideEncryptionByDefault && {\n        ApplyServerSideEncryptionByDefault: ServerSideEncryptionByDefault.filterSensitiveLog(obj.ApplyServerSideEncryptionByDefault),\n    }))); };\n})(ServerSideEncryptionRule || (ServerSideEncryptionRule = {}));\nexport var ServerSideEncryptionConfiguration;\n(function (ServerSideEncryptionConfiguration) {\n    ServerSideEncryptionConfiguration.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Rules && { Rules: obj.Rules.map(function (item) { return ServerSideEncryptionRule.filterSensitiveLog(item); }) }))); };\n})(ServerSideEncryptionConfiguration || (ServerSideEncryptionConfiguration = {}));\nexport var GetBucketEncryptionOutput;\n(function (GetBucketEncryptionOutput) {\n    GetBucketEncryptionOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.ServerSideEncryptionConfiguration && {\n        ServerSideEncryptionConfiguration: ServerSideEncryptionConfiguration.filterSensitiveLog(obj.ServerSideEncryptionConfiguration),\n    }))); };\n})(GetBucketEncryptionOutput || (GetBucketEncryptionOutput = {}));\nexport var GetBucketEncryptionRequest;\n(function (GetBucketEncryptionRequest) {\n    GetBucketEncryptionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketEncryptionRequest || (GetBucketEncryptionRequest = {}));\nexport var IntelligentTieringAndOperator;\n(function (IntelligentTieringAndOperator) {\n    IntelligentTieringAndOperator.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(IntelligentTieringAndOperator || (IntelligentTieringAndOperator = {}));\nexport var IntelligentTieringFilter;\n(function (IntelligentTieringFilter) {\n    IntelligentTieringFilter.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(IntelligentTieringFilter || (IntelligentTieringFilter = {}));\nexport var Tiering;\n(function (Tiering) {\n    Tiering.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Tiering || (Tiering = {}));\nexport var IntelligentTieringConfiguration;\n(function (IntelligentTieringConfiguration) {\n    IntelligentTieringConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(IntelligentTieringConfiguration || (IntelligentTieringConfiguration = {}));\nexport var GetBucketIntelligentTieringConfigurationOutput;\n(function (GetBucketIntelligentTieringConfigurationOutput) {\n    GetBucketIntelligentTieringConfigurationOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketIntelligentTieringConfigurationOutput || (GetBucketIntelligentTieringConfigurationOutput = {}));\nexport var GetBucketIntelligentTieringConfigurationRequest;\n(function (GetBucketIntelligentTieringConfigurationRequest) {\n    GetBucketIntelligentTieringConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketIntelligentTieringConfigurationRequest || (GetBucketIntelligentTieringConfigurationRequest = {}));\nexport var SSEKMS;\n(function (SSEKMS) {\n    SSEKMS.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.KeyId && { KeyId: SENSITIVE_STRING }))); };\n})(SSEKMS || (SSEKMS = {}));\nexport var SSES3;\n(function (SSES3) {\n    SSES3.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(SSES3 || (SSES3 = {}));\nexport var InventoryEncryption;\n(function (InventoryEncryption) {\n    InventoryEncryption.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSEKMS && { SSEKMS: SSEKMS.filterSensitiveLog(obj.SSEKMS) }))); };\n})(InventoryEncryption || (InventoryEncryption = {}));\nexport var InventoryS3BucketDestination;\n(function (InventoryS3BucketDestination) {\n    InventoryS3BucketDestination.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Encryption && { Encryption: InventoryEncryption.filterSensitiveLog(obj.Encryption) }))); };\n})(InventoryS3BucketDestination || (InventoryS3BucketDestination = {}));\nexport var InventoryDestination;\n(function (InventoryDestination) {\n    InventoryDestination.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.S3BucketDestination && {\n        S3BucketDestination: InventoryS3BucketDestination.filterSensitiveLog(obj.S3BucketDestination),\n    }))); };\n})(InventoryDestination || (InventoryDestination = {}));\nexport var InventoryFilter;\n(function (InventoryFilter) {\n    InventoryFilter.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(InventoryFilter || (InventoryFilter = {}));\nexport var InventorySchedule;\n(function (InventorySchedule) {\n    InventorySchedule.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(InventorySchedule || (InventorySchedule = {}));\nexport var InventoryConfiguration;\n(function (InventoryConfiguration) {\n    InventoryConfiguration.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Destination && { Destination: InventoryDestination.filterSensitiveLog(obj.Destination) }))); };\n})(InventoryConfiguration || (InventoryConfiguration = {}));\nexport var GetBucketInventoryConfigurationOutput;\n(function (GetBucketInventoryConfigurationOutput) {\n    GetBucketInventoryConfigurationOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.InventoryConfiguration && {\n        InventoryConfiguration: InventoryConfiguration.filterSensitiveLog(obj.InventoryConfiguration),\n    }))); };\n})(GetBucketInventoryConfigurationOutput || (GetBucketInventoryConfigurationOutput = {}));\nexport var GetBucketInventoryConfigurationRequest;\n(function (GetBucketInventoryConfigurationRequest) {\n    GetBucketInventoryConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketInventoryConfigurationRequest || (GetBucketInventoryConfigurationRequest = {}));\nexport var LifecycleExpiration;\n(function (LifecycleExpiration) {\n    LifecycleExpiration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(LifecycleExpiration || (LifecycleExpiration = {}));\nexport var LifecycleRuleAndOperator;\n(function (LifecycleRuleAndOperator) {\n    LifecycleRuleAndOperator.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(LifecycleRuleAndOperator || (LifecycleRuleAndOperator = {}));\nexport var LifecycleRuleFilter;\n(function (LifecycleRuleFilter) {\n    LifecycleRuleFilter.visit = function (value, visitor) {\n        if (value.Prefix !== undefined)\n            return visitor.Prefix(value.Prefix);\n        if (value.Tag !== undefined)\n            return visitor.Tag(value.Tag);\n        if (value.And !== undefined)\n            return visitor.And(value.And);\n        return visitor._(value.$unknown[0], value.$unknown[1]);\n    };\n    LifecycleRuleFilter.filterSensitiveLog = function (obj) {\n        var _a;\n        if (obj.Prefix !== undefined)\n            return { Prefix: obj.Prefix };\n        if (obj.Tag !== undefined)\n            return { Tag: Tag.filterSensitiveLog(obj.Tag) };\n        if (obj.And !== undefined)\n            return { And: LifecycleRuleAndOperator.filterSensitiveLog(obj.And) };\n        if (obj.$unknown !== undefined)\n            return _a = {}, _a[obj.$unknown[0]] = \"UNKNOWN\", _a;\n    };\n})(LifecycleRuleFilter || (LifecycleRuleFilter = {}));\nexport var NoncurrentVersionExpiration;\n(function (NoncurrentVersionExpiration) {\n    NoncurrentVersionExpiration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(NoncurrentVersionExpiration || (NoncurrentVersionExpiration = {}));\nexport var NoncurrentVersionTransition;\n(function (NoncurrentVersionTransition) {\n    NoncurrentVersionTransition.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(NoncurrentVersionTransition || (NoncurrentVersionTransition = {}));\nexport var Transition;\n(function (Transition) {\n    Transition.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Transition || (Transition = {}));\nexport var LifecycleRule;\n(function (LifecycleRule) {\n    LifecycleRule.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Filter && { Filter: LifecycleRuleFilter.filterSensitiveLog(obj.Filter) }))); };\n})(LifecycleRule || (LifecycleRule = {}));\nexport var GetBucketLifecycleConfigurationOutput;\n(function (GetBucketLifecycleConfigurationOutput) {\n    GetBucketLifecycleConfigurationOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Rules && { Rules: obj.Rules.map(function (item) { return LifecycleRule.filterSensitiveLog(item); }) }))); };\n})(GetBucketLifecycleConfigurationOutput || (GetBucketLifecycleConfigurationOutput = {}));\nexport var GetBucketLifecycleConfigurationRequest;\n(function (GetBucketLifecycleConfigurationRequest) {\n    GetBucketLifecycleConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketLifecycleConfigurationRequest || (GetBucketLifecycleConfigurationRequest = {}));\nexport var GetBucketLocationOutput;\n(function (GetBucketLocationOutput) {\n    GetBucketLocationOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketLocationOutput || (GetBucketLocationOutput = {}));\nexport var GetBucketLocationRequest;\n(function (GetBucketLocationRequest) {\n    GetBucketLocationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketLocationRequest || (GetBucketLocationRequest = {}));\nexport var TargetGrant;\n(function (TargetGrant) {\n    TargetGrant.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(TargetGrant || (TargetGrant = {}));\nexport var LoggingEnabled;\n(function (LoggingEnabled) {\n    LoggingEnabled.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(LoggingEnabled || (LoggingEnabled = {}));\nexport var GetBucketLoggingOutput;\n(function (GetBucketLoggingOutput) {\n    GetBucketLoggingOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketLoggingOutput || (GetBucketLoggingOutput = {}));\nexport var GetBucketLoggingRequest;\n(function (GetBucketLoggingRequest) {\n    GetBucketLoggingRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketLoggingRequest || (GetBucketLoggingRequest = {}));\nexport var MetricsAndOperator;\n(function (MetricsAndOperator) {\n    MetricsAndOperator.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(MetricsAndOperator || (MetricsAndOperator = {}));\nexport var MetricsFilter;\n(function (MetricsFilter) {\n    MetricsFilter.visit = function (value, visitor) {\n        if (value.Prefix !== undefined)\n            return visitor.Prefix(value.Prefix);\n        if (value.Tag !== undefined)\n            return visitor.Tag(value.Tag);\n        if (value.And !== undefined)\n            return visitor.And(value.And);\n        return visitor._(value.$unknown[0], value.$unknown[1]);\n    };\n    MetricsFilter.filterSensitiveLog = function (obj) {\n        var _a;\n        if (obj.Prefix !== undefined)\n            return { Prefix: obj.Prefix };\n        if (obj.Tag !== undefined)\n            return { Tag: Tag.filterSensitiveLog(obj.Tag) };\n        if (obj.And !== undefined)\n            return { And: MetricsAndOperator.filterSensitiveLog(obj.And) };\n        if (obj.$unknown !== undefined)\n            return _a = {}, _a[obj.$unknown[0]] = \"UNKNOWN\", _a;\n    };\n})(MetricsFilter || (MetricsFilter = {}));\nexport var MetricsConfiguration;\n(function (MetricsConfiguration) {\n    MetricsConfiguration.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Filter && { Filter: MetricsFilter.filterSensitiveLog(obj.Filter) }))); };\n})(MetricsConfiguration || (MetricsConfiguration = {}));\nexport var GetBucketMetricsConfigurationOutput;\n(function (GetBucketMetricsConfigurationOutput) {\n    GetBucketMetricsConfigurationOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.MetricsConfiguration && {\n        MetricsConfiguration: MetricsConfiguration.filterSensitiveLog(obj.MetricsConfiguration),\n    }))); };\n})(GetBucketMetricsConfigurationOutput || (GetBucketMetricsConfigurationOutput = {}));\nexport var GetBucketMetricsConfigurationRequest;\n(function (GetBucketMetricsConfigurationRequest) {\n    GetBucketMetricsConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketMetricsConfigurationRequest || (GetBucketMetricsConfigurationRequest = {}));\nexport var GetBucketNotificationConfigurationRequest;\n(function (GetBucketNotificationConfigurationRequest) {\n    GetBucketNotificationConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketNotificationConfigurationRequest || (GetBucketNotificationConfigurationRequest = {}));\nexport var FilterRule;\n(function (FilterRule) {\n    FilterRule.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(FilterRule || (FilterRule = {}));\nexport var S3KeyFilter;\n(function (S3KeyFilter) {\n    S3KeyFilter.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(S3KeyFilter || (S3KeyFilter = {}));\nexport var NotificationConfigurationFilter;\n(function (NotificationConfigurationFilter) {\n    NotificationConfigurationFilter.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(NotificationConfigurationFilter || (NotificationConfigurationFilter = {}));\nexport var LambdaFunctionConfiguration;\n(function (LambdaFunctionConfiguration) {\n    LambdaFunctionConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(LambdaFunctionConfiguration || (LambdaFunctionConfiguration = {}));\nexport var QueueConfiguration;\n(function (QueueConfiguration) {\n    QueueConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(QueueConfiguration || (QueueConfiguration = {}));\nexport var TopicConfiguration;\n(function (TopicConfiguration) {\n    TopicConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(TopicConfiguration || (TopicConfiguration = {}));\nexport var NotificationConfiguration;\n(function (NotificationConfiguration) {\n    NotificationConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(NotificationConfiguration || (NotificationConfiguration = {}));\nexport var OwnershipControlsRule;\n(function (OwnershipControlsRule) {\n    OwnershipControlsRule.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(OwnershipControlsRule || (OwnershipControlsRule = {}));\nexport var OwnershipControls;\n(function (OwnershipControls) {\n    OwnershipControls.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(OwnershipControls || (OwnershipControls = {}));\nexport var GetBucketOwnershipControlsOutput;\n(function (GetBucketOwnershipControlsOutput) {\n    GetBucketOwnershipControlsOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketOwnershipControlsOutput || (GetBucketOwnershipControlsOutput = {}));\nexport var GetBucketOwnershipControlsRequest;\n(function (GetBucketOwnershipControlsRequest) {\n    GetBucketOwnershipControlsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketOwnershipControlsRequest || (GetBucketOwnershipControlsRequest = {}));\nexport var GetBucketPolicyOutput;\n(function (GetBucketPolicyOutput) {\n    GetBucketPolicyOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketPolicyOutput || (GetBucketPolicyOutput = {}));\nexport var GetBucketPolicyRequest;\n(function (GetBucketPolicyRequest) {\n    GetBucketPolicyRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketPolicyRequest || (GetBucketPolicyRequest = {}));\nexport var PolicyStatus;\n(function (PolicyStatus) {\n    PolicyStatus.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PolicyStatus || (PolicyStatus = {}));\nexport var GetBucketPolicyStatusOutput;\n(function (GetBucketPolicyStatusOutput) {\n    GetBucketPolicyStatusOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketPolicyStatusOutput || (GetBucketPolicyStatusOutput = {}));\nexport var GetBucketPolicyStatusRequest;\n(function (GetBucketPolicyStatusRequest) {\n    GetBucketPolicyStatusRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketPolicyStatusRequest || (GetBucketPolicyStatusRequest = {}));\nexport var DeleteMarkerReplication;\n(function (DeleteMarkerReplication) {\n    DeleteMarkerReplication.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteMarkerReplication || (DeleteMarkerReplication = {}));\nexport var EncryptionConfiguration;\n(function (EncryptionConfiguration) {\n    EncryptionConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(EncryptionConfiguration || (EncryptionConfiguration = {}));\nexport var ReplicationTimeValue;\n(function (ReplicationTimeValue) {\n    ReplicationTimeValue.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ReplicationTimeValue || (ReplicationTimeValue = {}));\nexport var Metrics;\n(function (Metrics) {\n    Metrics.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Metrics || (Metrics = {}));\nexport var ReplicationTime;\n(function (ReplicationTime) {\n    ReplicationTime.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ReplicationTime || (ReplicationTime = {}));\nexport var Destination;\n(function (Destination) {\n    Destination.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Destination || (Destination = {}));\nexport var ExistingObjectReplication;\n(function (ExistingObjectReplication) {\n    ExistingObjectReplication.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ExistingObjectReplication || (ExistingObjectReplication = {}));\nexport var ReplicationRuleAndOperator;\n(function (ReplicationRuleAndOperator) {\n    ReplicationRuleAndOperator.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ReplicationRuleAndOperator || (ReplicationRuleAndOperator = {}));\nexport var ReplicationRuleFilter;\n(function (ReplicationRuleFilter) {\n    ReplicationRuleFilter.visit = function (value, visitor) {\n        if (value.Prefix !== undefined)\n            return visitor.Prefix(value.Prefix);\n        if (value.Tag !== undefined)\n            return visitor.Tag(value.Tag);\n        if (value.And !== undefined)\n            return visitor.And(value.And);\n        return visitor._(value.$unknown[0], value.$unknown[1]);\n    };\n    ReplicationRuleFilter.filterSensitiveLog = function (obj) {\n        var _a;\n        if (obj.Prefix !== undefined)\n            return { Prefix: obj.Prefix };\n        if (obj.Tag !== undefined)\n            return { Tag: Tag.filterSensitiveLog(obj.Tag) };\n        if (obj.And !== undefined)\n            return { And: ReplicationRuleAndOperator.filterSensitiveLog(obj.And) };\n        if (obj.$unknown !== undefined)\n            return _a = {}, _a[obj.$unknown[0]] = \"UNKNOWN\", _a;\n    };\n})(ReplicationRuleFilter || (ReplicationRuleFilter = {}));\nexport var ReplicaModifications;\n(function (ReplicaModifications) {\n    ReplicaModifications.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ReplicaModifications || (ReplicaModifications = {}));\nexport var SseKmsEncryptedObjects;\n(function (SseKmsEncryptedObjects) {\n    SseKmsEncryptedObjects.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(SseKmsEncryptedObjects || (SseKmsEncryptedObjects = {}));\nexport var SourceSelectionCriteria;\n(function (SourceSelectionCriteria) {\n    SourceSelectionCriteria.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(SourceSelectionCriteria || (SourceSelectionCriteria = {}));\nexport var ReplicationRule;\n(function (ReplicationRule) {\n    ReplicationRule.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Filter && { Filter: ReplicationRuleFilter.filterSensitiveLog(obj.Filter) }))); };\n})(ReplicationRule || (ReplicationRule = {}));\nexport var ReplicationConfiguration;\n(function (ReplicationConfiguration) {\n    ReplicationConfiguration.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Rules && { Rules: obj.Rules.map(function (item) { return ReplicationRule.filterSensitiveLog(item); }) }))); };\n})(ReplicationConfiguration || (ReplicationConfiguration = {}));\nexport var GetBucketReplicationOutput;\n(function (GetBucketReplicationOutput) {\n    GetBucketReplicationOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.ReplicationConfiguration && {\n        ReplicationConfiguration: ReplicationConfiguration.filterSensitiveLog(obj.ReplicationConfiguration),\n    }))); };\n})(GetBucketReplicationOutput || (GetBucketReplicationOutput = {}));\nexport var GetBucketReplicationRequest;\n(function (GetBucketReplicationRequest) {\n    GetBucketReplicationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketReplicationRequest || (GetBucketReplicationRequest = {}));\nexport var GetBucketRequestPaymentOutput;\n(function (GetBucketRequestPaymentOutput) {\n    GetBucketRequestPaymentOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketRequestPaymentOutput || (GetBucketRequestPaymentOutput = {}));\nexport var GetBucketRequestPaymentRequest;\n(function (GetBucketRequestPaymentRequest) {\n    GetBucketRequestPaymentRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketRequestPaymentRequest || (GetBucketRequestPaymentRequest = {}));\nexport var GetBucketTaggingOutput;\n(function (GetBucketTaggingOutput) {\n    GetBucketTaggingOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketTaggingOutput || (GetBucketTaggingOutput = {}));\nexport var GetBucketTaggingRequest;\n(function (GetBucketTaggingRequest) {\n    GetBucketTaggingRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketTaggingRequest || (GetBucketTaggingRequest = {}));\nexport var GetBucketVersioningOutput;\n(function (GetBucketVersioningOutput) {\n    GetBucketVersioningOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketVersioningOutput || (GetBucketVersioningOutput = {}));\nexport var GetBucketVersioningRequest;\n(function (GetBucketVersioningRequest) {\n    GetBucketVersioningRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketVersioningRequest || (GetBucketVersioningRequest = {}));\nexport var ErrorDocument;\n(function (ErrorDocument) {\n    ErrorDocument.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ErrorDocument || (ErrorDocument = {}));\nexport var IndexDocument;\n(function (IndexDocument) {\n    IndexDocument.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(IndexDocument || (IndexDocument = {}));\nexport var RedirectAllRequestsTo;\n(function (RedirectAllRequestsTo) {\n    RedirectAllRequestsTo.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(RedirectAllRequestsTo || (RedirectAllRequestsTo = {}));\nexport var Condition;\n(function (Condition) {\n    Condition.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Condition || (Condition = {}));\nexport var Redirect;\n(function (Redirect) {\n    Redirect.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Redirect || (Redirect = {}));\nexport var RoutingRule;\n(function (RoutingRule) {\n    RoutingRule.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(RoutingRule || (RoutingRule = {}));\nexport var GetBucketWebsiteOutput;\n(function (GetBucketWebsiteOutput) {\n    GetBucketWebsiteOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketWebsiteOutput || (GetBucketWebsiteOutput = {}));\nexport var GetBucketWebsiteRequest;\n(function (GetBucketWebsiteRequest) {\n    GetBucketWebsiteRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetBucketWebsiteRequest || (GetBucketWebsiteRequest = {}));\nexport var GetObjectOutput;\n(function (GetObjectOutput) {\n    GetObjectOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING }))); };\n})(GetObjectOutput || (GetObjectOutput = {}));\nexport var GetObjectRequest;\n(function (GetObjectRequest) {\n    GetObjectRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSECustomerKey && { SSECustomerKey: SENSITIVE_STRING }))); };\n})(GetObjectRequest || (GetObjectRequest = {}));\nexport var InvalidObjectState;\n(function (InvalidObjectState) {\n    InvalidObjectState.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(InvalidObjectState || (InvalidObjectState = {}));\nexport var NoSuchKey;\n(function (NoSuchKey) {\n    NoSuchKey.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(NoSuchKey || (NoSuchKey = {}));\nexport var GetObjectAclOutput;\n(function (GetObjectAclOutput) {\n    GetObjectAclOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectAclOutput || (GetObjectAclOutput = {}));\nexport var GetObjectAclRequest;\n(function (GetObjectAclRequest) {\n    GetObjectAclRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectAclRequest || (GetObjectAclRequest = {}));\nexport var ObjectLockLegalHold;\n(function (ObjectLockLegalHold) {\n    ObjectLockLegalHold.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ObjectLockLegalHold || (ObjectLockLegalHold = {}));\nexport var GetObjectLegalHoldOutput;\n(function (GetObjectLegalHoldOutput) {\n    GetObjectLegalHoldOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectLegalHoldOutput || (GetObjectLegalHoldOutput = {}));\nexport var GetObjectLegalHoldRequest;\n(function (GetObjectLegalHoldRequest) {\n    GetObjectLegalHoldRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectLegalHoldRequest || (GetObjectLegalHoldRequest = {}));\nexport var DefaultRetention;\n(function (DefaultRetention) {\n    DefaultRetention.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DefaultRetention || (DefaultRetention = {}));\nexport var ObjectLockRule;\n(function (ObjectLockRule) {\n    ObjectLockRule.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ObjectLockRule || (ObjectLockRule = {}));\nexport var ObjectLockConfiguration;\n(function (ObjectLockConfiguration) {\n    ObjectLockConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ObjectLockConfiguration || (ObjectLockConfiguration = {}));\nexport var GetObjectLockConfigurationOutput;\n(function (GetObjectLockConfigurationOutput) {\n    GetObjectLockConfigurationOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectLockConfigurationOutput || (GetObjectLockConfigurationOutput = {}));\nexport var GetObjectLockConfigurationRequest;\n(function (GetObjectLockConfigurationRequest) {\n    GetObjectLockConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectLockConfigurationRequest || (GetObjectLockConfigurationRequest = {}));\nexport var ObjectLockRetention;\n(function (ObjectLockRetention) {\n    ObjectLockRetention.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ObjectLockRetention || (ObjectLockRetention = {}));\nexport var GetObjectRetentionOutput;\n(function (GetObjectRetentionOutput) {\n    GetObjectRetentionOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectRetentionOutput || (GetObjectRetentionOutput = {}));\nexport var GetObjectRetentionRequest;\n(function (GetObjectRetentionRequest) {\n    GetObjectRetentionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectRetentionRequest || (GetObjectRetentionRequest = {}));\nexport var GetObjectTaggingOutput;\n(function (GetObjectTaggingOutput) {\n    GetObjectTaggingOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectTaggingOutput || (GetObjectTaggingOutput = {}));\nexport var GetObjectTaggingRequest;\n(function (GetObjectTaggingRequest) {\n    GetObjectTaggingRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectTaggingRequest || (GetObjectTaggingRequest = {}));\nexport var GetObjectTorrentOutput;\n(function (GetObjectTorrentOutput) {\n    GetObjectTorrentOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectTorrentOutput || (GetObjectTorrentOutput = {}));\nexport var GetObjectTorrentRequest;\n(function (GetObjectTorrentRequest) {\n    GetObjectTorrentRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetObjectTorrentRequest || (GetObjectTorrentRequest = {}));\nexport var PublicAccessBlockConfiguration;\n(function (PublicAccessBlockConfiguration) {\n    PublicAccessBlockConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PublicAccessBlockConfiguration || (PublicAccessBlockConfiguration = {}));\nexport var GetPublicAccessBlockOutput;\n(function (GetPublicAccessBlockOutput) {\n    GetPublicAccessBlockOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetPublicAccessBlockOutput || (GetPublicAccessBlockOutput = {}));\nexport var GetPublicAccessBlockRequest;\n(function (GetPublicAccessBlockRequest) {\n    GetPublicAccessBlockRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GetPublicAccessBlockRequest || (GetPublicAccessBlockRequest = {}));\nexport var HeadBucketRequest;\n(function (HeadBucketRequest) {\n    HeadBucketRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(HeadBucketRequest || (HeadBucketRequest = {}));\nexport var NoSuchBucket;\n(function (NoSuchBucket) {\n    NoSuchBucket.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(NoSuchBucket || (NoSuchBucket = {}));\nexport var HeadObjectOutput;\n(function (HeadObjectOutput) {\n    HeadObjectOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING }))); };\n})(HeadObjectOutput || (HeadObjectOutput = {}));\nexport var HeadObjectRequest;\n(function (HeadObjectRequest) {\n    HeadObjectRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSECustomerKey && { SSECustomerKey: SENSITIVE_STRING }))); };\n})(HeadObjectRequest || (HeadObjectRequest = {}));\nexport var ListBucketAnalyticsConfigurationsOutput;\n(function (ListBucketAnalyticsConfigurationsOutput) {\n    ListBucketAnalyticsConfigurationsOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.AnalyticsConfigurationList && {\n        AnalyticsConfigurationList: obj.AnalyticsConfigurationList.map(function (item) {\n            return AnalyticsConfiguration.filterSensitiveLog(item);\n        }),\n    }))); };\n})(ListBucketAnalyticsConfigurationsOutput || (ListBucketAnalyticsConfigurationsOutput = {}));\nexport var ListBucketAnalyticsConfigurationsRequest;\n(function (ListBucketAnalyticsConfigurationsRequest) {\n    ListBucketAnalyticsConfigurationsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListBucketAnalyticsConfigurationsRequest || (ListBucketAnalyticsConfigurationsRequest = {}));\nexport var ListBucketIntelligentTieringConfigurationsOutput;\n(function (ListBucketIntelligentTieringConfigurationsOutput) {\n    ListBucketIntelligentTieringConfigurationsOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListBucketIntelligentTieringConfigurationsOutput || (ListBucketIntelligentTieringConfigurationsOutput = {}));\nexport var ListBucketIntelligentTieringConfigurationsRequest;\n(function (ListBucketIntelligentTieringConfigurationsRequest) {\n    ListBucketIntelligentTieringConfigurationsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListBucketIntelligentTieringConfigurationsRequest || (ListBucketIntelligentTieringConfigurationsRequest = {}));\nexport var ListBucketInventoryConfigurationsOutput;\n(function (ListBucketInventoryConfigurationsOutput) {\n    ListBucketInventoryConfigurationsOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.InventoryConfigurationList && {\n        InventoryConfigurationList: obj.InventoryConfigurationList.map(function (item) {\n            return InventoryConfiguration.filterSensitiveLog(item);\n        }),\n    }))); };\n})(ListBucketInventoryConfigurationsOutput || (ListBucketInventoryConfigurationsOutput = {}));\nexport var ListBucketInventoryConfigurationsRequest;\n(function (ListBucketInventoryConfigurationsRequest) {\n    ListBucketInventoryConfigurationsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListBucketInventoryConfigurationsRequest || (ListBucketInventoryConfigurationsRequest = {}));\nexport var ListBucketMetricsConfigurationsOutput;\n(function (ListBucketMetricsConfigurationsOutput) {\n    ListBucketMetricsConfigurationsOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.MetricsConfigurationList && {\n        MetricsConfigurationList: obj.MetricsConfigurationList.map(function (item) {\n            return MetricsConfiguration.filterSensitiveLog(item);\n        }),\n    }))); };\n})(ListBucketMetricsConfigurationsOutput || (ListBucketMetricsConfigurationsOutput = {}));\nexport var ListBucketMetricsConfigurationsRequest;\n(function (ListBucketMetricsConfigurationsRequest) {\n    ListBucketMetricsConfigurationsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListBucketMetricsConfigurationsRequest || (ListBucketMetricsConfigurationsRequest = {}));\nexport var Bucket;\n(function (Bucket) {\n    Bucket.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Bucket || (Bucket = {}));\nexport var ListBucketsOutput;\n(function (ListBucketsOutput) {\n    ListBucketsOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListBucketsOutput || (ListBucketsOutput = {}));\nexport var CommonPrefix;\n(function (CommonPrefix) {\n    CommonPrefix.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CommonPrefix || (CommonPrefix = {}));\nexport var Initiator;\n(function (Initiator) {\n    Initiator.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Initiator || (Initiator = {}));\nexport var MultipartUpload;\n(function (MultipartUpload) {\n    MultipartUpload.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(MultipartUpload || (MultipartUpload = {}));\nexport var ListMultipartUploadsOutput;\n(function (ListMultipartUploadsOutput) {\n    ListMultipartUploadsOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListMultipartUploadsOutput || (ListMultipartUploadsOutput = {}));\nexport var ListMultipartUploadsRequest;\n(function (ListMultipartUploadsRequest) {\n    ListMultipartUploadsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListMultipartUploadsRequest || (ListMultipartUploadsRequest = {}));\nexport var _Object;\n(function (_Object) {\n    _Object.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(_Object || (_Object = {}));\nexport var ListObjectsOutput;\n(function (ListObjectsOutput) {\n    ListObjectsOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListObjectsOutput || (ListObjectsOutput = {}));\nexport var ListObjectsRequest;\n(function (ListObjectsRequest) {\n    ListObjectsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListObjectsRequest || (ListObjectsRequest = {}));\nexport var ListObjectsV2Output;\n(function (ListObjectsV2Output) {\n    ListObjectsV2Output.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListObjectsV2Output || (ListObjectsV2Output = {}));\nexport var ListObjectsV2Request;\n(function (ListObjectsV2Request) {\n    ListObjectsV2Request.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListObjectsV2Request || (ListObjectsV2Request = {}));\nexport var DeleteMarkerEntry;\n(function (DeleteMarkerEntry) {\n    DeleteMarkerEntry.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(DeleteMarkerEntry || (DeleteMarkerEntry = {}));\nexport var ObjectVersion;\n(function (ObjectVersion) {\n    ObjectVersion.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ObjectVersion || (ObjectVersion = {}));\nexport var ListObjectVersionsOutput;\n(function (ListObjectVersionsOutput) {\n    ListObjectVersionsOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListObjectVersionsOutput || (ListObjectVersionsOutput = {}));\nexport var ListObjectVersionsRequest;\n(function (ListObjectVersionsRequest) {\n    ListObjectVersionsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListObjectVersionsRequest || (ListObjectVersionsRequest = {}));\nexport var Part;\n(function (Part) {\n    Part.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Part || (Part = {}));\nexport var ListPartsOutput;\n(function (ListPartsOutput) {\n    ListPartsOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListPartsOutput || (ListPartsOutput = {}));\nexport var ListPartsRequest;\n(function (ListPartsRequest) {\n    ListPartsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ListPartsRequest || (ListPartsRequest = {}));\nexport var PutBucketAccelerateConfigurationRequest;\n(function (PutBucketAccelerateConfigurationRequest) {\n    PutBucketAccelerateConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketAccelerateConfigurationRequest || (PutBucketAccelerateConfigurationRequest = {}));\nexport var PutBucketAclRequest;\n(function (PutBucketAclRequest) {\n    PutBucketAclRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketAclRequest || (PutBucketAclRequest = {}));\nexport var PutBucketAnalyticsConfigurationRequest;\n(function (PutBucketAnalyticsConfigurationRequest) {\n    PutBucketAnalyticsConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.AnalyticsConfiguration && {\n        AnalyticsConfiguration: AnalyticsConfiguration.filterSensitiveLog(obj.AnalyticsConfiguration),\n    }))); };\n})(PutBucketAnalyticsConfigurationRequest || (PutBucketAnalyticsConfigurationRequest = {}));\nexport var CORSConfiguration;\n(function (CORSConfiguration) {\n    CORSConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CORSConfiguration || (CORSConfiguration = {}));\nexport var PutBucketCorsRequest;\n(function (PutBucketCorsRequest) {\n    PutBucketCorsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketCorsRequest || (PutBucketCorsRequest = {}));\nexport var PutBucketEncryptionRequest;\n(function (PutBucketEncryptionRequest) {\n    PutBucketEncryptionRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.ServerSideEncryptionConfiguration && {\n        ServerSideEncryptionConfiguration: ServerSideEncryptionConfiguration.filterSensitiveLog(obj.ServerSideEncryptionConfiguration),\n    }))); };\n})(PutBucketEncryptionRequest || (PutBucketEncryptionRequest = {}));\nexport var PutBucketIntelligentTieringConfigurationRequest;\n(function (PutBucketIntelligentTieringConfigurationRequest) {\n    PutBucketIntelligentTieringConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketIntelligentTieringConfigurationRequest || (PutBucketIntelligentTieringConfigurationRequest = {}));\nexport var PutBucketInventoryConfigurationRequest;\n(function (PutBucketInventoryConfigurationRequest) {\n    PutBucketInventoryConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.InventoryConfiguration && {\n        InventoryConfiguration: InventoryConfiguration.filterSensitiveLog(obj.InventoryConfiguration),\n    }))); };\n})(PutBucketInventoryConfigurationRequest || (PutBucketInventoryConfigurationRequest = {}));\nexport var BucketLifecycleConfiguration;\n(function (BucketLifecycleConfiguration) {\n    BucketLifecycleConfiguration.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Rules && { Rules: obj.Rules.map(function (item) { return LifecycleRule.filterSensitiveLog(item); }) }))); };\n})(BucketLifecycleConfiguration || (BucketLifecycleConfiguration = {}));\nexport var PutBucketLifecycleConfigurationRequest;\n(function (PutBucketLifecycleConfigurationRequest) {\n    PutBucketLifecycleConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.LifecycleConfiguration && {\n        LifecycleConfiguration: BucketLifecycleConfiguration.filterSensitiveLog(obj.LifecycleConfiguration),\n    }))); };\n})(PutBucketLifecycleConfigurationRequest || (PutBucketLifecycleConfigurationRequest = {}));\nexport var BucketLoggingStatus;\n(function (BucketLoggingStatus) {\n    BucketLoggingStatus.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(BucketLoggingStatus || (BucketLoggingStatus = {}));\nexport var PutBucketLoggingRequest;\n(function (PutBucketLoggingRequest) {\n    PutBucketLoggingRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketLoggingRequest || (PutBucketLoggingRequest = {}));\nexport var PutBucketMetricsConfigurationRequest;\n(function (PutBucketMetricsConfigurationRequest) {\n    PutBucketMetricsConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.MetricsConfiguration && {\n        MetricsConfiguration: MetricsConfiguration.filterSensitiveLog(obj.MetricsConfiguration),\n    }))); };\n})(PutBucketMetricsConfigurationRequest || (PutBucketMetricsConfigurationRequest = {}));\nexport var PutBucketNotificationConfigurationRequest;\n(function (PutBucketNotificationConfigurationRequest) {\n    PutBucketNotificationConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketNotificationConfigurationRequest || (PutBucketNotificationConfigurationRequest = {}));\nexport var PutBucketOwnershipControlsRequest;\n(function (PutBucketOwnershipControlsRequest) {\n    PutBucketOwnershipControlsRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketOwnershipControlsRequest || (PutBucketOwnershipControlsRequest = {}));\nexport var PutBucketPolicyRequest;\n(function (PutBucketPolicyRequest) {\n    PutBucketPolicyRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketPolicyRequest || (PutBucketPolicyRequest = {}));\nexport var PutBucketReplicationRequest;\n(function (PutBucketReplicationRequest) {\n    PutBucketReplicationRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.ReplicationConfiguration && {\n        ReplicationConfiguration: ReplicationConfiguration.filterSensitiveLog(obj.ReplicationConfiguration),\n    }))); };\n})(PutBucketReplicationRequest || (PutBucketReplicationRequest = {}));\nexport var RequestPaymentConfiguration;\n(function (RequestPaymentConfiguration) {\n    RequestPaymentConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(RequestPaymentConfiguration || (RequestPaymentConfiguration = {}));\nexport var PutBucketRequestPaymentRequest;\n(function (PutBucketRequestPaymentRequest) {\n    PutBucketRequestPaymentRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketRequestPaymentRequest || (PutBucketRequestPaymentRequest = {}));\nexport var Tagging;\n(function (Tagging) {\n    Tagging.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Tagging || (Tagging = {}));\nexport var PutBucketTaggingRequest;\n(function (PutBucketTaggingRequest) {\n    PutBucketTaggingRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketTaggingRequest || (PutBucketTaggingRequest = {}));\nexport var VersioningConfiguration;\n(function (VersioningConfiguration) {\n    VersioningConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(VersioningConfiguration || (VersioningConfiguration = {}));\nexport var PutBucketVersioningRequest;\n(function (PutBucketVersioningRequest) {\n    PutBucketVersioningRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketVersioningRequest || (PutBucketVersioningRequest = {}));\nexport var WebsiteConfiguration;\n(function (WebsiteConfiguration) {\n    WebsiteConfiguration.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(WebsiteConfiguration || (WebsiteConfiguration = {}));\nexport var PutBucketWebsiteRequest;\n(function (PutBucketWebsiteRequest) {\n    PutBucketWebsiteRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutBucketWebsiteRequest || (PutBucketWebsiteRequest = {}));\nexport var PutObjectOutput;\n(function (PutObjectOutput) {\n    PutObjectOutput.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING })), (obj.SSEKMSEncryptionContext && { SSEKMSEncryptionContext: SENSITIVE_STRING }))); };\n})(PutObjectOutput || (PutObjectOutput = {}));\nexport var PutObjectRequest;\n(function (PutObjectRequest) {\n    PutObjectRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign({}, obj), (obj.SSECustomerKey && { SSECustomerKey: SENSITIVE_STRING })), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING })), (obj.SSEKMSEncryptionContext && { SSEKMSEncryptionContext: SENSITIVE_STRING }))); };\n})(PutObjectRequest || (PutObjectRequest = {}));\nexport var PutObjectAclOutput;\n(function (PutObjectAclOutput) {\n    PutObjectAclOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectAclOutput || (PutObjectAclOutput = {}));\nexport var PutObjectAclRequest;\n(function (PutObjectAclRequest) {\n    PutObjectAclRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectAclRequest || (PutObjectAclRequest = {}));\nexport var PutObjectLegalHoldOutput;\n(function (PutObjectLegalHoldOutput) {\n    PutObjectLegalHoldOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectLegalHoldOutput || (PutObjectLegalHoldOutput = {}));\nexport var PutObjectLegalHoldRequest;\n(function (PutObjectLegalHoldRequest) {\n    PutObjectLegalHoldRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectLegalHoldRequest || (PutObjectLegalHoldRequest = {}));\nexport var PutObjectLockConfigurationOutput;\n(function (PutObjectLockConfigurationOutput) {\n    PutObjectLockConfigurationOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectLockConfigurationOutput || (PutObjectLockConfigurationOutput = {}));\nexport var PutObjectLockConfigurationRequest;\n(function (PutObjectLockConfigurationRequest) {\n    PutObjectLockConfigurationRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectLockConfigurationRequest || (PutObjectLockConfigurationRequest = {}));\nexport var PutObjectRetentionOutput;\n(function (PutObjectRetentionOutput) {\n    PutObjectRetentionOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectRetentionOutput || (PutObjectRetentionOutput = {}));\nexport var PutObjectRetentionRequest;\n(function (PutObjectRetentionRequest) {\n    PutObjectRetentionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectRetentionRequest || (PutObjectRetentionRequest = {}));\nexport var PutObjectTaggingOutput;\n(function (PutObjectTaggingOutput) {\n    PutObjectTaggingOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectTaggingOutput || (PutObjectTaggingOutput = {}));\nexport var PutObjectTaggingRequest;\n(function (PutObjectTaggingRequest) {\n    PutObjectTaggingRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutObjectTaggingRequest || (PutObjectTaggingRequest = {}));\nexport var PutPublicAccessBlockRequest;\n(function (PutPublicAccessBlockRequest) {\n    PutPublicAccessBlockRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(PutPublicAccessBlockRequest || (PutPublicAccessBlockRequest = {}));\nexport var ObjectAlreadyInActiveTierError;\n(function (ObjectAlreadyInActiveTierError) {\n    ObjectAlreadyInActiveTierError.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ObjectAlreadyInActiveTierError || (ObjectAlreadyInActiveTierError = {}));\nexport var RestoreObjectOutput;\n(function (RestoreObjectOutput) {\n    RestoreObjectOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(RestoreObjectOutput || (RestoreObjectOutput = {}));\nexport var GlacierJobParameters;\n(function (GlacierJobParameters) {\n    GlacierJobParameters.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(GlacierJobParameters || (GlacierJobParameters = {}));\nexport var Encryption;\n(function (Encryption) {\n    Encryption.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.KMSKeyId && { KMSKeyId: SENSITIVE_STRING }))); };\n})(Encryption || (Encryption = {}));\n//# sourceMappingURL=models_0.js.map","import { __values } from \"tslib\";\nimport { escapeAttribute } from \"./escape-attribute\";\n/**\n * Represents an XML node.\n */\nvar XmlNode = /** @class */ (function () {\n    function XmlNode(name, children) {\n        if (children === void 0) { children = []; }\n        this.name = name;\n        this.children = children;\n        this.attributes = {};\n    }\n    XmlNode.prototype.withName = function (name) {\n        this.name = name;\n        return this;\n    };\n    XmlNode.prototype.addAttribute = function (name, value) {\n        this.attributes[name] = value;\n        return this;\n    };\n    XmlNode.prototype.addChildNode = function (child) {\n        this.children.push(child);\n        return this;\n    };\n    XmlNode.prototype.removeAttribute = function (name) {\n        delete this.attributes[name];\n        return this;\n    };\n    XmlNode.prototype.toString = function () {\n        var e_1, _a;\n        var hasChildren = Boolean(this.children.length);\n        var xmlText = \"<\" + this.name;\n        // add attributes\n        var attributes = this.attributes;\n        try {\n            for (var _b = __values(Object.keys(attributes)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var attributeName = _c.value;\n                var attribute = attributes[attributeName];\n                if (typeof attribute !== \"undefined\" && attribute !== null) {\n                    xmlText += \" \" + attributeName + \"=\\\"\" + escapeAttribute(\"\" + attribute) + \"\\\"\";\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return (xmlText += !hasChildren ? \"/>\" : \">\" + this.children.map(function (c) { return c.toString(); }).join(\"\") + \"</\" + this.name + \">\");\n    };\n    return XmlNode;\n}());\nexport { XmlNode };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiWG1sTm9kZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9YbWxOb2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFHckQ7O0dBRUc7QUFDSDtJQUdFLGlCQUFvQixJQUFZLEVBQWtCLFFBQTJCO1FBQTNCLHlCQUFBLEVBQUEsYUFBMkI7UUFBekQsU0FBSSxHQUFKLElBQUksQ0FBUTtRQUFrQixhQUFRLEdBQVIsUUFBUSxDQUFtQjtRQUZyRSxlQUFVLEdBQTRCLEVBQUUsQ0FBQztJQUUrQixDQUFDO0lBRWpGLDBCQUFRLEdBQVIsVUFBUyxJQUFZO1FBQ25CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELDhCQUFZLEdBQVosVUFBYSxJQUFZLEVBQUUsS0FBVTtRQUNuQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUM5QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCw4QkFBWSxHQUFaLFVBQWEsS0FBaUI7UUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUIsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsaUNBQWUsR0FBZixVQUFnQixJQUFZO1FBQzFCLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCwwQkFBUSxHQUFSOztRQUNFLElBQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xELElBQUksT0FBTyxHQUFHLE1BQUksSUFBSSxDQUFDLElBQU0sQ0FBQztRQUM5QixpQkFBaUI7UUFDakIsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQzs7WUFDbkMsS0FBNEIsSUFBQSxLQUFBLFNBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtnQkFBaEQsSUFBTSxhQUFhLFdBQUE7Z0JBQ3RCLElBQU0sU0FBUyxHQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDNUMsSUFBSSxPQUFPLFNBQVMsS0FBSyxXQUFXLElBQUksU0FBUyxLQUFLLElBQUksRUFBRTtvQkFDMUQsT0FBTyxJQUFJLE1BQUksYUFBYSxXQUFLLGVBQWUsQ0FBQyxFQUFFLEdBQUcsU0FBUyxDQUFDLE9BQUcsQ0FBQztpQkFDckU7YUFDRjs7Ozs7Ozs7O1FBRUQsT0FBTyxDQUFDLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFVBQUMsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFaLENBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBSyxJQUFJLENBQUMsSUFBSSxNQUFHLENBQUMsQ0FBQztJQUNqSCxDQUFDO0lBQ0gsY0FBQztBQUFELENBQUMsQUF2Q0QsSUF1Q0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlc2NhcGVBdHRyaWJ1dGUgfSBmcm9tIFwiLi9lc2NhcGUtYXR0cmlidXRlXCI7XG5pbXBvcnQgeyBTdHJpbmdhYmxlIH0gZnJvbSBcIi4vc3RyaW5nYWJsZVwiO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gWE1MIG5vZGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBYbWxOb2RlIHtcbiAgcHJpdmF0ZSBhdHRyaWJ1dGVzOiB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbmFtZTogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgY2hpbGRyZW46IFN0cmluZ2FibGVbXSA9IFtdKSB7fVxuXG4gIHdpdGhOYW1lKG5hbWU6IHN0cmluZyk6IFhtbE5vZGUge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KTogWG1sTm9kZSB7XG4gICAgdGhpcy5hdHRyaWJ1dGVzW25hbWVdID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhZGRDaGlsZE5vZGUoY2hpbGQ6IFN0cmluZ2FibGUpOiBYbWxOb2RlIHtcbiAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlQXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IFhtbE5vZGUge1xuICAgIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGhhc0NoaWxkcmVuID0gQm9vbGVhbih0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgbGV0IHhtbFRleHQgPSBgPCR7dGhpcy5uYW1lfWA7XG4gICAgLy8gYWRkIGF0dHJpYnV0ZXNcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gdGhpcy5hdHRyaWJ1dGVzO1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlTmFtZSBvZiBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKSkge1xuICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGF0dHJpYnV0ZSAhPT0gbnVsbCkge1xuICAgICAgICB4bWxUZXh0ICs9IGAgJHthdHRyaWJ1dGVOYW1lfT1cIiR7ZXNjYXBlQXR0cmlidXRlKFwiXCIgKyBhdHRyaWJ1dGUpfVwiYDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKHhtbFRleHQgKz0gIWhhc0NoaWxkcmVuID8gXCIvPlwiIDogYD4ke3RoaXMuY2hpbGRyZW4ubWFwKChjKSA9PiBjLnRvU3RyaW5nKCkpLmpvaW4oXCJcIil9PC8ke3RoaXMubmFtZX0+YCk7XG4gIH1cbn1cbiJdfQ==","/**\n * Escapes characters that can not be in an XML attribute.\n */\nexport function escapeAttribute(value) {\n    return value.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLWF0dHJpYnV0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lc2NhcGUtYXR0cmlidXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBQ0gsTUFBTSxVQUFVLGVBQWUsQ0FBQyxLQUFhO0lBQzNDLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDMUcsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRXNjYXBlcyBjaGFyYWN0ZXJzIHRoYXQgY2FuIG5vdCBiZSBpbiBhbiBYTUwgYXR0cmlidXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlQXR0cmlidXRlKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdmFsdWUucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpLnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csIFwiJnF1b3Q7XCIpO1xufVxuIl19","import { escapeElement } from \"./escape-element\";\n/**\n * Represents an XML text value.\n */\nvar XmlText = /** @class */ (function () {\n    function XmlText(value) {\n        this.value = value;\n    }\n    XmlText.prototype.toString = function () {\n        return escapeElement(\"\" + this.value);\n    };\n    return XmlText;\n}());\nexport { XmlText };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiWG1sVGV4dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9YbWxUZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRDs7R0FFRztBQUNIO0lBQ0UsaUJBQW9CLEtBQWE7UUFBYixVQUFLLEdBQUwsS0FBSyxDQUFRO0lBQUcsQ0FBQztJQUVyQywwQkFBUSxHQUFSO1FBQ0UsT0FBTyxhQUFhLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBQ0gsY0FBQztBQUFELENBQUMsQUFORCxJQU1DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXNjYXBlRWxlbWVudCB9IGZyb20gXCIuL2VzY2FwZS1lbGVtZW50XCI7XG5pbXBvcnQgeyBTdHJpbmdhYmxlIH0gZnJvbSBcIi4vc3RyaW5nYWJsZVwiO1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIFhNTCB0ZXh0IHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgWG1sVGV4dCBpbXBsZW1lbnRzIFN0cmluZ2FibGUge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZhbHVlOiBzdHJpbmcpIHt9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gZXNjYXBlRWxlbWVudChcIlwiICsgdGhpcy52YWx1ZSk7XG4gIH1cbn1cbiJdfQ==","/**\n * Escapes characters that can not be in an XML element.\n */\nexport function escapeElement(value) {\n    return value.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLWVsZW1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXNjYXBlLWVsZW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxNQUFNLFVBQVUsYUFBYSxDQUFDLEtBQWE7SUFDekMsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDbEYsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRXNjYXBlcyBjaGFyYWN0ZXJzIHRoYXQgY2FuIG5vdCBiZSBpbiBhbiBYTUwgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUVsZW1lbnQodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLCBcIiZsdDtcIikucmVwbGFjZSgvPi9nLCBcIiZndDtcIik7XG59XG4iXX0=","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { AnalyticsFilter, LifecycleRuleFilter, MetricsFilter, ReplicationRuleFilter, } from \"../models/models_0\";\nimport { HttpRequest as __HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { dateToUtcString as __dateToUtcString, extendedEncodeURIComponent as __extendedEncodeURIComponent, getArrayIfSingleItem as __getArrayIfSingleItem, getValueFromTextNode as __getValueFromTextNode, } from \"@aws-sdk/smithy-client\";\nimport { XmlNode as __XmlNode, XmlText as __XmlText } from \"@aws-sdk/xml-builder\";\nimport { parse as xmlParse } from \"fast-xml-parser\";\nexport var serializeAws_restXmlAbortMultipartUploadCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({}, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ \"x-id\": \"AbortMultipartUpload\" }, (input.UploadId !== undefined && { uploadId: input.UploadId }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlCompleteMultipartUploadCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({}, (input.UploadId !== undefined && { uploadId: input.UploadId }));\n                if (input.MultipartUpload !== undefined) {\n                    contents = serializeAws_restXmlCompletedMultipartUpload(input.MultipartUpload, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlCopyObjectCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (isSerializableHeaderValue(input.ACL) && { \"x-amz-acl\": input.ACL })), (isSerializableHeaderValue(input.CacheControl) && { \"cache-control\": input.CacheControl })), (isSerializableHeaderValue(input.ContentDisposition) && { \"content-disposition\": input.ContentDisposition })), (isSerializableHeaderValue(input.ContentEncoding) && { \"content-encoding\": input.ContentEncoding })), (isSerializableHeaderValue(input.ContentLanguage) && { \"content-language\": input.ContentLanguage })), (isSerializableHeaderValue(input.ContentType) && { \"content-type\": input.ContentType })), (isSerializableHeaderValue(input.CopySource) && { \"x-amz-copy-source\": input.CopySource })), (isSerializableHeaderValue(input.CopySourceIfMatch) && {\n                    \"x-amz-copy-source-if-match\": input.CopySourceIfMatch,\n                })), (isSerializableHeaderValue(input.CopySourceIfModifiedSince) && {\n                    \"x-amz-copy-source-if-modified-since\": __dateToUtcString(input.CopySourceIfModifiedSince).toString(),\n                })), (isSerializableHeaderValue(input.CopySourceIfNoneMatch) && {\n                    \"x-amz-copy-source-if-none-match\": input.CopySourceIfNoneMatch,\n                })), (isSerializableHeaderValue(input.CopySourceIfUnmodifiedSince) && {\n                    \"x-amz-copy-source-if-unmodified-since\": __dateToUtcString(input.CopySourceIfUnmodifiedSince).toString(),\n                })), (isSerializableHeaderValue(input.Expires) && { expires: __dateToUtcString(input.Expires).toString() })), (isSerializableHeaderValue(input.GrantFullControl) && { \"x-amz-grant-full-control\": input.GrantFullControl })), (isSerializableHeaderValue(input.GrantRead) && { \"x-amz-grant-read\": input.GrantRead })), (isSerializableHeaderValue(input.GrantReadACP) && { \"x-amz-grant-read-acp\": input.GrantReadACP })), (isSerializableHeaderValue(input.GrantWriteACP) && { \"x-amz-grant-write-acp\": input.GrantWriteACP })), (isSerializableHeaderValue(input.MetadataDirective) && { \"x-amz-metadata-directive\": input.MetadataDirective })), (isSerializableHeaderValue(input.TaggingDirective) && { \"x-amz-tagging-directive\": input.TaggingDirective })), (isSerializableHeaderValue(input.ServerSideEncryption) && {\n                    \"x-amz-server-side-encryption\": input.ServerSideEncryption,\n                })), (isSerializableHeaderValue(input.StorageClass) && { \"x-amz-storage-class\": input.StorageClass })), (isSerializableHeaderValue(input.WebsiteRedirectLocation) && {\n                    \"x-amz-website-redirect-location\": input.WebsiteRedirectLocation,\n                })), (isSerializableHeaderValue(input.SSECustomerAlgorithm) && {\n                    \"x-amz-server-side-encryption-customer-algorithm\": input.SSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.SSECustomerKey) && {\n                    \"x-amz-server-side-encryption-customer-key\": input.SSECustomerKey,\n                })), (isSerializableHeaderValue(input.SSECustomerKeyMD5) && {\n                    \"x-amz-server-side-encryption-customer-key-md5\": input.SSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.SSEKMSKeyId) && {\n                    \"x-amz-server-side-encryption-aws-kms-key-id\": input.SSEKMSKeyId,\n                })), (isSerializableHeaderValue(input.SSEKMSEncryptionContext) && {\n                    \"x-amz-server-side-encryption-context\": input.SSEKMSEncryptionContext,\n                })), (isSerializableHeaderValue(input.BucketKeyEnabled) && {\n                    \"x-amz-server-side-encryption-bucket-key-enabled\": input.BucketKeyEnabled.toString(),\n                })), (isSerializableHeaderValue(input.CopySourceSSECustomerAlgorithm) && {\n                    \"x-amz-copy-source-server-side-encryption-customer-algorithm\": input.CopySourceSSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.CopySourceSSECustomerKey) && {\n                    \"x-amz-copy-source-server-side-encryption-customer-key\": input.CopySourceSSECustomerKey,\n                })), (isSerializableHeaderValue(input.CopySourceSSECustomerKeyMD5) && {\n                    \"x-amz-copy-source-server-side-encryption-customer-key-md5\": input.CopySourceSSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.Tagging) && { \"x-amz-tagging\": input.Tagging })), (isSerializableHeaderValue(input.ObjectLockMode) && { \"x-amz-object-lock-mode\": input.ObjectLockMode })), (isSerializableHeaderValue(input.ObjectLockRetainUntilDate) && {\n                    \"x-amz-object-lock-retain-until-date\": (input.ObjectLockRetainUntilDate.toISOString().split(\".\")[0] + \"Z\").toString(),\n                })), (isSerializableHeaderValue(input.ObjectLockLegalHoldStatus) && {\n                    \"x-amz-object-lock-legal-hold\": input.ObjectLockLegalHoldStatus,\n                })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                })), (isSerializableHeaderValue(input.ExpectedSourceBucketOwner) && {\n                    \"x-amz-source-expected-bucket-owner\": input.ExpectedSourceBucketOwner,\n                })), (input.Metadata !== undefined &&\n                    Object.keys(input.Metadata).reduce(function (acc, suffix) {\n                        var _a;\n                        return (__assign(__assign({}, acc), (_a = {}, _a[\"x-amz-meta-\" + suffix.toLowerCase()] = input.Metadata[suffix], _a)));\n                    }, {})));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = {\n                    \"x-id\": \"CopyObject\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlCreateBucketCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ACL) && { \"x-amz-acl\": input.ACL })), (isSerializableHeaderValue(input.GrantFullControl) && { \"x-amz-grant-full-control\": input.GrantFullControl })), (isSerializableHeaderValue(input.GrantRead) && { \"x-amz-grant-read\": input.GrantRead })), (isSerializableHeaderValue(input.GrantReadACP) && { \"x-amz-grant-read-acp\": input.GrantReadACP })), (isSerializableHeaderValue(input.GrantWrite) && { \"x-amz-grant-write\": input.GrantWrite })), (isSerializableHeaderValue(input.GrantWriteACP) && { \"x-amz-grant-write-acp\": input.GrantWriteACP })), (isSerializableHeaderValue(input.ObjectLockEnabledForBucket) && {\n                    \"x-amz-bucket-object-lock-enabled\": input.ObjectLockEnabledForBucket.toString(),\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.CreateBucketConfiguration !== undefined) {\n                    contents = serializeAws_restXmlCreateBucketConfiguration(input.CreateBucketConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlCreateMultipartUploadCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (isSerializableHeaderValue(input.ACL) && { \"x-amz-acl\": input.ACL })), (isSerializableHeaderValue(input.CacheControl) && { \"cache-control\": input.CacheControl })), (isSerializableHeaderValue(input.ContentDisposition) && { \"content-disposition\": input.ContentDisposition })), (isSerializableHeaderValue(input.ContentEncoding) && { \"content-encoding\": input.ContentEncoding })), (isSerializableHeaderValue(input.ContentLanguage) && { \"content-language\": input.ContentLanguage })), (isSerializableHeaderValue(input.ContentType) && { \"content-type\": input.ContentType })), (isSerializableHeaderValue(input.Expires) && { expires: __dateToUtcString(input.Expires).toString() })), (isSerializableHeaderValue(input.GrantFullControl) && { \"x-amz-grant-full-control\": input.GrantFullControl })), (isSerializableHeaderValue(input.GrantRead) && { \"x-amz-grant-read\": input.GrantRead })), (isSerializableHeaderValue(input.GrantReadACP) && { \"x-amz-grant-read-acp\": input.GrantReadACP })), (isSerializableHeaderValue(input.GrantWriteACP) && { \"x-amz-grant-write-acp\": input.GrantWriteACP })), (isSerializableHeaderValue(input.ServerSideEncryption) && {\n                    \"x-amz-server-side-encryption\": input.ServerSideEncryption,\n                })), (isSerializableHeaderValue(input.StorageClass) && { \"x-amz-storage-class\": input.StorageClass })), (isSerializableHeaderValue(input.WebsiteRedirectLocation) && {\n                    \"x-amz-website-redirect-location\": input.WebsiteRedirectLocation,\n                })), (isSerializableHeaderValue(input.SSECustomerAlgorithm) && {\n                    \"x-amz-server-side-encryption-customer-algorithm\": input.SSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.SSECustomerKey) && {\n                    \"x-amz-server-side-encryption-customer-key\": input.SSECustomerKey,\n                })), (isSerializableHeaderValue(input.SSECustomerKeyMD5) && {\n                    \"x-amz-server-side-encryption-customer-key-md5\": input.SSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.SSEKMSKeyId) && {\n                    \"x-amz-server-side-encryption-aws-kms-key-id\": input.SSEKMSKeyId,\n                })), (isSerializableHeaderValue(input.SSEKMSEncryptionContext) && {\n                    \"x-amz-server-side-encryption-context\": input.SSEKMSEncryptionContext,\n                })), (isSerializableHeaderValue(input.BucketKeyEnabled) && {\n                    \"x-amz-server-side-encryption-bucket-key-enabled\": input.BucketKeyEnabled.toString(),\n                })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.Tagging) && { \"x-amz-tagging\": input.Tagging })), (isSerializableHeaderValue(input.ObjectLockMode) && { \"x-amz-object-lock-mode\": input.ObjectLockMode })), (isSerializableHeaderValue(input.ObjectLockRetainUntilDate) && {\n                    \"x-amz-object-lock-retain-until-date\": (input.ObjectLockRetainUntilDate.toISOString().split(\".\")[0] + \"Z\").toString(),\n                })), (isSerializableHeaderValue(input.ObjectLockLegalHoldStatus) && {\n                    \"x-amz-object-lock-legal-hold\": input.ObjectLockLegalHoldStatus,\n                })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                })), (input.Metadata !== undefined &&\n                    Object.keys(input.Metadata).reduce(function (acc, suffix) {\n                        var _a;\n                        return (__assign(__assign({}, acc), (_a = {}, _a[\"x-amz-meta-\" + suffix.toLowerCase()] = input.Metadata[suffix], _a)));\n                    }, {})));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = {\n                    uploads: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketAnalyticsConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ analytics: \"\" }, (input.Id !== undefined && { id: input.Id }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketCorsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    cors: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketEncryptionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    encryption: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketIntelligentTieringConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {};\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ \"intelligent-tiering\": \"\" }, (input.Id !== undefined && { id: input.Id }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketInventoryConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ inventory: \"\" }, (input.Id !== undefined && { id: input.Id }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketLifecycleCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    lifecycle: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketMetricsConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ metrics: \"\" }, (input.Id !== undefined && { id: input.Id }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketOwnershipControlsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    ownershipControls: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketPolicyCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    policy: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketReplicationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    replication: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketTaggingCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    tagging: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteBucketWebsiteCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    website: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteObjectCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign({}, (isSerializableHeaderValue(input.MFA) && { \"x-amz-mfa\": input.MFA })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.BypassGovernanceRetention) && {\n                    \"x-amz-bypass-governance-retention\": input.BypassGovernanceRetention.toString(),\n                })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ \"x-id\": \"DeleteObject\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteObjectsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.MFA) && { \"x-amz-mfa\": input.MFA })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.BypassGovernanceRetention) && {\n                    \"x-amz-bypass-governance-retention\": input.BypassGovernanceRetention.toString(),\n                })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    delete: \"\",\n                };\n                if (input.Delete !== undefined) {\n                    contents = serializeAws_restXmlDelete(input.Delete, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeleteObjectTaggingCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ tagging: \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlDeletePublicAccessBlockCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    publicAccessBlock: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketAccelerateConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    accelerate: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketAclCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    acl: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketAnalyticsConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ analytics: \"\", \"x-id\": \"GetBucketAnalyticsConfiguration\" }, (input.Id !== undefined && { id: input.Id }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketCorsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    cors: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketEncryptionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    encryption: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketIntelligentTieringConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {};\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ \"intelligent-tiering\": \"\", \"x-id\": \"GetBucketIntelligentTieringConfiguration\" }, (input.Id !== undefined && { id: input.Id }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketInventoryConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ inventory: \"\", \"x-id\": \"GetBucketInventoryConfiguration\" }, (input.Id !== undefined && { id: input.Id }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketLifecycleConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    lifecycle: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketLocationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    location: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketLoggingCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    logging: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketMetricsConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ metrics: \"\", \"x-id\": \"GetBucketMetricsConfiguration\" }, (input.Id !== undefined && { id: input.Id }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketNotificationConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    notification: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketOwnershipControlsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    ownershipControls: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketPolicyCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    policy: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketPolicyStatusCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    policyStatus: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketReplicationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    replication: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketRequestPaymentCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    requestPayment: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketTaggingCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    tagging: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketVersioningCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    versioning: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetBucketWebsiteCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    website: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetObjectCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (isSerializableHeaderValue(input.IfMatch) && { \"if-match\": input.IfMatch })), (isSerializableHeaderValue(input.IfModifiedSince) && {\n                    \"if-modified-since\": __dateToUtcString(input.IfModifiedSince).toString(),\n                })), (isSerializableHeaderValue(input.IfNoneMatch) && { \"if-none-match\": input.IfNoneMatch })), (isSerializableHeaderValue(input.IfUnmodifiedSince) && {\n                    \"if-unmodified-since\": __dateToUtcString(input.IfUnmodifiedSince).toString(),\n                })), (isSerializableHeaderValue(input.Range) && { range: input.Range })), (isSerializableHeaderValue(input.SSECustomerAlgorithm) && {\n                    \"x-amz-server-side-encryption-customer-algorithm\": input.SSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.SSECustomerKey) && {\n                    \"x-amz-server-side-encryption-customer-key\": input.SSECustomerKey,\n                })), (isSerializableHeaderValue(input.SSECustomerKeyMD5) && {\n                    \"x-amz-server-side-encryption-customer-key-md5\": input.SSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({ \"x-id\": \"GetObject\" }, (input.ResponseCacheControl !== undefined && { \"response-cache-control\": input.ResponseCacheControl })), (input.ResponseContentDisposition !== undefined && {\n                    \"response-content-disposition\": input.ResponseContentDisposition,\n                })), (input.ResponseContentEncoding !== undefined && { \"response-content-encoding\": input.ResponseContentEncoding })), (input.ResponseContentLanguage !== undefined && { \"response-content-language\": input.ResponseContentLanguage })), (input.ResponseContentType !== undefined && { \"response-content-type\": input.ResponseContentType })), (input.ResponseExpires !== undefined && {\n                    \"response-expires\": (input.ResponseExpires.toISOString().split(\".\")[0] + \"Z\").toString(),\n                })), (input.VersionId !== undefined && { versionId: input.VersionId })), (input.PartNumber !== undefined && { partNumber: input.PartNumber.toString() }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetObjectAclCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({}, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ acl: \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetObjectLegalHoldCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({}, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ \"legal-hold\": \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetObjectLockConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    \"object-lock\": \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetObjectRetentionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({}, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ retention: \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetObjectTaggingCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ tagging: \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetObjectTorrentCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({}, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = {\n                    torrent: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlGetPublicAccessBlockCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    publicAccessBlock: \"\",\n                };\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlHeadBucketCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"HEAD\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlHeadObjectCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (isSerializableHeaderValue(input.IfMatch) && { \"if-match\": input.IfMatch })), (isSerializableHeaderValue(input.IfModifiedSince) && {\n                    \"if-modified-since\": __dateToUtcString(input.IfModifiedSince).toString(),\n                })), (isSerializableHeaderValue(input.IfNoneMatch) && { \"if-none-match\": input.IfNoneMatch })), (isSerializableHeaderValue(input.IfUnmodifiedSince) && {\n                    \"if-unmodified-since\": __dateToUtcString(input.IfUnmodifiedSince).toString(),\n                })), (isSerializableHeaderValue(input.Range) && { range: input.Range })), (isSerializableHeaderValue(input.SSECustomerAlgorithm) && {\n                    \"x-amz-server-side-encryption-customer-algorithm\": input.SSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.SSECustomerKey) && {\n                    \"x-amz-server-side-encryption-customer-key\": input.SSECustomerKey,\n                })), (isSerializableHeaderValue(input.SSECustomerKeyMD5) && {\n                    \"x-amz-server-side-encryption-customer-key-md5\": input.SSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign(__assign({}, (input.VersionId !== undefined && { versionId: input.VersionId })), (input.PartNumber !== undefined && { partNumber: input.PartNumber.toString() }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"HEAD\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListBucketAnalyticsConfigurationsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ analytics: \"\", \"x-id\": \"ListBucketAnalyticsConfigurations\" }, (input.ContinuationToken !== undefined && { \"continuation-token\": input.ContinuationToken }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListBucketIntelligentTieringConfigurationsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {};\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ \"intelligent-tiering\": \"\", \"x-id\": \"ListBucketIntelligentTieringConfigurations\" }, (input.ContinuationToken !== undefined && { \"continuation-token\": input.ContinuationToken }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListBucketInventoryConfigurationsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ inventory: \"\", \"x-id\": \"ListBucketInventoryConfigurations\" }, (input.ContinuationToken !== undefined && { \"continuation-token\": input.ContinuationToken }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListBucketMetricsConfigurationsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ metrics: \"\", \"x-id\": \"ListBucketMetricsConfigurations\" }, (input.ContinuationToken !== undefined && { \"continuation-token\": input.ContinuationToken }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListBucketsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {};\n                resolvedPath = \"/\";\n                body = \"\";\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListMultipartUploadsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign(__assign(__assign(__assign(__assign(__assign({ uploads: \"\" }, (input.Delimiter !== undefined && { delimiter: input.Delimiter })), (input.EncodingType !== undefined && { \"encoding-type\": input.EncodingType })), (input.KeyMarker !== undefined && { \"key-marker\": input.KeyMarker })), (input.MaxUploads !== undefined && { \"max-uploads\": input.MaxUploads.toString() })), (input.Prefix !== undefined && { prefix: input.Prefix })), (input.UploadIdMarker !== undefined && { \"upload-id-marker\": input.UploadIdMarker }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListObjectsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({}, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign(__assign(__assign(__assign(__assign({}, (input.Delimiter !== undefined && { delimiter: input.Delimiter })), (input.EncodingType !== undefined && { \"encoding-type\": input.EncodingType })), (input.Marker !== undefined && { marker: input.Marker })), (input.MaxKeys !== undefined && { \"max-keys\": input.MaxKeys.toString() })), (input.Prefix !== undefined && { prefix: input.Prefix }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListObjectsV2Command = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({}, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign(__assign(__assign(__assign(__assign(__assign(__assign({ \"list-type\": \"2\" }, (input.Delimiter !== undefined && { delimiter: input.Delimiter })), (input.EncodingType !== undefined && { \"encoding-type\": input.EncodingType })), (input.MaxKeys !== undefined && { \"max-keys\": input.MaxKeys.toString() })), (input.Prefix !== undefined && { prefix: input.Prefix })), (input.ContinuationToken !== undefined && { \"continuation-token\": input.ContinuationToken })), (input.FetchOwner !== undefined && { \"fetch-owner\": input.FetchOwner.toString() })), (input.StartAfter !== undefined && { \"start-after\": input.StartAfter }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListObjectVersionsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({}, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign(__assign(__assign(__assign(__assign(__assign({ versions: \"\" }, (input.Delimiter !== undefined && { delimiter: input.Delimiter })), (input.EncodingType !== undefined && { \"encoding-type\": input.EncodingType })), (input.KeyMarker !== undefined && { \"key-marker\": input.KeyMarker })), (input.MaxKeys !== undefined && { \"max-keys\": input.MaxKeys.toString() })), (input.Prefix !== undefined && { prefix: input.Prefix })), (input.VersionIdMarker !== undefined && { \"version-id-marker\": input.VersionIdMarker }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlListPartsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({}, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign(__assign(__assign({ \"x-id\": \"ListParts\" }, (input.MaxParts !== undefined && { \"max-parts\": input.MaxParts.toString() })), (input.PartNumberMarker !== undefined && { \"part-number-marker\": input.PartNumberMarker })), (input.UploadId !== undefined && { uploadId: input.UploadId }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketAccelerateConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    accelerate: \"\",\n                };\n                if (input.AccelerateConfiguration !== undefined) {\n                    contents = serializeAws_restXmlAccelerateConfiguration(input.AccelerateConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketAclCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ACL) && { \"x-amz-acl\": input.ACL })), (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.GrantFullControl) && { \"x-amz-grant-full-control\": input.GrantFullControl })), (isSerializableHeaderValue(input.GrantRead) && { \"x-amz-grant-read\": input.GrantRead })), (isSerializableHeaderValue(input.GrantReadACP) && { \"x-amz-grant-read-acp\": input.GrantReadACP })), (isSerializableHeaderValue(input.GrantWrite) && { \"x-amz-grant-write\": input.GrantWrite })), (isSerializableHeaderValue(input.GrantWriteACP) && { \"x-amz-grant-write-acp\": input.GrantWriteACP })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    acl: \"\",\n                };\n                if (input.AccessControlPolicy !== undefined) {\n                    contents = serializeAws_restXmlAccessControlPolicy(input.AccessControlPolicy, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketAnalyticsConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ analytics: \"\" }, (input.Id !== undefined && { id: input.Id }));\n                if (input.AnalyticsConfiguration !== undefined) {\n                    contents = serializeAws_restXmlAnalyticsConfiguration(input.AnalyticsConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketCorsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    cors: \"\",\n                };\n                if (input.CORSConfiguration !== undefined) {\n                    contents = serializeAws_restXmlCORSConfiguration(input.CORSConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketEncryptionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    encryption: \"\",\n                };\n                if (input.ServerSideEncryptionConfiguration !== undefined) {\n                    contents = serializeAws_restXmlServerSideEncryptionConfiguration(input.ServerSideEncryptionConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketIntelligentTieringConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {\n                    \"content-type\": \"application/xml\",\n                };\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ \"intelligent-tiering\": \"\" }, (input.Id !== undefined && { id: input.Id }));\n                if (input.IntelligentTieringConfiguration !== undefined) {\n                    contents = serializeAws_restXmlIntelligentTieringConfiguration(input.IntelligentTieringConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketInventoryConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ inventory: \"\" }, (input.Id !== undefined && { id: input.Id }));\n                if (input.InventoryConfiguration !== undefined) {\n                    contents = serializeAws_restXmlInventoryConfiguration(input.InventoryConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketLifecycleConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    lifecycle: \"\",\n                };\n                if (input.LifecycleConfiguration !== undefined) {\n                    contents = serializeAws_restXmlBucketLifecycleConfiguration(input.LifecycleConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketLoggingCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    logging: \"\",\n                };\n                if (input.BucketLoggingStatus !== undefined) {\n                    contents = serializeAws_restXmlBucketLoggingStatus(input.BucketLoggingStatus, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketMetricsConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = __assign({ metrics: \"\" }, (input.Id !== undefined && { id: input.Id }));\n                if (input.MetricsConfiguration !== undefined) {\n                    contents = serializeAws_restXmlMetricsConfiguration(input.MetricsConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketNotificationConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    notification: \"\",\n                };\n                if (input.NotificationConfiguration !== undefined) {\n                    contents = serializeAws_restXmlNotificationConfiguration(input.NotificationConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketOwnershipControlsCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    ownershipControls: \"\",\n                };\n                if (input.OwnershipControls !== undefined) {\n                    contents = serializeAws_restXmlOwnershipControls(input.OwnershipControls, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketPolicyCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign({ \"content-type\": \"text/plain\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ConfirmRemoveSelfBucketAccess) && {\n                    \"x-amz-confirm-remove-self-bucket-access\": input.ConfirmRemoveSelfBucketAccess.toString(),\n                })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    policy: \"\",\n                };\n                if (input.Policy !== undefined) {\n                    contents = input.Policy;\n                    body = contents;\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketReplicationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.Token) && { \"x-amz-bucket-object-lock-token\": input.Token })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    replication: \"\",\n                };\n                if (input.ReplicationConfiguration !== undefined) {\n                    contents = serializeAws_restXmlReplicationConfiguration(input.ReplicationConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketRequestPaymentCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    requestPayment: \"\",\n                };\n                if (input.RequestPaymentConfiguration !== undefined) {\n                    contents = serializeAws_restXmlRequestPaymentConfiguration(input.RequestPaymentConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketTaggingCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    tagging: \"\",\n                };\n                if (input.Tagging !== undefined) {\n                    contents = serializeAws_restXmlTagging(input.Tagging, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketVersioningCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.MFA) && { \"x-amz-mfa\": input.MFA })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    versioning: \"\",\n                };\n                if (input.VersioningConfiguration !== undefined) {\n                    contents = serializeAws_restXmlVersioningConfiguration(input.VersioningConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutBucketWebsiteCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    website: \"\",\n                };\n                if (input.WebsiteConfiguration !== undefined) {\n                    contents = serializeAws_restXmlWebsiteConfiguration(input.WebsiteConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutObjectCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({ \"content-type\": \"application/octet-stream\" }, (isSerializableHeaderValue(input.ACL) && { \"x-amz-acl\": input.ACL })), (isSerializableHeaderValue(input.CacheControl) && { \"cache-control\": input.CacheControl })), (isSerializableHeaderValue(input.ContentDisposition) && { \"content-disposition\": input.ContentDisposition })), (isSerializableHeaderValue(input.ContentEncoding) && { \"content-encoding\": input.ContentEncoding })), (isSerializableHeaderValue(input.ContentLanguage) && { \"content-language\": input.ContentLanguage })), (isSerializableHeaderValue(input.ContentLength) && { \"content-length\": input.ContentLength.toString() })), (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ContentType) && { \"content-type\": input.ContentType })), (isSerializableHeaderValue(input.Expires) && { expires: __dateToUtcString(input.Expires).toString() })), (isSerializableHeaderValue(input.GrantFullControl) && { \"x-amz-grant-full-control\": input.GrantFullControl })), (isSerializableHeaderValue(input.GrantRead) && { \"x-amz-grant-read\": input.GrantRead })), (isSerializableHeaderValue(input.GrantReadACP) && { \"x-amz-grant-read-acp\": input.GrantReadACP })), (isSerializableHeaderValue(input.GrantWriteACP) && { \"x-amz-grant-write-acp\": input.GrantWriteACP })), (isSerializableHeaderValue(input.ServerSideEncryption) && {\n                    \"x-amz-server-side-encryption\": input.ServerSideEncryption,\n                })), (isSerializableHeaderValue(input.StorageClass) && { \"x-amz-storage-class\": input.StorageClass })), (isSerializableHeaderValue(input.WebsiteRedirectLocation) && {\n                    \"x-amz-website-redirect-location\": input.WebsiteRedirectLocation,\n                })), (isSerializableHeaderValue(input.SSECustomerAlgorithm) && {\n                    \"x-amz-server-side-encryption-customer-algorithm\": input.SSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.SSECustomerKey) && {\n                    \"x-amz-server-side-encryption-customer-key\": input.SSECustomerKey,\n                })), (isSerializableHeaderValue(input.SSECustomerKeyMD5) && {\n                    \"x-amz-server-side-encryption-customer-key-md5\": input.SSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.SSEKMSKeyId) && {\n                    \"x-amz-server-side-encryption-aws-kms-key-id\": input.SSEKMSKeyId,\n                })), (isSerializableHeaderValue(input.SSEKMSEncryptionContext) && {\n                    \"x-amz-server-side-encryption-context\": input.SSEKMSEncryptionContext,\n                })), (isSerializableHeaderValue(input.BucketKeyEnabled) && {\n                    \"x-amz-server-side-encryption-bucket-key-enabled\": input.BucketKeyEnabled.toString(),\n                })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.Tagging) && { \"x-amz-tagging\": input.Tagging })), (isSerializableHeaderValue(input.ObjectLockMode) && { \"x-amz-object-lock-mode\": input.ObjectLockMode })), (isSerializableHeaderValue(input.ObjectLockRetainUntilDate) && {\n                    \"x-amz-object-lock-retain-until-date\": (input.ObjectLockRetainUntilDate.toISOString().split(\".\")[0] + \"Z\").toString(),\n                })), (isSerializableHeaderValue(input.ObjectLockLegalHoldStatus) && {\n                    \"x-amz-object-lock-legal-hold\": input.ObjectLockLegalHoldStatus,\n                })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                })), (input.Metadata !== undefined &&\n                    Object.keys(input.Metadata).reduce(function (acc, suffix) {\n                        var _a;\n                        return (__assign(__assign({}, acc), (_a = {}, _a[\"x-amz-meta-\" + suffix.toLowerCase()] = input.Metadata[suffix], _a)));\n                    }, {})));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = {\n                    \"x-id\": \"PutObject\",\n                };\n                if (input.Body !== undefined) {\n                    contents = input.Body;\n                    body = contents;\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutObjectAclCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ACL) && { \"x-amz-acl\": input.ACL })), (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.GrantFullControl) && { \"x-amz-grant-full-control\": input.GrantFullControl })), (isSerializableHeaderValue(input.GrantRead) && { \"x-amz-grant-read\": input.GrantRead })), (isSerializableHeaderValue(input.GrantReadACP) && { \"x-amz-grant-read-acp\": input.GrantReadACP })), (isSerializableHeaderValue(input.GrantWrite) && { \"x-amz-grant-write\": input.GrantWrite })), (isSerializableHeaderValue(input.GrantWriteACP) && { \"x-amz-grant-write-acp\": input.GrantWriteACP })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ acl: \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                if (input.AccessControlPolicy !== undefined) {\n                    contents = serializeAws_restXmlAccessControlPolicy(input.AccessControlPolicy, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutObjectLegalHoldCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ \"legal-hold\": \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                if (input.LegalHold !== undefined) {\n                    contents = serializeAws_restXmlObjectLockLegalHold(input.LegalHold, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutObjectLockConfigurationCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.Token) && { \"x-amz-bucket-object-lock-token\": input.Token })), (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    \"object-lock\": \"\",\n                };\n                if (input.ObjectLockConfiguration !== undefined) {\n                    contents = serializeAws_restXmlObjectLockConfiguration(input.ObjectLockConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutObjectRetentionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.BypassGovernanceRetention) && {\n                    \"x-amz-bypass-governance-retention\": input.BypassGovernanceRetention.toString(),\n                })), (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ retention: \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                if (input.Retention !== undefined) {\n                    contents = serializeAws_restXmlObjectLockRetention(input.Retention, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutObjectTaggingCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ tagging: \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                if (input.Tagging !== undefined) {\n                    contents = serializeAws_restXmlTagging(input.Tagging, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlPutPublicAccessBlockCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                query = {\n                    publicAccessBlock: \"\",\n                };\n                if (input.PublicAccessBlockConfiguration !== undefined) {\n                    contents = serializeAws_restXmlPublicAccessBlockConfiguration(input.PublicAccessBlockConfiguration, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlRestoreObjectCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign({ restore: \"\" }, (input.VersionId !== undefined && { versionId: input.VersionId }));\n                if (input.RestoreRequest !== undefined) {\n                    contents = serializeAws_restXmlRestoreRequest(input.RestoreRequest, context);\n                    body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                    contents.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                    body += contents.toString();\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlSelectObjectContentCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, bodyNode, node, node, node, node, node, node, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign({ \"content-type\": \"application/xml\" }, (isSerializableHeaderValue(input.SSECustomerAlgorithm) && {\n                    \"x-amz-server-side-encryption-customer-algorithm\": input.SSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.SSECustomerKey) && {\n                    \"x-amz-server-side-encryption-customer-key\": input.SSECustomerKey,\n                })), (isSerializableHeaderValue(input.SSECustomerKeyMD5) && {\n                    \"x-amz-server-side-encryption-customer-key-md5\": input.SSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = {\n                    select: \"\",\n                    \"select-type\": \"2\",\n                };\n                body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n                bodyNode = new __XmlNode(\"SelectObjectContentRequest\");\n                bodyNode.addAttribute(\"xmlns\", \"http://s3.amazonaws.com/doc/2006-03-01/\");\n                if (input.Expression !== undefined) {\n                    node = new __XmlNode(\"Expression\").addChildNode(new __XmlText(input.Expression)).withName(\"Expression\");\n                    bodyNode.addChildNode(node);\n                }\n                if (input.ExpressionType !== undefined) {\n                    node = new __XmlNode(\"ExpressionType\")\n                        .addChildNode(new __XmlText(input.ExpressionType))\n                        .withName(\"ExpressionType\");\n                    bodyNode.addChildNode(node);\n                }\n                if (input.InputSerialization !== undefined) {\n                    node = serializeAws_restXmlInputSerialization(input.InputSerialization, context).withName(\"InputSerialization\");\n                    bodyNode.addChildNode(node);\n                }\n                if (input.OutputSerialization !== undefined) {\n                    node = serializeAws_restXmlOutputSerialization(input.OutputSerialization, context).withName(\"OutputSerialization\");\n                    bodyNode.addChildNode(node);\n                }\n                if (input.RequestProgress !== undefined) {\n                    node = serializeAws_restXmlRequestProgress(input.RequestProgress, context).withName(\"RequestProgress\");\n                    bodyNode.addChildNode(node);\n                }\n                if (input.ScanRange !== undefined) {\n                    node = serializeAws_restXmlScanRange(input.ScanRange, context).withName(\"ScanRange\");\n                    bodyNode.addChildNode(node);\n                }\n                body += bodyNode.toString();\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlUploadPartCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, contents, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign({ \"content-type\": \"application/octet-stream\" }, (isSerializableHeaderValue(input.ContentLength) && { \"content-length\": input.ContentLength.toString() })), (isSerializableHeaderValue(input.ContentMD5) && { \"content-md5\": input.ContentMD5 })), (isSerializableHeaderValue(input.SSECustomerAlgorithm) && {\n                    \"x-amz-server-side-encryption-customer-algorithm\": input.SSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.SSECustomerKey) && {\n                    \"x-amz-server-side-encryption-customer-key\": input.SSECustomerKey,\n                })), (isSerializableHeaderValue(input.SSECustomerKeyMD5) && {\n                    \"x-amz-server-side-encryption-customer-key-md5\": input.SSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign(__assign({ \"x-id\": \"UploadPart\" }, (input.PartNumber !== undefined && { partNumber: input.PartNumber.toString() })), (input.UploadId !== undefined && { uploadId: input.UploadId }));\n                if (input.Body !== undefined) {\n                    contents = input.Body;\n                    body = contents;\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restXmlUploadPartCopyCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (isSerializableHeaderValue(input.CopySource) && { \"x-amz-copy-source\": input.CopySource })), (isSerializableHeaderValue(input.CopySourceIfMatch) && {\n                    \"x-amz-copy-source-if-match\": input.CopySourceIfMatch,\n                })), (isSerializableHeaderValue(input.CopySourceIfModifiedSince) && {\n                    \"x-amz-copy-source-if-modified-since\": __dateToUtcString(input.CopySourceIfModifiedSince).toString(),\n                })), (isSerializableHeaderValue(input.CopySourceIfNoneMatch) && {\n                    \"x-amz-copy-source-if-none-match\": input.CopySourceIfNoneMatch,\n                })), (isSerializableHeaderValue(input.CopySourceIfUnmodifiedSince) && {\n                    \"x-amz-copy-source-if-unmodified-since\": __dateToUtcString(input.CopySourceIfUnmodifiedSince).toString(),\n                })), (isSerializableHeaderValue(input.CopySourceRange) && { \"x-amz-copy-source-range\": input.CopySourceRange })), (isSerializableHeaderValue(input.SSECustomerAlgorithm) && {\n                    \"x-amz-server-side-encryption-customer-algorithm\": input.SSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.SSECustomerKey) && {\n                    \"x-amz-server-side-encryption-customer-key\": input.SSECustomerKey,\n                })), (isSerializableHeaderValue(input.SSECustomerKeyMD5) && {\n                    \"x-amz-server-side-encryption-customer-key-md5\": input.SSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.CopySourceSSECustomerAlgorithm) && {\n                    \"x-amz-copy-source-server-side-encryption-customer-algorithm\": input.CopySourceSSECustomerAlgorithm,\n                })), (isSerializableHeaderValue(input.CopySourceSSECustomerKey) && {\n                    \"x-amz-copy-source-server-side-encryption-customer-key\": input.CopySourceSSECustomerKey,\n                })), (isSerializableHeaderValue(input.CopySourceSSECustomerKeyMD5) && {\n                    \"x-amz-copy-source-server-side-encryption-customer-key-md5\": input.CopySourceSSECustomerKeyMD5,\n                })), (isSerializableHeaderValue(input.RequestPayer) && { \"x-amz-request-payer\": input.RequestPayer })), (isSerializableHeaderValue(input.ExpectedBucketOwner) && {\n                    \"x-amz-expected-bucket-owner\": input.ExpectedBucketOwner,\n                })), (isSerializableHeaderValue(input.ExpectedSourceBucketOwner) && {\n                    \"x-amz-source-expected-bucket-owner\": input.ExpectedSourceBucketOwner,\n                }));\n                resolvedPath = \"/{Bucket}/{Key+}\";\n                if (input.Bucket !== undefined) {\n                    labelValue = input.Bucket;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Bucket.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Bucket}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Bucket.\");\n                }\n                if (input.Key !== undefined) {\n                    labelValue = input.Key;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: Key.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{Key+}\", labelValue\n                        .split(\"/\")\n                        .map(function (segment) { return __extendedEncodeURIComponent(segment); })\n                        .join(\"/\"));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: Key.\");\n                }\n                query = __assign(__assign({ \"x-id\": \"UploadPartCopy\" }, (input.PartNumber !== undefined && { partNumber: input.PartNumber.toString() })), (input.UploadId !== undefined && { uploadId: input.UploadId }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"PUT\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlAbortMultipartUploadCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlAbortMultipartUploadCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    RequestCharged: undefined,\n                };\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlAbortMultipartUploadCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, parsedBody, message;\n    var _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _d = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_d.body = _e.sent(), _d)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"NoSuchUpload\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#NoSuchUpload\": return [3 /*break*/, 2];\n                }\n                return [3 /*break*/, 4];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlNoSuchUploadResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_e.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 5];\n            case 4:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _e.label = 5;\n            case 5:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlCompleteMultipartUploadCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlCompleteMultipartUploadCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Bucket: undefined,\n                    BucketKeyEnabled: undefined,\n                    ETag: undefined,\n                    Expiration: undefined,\n                    Key: undefined,\n                    Location: undefined,\n                    RequestCharged: undefined,\n                    SSEKMSKeyId: undefined,\n                    ServerSideEncryption: undefined,\n                    VersionId: undefined,\n                };\n                if (output.headers[\"x-amz-expiration\"] !== undefined) {\n                    contents.Expiration = output.headers[\"x-amz-expiration\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption\"] !== undefined) {\n                    contents.ServerSideEncryption = output.headers[\"x-amz-server-side-encryption\"];\n                }\n                if (output.headers[\"x-amz-version-id\"] !== undefined) {\n                    contents.VersionId = output.headers[\"x-amz-version-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"] !== undefined) {\n                    contents.SSEKMSKeyId = output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] !== undefined) {\n                    contents.BucketKeyEnabled = output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] === \"true\";\n                }\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"Bucket\"] !== undefined) {\n                    contents.Bucket = data[\"Bucket\"];\n                }\n                if (data[\"ETag\"] !== undefined) {\n                    contents.ETag = data[\"ETag\"];\n                }\n                if (data[\"Key\"] !== undefined) {\n                    contents.Key = data[\"Key\"];\n                }\n                if (data[\"Location\"] !== undefined) {\n                    contents.Location = data[\"Location\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlCompleteMultipartUploadCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlCopyObjectCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlCopyObjectCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    BucketKeyEnabled: undefined,\n                    CopyObjectResult: undefined,\n                    CopySourceVersionId: undefined,\n                    Expiration: undefined,\n                    RequestCharged: undefined,\n                    SSECustomerAlgorithm: undefined,\n                    SSECustomerKeyMD5: undefined,\n                    SSEKMSEncryptionContext: undefined,\n                    SSEKMSKeyId: undefined,\n                    ServerSideEncryption: undefined,\n                    VersionId: undefined,\n                };\n                if (output.headers[\"x-amz-expiration\"] !== undefined) {\n                    contents.Expiration = output.headers[\"x-amz-expiration\"];\n                }\n                if (output.headers[\"x-amz-copy-source-version-id\"] !== undefined) {\n                    contents.CopySourceVersionId = output.headers[\"x-amz-copy-source-version-id\"];\n                }\n                if (output.headers[\"x-amz-version-id\"] !== undefined) {\n                    contents.VersionId = output.headers[\"x-amz-version-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption\"] !== undefined) {\n                    contents.ServerSideEncryption = output.headers[\"x-amz-server-side-encryption\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-algorithm\"] !== undefined) {\n                    contents.SSECustomerAlgorithm = output.headers[\"x-amz-server-side-encryption-customer-algorithm\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-key-md5\"] !== undefined) {\n                    contents.SSECustomerKeyMD5 = output.headers[\"x-amz-server-side-encryption-customer-key-md5\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"] !== undefined) {\n                    contents.SSEKMSKeyId = output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-context\"] !== undefined) {\n                    contents.SSEKMSEncryptionContext = output.headers[\"x-amz-server-side-encryption-context\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] !== undefined) {\n                    contents.BucketKeyEnabled = output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] === \"true\";\n                }\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.CopyObjectResult = deserializeAws_restXmlCopyObjectResult(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlCopyObjectCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, parsedBody, message;\n    var _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _d = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_d.body = _e.sent(), _d)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"ObjectNotInActiveTierError\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#ObjectNotInActiveTierError\": return [3 /*break*/, 2];\n                }\n                return [3 /*break*/, 4];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlObjectNotInActiveTierErrorResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_e.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 5];\n            case 4:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _e.label = 5;\n            case 5:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlCreateBucketCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlCreateBucketCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Location: undefined,\n                };\n                if (output.headers[\"location\"] !== undefined) {\n                    contents.Location = output.headers[\"location\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlCreateBucketCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, parsedBody, message;\n    var _e;\n    return __generator(this, function (_f) {\n        switch (_f.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _e = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_e.body = _f.sent(), _e)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BucketAlreadyExists\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#BucketAlreadyExists\": return [3 /*break*/, 2];\n                    case \"BucketAlreadyOwnedByYou\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.s3#BucketAlreadyOwnedByYou\": return [3 /*break*/, 4];\n                }\n                return [3 /*break*/, 6];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlBucketAlreadyExistsResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_f.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 7];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlBucketAlreadyOwnedByYouResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_f.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 7];\n            case 6:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _f.label = 7;\n            case 7:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlCreateMultipartUploadCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlCreateMultipartUploadCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    AbortDate: undefined,\n                    AbortRuleId: undefined,\n                    Bucket: undefined,\n                    BucketKeyEnabled: undefined,\n                    Key: undefined,\n                    RequestCharged: undefined,\n                    SSECustomerAlgorithm: undefined,\n                    SSECustomerKeyMD5: undefined,\n                    SSEKMSEncryptionContext: undefined,\n                    SSEKMSKeyId: undefined,\n                    ServerSideEncryption: undefined,\n                    UploadId: undefined,\n                };\n                if (output.headers[\"x-amz-abort-date\"] !== undefined) {\n                    contents.AbortDate = new Date(output.headers[\"x-amz-abort-date\"]);\n                }\n                if (output.headers[\"x-amz-abort-rule-id\"] !== undefined) {\n                    contents.AbortRuleId = output.headers[\"x-amz-abort-rule-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption\"] !== undefined) {\n                    contents.ServerSideEncryption = output.headers[\"x-amz-server-side-encryption\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-algorithm\"] !== undefined) {\n                    contents.SSECustomerAlgorithm = output.headers[\"x-amz-server-side-encryption-customer-algorithm\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-key-md5\"] !== undefined) {\n                    contents.SSECustomerKeyMD5 = output.headers[\"x-amz-server-side-encryption-customer-key-md5\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"] !== undefined) {\n                    contents.SSEKMSKeyId = output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-context\"] !== undefined) {\n                    contents.SSEKMSEncryptionContext = output.headers[\"x-amz-server-side-encryption-context\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] !== undefined) {\n                    contents.BucketKeyEnabled = output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] === \"true\";\n                }\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"Bucket\"] !== undefined) {\n                    contents.Bucket = data[\"Bucket\"];\n                }\n                if (data[\"Key\"] !== undefined) {\n                    contents.Key = data[\"Key\"];\n                }\n                if (data[\"UploadId\"] !== undefined) {\n                    contents.UploadId = data[\"UploadId\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlCreateMultipartUploadCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketAnalyticsConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketAnalyticsConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketAnalyticsConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketCorsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketCorsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketCorsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketEncryptionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketEncryptionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketEncryptionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketIntelligentTieringConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketIntelligentTieringConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketIntelligentTieringConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketInventoryConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketInventoryConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketInventoryConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketLifecycleCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketLifecycleCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketLifecycleCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketMetricsConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketMetricsConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketMetricsConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketOwnershipControlsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketOwnershipControlsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketOwnershipControlsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketPolicyCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketPolicyCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketPolicyCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketReplicationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketReplicationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketReplicationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketTaggingCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketTaggingCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketTaggingCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteBucketWebsiteCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteBucketWebsiteCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteBucketWebsiteCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteObjectCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteObjectCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    DeleteMarker: undefined,\n                    RequestCharged: undefined,\n                    VersionId: undefined,\n                };\n                if (output.headers[\"x-amz-delete-marker\"] !== undefined) {\n                    contents.DeleteMarker = output.headers[\"x-amz-delete-marker\"] === \"true\";\n                }\n                if (output.headers[\"x-amz-version-id\"] !== undefined) {\n                    contents.VersionId = output.headers[\"x-amz-version-id\"];\n                }\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteObjectCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteObjectsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteObjectsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Deleted: undefined,\n                    Errors: undefined,\n                    RequestCharged: undefined,\n                };\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Deleted === \"\") {\n                    contents.Deleted = [];\n                }\n                if (data[\"Deleted\"] !== undefined) {\n                    contents.Deleted = deserializeAws_restXmlDeletedObjects(__getArrayIfSingleItem(data[\"Deleted\"]), context);\n                }\n                if (data.Error === \"\") {\n                    contents.Errors = [];\n                }\n                if (data[\"Error\"] !== undefined) {\n                    contents.Errors = deserializeAws_restXmlErrors(__getArrayIfSingleItem(data[\"Error\"]), context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteObjectsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeleteObjectTaggingCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeleteObjectTaggingCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    VersionId: undefined,\n                };\n                if (output.headers[\"x-amz-version-id\"] !== undefined) {\n                    contents.VersionId = output.headers[\"x-amz-version-id\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeleteObjectTaggingCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlDeletePublicAccessBlockCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 204 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlDeletePublicAccessBlockCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlDeletePublicAccessBlockCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketAccelerateConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketAccelerateConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Status: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"Status\"] !== undefined) {\n                    contents.Status = data[\"Status\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketAccelerateConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketAclCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketAclCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Grants: undefined,\n                    Owner: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.AccessControlList === \"\") {\n                    contents.Grants = [];\n                }\n                if (data[\"AccessControlList\"] !== undefined && data[\"AccessControlList\"][\"Grant\"] !== undefined) {\n                    contents.Grants = deserializeAws_restXmlGrants(__getArrayIfSingleItem(data[\"AccessControlList\"][\"Grant\"]), context);\n                }\n                if (data[\"Owner\"] !== undefined) {\n                    contents.Owner = deserializeAws_restXmlOwner(data[\"Owner\"], context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketAclCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketAnalyticsConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketAnalyticsConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    AnalyticsConfiguration: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.AnalyticsConfiguration = deserializeAws_restXmlAnalyticsConfiguration(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketAnalyticsConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketCorsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketCorsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CORSRules: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CORSRule === \"\") {\n                    contents.CORSRules = [];\n                }\n                if (data[\"CORSRule\"] !== undefined) {\n                    contents.CORSRules = deserializeAws_restXmlCORSRules(__getArrayIfSingleItem(data[\"CORSRule\"]), context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketCorsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketEncryptionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketEncryptionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    ServerSideEncryptionConfiguration: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.ServerSideEncryptionConfiguration = deserializeAws_restXmlServerSideEncryptionConfiguration(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketEncryptionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketIntelligentTieringConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketIntelligentTieringConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    IntelligentTieringConfiguration: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.IntelligentTieringConfiguration = deserializeAws_restXmlIntelligentTieringConfiguration(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketIntelligentTieringConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketInventoryConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketInventoryConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    InventoryConfiguration: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.InventoryConfiguration = deserializeAws_restXmlInventoryConfiguration(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketInventoryConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketLifecycleConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketLifecycleConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Rules: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Rule === \"\") {\n                    contents.Rules = [];\n                }\n                if (data[\"Rule\"] !== undefined) {\n                    contents.Rules = deserializeAws_restXmlLifecycleRules(__getArrayIfSingleItem(data[\"Rule\"]), context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketLifecycleConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketLocationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketLocationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    LocationConstraint: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"LocationConstraint\"] !== undefined) {\n                    contents.LocationConstraint = data[\"LocationConstraint\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketLocationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketLoggingCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketLoggingCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    LoggingEnabled: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"LoggingEnabled\"] !== undefined) {\n                    contents.LoggingEnabled = deserializeAws_restXmlLoggingEnabled(data[\"LoggingEnabled\"], context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketLoggingCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketMetricsConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketMetricsConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    MetricsConfiguration: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.MetricsConfiguration = deserializeAws_restXmlMetricsConfiguration(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketMetricsConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketNotificationConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketNotificationConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    LambdaFunctionConfigurations: undefined,\n                    QueueConfigurations: undefined,\n                    TopicConfigurations: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CloudFunctionConfiguration === \"\") {\n                    contents.LambdaFunctionConfigurations = [];\n                }\n                if (data[\"CloudFunctionConfiguration\"] !== undefined) {\n                    contents.LambdaFunctionConfigurations = deserializeAws_restXmlLambdaFunctionConfigurationList(__getArrayIfSingleItem(data[\"CloudFunctionConfiguration\"]), context);\n                }\n                if (data.QueueConfiguration === \"\") {\n                    contents.QueueConfigurations = [];\n                }\n                if (data[\"QueueConfiguration\"] !== undefined) {\n                    contents.QueueConfigurations = deserializeAws_restXmlQueueConfigurationList(__getArrayIfSingleItem(data[\"QueueConfiguration\"]), context);\n                }\n                if (data.TopicConfiguration === \"\") {\n                    contents.TopicConfigurations = [];\n                }\n                if (data[\"TopicConfiguration\"] !== undefined) {\n                    contents.TopicConfigurations = deserializeAws_restXmlTopicConfigurationList(__getArrayIfSingleItem(data[\"TopicConfiguration\"]), context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketNotificationConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketOwnershipControlsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketOwnershipControlsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    OwnershipControls: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.OwnershipControls = deserializeAws_restXmlOwnershipControls(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketOwnershipControlsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketPolicyCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketPolicyCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Policy: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"Policy\"] !== undefined) {\n                    contents.Policy = data[\"Policy\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketPolicyCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketPolicyStatusCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketPolicyStatusCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    PolicyStatus: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.PolicyStatus = deserializeAws_restXmlPolicyStatus(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketPolicyStatusCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketReplicationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketReplicationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    ReplicationConfiguration: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.ReplicationConfiguration = deserializeAws_restXmlReplicationConfiguration(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketReplicationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketRequestPaymentCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketRequestPaymentCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Payer: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"Payer\"] !== undefined) {\n                    contents.Payer = data[\"Payer\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketRequestPaymentCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketTaggingCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketTaggingCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    TagSet: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.TagSet === \"\") {\n                    contents.TagSet = [];\n                }\n                if (data[\"TagSet\"] !== undefined && data[\"TagSet\"][\"Tag\"] !== undefined) {\n                    contents.TagSet = deserializeAws_restXmlTagSet(__getArrayIfSingleItem(data[\"TagSet\"][\"Tag\"]), context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketTaggingCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketVersioningCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketVersioningCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    MFADelete: undefined,\n                    Status: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"MfaDelete\"] !== undefined) {\n                    contents.MFADelete = data[\"MfaDelete\"];\n                }\n                if (data[\"Status\"] !== undefined) {\n                    contents.Status = data[\"Status\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketVersioningCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetBucketWebsiteCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetBucketWebsiteCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    ErrorDocument: undefined,\n                    IndexDocument: undefined,\n                    RedirectAllRequestsTo: undefined,\n                    RoutingRules: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"ErrorDocument\"] !== undefined) {\n                    contents.ErrorDocument = deserializeAws_restXmlErrorDocument(data[\"ErrorDocument\"], context);\n                }\n                if (data[\"IndexDocument\"] !== undefined) {\n                    contents.IndexDocument = deserializeAws_restXmlIndexDocument(data[\"IndexDocument\"], context);\n                }\n                if (data[\"RedirectAllRequestsTo\"] !== undefined) {\n                    contents.RedirectAllRequestsTo = deserializeAws_restXmlRedirectAllRequestsTo(data[\"RedirectAllRequestsTo\"], context);\n                }\n                if (data.RoutingRules === \"\") {\n                    contents.RoutingRules = [];\n                }\n                if (data[\"RoutingRules\"] !== undefined && data[\"RoutingRules\"][\"RoutingRule\"] !== undefined) {\n                    contents.RoutingRules = deserializeAws_restXmlRoutingRules(__getArrayIfSingleItem(data[\"RoutingRules\"][\"RoutingRule\"]), context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetBucketWebsiteCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetObjectCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2 /*return*/, deserializeAws_restXmlGetObjectCommandError(output, context)];\n        }\n        contents = {\n            $metadata: deserializeMetadata(output),\n            AcceptRanges: undefined,\n            Body: undefined,\n            BucketKeyEnabled: undefined,\n            CacheControl: undefined,\n            ContentDisposition: undefined,\n            ContentEncoding: undefined,\n            ContentLanguage: undefined,\n            ContentLength: undefined,\n            ContentRange: undefined,\n            ContentType: undefined,\n            DeleteMarker: undefined,\n            ETag: undefined,\n            Expiration: undefined,\n            Expires: undefined,\n            LastModified: undefined,\n            Metadata: undefined,\n            MissingMeta: undefined,\n            ObjectLockLegalHoldStatus: undefined,\n            ObjectLockMode: undefined,\n            ObjectLockRetainUntilDate: undefined,\n            PartsCount: undefined,\n            ReplicationStatus: undefined,\n            RequestCharged: undefined,\n            Restore: undefined,\n            SSECustomerAlgorithm: undefined,\n            SSECustomerKeyMD5: undefined,\n            SSEKMSKeyId: undefined,\n            ServerSideEncryption: undefined,\n            StorageClass: undefined,\n            TagCount: undefined,\n            VersionId: undefined,\n            WebsiteRedirectLocation: undefined,\n        };\n        if (output.headers[\"x-amz-delete-marker\"] !== undefined) {\n            contents.DeleteMarker = output.headers[\"x-amz-delete-marker\"] === \"true\";\n        }\n        if (output.headers[\"accept-ranges\"] !== undefined) {\n            contents.AcceptRanges = output.headers[\"accept-ranges\"];\n        }\n        if (output.headers[\"x-amz-expiration\"] !== undefined) {\n            contents.Expiration = output.headers[\"x-amz-expiration\"];\n        }\n        if (output.headers[\"x-amz-restore\"] !== undefined) {\n            contents.Restore = output.headers[\"x-amz-restore\"];\n        }\n        if (output.headers[\"last-modified\"] !== undefined) {\n            contents.LastModified = new Date(output.headers[\"last-modified\"]);\n        }\n        if (output.headers[\"content-length\"] !== undefined) {\n            contents.ContentLength = parseInt(output.headers[\"content-length\"], 10);\n        }\n        if (output.headers[\"etag\"] !== undefined) {\n            contents.ETag = output.headers[\"etag\"];\n        }\n        if (output.headers[\"x-amz-missing-meta\"] !== undefined) {\n            contents.MissingMeta = parseInt(output.headers[\"x-amz-missing-meta\"], 10);\n        }\n        if (output.headers[\"x-amz-version-id\"] !== undefined) {\n            contents.VersionId = output.headers[\"x-amz-version-id\"];\n        }\n        if (output.headers[\"cache-control\"] !== undefined) {\n            contents.CacheControl = output.headers[\"cache-control\"];\n        }\n        if (output.headers[\"content-disposition\"] !== undefined) {\n            contents.ContentDisposition = output.headers[\"content-disposition\"];\n        }\n        if (output.headers[\"content-encoding\"] !== undefined) {\n            contents.ContentEncoding = output.headers[\"content-encoding\"];\n        }\n        if (output.headers[\"content-language\"] !== undefined) {\n            contents.ContentLanguage = output.headers[\"content-language\"];\n        }\n        if (output.headers[\"content-range\"] !== undefined) {\n            contents.ContentRange = output.headers[\"content-range\"];\n        }\n        if (output.headers[\"content-type\"] !== undefined) {\n            contents.ContentType = output.headers[\"content-type\"];\n        }\n        if (output.headers[\"expires\"] !== undefined) {\n            contents.Expires = new Date(output.headers[\"expires\"]);\n        }\n        if (output.headers[\"x-amz-website-redirect-location\"] !== undefined) {\n            contents.WebsiteRedirectLocation = output.headers[\"x-amz-website-redirect-location\"];\n        }\n        if (output.headers[\"x-amz-server-side-encryption\"] !== undefined) {\n            contents.ServerSideEncryption = output.headers[\"x-amz-server-side-encryption\"];\n        }\n        if (output.headers[\"x-amz-server-side-encryption-customer-algorithm\"] !== undefined) {\n            contents.SSECustomerAlgorithm = output.headers[\"x-amz-server-side-encryption-customer-algorithm\"];\n        }\n        if (output.headers[\"x-amz-server-side-encryption-customer-key-md5\"] !== undefined) {\n            contents.SSECustomerKeyMD5 = output.headers[\"x-amz-server-side-encryption-customer-key-md5\"];\n        }\n        if (output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"] !== undefined) {\n            contents.SSEKMSKeyId = output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"];\n        }\n        if (output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] !== undefined) {\n            contents.BucketKeyEnabled = output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] === \"true\";\n        }\n        if (output.headers[\"x-amz-storage-class\"] !== undefined) {\n            contents.StorageClass = output.headers[\"x-amz-storage-class\"];\n        }\n        if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n            contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n        }\n        if (output.headers[\"x-amz-replication-status\"] !== undefined) {\n            contents.ReplicationStatus = output.headers[\"x-amz-replication-status\"];\n        }\n        if (output.headers[\"x-amz-mp-parts-count\"] !== undefined) {\n            contents.PartsCount = parseInt(output.headers[\"x-amz-mp-parts-count\"], 10);\n        }\n        if (output.headers[\"x-amz-tagging-count\"] !== undefined) {\n            contents.TagCount = parseInt(output.headers[\"x-amz-tagging-count\"], 10);\n        }\n        if (output.headers[\"x-amz-object-lock-mode\"] !== undefined) {\n            contents.ObjectLockMode = output.headers[\"x-amz-object-lock-mode\"];\n        }\n        if (output.headers[\"x-amz-object-lock-retain-until-date\"] !== undefined) {\n            contents.ObjectLockRetainUntilDate = new Date(output.headers[\"x-amz-object-lock-retain-until-date\"]);\n        }\n        if (output.headers[\"x-amz-object-lock-legal-hold\"] !== undefined) {\n            contents.ObjectLockLegalHoldStatus = output.headers[\"x-amz-object-lock-legal-hold\"];\n        }\n        Object.keys(output.headers).forEach(function (header) {\n            if (contents.Metadata === undefined) {\n                contents.Metadata = {};\n            }\n            if (header.startsWith(\"x-amz-meta-\")) {\n                contents.Metadata[header.substring(11)] = output.headers[header];\n            }\n        });\n        data = output.body;\n        contents.Body = data;\n        return [2 /*return*/, Promise.resolve(contents)];\n    });\n}); };\nvar deserializeAws_restXmlGetObjectCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, parsedBody, message;\n    var _e;\n    return __generator(this, function (_f) {\n        switch (_f.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _e = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_e.body = _f.sent(), _e)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"InvalidObjectState\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#InvalidObjectState\": return [3 /*break*/, 2];\n                    case \"NoSuchKey\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.s3#NoSuchKey\": return [3 /*break*/, 4];\n                }\n                return [3 /*break*/, 6];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlInvalidObjectStateResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_f.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 7];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlNoSuchKeyResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_f.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 7];\n            case 6:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _f.label = 7;\n            case 7:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetObjectAclCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetObjectAclCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Grants: undefined,\n                    Owner: undefined,\n                    RequestCharged: undefined,\n                };\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.AccessControlList === \"\") {\n                    contents.Grants = [];\n                }\n                if (data[\"AccessControlList\"] !== undefined && data[\"AccessControlList\"][\"Grant\"] !== undefined) {\n                    contents.Grants = deserializeAws_restXmlGrants(__getArrayIfSingleItem(data[\"AccessControlList\"][\"Grant\"]), context);\n                }\n                if (data[\"Owner\"] !== undefined) {\n                    contents.Owner = deserializeAws_restXmlOwner(data[\"Owner\"], context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetObjectAclCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, parsedBody, message;\n    var _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _d = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_d.body = _e.sent(), _d)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"NoSuchKey\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#NoSuchKey\": return [3 /*break*/, 2];\n                }\n                return [3 /*break*/, 4];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlNoSuchKeyResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_e.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 5];\n            case 4:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _e.label = 5;\n            case 5:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetObjectLegalHoldCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetObjectLegalHoldCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    LegalHold: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.LegalHold = deserializeAws_restXmlObjectLockLegalHold(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetObjectLegalHoldCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetObjectLockConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetObjectLockConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    ObjectLockConfiguration: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.ObjectLockConfiguration = deserializeAws_restXmlObjectLockConfiguration(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetObjectLockConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetObjectRetentionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetObjectRetentionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Retention: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.Retention = deserializeAws_restXmlObjectLockRetention(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetObjectRetentionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetObjectTaggingCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetObjectTaggingCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    TagSet: undefined,\n                    VersionId: undefined,\n                };\n                if (output.headers[\"x-amz-version-id\"] !== undefined) {\n                    contents.VersionId = output.headers[\"x-amz-version-id\"];\n                }\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.TagSet === \"\") {\n                    contents.TagSet = [];\n                }\n                if (data[\"TagSet\"] !== undefined && data[\"TagSet\"][\"Tag\"] !== undefined) {\n                    contents.TagSet = deserializeAws_restXmlTagSet(__getArrayIfSingleItem(data[\"TagSet\"][\"Tag\"]), context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetObjectTaggingCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetObjectTorrentCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2 /*return*/, deserializeAws_restXmlGetObjectTorrentCommandError(output, context)];\n        }\n        contents = {\n            $metadata: deserializeMetadata(output),\n            Body: undefined,\n            RequestCharged: undefined,\n        };\n        if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n            contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n        }\n        data = output.body;\n        contents.Body = data;\n        return [2 /*return*/, Promise.resolve(contents)];\n    });\n}); };\nvar deserializeAws_restXmlGetObjectTorrentCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlGetPublicAccessBlockCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlGetPublicAccessBlockCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    PublicAccessBlockConfiguration: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.PublicAccessBlockConfiguration = deserializeAws_restXmlPublicAccessBlockConfiguration(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlGetPublicAccessBlockCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlHeadBucketCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlHeadBucketCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlHeadBucketCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, parsedBody, message;\n    var _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _d = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_d.body = _e.sent(), _d)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"NoSuchBucket\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#NoSuchBucket\": return [3 /*break*/, 2];\n                }\n                return [3 /*break*/, 4];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlNoSuchBucketResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_e.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 5];\n            case 4:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _e.label = 5;\n            case 5:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlHeadObjectCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlHeadObjectCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    AcceptRanges: undefined,\n                    ArchiveStatus: undefined,\n                    BucketKeyEnabled: undefined,\n                    CacheControl: undefined,\n                    ContentDisposition: undefined,\n                    ContentEncoding: undefined,\n                    ContentLanguage: undefined,\n                    ContentLength: undefined,\n                    ContentType: undefined,\n                    DeleteMarker: undefined,\n                    ETag: undefined,\n                    Expiration: undefined,\n                    Expires: undefined,\n                    LastModified: undefined,\n                    Metadata: undefined,\n                    MissingMeta: undefined,\n                    ObjectLockLegalHoldStatus: undefined,\n                    ObjectLockMode: undefined,\n                    ObjectLockRetainUntilDate: undefined,\n                    PartsCount: undefined,\n                    ReplicationStatus: undefined,\n                    RequestCharged: undefined,\n                    Restore: undefined,\n                    SSECustomerAlgorithm: undefined,\n                    SSECustomerKeyMD5: undefined,\n                    SSEKMSKeyId: undefined,\n                    ServerSideEncryption: undefined,\n                    StorageClass: undefined,\n                    VersionId: undefined,\n                    WebsiteRedirectLocation: undefined,\n                };\n                if (output.headers[\"x-amz-delete-marker\"] !== undefined) {\n                    contents.DeleteMarker = output.headers[\"x-amz-delete-marker\"] === \"true\";\n                }\n                if (output.headers[\"accept-ranges\"] !== undefined) {\n                    contents.AcceptRanges = output.headers[\"accept-ranges\"];\n                }\n                if (output.headers[\"x-amz-expiration\"] !== undefined) {\n                    contents.Expiration = output.headers[\"x-amz-expiration\"];\n                }\n                if (output.headers[\"x-amz-restore\"] !== undefined) {\n                    contents.Restore = output.headers[\"x-amz-restore\"];\n                }\n                if (output.headers[\"x-amz-archive-status\"] !== undefined) {\n                    contents.ArchiveStatus = output.headers[\"x-amz-archive-status\"];\n                }\n                if (output.headers[\"last-modified\"] !== undefined) {\n                    contents.LastModified = new Date(output.headers[\"last-modified\"]);\n                }\n                if (output.headers[\"content-length\"] !== undefined) {\n                    contents.ContentLength = parseInt(output.headers[\"content-length\"], 10);\n                }\n                if (output.headers[\"etag\"] !== undefined) {\n                    contents.ETag = output.headers[\"etag\"];\n                }\n                if (output.headers[\"x-amz-missing-meta\"] !== undefined) {\n                    contents.MissingMeta = parseInt(output.headers[\"x-amz-missing-meta\"], 10);\n                }\n                if (output.headers[\"x-amz-version-id\"] !== undefined) {\n                    contents.VersionId = output.headers[\"x-amz-version-id\"];\n                }\n                if (output.headers[\"cache-control\"] !== undefined) {\n                    contents.CacheControl = output.headers[\"cache-control\"];\n                }\n                if (output.headers[\"content-disposition\"] !== undefined) {\n                    contents.ContentDisposition = output.headers[\"content-disposition\"];\n                }\n                if (output.headers[\"content-encoding\"] !== undefined) {\n                    contents.ContentEncoding = output.headers[\"content-encoding\"];\n                }\n                if (output.headers[\"content-language\"] !== undefined) {\n                    contents.ContentLanguage = output.headers[\"content-language\"];\n                }\n                if (output.headers[\"content-type\"] !== undefined) {\n                    contents.ContentType = output.headers[\"content-type\"];\n                }\n                if (output.headers[\"expires\"] !== undefined) {\n                    contents.Expires = new Date(output.headers[\"expires\"]);\n                }\n                if (output.headers[\"x-amz-website-redirect-location\"] !== undefined) {\n                    contents.WebsiteRedirectLocation = output.headers[\"x-amz-website-redirect-location\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption\"] !== undefined) {\n                    contents.ServerSideEncryption = output.headers[\"x-amz-server-side-encryption\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-algorithm\"] !== undefined) {\n                    contents.SSECustomerAlgorithm = output.headers[\"x-amz-server-side-encryption-customer-algorithm\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-key-md5\"] !== undefined) {\n                    contents.SSECustomerKeyMD5 = output.headers[\"x-amz-server-side-encryption-customer-key-md5\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"] !== undefined) {\n                    contents.SSEKMSKeyId = output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] !== undefined) {\n                    contents.BucketKeyEnabled = output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] === \"true\";\n                }\n                if (output.headers[\"x-amz-storage-class\"] !== undefined) {\n                    contents.StorageClass = output.headers[\"x-amz-storage-class\"];\n                }\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                if (output.headers[\"x-amz-replication-status\"] !== undefined) {\n                    contents.ReplicationStatus = output.headers[\"x-amz-replication-status\"];\n                }\n                if (output.headers[\"x-amz-mp-parts-count\"] !== undefined) {\n                    contents.PartsCount = parseInt(output.headers[\"x-amz-mp-parts-count\"], 10);\n                }\n                if (output.headers[\"x-amz-object-lock-mode\"] !== undefined) {\n                    contents.ObjectLockMode = output.headers[\"x-amz-object-lock-mode\"];\n                }\n                if (output.headers[\"x-amz-object-lock-retain-until-date\"] !== undefined) {\n                    contents.ObjectLockRetainUntilDate = new Date(output.headers[\"x-amz-object-lock-retain-until-date\"]);\n                }\n                if (output.headers[\"x-amz-object-lock-legal-hold\"] !== undefined) {\n                    contents.ObjectLockLegalHoldStatus = output.headers[\"x-amz-object-lock-legal-hold\"];\n                }\n                Object.keys(output.headers).forEach(function (header) {\n                    if (contents.Metadata === undefined) {\n                        contents.Metadata = {};\n                    }\n                    if (header.startsWith(\"x-amz-meta-\")) {\n                        contents.Metadata[header.substring(11)] = output.headers[header];\n                    }\n                });\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlHeadObjectCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, parsedBody, message;\n    var _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _d = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_d.body = _e.sent(), _d)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"NoSuchKey\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#NoSuchKey\": return [3 /*break*/, 2];\n                }\n                return [3 /*break*/, 4];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlNoSuchKeyResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_e.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 5];\n            case 4:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _e.label = 5;\n            case 5:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListBucketAnalyticsConfigurationsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListBucketAnalyticsConfigurationsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    AnalyticsConfigurationList: undefined,\n                    ContinuationToken: undefined,\n                    IsTruncated: undefined,\n                    NextContinuationToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.AnalyticsConfiguration === \"\") {\n                    contents.AnalyticsConfigurationList = [];\n                }\n                if (data[\"AnalyticsConfiguration\"] !== undefined) {\n                    contents.AnalyticsConfigurationList = deserializeAws_restXmlAnalyticsConfigurationList(__getArrayIfSingleItem(data[\"AnalyticsConfiguration\"]), context);\n                }\n                if (data[\"ContinuationToken\"] !== undefined) {\n                    contents.ContinuationToken = data[\"ContinuationToken\"];\n                }\n                if (data[\"IsTruncated\"] !== undefined) {\n                    contents.IsTruncated = data[\"IsTruncated\"] == \"true\";\n                }\n                if (data[\"NextContinuationToken\"] !== undefined) {\n                    contents.NextContinuationToken = data[\"NextContinuationToken\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListBucketAnalyticsConfigurationsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListBucketIntelligentTieringConfigurationsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListBucketIntelligentTieringConfigurationsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    ContinuationToken: undefined,\n                    IntelligentTieringConfigurationList: undefined,\n                    IsTruncated: undefined,\n                    NextContinuationToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"ContinuationToken\"] !== undefined) {\n                    contents.ContinuationToken = data[\"ContinuationToken\"];\n                }\n                if (data.IntelligentTieringConfiguration === \"\") {\n                    contents.IntelligentTieringConfigurationList = [];\n                }\n                if (data[\"IntelligentTieringConfiguration\"] !== undefined) {\n                    contents.IntelligentTieringConfigurationList = deserializeAws_restXmlIntelligentTieringConfigurationList(__getArrayIfSingleItem(data[\"IntelligentTieringConfiguration\"]), context);\n                }\n                if (data[\"IsTruncated\"] !== undefined) {\n                    contents.IsTruncated = data[\"IsTruncated\"] == \"true\";\n                }\n                if (data[\"NextContinuationToken\"] !== undefined) {\n                    contents.NextContinuationToken = data[\"NextContinuationToken\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListBucketIntelligentTieringConfigurationsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListBucketInventoryConfigurationsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListBucketInventoryConfigurationsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    ContinuationToken: undefined,\n                    InventoryConfigurationList: undefined,\n                    IsTruncated: undefined,\n                    NextContinuationToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"ContinuationToken\"] !== undefined) {\n                    contents.ContinuationToken = data[\"ContinuationToken\"];\n                }\n                if (data.InventoryConfiguration === \"\") {\n                    contents.InventoryConfigurationList = [];\n                }\n                if (data[\"InventoryConfiguration\"] !== undefined) {\n                    contents.InventoryConfigurationList = deserializeAws_restXmlInventoryConfigurationList(__getArrayIfSingleItem(data[\"InventoryConfiguration\"]), context);\n                }\n                if (data[\"IsTruncated\"] !== undefined) {\n                    contents.IsTruncated = data[\"IsTruncated\"] == \"true\";\n                }\n                if (data[\"NextContinuationToken\"] !== undefined) {\n                    contents.NextContinuationToken = data[\"NextContinuationToken\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListBucketInventoryConfigurationsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListBucketMetricsConfigurationsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListBucketMetricsConfigurationsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    ContinuationToken: undefined,\n                    IsTruncated: undefined,\n                    MetricsConfigurationList: undefined,\n                    NextContinuationToken: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"ContinuationToken\"] !== undefined) {\n                    contents.ContinuationToken = data[\"ContinuationToken\"];\n                }\n                if (data[\"IsTruncated\"] !== undefined) {\n                    contents.IsTruncated = data[\"IsTruncated\"] == \"true\";\n                }\n                if (data.MetricsConfiguration === \"\") {\n                    contents.MetricsConfigurationList = [];\n                }\n                if (data[\"MetricsConfiguration\"] !== undefined) {\n                    contents.MetricsConfigurationList = deserializeAws_restXmlMetricsConfigurationList(__getArrayIfSingleItem(data[\"MetricsConfiguration\"]), context);\n                }\n                if (data[\"NextContinuationToken\"] !== undefined) {\n                    contents.NextContinuationToken = data[\"NextContinuationToken\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListBucketMetricsConfigurationsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListBucketsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListBucketsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Buckets: undefined,\n                    Owner: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.Buckets === \"\") {\n                    contents.Buckets = [];\n                }\n                if (data[\"Buckets\"] !== undefined && data[\"Buckets\"][\"Bucket\"] !== undefined) {\n                    contents.Buckets = deserializeAws_restXmlBuckets(__getArrayIfSingleItem(data[\"Buckets\"][\"Bucket\"]), context);\n                }\n                if (data[\"Owner\"] !== undefined) {\n                    contents.Owner = deserializeAws_restXmlOwner(data[\"Owner\"], context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListBucketsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListMultipartUploadsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListMultipartUploadsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    Bucket: undefined,\n                    CommonPrefixes: undefined,\n                    Delimiter: undefined,\n                    EncodingType: undefined,\n                    IsTruncated: undefined,\n                    KeyMarker: undefined,\n                    MaxUploads: undefined,\n                    NextKeyMarker: undefined,\n                    NextUploadIdMarker: undefined,\n                    Prefix: undefined,\n                    UploadIdMarker: undefined,\n                    Uploads: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"Bucket\"] !== undefined) {\n                    contents.Bucket = data[\"Bucket\"];\n                }\n                if (data.CommonPrefixes === \"\") {\n                    contents.CommonPrefixes = [];\n                }\n                if (data[\"CommonPrefixes\"] !== undefined) {\n                    contents.CommonPrefixes = deserializeAws_restXmlCommonPrefixList(__getArrayIfSingleItem(data[\"CommonPrefixes\"]), context);\n                }\n                if (data[\"Delimiter\"] !== undefined) {\n                    contents.Delimiter = data[\"Delimiter\"];\n                }\n                if (data[\"EncodingType\"] !== undefined) {\n                    contents.EncodingType = data[\"EncodingType\"];\n                }\n                if (data[\"IsTruncated\"] !== undefined) {\n                    contents.IsTruncated = data[\"IsTruncated\"] == \"true\";\n                }\n                if (data[\"KeyMarker\"] !== undefined) {\n                    contents.KeyMarker = data[\"KeyMarker\"];\n                }\n                if (data[\"MaxUploads\"] !== undefined) {\n                    contents.MaxUploads = parseInt(data[\"MaxUploads\"]);\n                }\n                if (data[\"NextKeyMarker\"] !== undefined) {\n                    contents.NextKeyMarker = data[\"NextKeyMarker\"];\n                }\n                if (data[\"NextUploadIdMarker\"] !== undefined) {\n                    contents.NextUploadIdMarker = data[\"NextUploadIdMarker\"];\n                }\n                if (data[\"Prefix\"] !== undefined) {\n                    contents.Prefix = data[\"Prefix\"];\n                }\n                if (data[\"UploadIdMarker\"] !== undefined) {\n                    contents.UploadIdMarker = data[\"UploadIdMarker\"];\n                }\n                if (data.Upload === \"\") {\n                    contents.Uploads = [];\n                }\n                if (data[\"Upload\"] !== undefined) {\n                    contents.Uploads = deserializeAws_restXmlMultipartUploadList(__getArrayIfSingleItem(data[\"Upload\"]), context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListMultipartUploadsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListObjectsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListObjectsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CommonPrefixes: undefined,\n                    Contents: undefined,\n                    Delimiter: undefined,\n                    EncodingType: undefined,\n                    IsTruncated: undefined,\n                    Marker: undefined,\n                    MaxKeys: undefined,\n                    Name: undefined,\n                    NextMarker: undefined,\n                    Prefix: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CommonPrefixes === \"\") {\n                    contents.CommonPrefixes = [];\n                }\n                if (data[\"CommonPrefixes\"] !== undefined) {\n                    contents.CommonPrefixes = deserializeAws_restXmlCommonPrefixList(__getArrayIfSingleItem(data[\"CommonPrefixes\"]), context);\n                }\n                if (data.Contents === \"\") {\n                    contents.Contents = [];\n                }\n                if (data[\"Contents\"] !== undefined) {\n                    contents.Contents = deserializeAws_restXmlObjectList(__getArrayIfSingleItem(data[\"Contents\"]), context);\n                }\n                if (data[\"Delimiter\"] !== undefined) {\n                    contents.Delimiter = data[\"Delimiter\"];\n                }\n                if (data[\"EncodingType\"] !== undefined) {\n                    contents.EncodingType = data[\"EncodingType\"];\n                }\n                if (data[\"IsTruncated\"] !== undefined) {\n                    contents.IsTruncated = data[\"IsTruncated\"] == \"true\";\n                }\n                if (data[\"Marker\"] !== undefined) {\n                    contents.Marker = data[\"Marker\"];\n                }\n                if (data[\"MaxKeys\"] !== undefined) {\n                    contents.MaxKeys = parseInt(data[\"MaxKeys\"]);\n                }\n                if (data[\"Name\"] !== undefined) {\n                    contents.Name = data[\"Name\"];\n                }\n                if (data[\"NextMarker\"] !== undefined) {\n                    contents.NextMarker = data[\"NextMarker\"];\n                }\n                if (data[\"Prefix\"] !== undefined) {\n                    contents.Prefix = data[\"Prefix\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListObjectsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, parsedBody, message;\n    var _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _d = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_d.body = _e.sent(), _d)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"NoSuchBucket\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#NoSuchBucket\": return [3 /*break*/, 2];\n                }\n                return [3 /*break*/, 4];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlNoSuchBucketResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_e.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 5];\n            case 4:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _e.label = 5;\n            case 5:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListObjectsV2Command = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListObjectsV2CommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CommonPrefixes: undefined,\n                    Contents: undefined,\n                    ContinuationToken: undefined,\n                    Delimiter: undefined,\n                    EncodingType: undefined,\n                    IsTruncated: undefined,\n                    KeyCount: undefined,\n                    MaxKeys: undefined,\n                    Name: undefined,\n                    NextContinuationToken: undefined,\n                    Prefix: undefined,\n                    StartAfter: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CommonPrefixes === \"\") {\n                    contents.CommonPrefixes = [];\n                }\n                if (data[\"CommonPrefixes\"] !== undefined) {\n                    contents.CommonPrefixes = deserializeAws_restXmlCommonPrefixList(__getArrayIfSingleItem(data[\"CommonPrefixes\"]), context);\n                }\n                if (data.Contents === \"\") {\n                    contents.Contents = [];\n                }\n                if (data[\"Contents\"] !== undefined) {\n                    contents.Contents = deserializeAws_restXmlObjectList(__getArrayIfSingleItem(data[\"Contents\"]), context);\n                }\n                if (data[\"ContinuationToken\"] !== undefined) {\n                    contents.ContinuationToken = data[\"ContinuationToken\"];\n                }\n                if (data[\"Delimiter\"] !== undefined) {\n                    contents.Delimiter = data[\"Delimiter\"];\n                }\n                if (data[\"EncodingType\"] !== undefined) {\n                    contents.EncodingType = data[\"EncodingType\"];\n                }\n                if (data[\"IsTruncated\"] !== undefined) {\n                    contents.IsTruncated = data[\"IsTruncated\"] == \"true\";\n                }\n                if (data[\"KeyCount\"] !== undefined) {\n                    contents.KeyCount = parseInt(data[\"KeyCount\"]);\n                }\n                if (data[\"MaxKeys\"] !== undefined) {\n                    contents.MaxKeys = parseInt(data[\"MaxKeys\"]);\n                }\n                if (data[\"Name\"] !== undefined) {\n                    contents.Name = data[\"Name\"];\n                }\n                if (data[\"NextContinuationToken\"] !== undefined) {\n                    contents.NextContinuationToken = data[\"NextContinuationToken\"];\n                }\n                if (data[\"Prefix\"] !== undefined) {\n                    contents.Prefix = data[\"Prefix\"];\n                }\n                if (data[\"StartAfter\"] !== undefined) {\n                    contents.StartAfter = data[\"StartAfter\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListObjectsV2CommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, parsedBody, message;\n    var _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _d = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_d.body = _e.sent(), _d)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"NoSuchBucket\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#NoSuchBucket\": return [3 /*break*/, 2];\n                }\n                return [3 /*break*/, 4];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlNoSuchBucketResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_e.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 5];\n            case 4:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _e.label = 5;\n            case 5:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListObjectVersionsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListObjectVersionsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    CommonPrefixes: undefined,\n                    DeleteMarkers: undefined,\n                    Delimiter: undefined,\n                    EncodingType: undefined,\n                    IsTruncated: undefined,\n                    KeyMarker: undefined,\n                    MaxKeys: undefined,\n                    Name: undefined,\n                    NextKeyMarker: undefined,\n                    NextVersionIdMarker: undefined,\n                    Prefix: undefined,\n                    VersionIdMarker: undefined,\n                    Versions: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.CommonPrefixes === \"\") {\n                    contents.CommonPrefixes = [];\n                }\n                if (data[\"CommonPrefixes\"] !== undefined) {\n                    contents.CommonPrefixes = deserializeAws_restXmlCommonPrefixList(__getArrayIfSingleItem(data[\"CommonPrefixes\"]), context);\n                }\n                if (data.DeleteMarker === \"\") {\n                    contents.DeleteMarkers = [];\n                }\n                if (data[\"DeleteMarker\"] !== undefined) {\n                    contents.DeleteMarkers = deserializeAws_restXmlDeleteMarkers(__getArrayIfSingleItem(data[\"DeleteMarker\"]), context);\n                }\n                if (data[\"Delimiter\"] !== undefined) {\n                    contents.Delimiter = data[\"Delimiter\"];\n                }\n                if (data[\"EncodingType\"] !== undefined) {\n                    contents.EncodingType = data[\"EncodingType\"];\n                }\n                if (data[\"IsTruncated\"] !== undefined) {\n                    contents.IsTruncated = data[\"IsTruncated\"] == \"true\";\n                }\n                if (data[\"KeyMarker\"] !== undefined) {\n                    contents.KeyMarker = data[\"KeyMarker\"];\n                }\n                if (data[\"MaxKeys\"] !== undefined) {\n                    contents.MaxKeys = parseInt(data[\"MaxKeys\"]);\n                }\n                if (data[\"Name\"] !== undefined) {\n                    contents.Name = data[\"Name\"];\n                }\n                if (data[\"NextKeyMarker\"] !== undefined) {\n                    contents.NextKeyMarker = data[\"NextKeyMarker\"];\n                }\n                if (data[\"NextVersionIdMarker\"] !== undefined) {\n                    contents.NextVersionIdMarker = data[\"NextVersionIdMarker\"];\n                }\n                if (data[\"Prefix\"] !== undefined) {\n                    contents.Prefix = data[\"Prefix\"];\n                }\n                if (data[\"VersionIdMarker\"] !== undefined) {\n                    contents.VersionIdMarker = data[\"VersionIdMarker\"];\n                }\n                if (data.Version === \"\") {\n                    contents.Versions = [];\n                }\n                if (data[\"Version\"] !== undefined) {\n                    contents.Versions = deserializeAws_restXmlObjectVersionList(__getArrayIfSingleItem(data[\"Version\"]), context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListObjectVersionsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlListPartsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlListPartsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    AbortDate: undefined,\n                    AbortRuleId: undefined,\n                    Bucket: undefined,\n                    Initiator: undefined,\n                    IsTruncated: undefined,\n                    Key: undefined,\n                    MaxParts: undefined,\n                    NextPartNumberMarker: undefined,\n                    Owner: undefined,\n                    PartNumberMarker: undefined,\n                    Parts: undefined,\n                    RequestCharged: undefined,\n                    StorageClass: undefined,\n                    UploadId: undefined,\n                };\n                if (output.headers[\"x-amz-abort-date\"] !== undefined) {\n                    contents.AbortDate = new Date(output.headers[\"x-amz-abort-date\"]);\n                }\n                if (output.headers[\"x-amz-abort-rule-id\"] !== undefined) {\n                    contents.AbortRuleId = output.headers[\"x-amz-abort-rule-id\"];\n                }\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data[\"Bucket\"] !== undefined) {\n                    contents.Bucket = data[\"Bucket\"];\n                }\n                if (data[\"Initiator\"] !== undefined) {\n                    contents.Initiator = deserializeAws_restXmlInitiator(data[\"Initiator\"], context);\n                }\n                if (data[\"IsTruncated\"] !== undefined) {\n                    contents.IsTruncated = data[\"IsTruncated\"] == \"true\";\n                }\n                if (data[\"Key\"] !== undefined) {\n                    contents.Key = data[\"Key\"];\n                }\n                if (data[\"MaxParts\"] !== undefined) {\n                    contents.MaxParts = parseInt(data[\"MaxParts\"]);\n                }\n                if (data[\"NextPartNumberMarker\"] !== undefined) {\n                    contents.NextPartNumberMarker = data[\"NextPartNumberMarker\"];\n                }\n                if (data[\"Owner\"] !== undefined) {\n                    contents.Owner = deserializeAws_restXmlOwner(data[\"Owner\"], context);\n                }\n                if (data[\"PartNumberMarker\"] !== undefined) {\n                    contents.PartNumberMarker = data[\"PartNumberMarker\"];\n                }\n                if (data.Part === \"\") {\n                    contents.Parts = [];\n                }\n                if (data[\"Part\"] !== undefined) {\n                    contents.Parts = deserializeAws_restXmlParts(__getArrayIfSingleItem(data[\"Part\"]), context);\n                }\n                if (data[\"StorageClass\"] !== undefined) {\n                    contents.StorageClass = data[\"StorageClass\"];\n                }\n                if (data[\"UploadId\"] !== undefined) {\n                    contents.UploadId = data[\"UploadId\"];\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlListPartsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketAccelerateConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketAccelerateConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketAccelerateConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketAclCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketAclCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketAclCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketAnalyticsConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketAnalyticsConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketAnalyticsConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketCorsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketCorsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketCorsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketEncryptionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketEncryptionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketEncryptionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketIntelligentTieringConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketIntelligentTieringConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketIntelligentTieringConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketInventoryConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketInventoryConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketInventoryConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketLifecycleConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketLifecycleConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketLifecycleConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketLoggingCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketLoggingCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketLoggingCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketMetricsConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketMetricsConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketMetricsConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketNotificationConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketNotificationConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketNotificationConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketOwnershipControlsCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketOwnershipControlsCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketOwnershipControlsCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketPolicyCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketPolicyCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketPolicyCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketReplicationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketReplicationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketReplicationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketRequestPaymentCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketRequestPaymentCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketRequestPaymentCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketTaggingCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketTaggingCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketTaggingCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketVersioningCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketVersioningCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketVersioningCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutBucketWebsiteCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutBucketWebsiteCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutBucketWebsiteCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutObjectCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutObjectCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    BucketKeyEnabled: undefined,\n                    ETag: undefined,\n                    Expiration: undefined,\n                    RequestCharged: undefined,\n                    SSECustomerAlgorithm: undefined,\n                    SSECustomerKeyMD5: undefined,\n                    SSEKMSEncryptionContext: undefined,\n                    SSEKMSKeyId: undefined,\n                    ServerSideEncryption: undefined,\n                    VersionId: undefined,\n                };\n                if (output.headers[\"x-amz-expiration\"] !== undefined) {\n                    contents.Expiration = output.headers[\"x-amz-expiration\"];\n                }\n                if (output.headers[\"etag\"] !== undefined) {\n                    contents.ETag = output.headers[\"etag\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption\"] !== undefined) {\n                    contents.ServerSideEncryption = output.headers[\"x-amz-server-side-encryption\"];\n                }\n                if (output.headers[\"x-amz-version-id\"] !== undefined) {\n                    contents.VersionId = output.headers[\"x-amz-version-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-algorithm\"] !== undefined) {\n                    contents.SSECustomerAlgorithm = output.headers[\"x-amz-server-side-encryption-customer-algorithm\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-key-md5\"] !== undefined) {\n                    contents.SSECustomerKeyMD5 = output.headers[\"x-amz-server-side-encryption-customer-key-md5\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"] !== undefined) {\n                    contents.SSEKMSKeyId = output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-context\"] !== undefined) {\n                    contents.SSEKMSEncryptionContext = output.headers[\"x-amz-server-side-encryption-context\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] !== undefined) {\n                    contents.BucketKeyEnabled = output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] === \"true\";\n                }\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutObjectCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutObjectAclCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutObjectAclCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    RequestCharged: undefined,\n                };\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutObjectAclCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, parsedBody, message;\n    var _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _d = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_d.body = _e.sent(), _d)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"NoSuchKey\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#NoSuchKey\": return [3 /*break*/, 2];\n                }\n                return [3 /*break*/, 4];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlNoSuchKeyResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_e.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 5];\n            case 4:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _e.label = 5;\n            case 5:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutObjectLegalHoldCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutObjectLegalHoldCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    RequestCharged: undefined,\n                };\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutObjectLegalHoldCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutObjectLockConfigurationCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutObjectLockConfigurationCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    RequestCharged: undefined,\n                };\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutObjectLockConfigurationCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutObjectRetentionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutObjectRetentionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    RequestCharged: undefined,\n                };\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutObjectRetentionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutObjectTaggingCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutObjectTaggingCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    VersionId: undefined,\n                };\n                if (output.headers[\"x-amz-version-id\"] !== undefined) {\n                    contents.VersionId = output.headers[\"x-amz-version-id\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutObjectTaggingCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlPutPublicAccessBlockCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlPutPublicAccessBlockCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                };\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlPutPublicAccessBlockCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlRestoreObjectCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlRestoreObjectCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    RequestCharged: undefined,\n                    RestoreOutputPath: undefined,\n                };\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                if (output.headers[\"x-amz-restore-output-path\"] !== undefined) {\n                    contents.RestoreOutputPath = output.headers[\"x-amz-restore-output-path\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlRestoreObjectCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, parsedBody, message;\n    var _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _d = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_d.body = _e.sent(), _d)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"ObjectAlreadyInActiveTierError\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.s3#ObjectAlreadyInActiveTierError\": return [3 /*break*/, 2];\n                }\n                return [3 /*break*/, 4];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restXmlObjectAlreadyInActiveTierErrorResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_e.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 5];\n            case 4:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _e.label = 5;\n            case 5:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlSelectObjectContentCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        if (output.statusCode !== 200 && output.statusCode >= 300) {\n            return [2 /*return*/, deserializeAws_restXmlSelectObjectContentCommandError(output, context)];\n        }\n        contents = {\n            $metadata: deserializeMetadata(output),\n            Payload: undefined,\n        };\n        data = context.eventStreamMarshaller.deserialize(output.body, function (event) { return __awaiter(void 0, void 0, void 0, function () {\n            var eventName, eventHeaders, eventMessage, parsedEvent;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        eventName = Object.keys(event)[0];\n                        eventHeaders = Object.entries(event[eventName].headers).reduce(function (accummulator, curr) {\n                            accummulator[curr[0]] = curr[1].value;\n                            return accummulator;\n                        }, {});\n                        eventMessage = {\n                            headers: eventHeaders,\n                            body: event[eventName].body,\n                        };\n                        parsedEvent = (_a = {},\n                            _a[eventName] = eventMessage,\n                            _a);\n                        return [4 /*yield*/, deserializeAws_restXmlSelectObjectContentEventStream_event(parsedEvent, context)];\n                    case 1: return [2 /*return*/, _b.sent()];\n                }\n            });\n        }); });\n        contents.Payload = data;\n        return [2 /*return*/, Promise.resolve(contents)];\n    });\n}); };\nvar deserializeAws_restXmlSelectObjectContentCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlUploadPartCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlUploadPartCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    BucketKeyEnabled: undefined,\n                    ETag: undefined,\n                    RequestCharged: undefined,\n                    SSECustomerAlgorithm: undefined,\n                    SSECustomerKeyMD5: undefined,\n                    SSEKMSKeyId: undefined,\n                    ServerSideEncryption: undefined,\n                };\n                if (output.headers[\"x-amz-server-side-encryption\"] !== undefined) {\n                    contents.ServerSideEncryption = output.headers[\"x-amz-server-side-encryption\"];\n                }\n                if (output.headers[\"etag\"] !== undefined) {\n                    contents.ETag = output.headers[\"etag\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-algorithm\"] !== undefined) {\n                    contents.SSECustomerAlgorithm = output.headers[\"x-amz-server-side-encryption-customer-algorithm\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-key-md5\"] !== undefined) {\n                    contents.SSECustomerKeyMD5 = output.headers[\"x-amz-server-side-encryption-customer-key-md5\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"] !== undefined) {\n                    contents.SSEKMSKeyId = output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] !== undefined) {\n                    contents.BucketKeyEnabled = output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] === \"true\";\n                }\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, collectBody(output.body, context)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlUploadPartCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restXmlUploadPartCopyCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 300) {\n                    return [2 /*return*/, deserializeAws_restXmlUploadPartCopyCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    BucketKeyEnabled: undefined,\n                    CopyPartResult: undefined,\n                    CopySourceVersionId: undefined,\n                    RequestCharged: undefined,\n                    SSECustomerAlgorithm: undefined,\n                    SSECustomerKeyMD5: undefined,\n                    SSEKMSKeyId: undefined,\n                    ServerSideEncryption: undefined,\n                };\n                if (output.headers[\"x-amz-copy-source-version-id\"] !== undefined) {\n                    contents.CopySourceVersionId = output.headers[\"x-amz-copy-source-version-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption\"] !== undefined) {\n                    contents.ServerSideEncryption = output.headers[\"x-amz-server-side-encryption\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-algorithm\"] !== undefined) {\n                    contents.SSECustomerAlgorithm = output.headers[\"x-amz-server-side-encryption-customer-algorithm\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-customer-key-md5\"] !== undefined) {\n                    contents.SSECustomerKeyMD5 = output.headers[\"x-amz-server-side-encryption-customer-key-md5\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"] !== undefined) {\n                    contents.SSEKMSKeyId = output.headers[\"x-amz-server-side-encryption-aws-kms-key-id\"];\n                }\n                if (output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] !== undefined) {\n                    contents.BucketKeyEnabled = output.headers[\"x-amz-server-side-encryption-bucket-key-enabled\"] === \"true\";\n                }\n                if (output.headers[\"x-amz-request-charged\"] !== undefined) {\n                    contents.RequestCharged = output.headers[\"x-amz-request-charged\"];\n                }\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                contents.CopyPartResult = deserializeAws_restXmlCopyPartResult(data, context);\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restXmlUploadPartCopyCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, parsedBody, message;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _b = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_b.body = _c.sent(), _b)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestXmlErrorCode(output, parsedOutput.body);\n                switch (errorCode) {\n                    default:\n                        parsedBody = parsedOutput.body;\n                        errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                        response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                }\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nvar deserializeAws_restXmlSelectObjectContentEventStream_event = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, _b, _c, _d, _e;\n    return __generator(this, function (_f) {\n        switch (_f.label) {\n            case 0:\n                if (!(output[\"Records\"] !== undefined)) return [3 /*break*/, 2];\n                _a = {};\n                return [4 /*yield*/, deserializeAws_restXmlRecordsEvent_event(output[\"Records\"], context)];\n            case 1: return [2 /*return*/, (_a.Records = _f.sent(),\n                    _a)];\n            case 2:\n                if (!(output[\"Stats\"] !== undefined)) return [3 /*break*/, 4];\n                _b = {};\n                return [4 /*yield*/, deserializeAws_restXmlStatsEvent_event(output[\"Stats\"], context)];\n            case 3: return [2 /*return*/, (_b.Stats = _f.sent(),\n                    _b)];\n            case 4:\n                if (!(output[\"Progress\"] !== undefined)) return [3 /*break*/, 6];\n                _c = {};\n                return [4 /*yield*/, deserializeAws_restXmlProgressEvent_event(output[\"Progress\"], context)];\n            case 5: return [2 /*return*/, (_c.Progress = _f.sent(),\n                    _c)];\n            case 6:\n                if (!(output[\"Cont\"] !== undefined)) return [3 /*break*/, 8];\n                _d = {};\n                return [4 /*yield*/, deserializeAws_restXmlContinuationEvent_event(output[\"Cont\"], context)];\n            case 7: return [2 /*return*/, (_d.Cont = _f.sent(),\n                    _d)];\n            case 8:\n                if (!(output[\"End\"] !== undefined)) return [3 /*break*/, 10];\n                _e = {};\n                return [4 /*yield*/, deserializeAws_restXmlEndEvent_event(output[\"End\"], context)];\n            case 9: return [2 /*return*/, (_e.End = _f.sent(),\n                    _e)];\n            case 10: return [2 /*return*/, { $unknown: output }];\n        }\n    });\n}); };\nvar deserializeAws_restXmlContinuationEvent_event = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        contents = {};\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlEndEvent_event = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        contents = {};\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlProgressEvent_event = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                contents = {};\n                _a = contents;\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                _a.Details = _b.sent();\n                return [2 /*return*/, contents];\n        }\n    });\n}); };\nvar deserializeAws_restXmlRecordsEvent_event = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents;\n    return __generator(this, function (_a) {\n        contents = {};\n        contents.Payload = output.body;\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlStatsEvent_event = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                contents = {};\n                _a = contents;\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                _a.Details = _b.sent();\n                return [2 /*return*/, contents];\n        }\n    });\n}); };\nvar deserializeAws_restXmlBucketAlreadyExistsResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"BucketAlreadyExists\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n        };\n        data = parsedOutput.body;\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlBucketAlreadyOwnedByYouResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"BucketAlreadyOwnedByYou\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n        };\n        data = parsedOutput.body;\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlInvalidObjectStateResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"InvalidObjectState\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            AccessTier: undefined,\n            StorageClass: undefined,\n        };\n        data = parsedOutput.body;\n        if (data[\"AccessTier\"] !== undefined) {\n            contents.AccessTier = data[\"AccessTier\"];\n        }\n        if (data[\"StorageClass\"] !== undefined) {\n            contents.StorageClass = data[\"StorageClass\"];\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlNoSuchBucketResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"NoSuchBucket\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n        };\n        data = parsedOutput.body;\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlNoSuchKeyResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"NoSuchKey\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n        };\n        data = parsedOutput.body;\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlNoSuchUploadResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"NoSuchUpload\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n        };\n        data = parsedOutput.body;\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlObjectAlreadyInActiveTierErrorResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"ObjectAlreadyInActiveTierError\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n        };\n        data = parsedOutput.body;\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restXmlObjectNotInActiveTierErrorResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"ObjectNotInActiveTierError\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n        };\n        data = parsedOutput.body;\n        return [2 /*return*/, contents];\n    });\n}); };\nvar serializeAws_restXmlAbortIncompleteMultipartUpload = function (input, context) {\n    var bodyNode = new __XmlNode(\"AbortIncompleteMultipartUpload\");\n    if (input.DaysAfterInitiation !== undefined && input.DaysAfterInitiation !== null) {\n        var node = new __XmlNode(\"DaysAfterInitiation\")\n            .addChildNode(new __XmlText(String(input.DaysAfterInitiation)))\n            .withName(\"DaysAfterInitiation\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlAccelerateConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"AccelerateConfiguration\");\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"BucketAccelerateStatus\").addChildNode(new __XmlText(input.Status)).withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlAccessControlPolicy = function (input, context) {\n    var bodyNode = new __XmlNode(\"AccessControlPolicy\");\n    if (input.Grants !== undefined && input.Grants !== null) {\n        var nodes = serializeAws_restXmlGrants(input.Grants, context);\n        var containerNode_1 = new __XmlNode(\"AccessControlList\");\n        nodes.map(function (node) {\n            containerNode_1.addChildNode(node);\n        });\n        bodyNode.addChildNode(containerNode_1);\n    }\n    if (input.Owner !== undefined && input.Owner !== null) {\n        var node = serializeAws_restXmlOwner(input.Owner, context).withName(\"Owner\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlAccessControlTranslation = function (input, context) {\n    var bodyNode = new __XmlNode(\"AccessControlTranslation\");\n    if (input.Owner !== undefined && input.Owner !== null) {\n        var node = new __XmlNode(\"OwnerOverride\").addChildNode(new __XmlText(input.Owner)).withName(\"Owner\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlAllowedHeaders = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = new __XmlNode(\"AllowedHeader\").addChildNode(new __XmlText(entry));\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlAllowedMethods = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = new __XmlNode(\"AllowedMethod\").addChildNode(new __XmlText(entry));\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlAllowedOrigins = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = new __XmlNode(\"AllowedOrigin\").addChildNode(new __XmlText(entry));\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlAnalyticsAndOperator = function (input, context) {\n    var bodyNode = new __XmlNode(\"AnalyticsAndOperator\");\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Tags !== undefined && input.Tags !== null) {\n        var nodes = serializeAws_restXmlTagSet(input.Tags, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Tag\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlAnalyticsConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"AnalyticsConfiguration\");\n    if (input.Id !== undefined && input.Id !== null) {\n        var node = new __XmlNode(\"AnalyticsId\").addChildNode(new __XmlText(input.Id)).withName(\"Id\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Filter !== undefined && input.Filter !== null) {\n        var node = serializeAws_restXmlAnalyticsFilter(input.Filter, context).withName(\"Filter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.StorageClassAnalysis !== undefined && input.StorageClassAnalysis !== null) {\n        var node = serializeAws_restXmlStorageClassAnalysis(input.StorageClassAnalysis, context).withName(\"StorageClassAnalysis\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlAnalyticsExportDestination = function (input, context) {\n    var bodyNode = new __XmlNode(\"AnalyticsExportDestination\");\n    if (input.S3BucketDestination !== undefined && input.S3BucketDestination !== null) {\n        var node = serializeAws_restXmlAnalyticsS3BucketDestination(input.S3BucketDestination, context).withName(\"S3BucketDestination\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlAnalyticsFilter = function (input, context) {\n    var bodyNode = new __XmlNode(\"AnalyticsFilter\");\n    AnalyticsFilter.visit(input, {\n        Prefix: function (value) {\n            var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(value)).withName(\"Prefix\");\n            bodyNode.addChildNode(node);\n        },\n        Tag: function (value) {\n            var node = serializeAws_restXmlTag(value, context).withName(\"Tag\");\n            bodyNode.addChildNode(node);\n        },\n        And: function (value) {\n            var node = serializeAws_restXmlAnalyticsAndOperator(value, context).withName(\"And\");\n            bodyNode.addChildNode(node);\n        },\n        _: function (name, value) {\n            if (!(value instanceof __XmlNode || value instanceof __XmlText)) {\n                throw new Error(\"Unable to serialize unknown union members in XML.\");\n            }\n            bodyNode.addChildNode(new __XmlNode(name).addChildNode(value));\n        },\n    });\n    return bodyNode;\n};\nvar serializeAws_restXmlAnalyticsS3BucketDestination = function (input, context) {\n    var bodyNode = new __XmlNode(\"AnalyticsS3BucketDestination\");\n    if (input.Format !== undefined && input.Format !== null) {\n        var node = new __XmlNode(\"AnalyticsS3ExportFileFormat\")\n            .addChildNode(new __XmlText(input.Format))\n            .withName(\"Format\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.BucketAccountId !== undefined && input.BucketAccountId !== null) {\n        var node = new __XmlNode(\"AccountId\")\n            .addChildNode(new __XmlText(input.BucketAccountId))\n            .withName(\"BucketAccountId\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Bucket !== undefined && input.Bucket !== null) {\n        var node = new __XmlNode(\"BucketName\").addChildNode(new __XmlText(input.Bucket)).withName(\"Bucket\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlBucketLifecycleConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"BucketLifecycleConfiguration\");\n    if (input.Rules !== undefined && input.Rules !== null) {\n        var nodes = serializeAws_restXmlLifecycleRules(input.Rules, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Rule\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlBucketLoggingStatus = function (input, context) {\n    var bodyNode = new __XmlNode(\"BucketLoggingStatus\");\n    if (input.LoggingEnabled !== undefined && input.LoggingEnabled !== null) {\n        var node = serializeAws_restXmlLoggingEnabled(input.LoggingEnabled, context).withName(\"LoggingEnabled\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlCompletedMultipartUpload = function (input, context) {\n    var bodyNode = new __XmlNode(\"CompletedMultipartUpload\");\n    if (input.Parts !== undefined && input.Parts !== null) {\n        var nodes = serializeAws_restXmlCompletedPartList(input.Parts, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Part\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlCompletedPart = function (input, context) {\n    var bodyNode = new __XmlNode(\"CompletedPart\");\n    if (input.ETag !== undefined && input.ETag !== null) {\n        var node = new __XmlNode(\"ETag\").addChildNode(new __XmlText(input.ETag)).withName(\"ETag\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.PartNumber !== undefined && input.PartNumber !== null) {\n        var node = new __XmlNode(\"PartNumber\")\n            .addChildNode(new __XmlText(String(input.PartNumber)))\n            .withName(\"PartNumber\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlCompletedPartList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlCompletedPart(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlCondition = function (input, context) {\n    var bodyNode = new __XmlNode(\"Condition\");\n    if (input.HttpErrorCodeReturnedEquals !== undefined && input.HttpErrorCodeReturnedEquals !== null) {\n        var node = new __XmlNode(\"HttpErrorCodeReturnedEquals\")\n            .addChildNode(new __XmlText(input.HttpErrorCodeReturnedEquals))\n            .withName(\"HttpErrorCodeReturnedEquals\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.KeyPrefixEquals !== undefined && input.KeyPrefixEquals !== null) {\n        var node = new __XmlNode(\"KeyPrefixEquals\")\n            .addChildNode(new __XmlText(input.KeyPrefixEquals))\n            .withName(\"KeyPrefixEquals\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlCORSConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"CORSConfiguration\");\n    if (input.CORSRules !== undefined && input.CORSRules !== null) {\n        var nodes = serializeAws_restXmlCORSRules(input.CORSRules, context);\n        nodes.map(function (node) {\n            node = node.withName(\"CORSRule\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlCORSRule = function (input, context) {\n    var bodyNode = new __XmlNode(\"CORSRule\");\n    if (input.AllowedHeaders !== undefined && input.AllowedHeaders !== null) {\n        var nodes = serializeAws_restXmlAllowedHeaders(input.AllowedHeaders, context);\n        nodes.map(function (node) {\n            node = node.withName(\"AllowedHeader\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.AllowedMethods !== undefined && input.AllowedMethods !== null) {\n        var nodes = serializeAws_restXmlAllowedMethods(input.AllowedMethods, context);\n        nodes.map(function (node) {\n            node = node.withName(\"AllowedMethod\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.AllowedOrigins !== undefined && input.AllowedOrigins !== null) {\n        var nodes = serializeAws_restXmlAllowedOrigins(input.AllowedOrigins, context);\n        nodes.map(function (node) {\n            node = node.withName(\"AllowedOrigin\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.ExposeHeaders !== undefined && input.ExposeHeaders !== null) {\n        var nodes = serializeAws_restXmlExposeHeaders(input.ExposeHeaders, context);\n        nodes.map(function (node) {\n            node = node.withName(\"ExposeHeader\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.MaxAgeSeconds !== undefined && input.MaxAgeSeconds !== null) {\n        var node = new __XmlNode(\"MaxAgeSeconds\")\n            .addChildNode(new __XmlText(String(input.MaxAgeSeconds)))\n            .withName(\"MaxAgeSeconds\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlCORSRules = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlCORSRule(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlCreateBucketConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"CreateBucketConfiguration\");\n    if (input.LocationConstraint !== undefined && input.LocationConstraint !== null) {\n        var node = new __XmlNode(\"BucketLocationConstraint\")\n            .addChildNode(new __XmlText(input.LocationConstraint))\n            .withName(\"LocationConstraint\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlCSVInput = function (input, context) {\n    var bodyNode = new __XmlNode(\"CSVInput\");\n    if (input.FileHeaderInfo !== undefined && input.FileHeaderInfo !== null) {\n        var node = new __XmlNode(\"FileHeaderInfo\")\n            .addChildNode(new __XmlText(input.FileHeaderInfo))\n            .withName(\"FileHeaderInfo\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Comments !== undefined && input.Comments !== null) {\n        var node = new __XmlNode(\"Comments\").addChildNode(new __XmlText(input.Comments)).withName(\"Comments\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.QuoteEscapeCharacter !== undefined && input.QuoteEscapeCharacter !== null) {\n        var node = new __XmlNode(\"QuoteEscapeCharacter\")\n            .addChildNode(new __XmlText(input.QuoteEscapeCharacter))\n            .withName(\"QuoteEscapeCharacter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.RecordDelimiter !== undefined && input.RecordDelimiter !== null) {\n        var node = new __XmlNode(\"RecordDelimiter\")\n            .addChildNode(new __XmlText(input.RecordDelimiter))\n            .withName(\"RecordDelimiter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.FieldDelimiter !== undefined && input.FieldDelimiter !== null) {\n        var node = new __XmlNode(\"FieldDelimiter\")\n            .addChildNode(new __XmlText(input.FieldDelimiter))\n            .withName(\"FieldDelimiter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.QuoteCharacter !== undefined && input.QuoteCharacter !== null) {\n        var node = new __XmlNode(\"QuoteCharacter\")\n            .addChildNode(new __XmlText(input.QuoteCharacter))\n            .withName(\"QuoteCharacter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.AllowQuotedRecordDelimiter !== undefined && input.AllowQuotedRecordDelimiter !== null) {\n        var node = new __XmlNode(\"AllowQuotedRecordDelimiter\")\n            .addChildNode(new __XmlText(String(input.AllowQuotedRecordDelimiter)))\n            .withName(\"AllowQuotedRecordDelimiter\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlCSVOutput = function (input, context) {\n    var bodyNode = new __XmlNode(\"CSVOutput\");\n    if (input.QuoteFields !== undefined && input.QuoteFields !== null) {\n        var node = new __XmlNode(\"QuoteFields\").addChildNode(new __XmlText(input.QuoteFields)).withName(\"QuoteFields\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.QuoteEscapeCharacter !== undefined && input.QuoteEscapeCharacter !== null) {\n        var node = new __XmlNode(\"QuoteEscapeCharacter\")\n            .addChildNode(new __XmlText(input.QuoteEscapeCharacter))\n            .withName(\"QuoteEscapeCharacter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.RecordDelimiter !== undefined && input.RecordDelimiter !== null) {\n        var node = new __XmlNode(\"RecordDelimiter\")\n            .addChildNode(new __XmlText(input.RecordDelimiter))\n            .withName(\"RecordDelimiter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.FieldDelimiter !== undefined && input.FieldDelimiter !== null) {\n        var node = new __XmlNode(\"FieldDelimiter\")\n            .addChildNode(new __XmlText(input.FieldDelimiter))\n            .withName(\"FieldDelimiter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.QuoteCharacter !== undefined && input.QuoteCharacter !== null) {\n        var node = new __XmlNode(\"QuoteCharacter\")\n            .addChildNode(new __XmlText(input.QuoteCharacter))\n            .withName(\"QuoteCharacter\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlDefaultRetention = function (input, context) {\n    var bodyNode = new __XmlNode(\"DefaultRetention\");\n    if (input.Mode !== undefined && input.Mode !== null) {\n        var node = new __XmlNode(\"ObjectLockRetentionMode\").addChildNode(new __XmlText(input.Mode)).withName(\"Mode\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Days !== undefined && input.Days !== null) {\n        var node = new __XmlNode(\"Days\").addChildNode(new __XmlText(String(input.Days))).withName(\"Days\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Years !== undefined && input.Years !== null) {\n        var node = new __XmlNode(\"Years\").addChildNode(new __XmlText(String(input.Years))).withName(\"Years\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlDelete = function (input, context) {\n    var bodyNode = new __XmlNode(\"Delete\");\n    if (input.Objects !== undefined && input.Objects !== null) {\n        var nodes = serializeAws_restXmlObjectIdentifierList(input.Objects, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Object\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.Quiet !== undefined && input.Quiet !== null) {\n        var node = new __XmlNode(\"Quiet\").addChildNode(new __XmlText(String(input.Quiet))).withName(\"Quiet\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlDeleteMarkerReplication = function (input, context) {\n    var bodyNode = new __XmlNode(\"DeleteMarkerReplication\");\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"DeleteMarkerReplicationStatus\")\n            .addChildNode(new __XmlText(input.Status))\n            .withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlDestination = function (input, context) {\n    var bodyNode = new __XmlNode(\"Destination\");\n    if (input.Bucket !== undefined && input.Bucket !== null) {\n        var node = new __XmlNode(\"BucketName\").addChildNode(new __XmlText(input.Bucket)).withName(\"Bucket\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Account !== undefined && input.Account !== null) {\n        var node = new __XmlNode(\"AccountId\").addChildNode(new __XmlText(input.Account)).withName(\"Account\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.StorageClass !== undefined && input.StorageClass !== null) {\n        var node = new __XmlNode(\"StorageClass\").addChildNode(new __XmlText(input.StorageClass)).withName(\"StorageClass\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.AccessControlTranslation !== undefined && input.AccessControlTranslation !== null) {\n        var node = serializeAws_restXmlAccessControlTranslation(input.AccessControlTranslation, context).withName(\"AccessControlTranslation\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.EncryptionConfiguration !== undefined && input.EncryptionConfiguration !== null) {\n        var node = serializeAws_restXmlEncryptionConfiguration(input.EncryptionConfiguration, context).withName(\"EncryptionConfiguration\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ReplicationTime !== undefined && input.ReplicationTime !== null) {\n        var node = serializeAws_restXmlReplicationTime(input.ReplicationTime, context).withName(\"ReplicationTime\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Metrics !== undefined && input.Metrics !== null) {\n        var node = serializeAws_restXmlMetrics(input.Metrics, context).withName(\"Metrics\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlEncryption = function (input, context) {\n    var bodyNode = new __XmlNode(\"Encryption\");\n    if (input.EncryptionType !== undefined && input.EncryptionType !== null) {\n        var node = new __XmlNode(\"ServerSideEncryption\")\n            .addChildNode(new __XmlText(input.EncryptionType))\n            .withName(\"EncryptionType\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.KMSKeyId !== undefined && input.KMSKeyId !== null) {\n        var node = new __XmlNode(\"SSEKMSKeyId\").addChildNode(new __XmlText(input.KMSKeyId)).withName(\"KMSKeyId\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.KMSContext !== undefined && input.KMSContext !== null) {\n        var node = new __XmlNode(\"KMSContext\").addChildNode(new __XmlText(input.KMSContext)).withName(\"KMSContext\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlEncryptionConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"EncryptionConfiguration\");\n    if (input.ReplicaKmsKeyID !== undefined && input.ReplicaKmsKeyID !== null) {\n        var node = new __XmlNode(\"ReplicaKmsKeyID\")\n            .addChildNode(new __XmlText(input.ReplicaKmsKeyID))\n            .withName(\"ReplicaKmsKeyID\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlErrorDocument = function (input, context) {\n    var bodyNode = new __XmlNode(\"ErrorDocument\");\n    if (input.Key !== undefined && input.Key !== null) {\n        var node = new __XmlNode(\"ObjectKey\").addChildNode(new __XmlText(input.Key)).withName(\"Key\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlEventList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = new __XmlNode(\"Event\").addChildNode(new __XmlText(entry));\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlExistingObjectReplication = function (input, context) {\n    var bodyNode = new __XmlNode(\"ExistingObjectReplication\");\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"ExistingObjectReplicationStatus\")\n            .addChildNode(new __XmlText(input.Status))\n            .withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlExposeHeaders = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = new __XmlNode(\"ExposeHeader\").addChildNode(new __XmlText(entry));\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlFilterRule = function (input, context) {\n    var bodyNode = new __XmlNode(\"FilterRule\");\n    if (input.Name !== undefined && input.Name !== null) {\n        var node = new __XmlNode(\"FilterRuleName\").addChildNode(new __XmlText(input.Name)).withName(\"Name\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Value !== undefined && input.Value !== null) {\n        var node = new __XmlNode(\"FilterRuleValue\").addChildNode(new __XmlText(input.Value)).withName(\"Value\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlFilterRuleList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlFilterRule(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlGlacierJobParameters = function (input, context) {\n    var bodyNode = new __XmlNode(\"GlacierJobParameters\");\n    if (input.Tier !== undefined && input.Tier !== null) {\n        var node = new __XmlNode(\"Tier\").addChildNode(new __XmlText(input.Tier)).withName(\"Tier\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlGrant = function (input, context) {\n    var bodyNode = new __XmlNode(\"Grant\");\n    if (input.Grantee !== undefined && input.Grantee !== null) {\n        var node = serializeAws_restXmlGrantee(input.Grantee, context).withName(\"Grantee\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Permission !== undefined && input.Permission !== null) {\n        var node = new __XmlNode(\"Permission\").addChildNode(new __XmlText(input.Permission)).withName(\"Permission\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlGrantee = function (input, context) {\n    var bodyNode = new __XmlNode(\"Grantee\");\n    if (input.DisplayName !== undefined && input.DisplayName !== null) {\n        var node = new __XmlNode(\"DisplayName\").addChildNode(new __XmlText(input.DisplayName)).withName(\"DisplayName\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.EmailAddress !== undefined && input.EmailAddress !== null) {\n        var node = new __XmlNode(\"EmailAddress\").addChildNode(new __XmlText(input.EmailAddress)).withName(\"EmailAddress\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ID !== undefined && input.ID !== null) {\n        var node = new __XmlNode(\"ID\").addChildNode(new __XmlText(input.ID)).withName(\"ID\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.URI !== undefined && input.URI !== null) {\n        var node = new __XmlNode(\"URI\").addChildNode(new __XmlText(input.URI)).withName(\"URI\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Type !== undefined && input.Type !== null) {\n        bodyNode.addAttribute(\"xsi:type\", input.Type);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlGrants = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlGrant(entry, context);\n        return node.withName(\"Grant\");\n    });\n};\nvar serializeAws_restXmlIndexDocument = function (input, context) {\n    var bodyNode = new __XmlNode(\"IndexDocument\");\n    if (input.Suffix !== undefined && input.Suffix !== null) {\n        var node = new __XmlNode(\"Suffix\").addChildNode(new __XmlText(input.Suffix)).withName(\"Suffix\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlInputSerialization = function (input, context) {\n    var bodyNode = new __XmlNode(\"InputSerialization\");\n    if (input.CSV !== undefined && input.CSV !== null) {\n        var node = serializeAws_restXmlCSVInput(input.CSV, context).withName(\"CSV\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.CompressionType !== undefined && input.CompressionType !== null) {\n        var node = new __XmlNode(\"CompressionType\")\n            .addChildNode(new __XmlText(input.CompressionType))\n            .withName(\"CompressionType\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.JSON !== undefined && input.JSON !== null) {\n        var node = serializeAws_restXmlJSONInput(input.JSON, context).withName(\"JSON\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Parquet !== undefined && input.Parquet !== null) {\n        var node = serializeAws_restXmlParquetInput(input.Parquet, context).withName(\"Parquet\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlIntelligentTieringAndOperator = function (input, context) {\n    var bodyNode = new __XmlNode(\"IntelligentTieringAndOperator\");\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Tags !== undefined && input.Tags !== null) {\n        var nodes = serializeAws_restXmlTagSet(input.Tags, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Tag\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlIntelligentTieringConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"IntelligentTieringConfiguration\");\n    if (input.Id !== undefined && input.Id !== null) {\n        var node = new __XmlNode(\"IntelligentTieringId\").addChildNode(new __XmlText(input.Id)).withName(\"Id\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Filter !== undefined && input.Filter !== null) {\n        var node = serializeAws_restXmlIntelligentTieringFilter(input.Filter, context).withName(\"Filter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"IntelligentTieringStatus\").addChildNode(new __XmlText(input.Status)).withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Tierings !== undefined && input.Tierings !== null) {\n        var nodes = serializeAws_restXmlTieringList(input.Tierings, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Tiering\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlIntelligentTieringFilter = function (input, context) {\n    var bodyNode = new __XmlNode(\"IntelligentTieringFilter\");\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Tag !== undefined && input.Tag !== null) {\n        var node = serializeAws_restXmlTag(input.Tag, context).withName(\"Tag\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.And !== undefined && input.And !== null) {\n        var node = serializeAws_restXmlIntelligentTieringAndOperator(input.And, context).withName(\"And\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlInventoryConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"InventoryConfiguration\");\n    if (input.Destination !== undefined && input.Destination !== null) {\n        var node = serializeAws_restXmlInventoryDestination(input.Destination, context).withName(\"Destination\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.IsEnabled !== undefined && input.IsEnabled !== null) {\n        var node = new __XmlNode(\"IsEnabled\").addChildNode(new __XmlText(String(input.IsEnabled))).withName(\"IsEnabled\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Filter !== undefined && input.Filter !== null) {\n        var node = serializeAws_restXmlInventoryFilter(input.Filter, context).withName(\"Filter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Id !== undefined && input.Id !== null) {\n        var node = new __XmlNode(\"InventoryId\").addChildNode(new __XmlText(input.Id)).withName(\"Id\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.IncludedObjectVersions !== undefined && input.IncludedObjectVersions !== null) {\n        var node = new __XmlNode(\"InventoryIncludedObjectVersions\")\n            .addChildNode(new __XmlText(input.IncludedObjectVersions))\n            .withName(\"IncludedObjectVersions\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.OptionalFields !== undefined && input.OptionalFields !== null) {\n        var nodes = serializeAws_restXmlInventoryOptionalFields(input.OptionalFields, context);\n        var containerNode_2 = new __XmlNode(\"OptionalFields\");\n        nodes.map(function (node) {\n            containerNode_2.addChildNode(node);\n        });\n        bodyNode.addChildNode(containerNode_2);\n    }\n    if (input.Schedule !== undefined && input.Schedule !== null) {\n        var node = serializeAws_restXmlInventorySchedule(input.Schedule, context).withName(\"Schedule\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlInventoryDestination = function (input, context) {\n    var bodyNode = new __XmlNode(\"InventoryDestination\");\n    if (input.S3BucketDestination !== undefined && input.S3BucketDestination !== null) {\n        var node = serializeAws_restXmlInventoryS3BucketDestination(input.S3BucketDestination, context).withName(\"S3BucketDestination\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlInventoryEncryption = function (input, context) {\n    var bodyNode = new __XmlNode(\"InventoryEncryption\");\n    if (input.SSES3 !== undefined && input.SSES3 !== null) {\n        var node = serializeAws_restXmlSSES3(input.SSES3, context).withName(\"SSE-S3\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.SSEKMS !== undefined && input.SSEKMS !== null) {\n        var node = serializeAws_restXmlSSEKMS(input.SSEKMS, context).withName(\"SSE-KMS\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlInventoryFilter = function (input, context) {\n    var bodyNode = new __XmlNode(\"InventoryFilter\");\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlInventoryOptionalFields = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = new __XmlNode(\"InventoryOptionalField\").addChildNode(new __XmlText(entry));\n        return node.withName(\"Field\");\n    });\n};\nvar serializeAws_restXmlInventoryS3BucketDestination = function (input, context) {\n    var bodyNode = new __XmlNode(\"InventoryS3BucketDestination\");\n    if (input.AccountId !== undefined && input.AccountId !== null) {\n        var node = new __XmlNode(\"AccountId\").addChildNode(new __XmlText(input.AccountId)).withName(\"AccountId\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Bucket !== undefined && input.Bucket !== null) {\n        var node = new __XmlNode(\"BucketName\").addChildNode(new __XmlText(input.Bucket)).withName(\"Bucket\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Format !== undefined && input.Format !== null) {\n        var node = new __XmlNode(\"InventoryFormat\").addChildNode(new __XmlText(input.Format)).withName(\"Format\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Encryption !== undefined && input.Encryption !== null) {\n        var node = serializeAws_restXmlInventoryEncryption(input.Encryption, context).withName(\"Encryption\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlInventorySchedule = function (input, context) {\n    var bodyNode = new __XmlNode(\"InventorySchedule\");\n    if (input.Frequency !== undefined && input.Frequency !== null) {\n        var node = new __XmlNode(\"InventoryFrequency\").addChildNode(new __XmlText(input.Frequency)).withName(\"Frequency\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlJSONInput = function (input, context) {\n    var bodyNode = new __XmlNode(\"JSONInput\");\n    if (input.Type !== undefined && input.Type !== null) {\n        var node = new __XmlNode(\"JSONType\").addChildNode(new __XmlText(input.Type)).withName(\"Type\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlJSONOutput = function (input, context) {\n    var bodyNode = new __XmlNode(\"JSONOutput\");\n    if (input.RecordDelimiter !== undefined && input.RecordDelimiter !== null) {\n        var node = new __XmlNode(\"RecordDelimiter\")\n            .addChildNode(new __XmlText(input.RecordDelimiter))\n            .withName(\"RecordDelimiter\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlLambdaFunctionConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"LambdaFunctionConfiguration\");\n    if (input.Id !== undefined && input.Id !== null) {\n        var node = new __XmlNode(\"NotificationId\").addChildNode(new __XmlText(input.Id)).withName(\"Id\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.LambdaFunctionArn !== undefined && input.LambdaFunctionArn !== null) {\n        var node = new __XmlNode(\"LambdaFunctionArn\")\n            .addChildNode(new __XmlText(input.LambdaFunctionArn))\n            .withName(\"CloudFunction\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Events !== undefined && input.Events !== null) {\n        var nodes = serializeAws_restXmlEventList(input.Events, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Event\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.Filter !== undefined && input.Filter !== null) {\n        var node = serializeAws_restXmlNotificationConfigurationFilter(input.Filter, context).withName(\"Filter\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlLambdaFunctionConfigurationList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlLambdaFunctionConfiguration(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlLifecycleExpiration = function (input, context) {\n    var bodyNode = new __XmlNode(\"LifecycleExpiration\");\n    if (input.Date !== undefined && input.Date !== null) {\n        var node = new __XmlNode(\"Date\")\n            .addChildNode(new __XmlText(input.Date.toISOString().split(\".\")[0] + \"Z\"))\n            .withName(\"Date\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Days !== undefined && input.Days !== null) {\n        var node = new __XmlNode(\"Days\").addChildNode(new __XmlText(String(input.Days))).withName(\"Days\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ExpiredObjectDeleteMarker !== undefined && input.ExpiredObjectDeleteMarker !== null) {\n        var node = new __XmlNode(\"ExpiredObjectDeleteMarker\")\n            .addChildNode(new __XmlText(String(input.ExpiredObjectDeleteMarker)))\n            .withName(\"ExpiredObjectDeleteMarker\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlLifecycleRule = function (input, context) {\n    var bodyNode = new __XmlNode(\"LifecycleRule\");\n    if (input.Expiration !== undefined && input.Expiration !== null) {\n        var node = serializeAws_restXmlLifecycleExpiration(input.Expiration, context).withName(\"Expiration\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ID !== undefined && input.ID !== null) {\n        var node = new __XmlNode(\"ID\").addChildNode(new __XmlText(input.ID)).withName(\"ID\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Filter !== undefined && input.Filter !== null) {\n        var node = serializeAws_restXmlLifecycleRuleFilter(input.Filter, context).withName(\"Filter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"ExpirationStatus\").addChildNode(new __XmlText(input.Status)).withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Transitions !== undefined && input.Transitions !== null) {\n        var nodes = serializeAws_restXmlTransitionList(input.Transitions, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Transition\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.NoncurrentVersionTransitions !== undefined && input.NoncurrentVersionTransitions !== null) {\n        var nodes = serializeAws_restXmlNoncurrentVersionTransitionList(input.NoncurrentVersionTransitions, context);\n        nodes.map(function (node) {\n            node = node.withName(\"NoncurrentVersionTransition\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.NoncurrentVersionExpiration !== undefined && input.NoncurrentVersionExpiration !== null) {\n        var node = serializeAws_restXmlNoncurrentVersionExpiration(input.NoncurrentVersionExpiration, context).withName(\"NoncurrentVersionExpiration\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.AbortIncompleteMultipartUpload !== undefined && input.AbortIncompleteMultipartUpload !== null) {\n        var node = serializeAws_restXmlAbortIncompleteMultipartUpload(input.AbortIncompleteMultipartUpload, context).withName(\"AbortIncompleteMultipartUpload\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlLifecycleRuleAndOperator = function (input, context) {\n    var bodyNode = new __XmlNode(\"LifecycleRuleAndOperator\");\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Tags !== undefined && input.Tags !== null) {\n        var nodes = serializeAws_restXmlTagSet(input.Tags, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Tag\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlLifecycleRuleFilter = function (input, context) {\n    var bodyNode = new __XmlNode(\"LifecycleRuleFilter\");\n    LifecycleRuleFilter.visit(input, {\n        Prefix: function (value) {\n            var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(value)).withName(\"Prefix\");\n            bodyNode.addChildNode(node);\n        },\n        Tag: function (value) {\n            var node = serializeAws_restXmlTag(value, context).withName(\"Tag\");\n            bodyNode.addChildNode(node);\n        },\n        And: function (value) {\n            var node = serializeAws_restXmlLifecycleRuleAndOperator(value, context).withName(\"And\");\n            bodyNode.addChildNode(node);\n        },\n        _: function (name, value) {\n            if (!(value instanceof __XmlNode || value instanceof __XmlText)) {\n                throw new Error(\"Unable to serialize unknown union members in XML.\");\n            }\n            bodyNode.addChildNode(new __XmlNode(name).addChildNode(value));\n        },\n    });\n    return bodyNode;\n};\nvar serializeAws_restXmlLifecycleRules = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlLifecycleRule(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlLoggingEnabled = function (input, context) {\n    var bodyNode = new __XmlNode(\"LoggingEnabled\");\n    if (input.TargetBucket !== undefined && input.TargetBucket !== null) {\n        var node = new __XmlNode(\"TargetBucket\").addChildNode(new __XmlText(input.TargetBucket)).withName(\"TargetBucket\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.TargetGrants !== undefined && input.TargetGrants !== null) {\n        var nodes = serializeAws_restXmlTargetGrants(input.TargetGrants, context);\n        var containerNode_3 = new __XmlNode(\"TargetGrants\");\n        nodes.map(function (node) {\n            containerNode_3.addChildNode(node);\n        });\n        bodyNode.addChildNode(containerNode_3);\n    }\n    if (input.TargetPrefix !== undefined && input.TargetPrefix !== null) {\n        var node = new __XmlNode(\"TargetPrefix\").addChildNode(new __XmlText(input.TargetPrefix)).withName(\"TargetPrefix\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlMetadataEntry = function (input, context) {\n    var bodyNode = new __XmlNode(\"MetadataEntry\");\n    if (input.Name !== undefined && input.Name !== null) {\n        var node = new __XmlNode(\"MetadataKey\").addChildNode(new __XmlText(input.Name)).withName(\"Name\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Value !== undefined && input.Value !== null) {\n        var node = new __XmlNode(\"MetadataValue\").addChildNode(new __XmlText(input.Value)).withName(\"Value\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlMetrics = function (input, context) {\n    var bodyNode = new __XmlNode(\"Metrics\");\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"MetricsStatus\").addChildNode(new __XmlText(input.Status)).withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.EventThreshold !== undefined && input.EventThreshold !== null) {\n        var node = serializeAws_restXmlReplicationTimeValue(input.EventThreshold, context).withName(\"EventThreshold\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlMetricsAndOperator = function (input, context) {\n    var bodyNode = new __XmlNode(\"MetricsAndOperator\");\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Tags !== undefined && input.Tags !== null) {\n        var nodes = serializeAws_restXmlTagSet(input.Tags, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Tag\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlMetricsConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"MetricsConfiguration\");\n    if (input.Id !== undefined && input.Id !== null) {\n        var node = new __XmlNode(\"MetricsId\").addChildNode(new __XmlText(input.Id)).withName(\"Id\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Filter !== undefined && input.Filter !== null) {\n        var node = serializeAws_restXmlMetricsFilter(input.Filter, context).withName(\"Filter\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlMetricsFilter = function (input, context) {\n    var bodyNode = new __XmlNode(\"MetricsFilter\");\n    MetricsFilter.visit(input, {\n        Prefix: function (value) {\n            var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(value)).withName(\"Prefix\");\n            bodyNode.addChildNode(node);\n        },\n        Tag: function (value) {\n            var node = serializeAws_restXmlTag(value, context).withName(\"Tag\");\n            bodyNode.addChildNode(node);\n        },\n        And: function (value) {\n            var node = serializeAws_restXmlMetricsAndOperator(value, context).withName(\"And\");\n            bodyNode.addChildNode(node);\n        },\n        _: function (name, value) {\n            if (!(value instanceof __XmlNode || value instanceof __XmlText)) {\n                throw new Error(\"Unable to serialize unknown union members in XML.\");\n            }\n            bodyNode.addChildNode(new __XmlNode(name).addChildNode(value));\n        },\n    });\n    return bodyNode;\n};\nvar serializeAws_restXmlNoncurrentVersionExpiration = function (input, context) {\n    var bodyNode = new __XmlNode(\"NoncurrentVersionExpiration\");\n    if (input.NoncurrentDays !== undefined && input.NoncurrentDays !== null) {\n        var node = new __XmlNode(\"Days\")\n            .addChildNode(new __XmlText(String(input.NoncurrentDays)))\n            .withName(\"NoncurrentDays\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlNoncurrentVersionTransition = function (input, context) {\n    var bodyNode = new __XmlNode(\"NoncurrentVersionTransition\");\n    if (input.NoncurrentDays !== undefined && input.NoncurrentDays !== null) {\n        var node = new __XmlNode(\"Days\")\n            .addChildNode(new __XmlText(String(input.NoncurrentDays)))\n            .withName(\"NoncurrentDays\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.StorageClass !== undefined && input.StorageClass !== null) {\n        var node = new __XmlNode(\"TransitionStorageClass\")\n            .addChildNode(new __XmlText(input.StorageClass))\n            .withName(\"StorageClass\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlNoncurrentVersionTransitionList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlNoncurrentVersionTransition(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlNotificationConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"NotificationConfiguration\");\n    if (input.TopicConfigurations !== undefined && input.TopicConfigurations !== null) {\n        var nodes = serializeAws_restXmlTopicConfigurationList(input.TopicConfigurations, context);\n        nodes.map(function (node) {\n            node = node.withName(\"TopicConfiguration\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.QueueConfigurations !== undefined && input.QueueConfigurations !== null) {\n        var nodes = serializeAws_restXmlQueueConfigurationList(input.QueueConfigurations, context);\n        nodes.map(function (node) {\n            node = node.withName(\"QueueConfiguration\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.LambdaFunctionConfigurations !== undefined && input.LambdaFunctionConfigurations !== null) {\n        var nodes = serializeAws_restXmlLambdaFunctionConfigurationList(input.LambdaFunctionConfigurations, context);\n        nodes.map(function (node) {\n            node = node.withName(\"CloudFunctionConfiguration\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlNotificationConfigurationFilter = function (input, context) {\n    var bodyNode = new __XmlNode(\"NotificationConfigurationFilter\");\n    if (input.Key !== undefined && input.Key !== null) {\n        var node = serializeAws_restXmlS3KeyFilter(input.Key, context).withName(\"S3Key\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlObjectIdentifier = function (input, context) {\n    var bodyNode = new __XmlNode(\"ObjectIdentifier\");\n    if (input.Key !== undefined && input.Key !== null) {\n        var node = new __XmlNode(\"ObjectKey\").addChildNode(new __XmlText(input.Key)).withName(\"Key\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.VersionId !== undefined && input.VersionId !== null) {\n        var node = new __XmlNode(\"ObjectVersionId\").addChildNode(new __XmlText(input.VersionId)).withName(\"VersionId\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlObjectIdentifierList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlObjectIdentifier(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlObjectLockConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"ObjectLockConfiguration\");\n    if (input.ObjectLockEnabled !== undefined && input.ObjectLockEnabled !== null) {\n        var node = new __XmlNode(\"ObjectLockEnabled\")\n            .addChildNode(new __XmlText(input.ObjectLockEnabled))\n            .withName(\"ObjectLockEnabled\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Rule !== undefined && input.Rule !== null) {\n        var node = serializeAws_restXmlObjectLockRule(input.Rule, context).withName(\"Rule\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlObjectLockLegalHold = function (input, context) {\n    var bodyNode = new __XmlNode(\"ObjectLockLegalHold\");\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"ObjectLockLegalHoldStatus\")\n            .addChildNode(new __XmlText(input.Status))\n            .withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlObjectLockRetention = function (input, context) {\n    var bodyNode = new __XmlNode(\"ObjectLockRetention\");\n    if (input.Mode !== undefined && input.Mode !== null) {\n        var node = new __XmlNode(\"ObjectLockRetentionMode\").addChildNode(new __XmlText(input.Mode)).withName(\"Mode\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.RetainUntilDate !== undefined && input.RetainUntilDate !== null) {\n        var node = new __XmlNode(\"Date\")\n            .addChildNode(new __XmlText(input.RetainUntilDate.toISOString().split(\".\")[0] + \"Z\"))\n            .withName(\"RetainUntilDate\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlObjectLockRule = function (input, context) {\n    var bodyNode = new __XmlNode(\"ObjectLockRule\");\n    if (input.DefaultRetention !== undefined && input.DefaultRetention !== null) {\n        var node = serializeAws_restXmlDefaultRetention(input.DefaultRetention, context).withName(\"DefaultRetention\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlOutputLocation = function (input, context) {\n    var bodyNode = new __XmlNode(\"OutputLocation\");\n    if (input.S3 !== undefined && input.S3 !== null) {\n        var node = serializeAws_restXmlS3Location(input.S3, context).withName(\"S3\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlOutputSerialization = function (input, context) {\n    var bodyNode = new __XmlNode(\"OutputSerialization\");\n    if (input.CSV !== undefined && input.CSV !== null) {\n        var node = serializeAws_restXmlCSVOutput(input.CSV, context).withName(\"CSV\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.JSON !== undefined && input.JSON !== null) {\n        var node = serializeAws_restXmlJSONOutput(input.JSON, context).withName(\"JSON\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlOwner = function (input, context) {\n    var bodyNode = new __XmlNode(\"Owner\");\n    if (input.DisplayName !== undefined && input.DisplayName !== null) {\n        var node = new __XmlNode(\"DisplayName\").addChildNode(new __XmlText(input.DisplayName)).withName(\"DisplayName\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ID !== undefined && input.ID !== null) {\n        var node = new __XmlNode(\"ID\").addChildNode(new __XmlText(input.ID)).withName(\"ID\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlOwnershipControls = function (input, context) {\n    var bodyNode = new __XmlNode(\"OwnershipControls\");\n    if (input.Rules !== undefined && input.Rules !== null) {\n        var nodes = serializeAws_restXmlOwnershipControlsRules(input.Rules, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Rule\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlOwnershipControlsRule = function (input, context) {\n    var bodyNode = new __XmlNode(\"OwnershipControlsRule\");\n    if (input.ObjectOwnership !== undefined && input.ObjectOwnership !== null) {\n        var node = new __XmlNode(\"ObjectOwnership\")\n            .addChildNode(new __XmlText(input.ObjectOwnership))\n            .withName(\"ObjectOwnership\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlOwnershipControlsRules = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlOwnershipControlsRule(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlParquetInput = function (input, context) {\n    var bodyNode = new __XmlNode(\"ParquetInput\");\n    return bodyNode;\n};\nvar serializeAws_restXmlPublicAccessBlockConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"PublicAccessBlockConfiguration\");\n    if (input.BlockPublicAcls !== undefined && input.BlockPublicAcls !== null) {\n        var node = new __XmlNode(\"Setting\")\n            .addChildNode(new __XmlText(String(input.BlockPublicAcls)))\n            .withName(\"BlockPublicAcls\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.IgnorePublicAcls !== undefined && input.IgnorePublicAcls !== null) {\n        var node = new __XmlNode(\"Setting\")\n            .addChildNode(new __XmlText(String(input.IgnorePublicAcls)))\n            .withName(\"IgnorePublicAcls\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.BlockPublicPolicy !== undefined && input.BlockPublicPolicy !== null) {\n        var node = new __XmlNode(\"Setting\")\n            .addChildNode(new __XmlText(String(input.BlockPublicPolicy)))\n            .withName(\"BlockPublicPolicy\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.RestrictPublicBuckets !== undefined && input.RestrictPublicBuckets !== null) {\n        var node = new __XmlNode(\"Setting\")\n            .addChildNode(new __XmlText(String(input.RestrictPublicBuckets)))\n            .withName(\"RestrictPublicBuckets\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlQueueConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"QueueConfiguration\");\n    if (input.Id !== undefined && input.Id !== null) {\n        var node = new __XmlNode(\"NotificationId\").addChildNode(new __XmlText(input.Id)).withName(\"Id\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.QueueArn !== undefined && input.QueueArn !== null) {\n        var node = new __XmlNode(\"QueueArn\").addChildNode(new __XmlText(input.QueueArn)).withName(\"Queue\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Events !== undefined && input.Events !== null) {\n        var nodes = serializeAws_restXmlEventList(input.Events, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Event\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.Filter !== undefined && input.Filter !== null) {\n        var node = serializeAws_restXmlNotificationConfigurationFilter(input.Filter, context).withName(\"Filter\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlQueueConfigurationList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlQueueConfiguration(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlRedirect = function (input, context) {\n    var bodyNode = new __XmlNode(\"Redirect\");\n    if (input.HostName !== undefined && input.HostName !== null) {\n        var node = new __XmlNode(\"HostName\").addChildNode(new __XmlText(input.HostName)).withName(\"HostName\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.HttpRedirectCode !== undefined && input.HttpRedirectCode !== null) {\n        var node = new __XmlNode(\"HttpRedirectCode\")\n            .addChildNode(new __XmlText(input.HttpRedirectCode))\n            .withName(\"HttpRedirectCode\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Protocol !== undefined && input.Protocol !== null) {\n        var node = new __XmlNode(\"Protocol\").addChildNode(new __XmlText(input.Protocol)).withName(\"Protocol\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ReplaceKeyPrefixWith !== undefined && input.ReplaceKeyPrefixWith !== null) {\n        var node = new __XmlNode(\"ReplaceKeyPrefixWith\")\n            .addChildNode(new __XmlText(input.ReplaceKeyPrefixWith))\n            .withName(\"ReplaceKeyPrefixWith\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ReplaceKeyWith !== undefined && input.ReplaceKeyWith !== null) {\n        var node = new __XmlNode(\"ReplaceKeyWith\")\n            .addChildNode(new __XmlText(input.ReplaceKeyWith))\n            .withName(\"ReplaceKeyWith\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlRedirectAllRequestsTo = function (input, context) {\n    var bodyNode = new __XmlNode(\"RedirectAllRequestsTo\");\n    if (input.HostName !== undefined && input.HostName !== null) {\n        var node = new __XmlNode(\"HostName\").addChildNode(new __XmlText(input.HostName)).withName(\"HostName\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Protocol !== undefined && input.Protocol !== null) {\n        var node = new __XmlNode(\"Protocol\").addChildNode(new __XmlText(input.Protocol)).withName(\"Protocol\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlReplicaModifications = function (input, context) {\n    var bodyNode = new __XmlNode(\"ReplicaModifications\");\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"ReplicaModificationsStatus\")\n            .addChildNode(new __XmlText(input.Status))\n            .withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlReplicationConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"ReplicationConfiguration\");\n    if (input.Role !== undefined && input.Role !== null) {\n        var node = new __XmlNode(\"Role\").addChildNode(new __XmlText(input.Role)).withName(\"Role\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Rules !== undefined && input.Rules !== null) {\n        var nodes = serializeAws_restXmlReplicationRules(input.Rules, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Rule\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlReplicationRule = function (input, context) {\n    var bodyNode = new __XmlNode(\"ReplicationRule\");\n    if (input.ID !== undefined && input.ID !== null) {\n        var node = new __XmlNode(\"ID\").addChildNode(new __XmlText(input.ID)).withName(\"ID\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Priority !== undefined && input.Priority !== null) {\n        var node = new __XmlNode(\"Priority\").addChildNode(new __XmlText(String(input.Priority))).withName(\"Priority\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Filter !== undefined && input.Filter !== null) {\n        var node = serializeAws_restXmlReplicationRuleFilter(input.Filter, context).withName(\"Filter\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"ReplicationRuleStatus\").addChildNode(new __XmlText(input.Status)).withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.SourceSelectionCriteria !== undefined && input.SourceSelectionCriteria !== null) {\n        var node = serializeAws_restXmlSourceSelectionCriteria(input.SourceSelectionCriteria, context).withName(\"SourceSelectionCriteria\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ExistingObjectReplication !== undefined && input.ExistingObjectReplication !== null) {\n        var node = serializeAws_restXmlExistingObjectReplication(input.ExistingObjectReplication, context).withName(\"ExistingObjectReplication\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Destination !== undefined && input.Destination !== null) {\n        var node = serializeAws_restXmlDestination(input.Destination, context).withName(\"Destination\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.DeleteMarkerReplication !== undefined && input.DeleteMarkerReplication !== null) {\n        var node = serializeAws_restXmlDeleteMarkerReplication(input.DeleteMarkerReplication, context).withName(\"DeleteMarkerReplication\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlReplicationRuleAndOperator = function (input, context) {\n    var bodyNode = new __XmlNode(\"ReplicationRuleAndOperator\");\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Tags !== undefined && input.Tags !== null) {\n        var nodes = serializeAws_restXmlTagSet(input.Tags, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Tag\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlReplicationRuleFilter = function (input, context) {\n    var bodyNode = new __XmlNode(\"ReplicationRuleFilter\");\n    ReplicationRuleFilter.visit(input, {\n        Prefix: function (value) {\n            var node = new __XmlNode(\"Prefix\").addChildNode(new __XmlText(value)).withName(\"Prefix\");\n            bodyNode.addChildNode(node);\n        },\n        Tag: function (value) {\n            var node = serializeAws_restXmlTag(value, context).withName(\"Tag\");\n            bodyNode.addChildNode(node);\n        },\n        And: function (value) {\n            var node = serializeAws_restXmlReplicationRuleAndOperator(value, context).withName(\"And\");\n            bodyNode.addChildNode(node);\n        },\n        _: function (name, value) {\n            if (!(value instanceof __XmlNode || value instanceof __XmlText)) {\n                throw new Error(\"Unable to serialize unknown union members in XML.\");\n            }\n            bodyNode.addChildNode(new __XmlNode(name).addChildNode(value));\n        },\n    });\n    return bodyNode;\n};\nvar serializeAws_restXmlReplicationRules = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlReplicationRule(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlReplicationTime = function (input, context) {\n    var bodyNode = new __XmlNode(\"ReplicationTime\");\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"ReplicationTimeStatus\").addChildNode(new __XmlText(input.Status)).withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Time !== undefined && input.Time !== null) {\n        var node = serializeAws_restXmlReplicationTimeValue(input.Time, context).withName(\"Time\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlReplicationTimeValue = function (input, context) {\n    var bodyNode = new __XmlNode(\"ReplicationTimeValue\");\n    if (input.Minutes !== undefined && input.Minutes !== null) {\n        var node = new __XmlNode(\"Minutes\").addChildNode(new __XmlText(String(input.Minutes))).withName(\"Minutes\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlRequestPaymentConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"RequestPaymentConfiguration\");\n    if (input.Payer !== undefined && input.Payer !== null) {\n        var node = new __XmlNode(\"Payer\").addChildNode(new __XmlText(input.Payer)).withName(\"Payer\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlRequestProgress = function (input, context) {\n    var bodyNode = new __XmlNode(\"RequestProgress\");\n    if (input.Enabled !== undefined && input.Enabled !== null) {\n        var node = new __XmlNode(\"EnableRequestProgress\")\n            .addChildNode(new __XmlText(String(input.Enabled)))\n            .withName(\"Enabled\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlRestoreRequest = function (input, context) {\n    var bodyNode = new __XmlNode(\"RestoreRequest\");\n    if (input.Days !== undefined && input.Days !== null) {\n        var node = new __XmlNode(\"Days\").addChildNode(new __XmlText(String(input.Days))).withName(\"Days\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.GlacierJobParameters !== undefined && input.GlacierJobParameters !== null) {\n        var node = serializeAws_restXmlGlacierJobParameters(input.GlacierJobParameters, context).withName(\"GlacierJobParameters\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Type !== undefined && input.Type !== null) {\n        var node = new __XmlNode(\"RestoreRequestType\").addChildNode(new __XmlText(input.Type)).withName(\"Type\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Tier !== undefined && input.Tier !== null) {\n        var node = new __XmlNode(\"Tier\").addChildNode(new __XmlText(input.Tier)).withName(\"Tier\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Description !== undefined && input.Description !== null) {\n        var node = new __XmlNode(\"Description\").addChildNode(new __XmlText(input.Description)).withName(\"Description\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.SelectParameters !== undefined && input.SelectParameters !== null) {\n        var node = serializeAws_restXmlSelectParameters(input.SelectParameters, context).withName(\"SelectParameters\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.OutputLocation !== undefined && input.OutputLocation !== null) {\n        var node = serializeAws_restXmlOutputLocation(input.OutputLocation, context).withName(\"OutputLocation\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlRoutingRule = function (input, context) {\n    var bodyNode = new __XmlNode(\"RoutingRule\");\n    if (input.Condition !== undefined && input.Condition !== null) {\n        var node = serializeAws_restXmlCondition(input.Condition, context).withName(\"Condition\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Redirect !== undefined && input.Redirect !== null) {\n        var node = serializeAws_restXmlRedirect(input.Redirect, context).withName(\"Redirect\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlRoutingRules = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlRoutingRule(entry, context);\n        return node.withName(\"RoutingRule\");\n    });\n};\nvar serializeAws_restXmlS3KeyFilter = function (input, context) {\n    var bodyNode = new __XmlNode(\"S3KeyFilter\");\n    if (input.FilterRules !== undefined && input.FilterRules !== null) {\n        var nodes = serializeAws_restXmlFilterRuleList(input.FilterRules, context);\n        nodes.map(function (node) {\n            node = node.withName(\"FilterRule\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlS3Location = function (input, context) {\n    var bodyNode = new __XmlNode(\"S3Location\");\n    if (input.BucketName !== undefined && input.BucketName !== null) {\n        var node = new __XmlNode(\"BucketName\").addChildNode(new __XmlText(input.BucketName)).withName(\"BucketName\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Prefix !== undefined && input.Prefix !== null) {\n        var node = new __XmlNode(\"LocationPrefix\").addChildNode(new __XmlText(input.Prefix)).withName(\"Prefix\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Encryption !== undefined && input.Encryption !== null) {\n        var node = serializeAws_restXmlEncryption(input.Encryption, context).withName(\"Encryption\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.CannedACL !== undefined && input.CannedACL !== null) {\n        var node = new __XmlNode(\"ObjectCannedACL\").addChildNode(new __XmlText(input.CannedACL)).withName(\"CannedACL\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.AccessControlList !== undefined && input.AccessControlList !== null) {\n        var nodes = serializeAws_restXmlGrants(input.AccessControlList, context);\n        var containerNode_4 = new __XmlNode(\"AccessControlList\");\n        nodes.map(function (node) {\n            containerNode_4.addChildNode(node);\n        });\n        bodyNode.addChildNode(containerNode_4);\n    }\n    if (input.Tagging !== undefined && input.Tagging !== null) {\n        var node = serializeAws_restXmlTagging(input.Tagging, context).withName(\"Tagging\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.UserMetadata !== undefined && input.UserMetadata !== null) {\n        var nodes = serializeAws_restXmlUserMetadata(input.UserMetadata, context);\n        var containerNode_5 = new __XmlNode(\"UserMetadata\");\n        nodes.map(function (node) {\n            containerNode_5.addChildNode(node);\n        });\n        bodyNode.addChildNode(containerNode_5);\n    }\n    if (input.StorageClass !== undefined && input.StorageClass !== null) {\n        var node = new __XmlNode(\"StorageClass\").addChildNode(new __XmlText(input.StorageClass)).withName(\"StorageClass\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlScanRange = function (input, context) {\n    var bodyNode = new __XmlNode(\"ScanRange\");\n    if (input.Start !== undefined && input.Start !== null) {\n        var node = new __XmlNode(\"Start\").addChildNode(new __XmlText(String(input.Start))).withName(\"Start\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.End !== undefined && input.End !== null) {\n        var node = new __XmlNode(\"End\").addChildNode(new __XmlText(String(input.End))).withName(\"End\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlSelectParameters = function (input, context) {\n    var bodyNode = new __XmlNode(\"SelectParameters\");\n    if (input.InputSerialization !== undefined && input.InputSerialization !== null) {\n        var node = serializeAws_restXmlInputSerialization(input.InputSerialization, context).withName(\"InputSerialization\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ExpressionType !== undefined && input.ExpressionType !== null) {\n        var node = new __XmlNode(\"ExpressionType\")\n            .addChildNode(new __XmlText(input.ExpressionType))\n            .withName(\"ExpressionType\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Expression !== undefined && input.Expression !== null) {\n        var node = new __XmlNode(\"Expression\").addChildNode(new __XmlText(input.Expression)).withName(\"Expression\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.OutputSerialization !== undefined && input.OutputSerialization !== null) {\n        var node = serializeAws_restXmlOutputSerialization(input.OutputSerialization, context).withName(\"OutputSerialization\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlServerSideEncryptionByDefault = function (input, context) {\n    var bodyNode = new __XmlNode(\"ServerSideEncryptionByDefault\");\n    if (input.SSEAlgorithm !== undefined && input.SSEAlgorithm !== null) {\n        var node = new __XmlNode(\"ServerSideEncryption\")\n            .addChildNode(new __XmlText(input.SSEAlgorithm))\n            .withName(\"SSEAlgorithm\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.KMSMasterKeyID !== undefined && input.KMSMasterKeyID !== null) {\n        var node = new __XmlNode(\"SSEKMSKeyId\")\n            .addChildNode(new __XmlText(input.KMSMasterKeyID))\n            .withName(\"KMSMasterKeyID\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlServerSideEncryptionConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"ServerSideEncryptionConfiguration\");\n    if (input.Rules !== undefined && input.Rules !== null) {\n        var nodes = serializeAws_restXmlServerSideEncryptionRules(input.Rules, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Rule\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlServerSideEncryptionRule = function (input, context) {\n    var bodyNode = new __XmlNode(\"ServerSideEncryptionRule\");\n    if (input.ApplyServerSideEncryptionByDefault !== undefined && input.ApplyServerSideEncryptionByDefault !== null) {\n        var node = serializeAws_restXmlServerSideEncryptionByDefault(input.ApplyServerSideEncryptionByDefault, context).withName(\"ApplyServerSideEncryptionByDefault\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.BucketKeyEnabled !== undefined && input.BucketKeyEnabled !== null) {\n        var node = new __XmlNode(\"BucketKeyEnabled\")\n            .addChildNode(new __XmlText(String(input.BucketKeyEnabled)))\n            .withName(\"BucketKeyEnabled\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlServerSideEncryptionRules = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlServerSideEncryptionRule(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlSourceSelectionCriteria = function (input, context) {\n    var bodyNode = new __XmlNode(\"SourceSelectionCriteria\");\n    if (input.SseKmsEncryptedObjects !== undefined && input.SseKmsEncryptedObjects !== null) {\n        var node = serializeAws_restXmlSseKmsEncryptedObjects(input.SseKmsEncryptedObjects, context).withName(\"SseKmsEncryptedObjects\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.ReplicaModifications !== undefined && input.ReplicaModifications !== null) {\n        var node = serializeAws_restXmlReplicaModifications(input.ReplicaModifications, context).withName(\"ReplicaModifications\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlSSEKMS = function (input, context) {\n    var bodyNode = new __XmlNode(\"SSE-KMS\");\n    if (input.KeyId !== undefined && input.KeyId !== null) {\n        var node = new __XmlNode(\"SSEKMSKeyId\").addChildNode(new __XmlText(input.KeyId)).withName(\"KeyId\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlSseKmsEncryptedObjects = function (input, context) {\n    var bodyNode = new __XmlNode(\"SseKmsEncryptedObjects\");\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"SseKmsEncryptedObjectsStatus\")\n            .addChildNode(new __XmlText(input.Status))\n            .withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlSSES3 = function (input, context) {\n    var bodyNode = new __XmlNode(\"SSE-S3\");\n    return bodyNode;\n};\nvar serializeAws_restXmlStorageClassAnalysis = function (input, context) {\n    var bodyNode = new __XmlNode(\"StorageClassAnalysis\");\n    if (input.DataExport !== undefined && input.DataExport !== null) {\n        var node = serializeAws_restXmlStorageClassAnalysisDataExport(input.DataExport, context).withName(\"DataExport\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlStorageClassAnalysisDataExport = function (input, context) {\n    var bodyNode = new __XmlNode(\"StorageClassAnalysisDataExport\");\n    if (input.OutputSchemaVersion !== undefined && input.OutputSchemaVersion !== null) {\n        var node = new __XmlNode(\"StorageClassAnalysisSchemaVersion\")\n            .addChildNode(new __XmlText(input.OutputSchemaVersion))\n            .withName(\"OutputSchemaVersion\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Destination !== undefined && input.Destination !== null) {\n        var node = serializeAws_restXmlAnalyticsExportDestination(input.Destination, context).withName(\"Destination\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlTag = function (input, context) {\n    var bodyNode = new __XmlNode(\"Tag\");\n    if (input.Key !== undefined && input.Key !== null) {\n        var node = new __XmlNode(\"ObjectKey\").addChildNode(new __XmlText(input.Key)).withName(\"Key\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Value !== undefined && input.Value !== null) {\n        var node = new __XmlNode(\"Value\").addChildNode(new __XmlText(input.Value)).withName(\"Value\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlTagging = function (input, context) {\n    var bodyNode = new __XmlNode(\"Tagging\");\n    if (input.TagSet !== undefined && input.TagSet !== null) {\n        var nodes = serializeAws_restXmlTagSet(input.TagSet, context);\n        var containerNode_6 = new __XmlNode(\"TagSet\");\n        nodes.map(function (node) {\n            containerNode_6.addChildNode(node);\n        });\n        bodyNode.addChildNode(containerNode_6);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlTagSet = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlTag(entry, context);\n        return node.withName(\"Tag\");\n    });\n};\nvar serializeAws_restXmlTargetGrant = function (input, context) {\n    var bodyNode = new __XmlNode(\"TargetGrant\");\n    if (input.Grantee !== undefined && input.Grantee !== null) {\n        var node = serializeAws_restXmlGrantee(input.Grantee, context).withName(\"Grantee\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Permission !== undefined && input.Permission !== null) {\n        var node = new __XmlNode(\"BucketLogsPermission\")\n            .addChildNode(new __XmlText(input.Permission))\n            .withName(\"Permission\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlTargetGrants = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlTargetGrant(entry, context);\n        return node.withName(\"Grant\");\n    });\n};\nvar serializeAws_restXmlTiering = function (input, context) {\n    var bodyNode = new __XmlNode(\"Tiering\");\n    if (input.Days !== undefined && input.Days !== null) {\n        var node = new __XmlNode(\"IntelligentTieringDays\")\n            .addChildNode(new __XmlText(String(input.Days)))\n            .withName(\"Days\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.AccessTier !== undefined && input.AccessTier !== null) {\n        var node = new __XmlNode(\"IntelligentTieringAccessTier\")\n            .addChildNode(new __XmlText(input.AccessTier))\n            .withName(\"AccessTier\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlTieringList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlTiering(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlTopicConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"TopicConfiguration\");\n    if (input.Id !== undefined && input.Id !== null) {\n        var node = new __XmlNode(\"NotificationId\").addChildNode(new __XmlText(input.Id)).withName(\"Id\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.TopicArn !== undefined && input.TopicArn !== null) {\n        var node = new __XmlNode(\"TopicArn\").addChildNode(new __XmlText(input.TopicArn)).withName(\"Topic\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Events !== undefined && input.Events !== null) {\n        var nodes = serializeAws_restXmlEventList(input.Events, context);\n        nodes.map(function (node) {\n            node = node.withName(\"Event\");\n            bodyNode.addChildNode(node);\n        });\n    }\n    if (input.Filter !== undefined && input.Filter !== null) {\n        var node = serializeAws_restXmlNotificationConfigurationFilter(input.Filter, context).withName(\"Filter\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlTopicConfigurationList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlTopicConfiguration(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlTransition = function (input, context) {\n    var bodyNode = new __XmlNode(\"Transition\");\n    if (input.Date !== undefined && input.Date !== null) {\n        var node = new __XmlNode(\"Date\")\n            .addChildNode(new __XmlText(input.Date.toISOString().split(\".\")[0] + \"Z\"))\n            .withName(\"Date\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Days !== undefined && input.Days !== null) {\n        var node = new __XmlNode(\"Days\").addChildNode(new __XmlText(String(input.Days))).withName(\"Days\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.StorageClass !== undefined && input.StorageClass !== null) {\n        var node = new __XmlNode(\"TransitionStorageClass\")\n            .addChildNode(new __XmlText(input.StorageClass))\n            .withName(\"StorageClass\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlTransitionList = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlTransition(entry, context);\n        return node.withName(\"member\");\n    });\n};\nvar serializeAws_restXmlUserMetadata = function (input, context) {\n    return input\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        var node = serializeAws_restXmlMetadataEntry(entry, context);\n        return node.withName(\"MetadataEntry\");\n    });\n};\nvar serializeAws_restXmlVersioningConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"VersioningConfiguration\");\n    if (input.MFADelete !== undefined && input.MFADelete !== null) {\n        var node = new __XmlNode(\"MFADelete\").addChildNode(new __XmlText(input.MFADelete)).withName(\"MfaDelete\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.Status !== undefined && input.Status !== null) {\n        var node = new __XmlNode(\"BucketVersioningStatus\").addChildNode(new __XmlText(input.Status)).withName(\"Status\");\n        bodyNode.addChildNode(node);\n    }\n    return bodyNode;\n};\nvar serializeAws_restXmlWebsiteConfiguration = function (input, context) {\n    var bodyNode = new __XmlNode(\"WebsiteConfiguration\");\n    if (input.ErrorDocument !== undefined && input.ErrorDocument !== null) {\n        var node = serializeAws_restXmlErrorDocument(input.ErrorDocument, context).withName(\"ErrorDocument\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.IndexDocument !== undefined && input.IndexDocument !== null) {\n        var node = serializeAws_restXmlIndexDocument(input.IndexDocument, context).withName(\"IndexDocument\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.RedirectAllRequestsTo !== undefined && input.RedirectAllRequestsTo !== null) {\n        var node = serializeAws_restXmlRedirectAllRequestsTo(input.RedirectAllRequestsTo, context).withName(\"RedirectAllRequestsTo\");\n        bodyNode.addChildNode(node);\n    }\n    if (input.RoutingRules !== undefined && input.RoutingRules !== null) {\n        var nodes = serializeAws_restXmlRoutingRules(input.RoutingRules, context);\n        var containerNode_7 = new __XmlNode(\"RoutingRules\");\n        nodes.map(function (node) {\n            containerNode_7.addChildNode(node);\n        });\n        bodyNode.addChildNode(containerNode_7);\n    }\n    return bodyNode;\n};\nvar deserializeAws_restXmlAbortIncompleteMultipartUpload = function (output, context) {\n    var contents = {\n        DaysAfterInitiation: undefined,\n    };\n    if (output[\"DaysAfterInitiation\"] !== undefined) {\n        contents.DaysAfterInitiation = parseInt(output[\"DaysAfterInitiation\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlAccessControlTranslation = function (output, context) {\n    var contents = {\n        Owner: undefined,\n    };\n    if (output[\"Owner\"] !== undefined) {\n        contents.Owner = output[\"Owner\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlAllowedHeaders = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return entry;\n    });\n};\nvar deserializeAws_restXmlAllowedMethods = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return entry;\n    });\n};\nvar deserializeAws_restXmlAllowedOrigins = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return entry;\n    });\n};\nvar deserializeAws_restXmlAnalyticsAndOperator = function (output, context) {\n    var contents = {\n        Prefix: undefined,\n        Tags: undefined,\n    };\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    if (output.Tag === \"\") {\n        contents.Tags = [];\n    }\n    if (output[\"Tag\"] !== undefined) {\n        contents.Tags = deserializeAws_restXmlTagSet(__getArrayIfSingleItem(output[\"Tag\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlAnalyticsConfiguration = function (output, context) {\n    var contents = {\n        Id: undefined,\n        Filter: undefined,\n        StorageClassAnalysis: undefined,\n    };\n    if (output[\"Id\"] !== undefined) {\n        contents.Id = output[\"Id\"];\n    }\n    if (output[\"Filter\"] !== undefined) {\n        contents.Filter = deserializeAws_restXmlAnalyticsFilter(output[\"Filter\"], context);\n    }\n    if (output[\"StorageClassAnalysis\"] !== undefined) {\n        contents.StorageClassAnalysis = deserializeAws_restXmlStorageClassAnalysis(output[\"StorageClassAnalysis\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlAnalyticsConfigurationList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlAnalyticsConfiguration(entry, context);\n    });\n};\nvar deserializeAws_restXmlAnalyticsExportDestination = function (output, context) {\n    var contents = {\n        S3BucketDestination: undefined,\n    };\n    if (output[\"S3BucketDestination\"] !== undefined) {\n        contents.S3BucketDestination = deserializeAws_restXmlAnalyticsS3BucketDestination(output[\"S3BucketDestination\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlAnalyticsFilter = function (output, context) {\n    if (output[\"Prefix\"] !== undefined) {\n        return {\n            Prefix: output[\"Prefix\"],\n        };\n    }\n    if (output[\"Tag\"] !== undefined) {\n        return {\n            Tag: deserializeAws_restXmlTag(output[\"Tag\"], context),\n        };\n    }\n    if (output[\"And\"] !== undefined) {\n        return {\n            And: deserializeAws_restXmlAnalyticsAndOperator(output[\"And\"], context),\n        };\n    }\n    return { $unknown: Object.entries(output)[0] };\n};\nvar deserializeAws_restXmlAnalyticsS3BucketDestination = function (output, context) {\n    var contents = {\n        Format: undefined,\n        BucketAccountId: undefined,\n        Bucket: undefined,\n        Prefix: undefined,\n    };\n    if (output[\"Format\"] !== undefined) {\n        contents.Format = output[\"Format\"];\n    }\n    if (output[\"BucketAccountId\"] !== undefined) {\n        contents.BucketAccountId = output[\"BucketAccountId\"];\n    }\n    if (output[\"Bucket\"] !== undefined) {\n        contents.Bucket = output[\"Bucket\"];\n    }\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlBucket = function (output, context) {\n    var contents = {\n        Name: undefined,\n        CreationDate: undefined,\n    };\n    if (output[\"Name\"] !== undefined) {\n        contents.Name = output[\"Name\"];\n    }\n    if (output[\"CreationDate\"] !== undefined) {\n        contents.CreationDate = new Date(output[\"CreationDate\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlBuckets = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlBucket(entry, context);\n    });\n};\nvar deserializeAws_restXmlCommonPrefix = function (output, context) {\n    var contents = {\n        Prefix: undefined,\n    };\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlCommonPrefixList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlCommonPrefix(entry, context);\n    });\n};\nvar deserializeAws_restXmlCondition = function (output, context) {\n    var contents = {\n        HttpErrorCodeReturnedEquals: undefined,\n        KeyPrefixEquals: undefined,\n    };\n    if (output[\"HttpErrorCodeReturnedEquals\"] !== undefined) {\n        contents.HttpErrorCodeReturnedEquals = output[\"HttpErrorCodeReturnedEquals\"];\n    }\n    if (output[\"KeyPrefixEquals\"] !== undefined) {\n        contents.KeyPrefixEquals = output[\"KeyPrefixEquals\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlCopyObjectResult = function (output, context) {\n    var contents = {\n        ETag: undefined,\n        LastModified: undefined,\n    };\n    if (output[\"ETag\"] !== undefined) {\n        contents.ETag = output[\"ETag\"];\n    }\n    if (output[\"LastModified\"] !== undefined) {\n        contents.LastModified = new Date(output[\"LastModified\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlCopyPartResult = function (output, context) {\n    var contents = {\n        ETag: undefined,\n        LastModified: undefined,\n    };\n    if (output[\"ETag\"] !== undefined) {\n        contents.ETag = output[\"ETag\"];\n    }\n    if (output[\"LastModified\"] !== undefined) {\n        contents.LastModified = new Date(output[\"LastModified\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlCORSRule = function (output, context) {\n    var contents = {\n        AllowedHeaders: undefined,\n        AllowedMethods: undefined,\n        AllowedOrigins: undefined,\n        ExposeHeaders: undefined,\n        MaxAgeSeconds: undefined,\n    };\n    if (output.AllowedHeader === \"\") {\n        contents.AllowedHeaders = [];\n    }\n    if (output[\"AllowedHeader\"] !== undefined) {\n        contents.AllowedHeaders = deserializeAws_restXmlAllowedHeaders(__getArrayIfSingleItem(output[\"AllowedHeader\"]), context);\n    }\n    if (output.AllowedMethod === \"\") {\n        contents.AllowedMethods = [];\n    }\n    if (output[\"AllowedMethod\"] !== undefined) {\n        contents.AllowedMethods = deserializeAws_restXmlAllowedMethods(__getArrayIfSingleItem(output[\"AllowedMethod\"]), context);\n    }\n    if (output.AllowedOrigin === \"\") {\n        contents.AllowedOrigins = [];\n    }\n    if (output[\"AllowedOrigin\"] !== undefined) {\n        contents.AllowedOrigins = deserializeAws_restXmlAllowedOrigins(__getArrayIfSingleItem(output[\"AllowedOrigin\"]), context);\n    }\n    if (output.ExposeHeader === \"\") {\n        contents.ExposeHeaders = [];\n    }\n    if (output[\"ExposeHeader\"] !== undefined) {\n        contents.ExposeHeaders = deserializeAws_restXmlExposeHeaders(__getArrayIfSingleItem(output[\"ExposeHeader\"]), context);\n    }\n    if (output[\"MaxAgeSeconds\"] !== undefined) {\n        contents.MaxAgeSeconds = parseInt(output[\"MaxAgeSeconds\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlCORSRules = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlCORSRule(entry, context);\n    });\n};\nvar deserializeAws_restXmlDefaultRetention = function (output, context) {\n    var contents = {\n        Mode: undefined,\n        Days: undefined,\n        Years: undefined,\n    };\n    if (output[\"Mode\"] !== undefined) {\n        contents.Mode = output[\"Mode\"];\n    }\n    if (output[\"Days\"] !== undefined) {\n        contents.Days = parseInt(output[\"Days\"]);\n    }\n    if (output[\"Years\"] !== undefined) {\n        contents.Years = parseInt(output[\"Years\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlDeletedObject = function (output, context) {\n    var contents = {\n        Key: undefined,\n        VersionId: undefined,\n        DeleteMarker: undefined,\n        DeleteMarkerVersionId: undefined,\n    };\n    if (output[\"Key\"] !== undefined) {\n        contents.Key = output[\"Key\"];\n    }\n    if (output[\"VersionId\"] !== undefined) {\n        contents.VersionId = output[\"VersionId\"];\n    }\n    if (output[\"DeleteMarker\"] !== undefined) {\n        contents.DeleteMarker = output[\"DeleteMarker\"] == \"true\";\n    }\n    if (output[\"DeleteMarkerVersionId\"] !== undefined) {\n        contents.DeleteMarkerVersionId = output[\"DeleteMarkerVersionId\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlDeletedObjects = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlDeletedObject(entry, context);\n    });\n};\nvar deserializeAws_restXmlDeleteMarkerEntry = function (output, context) {\n    var contents = {\n        Owner: undefined,\n        Key: undefined,\n        VersionId: undefined,\n        IsLatest: undefined,\n        LastModified: undefined,\n    };\n    if (output[\"Owner\"] !== undefined) {\n        contents.Owner = deserializeAws_restXmlOwner(output[\"Owner\"], context);\n    }\n    if (output[\"Key\"] !== undefined) {\n        contents.Key = output[\"Key\"];\n    }\n    if (output[\"VersionId\"] !== undefined) {\n        contents.VersionId = output[\"VersionId\"];\n    }\n    if (output[\"IsLatest\"] !== undefined) {\n        contents.IsLatest = output[\"IsLatest\"] == \"true\";\n    }\n    if (output[\"LastModified\"] !== undefined) {\n        contents.LastModified = new Date(output[\"LastModified\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlDeleteMarkerReplication = function (output, context) {\n    var contents = {\n        Status: undefined,\n    };\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlDeleteMarkers = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlDeleteMarkerEntry(entry, context);\n    });\n};\nvar deserializeAws_restXmlDestination = function (output, context) {\n    var contents = {\n        Bucket: undefined,\n        Account: undefined,\n        StorageClass: undefined,\n        AccessControlTranslation: undefined,\n        EncryptionConfiguration: undefined,\n        ReplicationTime: undefined,\n        Metrics: undefined,\n    };\n    if (output[\"Bucket\"] !== undefined) {\n        contents.Bucket = output[\"Bucket\"];\n    }\n    if (output[\"Account\"] !== undefined) {\n        contents.Account = output[\"Account\"];\n    }\n    if (output[\"StorageClass\"] !== undefined) {\n        contents.StorageClass = output[\"StorageClass\"];\n    }\n    if (output[\"AccessControlTranslation\"] !== undefined) {\n        contents.AccessControlTranslation = deserializeAws_restXmlAccessControlTranslation(output[\"AccessControlTranslation\"], context);\n    }\n    if (output[\"EncryptionConfiguration\"] !== undefined) {\n        contents.EncryptionConfiguration = deserializeAws_restXmlEncryptionConfiguration(output[\"EncryptionConfiguration\"], context);\n    }\n    if (output[\"ReplicationTime\"] !== undefined) {\n        contents.ReplicationTime = deserializeAws_restXmlReplicationTime(output[\"ReplicationTime\"], context);\n    }\n    if (output[\"Metrics\"] !== undefined) {\n        contents.Metrics = deserializeAws_restXmlMetrics(output[\"Metrics\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlEncryptionConfiguration = function (output, context) {\n    var contents = {\n        ReplicaKmsKeyID: undefined,\n    };\n    if (output[\"ReplicaKmsKeyID\"] !== undefined) {\n        contents.ReplicaKmsKeyID = output[\"ReplicaKmsKeyID\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXml_Error = function (output, context) {\n    var contents = {\n        Key: undefined,\n        VersionId: undefined,\n        Code: undefined,\n        Message: undefined,\n    };\n    if (output[\"Key\"] !== undefined) {\n        contents.Key = output[\"Key\"];\n    }\n    if (output[\"VersionId\"] !== undefined) {\n        contents.VersionId = output[\"VersionId\"];\n    }\n    if (output[\"Code\"] !== undefined) {\n        contents.Code = output[\"Code\"];\n    }\n    if (output[\"Message\"] !== undefined) {\n        contents.Message = output[\"Message\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlErrorDocument = function (output, context) {\n    var contents = {\n        Key: undefined,\n    };\n    if (output[\"Key\"] !== undefined) {\n        contents.Key = output[\"Key\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlErrors = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXml_Error(entry, context);\n    });\n};\nvar deserializeAws_restXmlEventList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return entry;\n    });\n};\nvar deserializeAws_restXmlExistingObjectReplication = function (output, context) {\n    var contents = {\n        Status: undefined,\n    };\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlExposeHeaders = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return entry;\n    });\n};\nvar deserializeAws_restXmlFilterRule = function (output, context) {\n    var contents = {\n        Name: undefined,\n        Value: undefined,\n    };\n    if (output[\"Name\"] !== undefined) {\n        contents.Name = output[\"Name\"];\n    }\n    if (output[\"Value\"] !== undefined) {\n        contents.Value = output[\"Value\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlFilterRuleList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlFilterRule(entry, context);\n    });\n};\nvar deserializeAws_restXmlGrant = function (output, context) {\n    var contents = {\n        Grantee: undefined,\n        Permission: undefined,\n    };\n    if (output[\"Grantee\"] !== undefined) {\n        contents.Grantee = deserializeAws_restXmlGrantee(output[\"Grantee\"], context);\n    }\n    if (output[\"Permission\"] !== undefined) {\n        contents.Permission = output[\"Permission\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlGrantee = function (output, context) {\n    var contents = {\n        DisplayName: undefined,\n        EmailAddress: undefined,\n        ID: undefined,\n        URI: undefined,\n        Type: undefined,\n    };\n    if (output[\"DisplayName\"] !== undefined) {\n        contents.DisplayName = output[\"DisplayName\"];\n    }\n    if (output[\"EmailAddress\"] !== undefined) {\n        contents.EmailAddress = output[\"EmailAddress\"];\n    }\n    if (output[\"ID\"] !== undefined) {\n        contents.ID = output[\"ID\"];\n    }\n    if (output[\"URI\"] !== undefined) {\n        contents.URI = output[\"URI\"];\n    }\n    if (output[\"xsi:type\"] !== undefined) {\n        contents.Type = output[\"xsi:type\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlGrants = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlGrant(entry, context);\n    });\n};\nvar deserializeAws_restXmlIndexDocument = function (output, context) {\n    var contents = {\n        Suffix: undefined,\n    };\n    if (output[\"Suffix\"] !== undefined) {\n        contents.Suffix = output[\"Suffix\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlInitiator = function (output, context) {\n    var contents = {\n        ID: undefined,\n        DisplayName: undefined,\n    };\n    if (output[\"ID\"] !== undefined) {\n        contents.ID = output[\"ID\"];\n    }\n    if (output[\"DisplayName\"] !== undefined) {\n        contents.DisplayName = output[\"DisplayName\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlIntelligentTieringAndOperator = function (output, context) {\n    var contents = {\n        Prefix: undefined,\n        Tags: undefined,\n    };\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    if (output.Tag === \"\") {\n        contents.Tags = [];\n    }\n    if (output[\"Tag\"] !== undefined) {\n        contents.Tags = deserializeAws_restXmlTagSet(__getArrayIfSingleItem(output[\"Tag\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlIntelligentTieringConfiguration = function (output, context) {\n    var contents = {\n        Id: undefined,\n        Filter: undefined,\n        Status: undefined,\n        Tierings: undefined,\n    };\n    if (output[\"Id\"] !== undefined) {\n        contents.Id = output[\"Id\"];\n    }\n    if (output[\"Filter\"] !== undefined) {\n        contents.Filter = deserializeAws_restXmlIntelligentTieringFilter(output[\"Filter\"], context);\n    }\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    if (output.Tiering === \"\") {\n        contents.Tierings = [];\n    }\n    if (output[\"Tiering\"] !== undefined) {\n        contents.Tierings = deserializeAws_restXmlTieringList(__getArrayIfSingleItem(output[\"Tiering\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlIntelligentTieringConfigurationList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlIntelligentTieringConfiguration(entry, context);\n    });\n};\nvar deserializeAws_restXmlIntelligentTieringFilter = function (output, context) {\n    var contents = {\n        Prefix: undefined,\n        Tag: undefined,\n        And: undefined,\n    };\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    if (output[\"Tag\"] !== undefined) {\n        contents.Tag = deserializeAws_restXmlTag(output[\"Tag\"], context);\n    }\n    if (output[\"And\"] !== undefined) {\n        contents.And = deserializeAws_restXmlIntelligentTieringAndOperator(output[\"And\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlInventoryConfiguration = function (output, context) {\n    var contents = {\n        Destination: undefined,\n        IsEnabled: undefined,\n        Filter: undefined,\n        Id: undefined,\n        IncludedObjectVersions: undefined,\n        OptionalFields: undefined,\n        Schedule: undefined,\n    };\n    if (output[\"Destination\"] !== undefined) {\n        contents.Destination = deserializeAws_restXmlInventoryDestination(output[\"Destination\"], context);\n    }\n    if (output[\"IsEnabled\"] !== undefined) {\n        contents.IsEnabled = output[\"IsEnabled\"] == \"true\";\n    }\n    if (output[\"Filter\"] !== undefined) {\n        contents.Filter = deserializeAws_restXmlInventoryFilter(output[\"Filter\"], context);\n    }\n    if (output[\"Id\"] !== undefined) {\n        contents.Id = output[\"Id\"];\n    }\n    if (output[\"IncludedObjectVersions\"] !== undefined) {\n        contents.IncludedObjectVersions = output[\"IncludedObjectVersions\"];\n    }\n    if (output.OptionalFields === \"\") {\n        contents.OptionalFields = [];\n    }\n    if (output[\"OptionalFields\"] !== undefined && output[\"OptionalFields\"][\"Field\"] !== undefined) {\n        contents.OptionalFields = deserializeAws_restXmlInventoryOptionalFields(__getArrayIfSingleItem(output[\"OptionalFields\"][\"Field\"]), context);\n    }\n    if (output[\"Schedule\"] !== undefined) {\n        contents.Schedule = deserializeAws_restXmlInventorySchedule(output[\"Schedule\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlInventoryConfigurationList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlInventoryConfiguration(entry, context);\n    });\n};\nvar deserializeAws_restXmlInventoryDestination = function (output, context) {\n    var contents = {\n        S3BucketDestination: undefined,\n    };\n    if (output[\"S3BucketDestination\"] !== undefined) {\n        contents.S3BucketDestination = deserializeAws_restXmlInventoryS3BucketDestination(output[\"S3BucketDestination\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlInventoryEncryption = function (output, context) {\n    var contents = {\n        SSES3: undefined,\n        SSEKMS: undefined,\n    };\n    if (output[\"SSE-S3\"] !== undefined) {\n        contents.SSES3 = deserializeAws_restXmlSSES3(output[\"SSE-S3\"], context);\n    }\n    if (output[\"SSE-KMS\"] !== undefined) {\n        contents.SSEKMS = deserializeAws_restXmlSSEKMS(output[\"SSE-KMS\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlInventoryFilter = function (output, context) {\n    var contents = {\n        Prefix: undefined,\n    };\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlInventoryOptionalFields = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return entry;\n    });\n};\nvar deserializeAws_restXmlInventoryS3BucketDestination = function (output, context) {\n    var contents = {\n        AccountId: undefined,\n        Bucket: undefined,\n        Format: undefined,\n        Prefix: undefined,\n        Encryption: undefined,\n    };\n    if (output[\"AccountId\"] !== undefined) {\n        contents.AccountId = output[\"AccountId\"];\n    }\n    if (output[\"Bucket\"] !== undefined) {\n        contents.Bucket = output[\"Bucket\"];\n    }\n    if (output[\"Format\"] !== undefined) {\n        contents.Format = output[\"Format\"];\n    }\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    if (output[\"Encryption\"] !== undefined) {\n        contents.Encryption = deserializeAws_restXmlInventoryEncryption(output[\"Encryption\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlInventorySchedule = function (output, context) {\n    var contents = {\n        Frequency: undefined,\n    };\n    if (output[\"Frequency\"] !== undefined) {\n        contents.Frequency = output[\"Frequency\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlLambdaFunctionConfiguration = function (output, context) {\n    var contents = {\n        Id: undefined,\n        LambdaFunctionArn: undefined,\n        Events: undefined,\n        Filter: undefined,\n    };\n    if (output[\"Id\"] !== undefined) {\n        contents.Id = output[\"Id\"];\n    }\n    if (output[\"CloudFunction\"] !== undefined) {\n        contents.LambdaFunctionArn = output[\"CloudFunction\"];\n    }\n    if (output.Event === \"\") {\n        contents.Events = [];\n    }\n    if (output[\"Event\"] !== undefined) {\n        contents.Events = deserializeAws_restXmlEventList(__getArrayIfSingleItem(output[\"Event\"]), context);\n    }\n    if (output[\"Filter\"] !== undefined) {\n        contents.Filter = deserializeAws_restXmlNotificationConfigurationFilter(output[\"Filter\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlLambdaFunctionConfigurationList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlLambdaFunctionConfiguration(entry, context);\n    });\n};\nvar deserializeAws_restXmlLifecycleExpiration = function (output, context) {\n    var contents = {\n        Date: undefined,\n        Days: undefined,\n        ExpiredObjectDeleteMarker: undefined,\n    };\n    if (output[\"Date\"] !== undefined) {\n        contents.Date = new Date(output[\"Date\"]);\n    }\n    if (output[\"Days\"] !== undefined) {\n        contents.Days = parseInt(output[\"Days\"]);\n    }\n    if (output[\"ExpiredObjectDeleteMarker\"] !== undefined) {\n        contents.ExpiredObjectDeleteMarker = output[\"ExpiredObjectDeleteMarker\"] == \"true\";\n    }\n    return contents;\n};\nvar deserializeAws_restXmlLifecycleRule = function (output, context) {\n    var contents = {\n        Expiration: undefined,\n        ID: undefined,\n        Prefix: undefined,\n        Filter: undefined,\n        Status: undefined,\n        Transitions: undefined,\n        NoncurrentVersionTransitions: undefined,\n        NoncurrentVersionExpiration: undefined,\n        AbortIncompleteMultipartUpload: undefined,\n    };\n    if (output[\"Expiration\"] !== undefined) {\n        contents.Expiration = deserializeAws_restXmlLifecycleExpiration(output[\"Expiration\"], context);\n    }\n    if (output[\"ID\"] !== undefined) {\n        contents.ID = output[\"ID\"];\n    }\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    if (output[\"Filter\"] !== undefined) {\n        contents.Filter = deserializeAws_restXmlLifecycleRuleFilter(output[\"Filter\"], context);\n    }\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    if (output.Transition === \"\") {\n        contents.Transitions = [];\n    }\n    if (output[\"Transition\"] !== undefined) {\n        contents.Transitions = deserializeAws_restXmlTransitionList(__getArrayIfSingleItem(output[\"Transition\"]), context);\n    }\n    if (output.NoncurrentVersionTransition === \"\") {\n        contents.NoncurrentVersionTransitions = [];\n    }\n    if (output[\"NoncurrentVersionTransition\"] !== undefined) {\n        contents.NoncurrentVersionTransitions = deserializeAws_restXmlNoncurrentVersionTransitionList(__getArrayIfSingleItem(output[\"NoncurrentVersionTransition\"]), context);\n    }\n    if (output[\"NoncurrentVersionExpiration\"] !== undefined) {\n        contents.NoncurrentVersionExpiration = deserializeAws_restXmlNoncurrentVersionExpiration(output[\"NoncurrentVersionExpiration\"], context);\n    }\n    if (output[\"AbortIncompleteMultipartUpload\"] !== undefined) {\n        contents.AbortIncompleteMultipartUpload = deserializeAws_restXmlAbortIncompleteMultipartUpload(output[\"AbortIncompleteMultipartUpload\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlLifecycleRuleAndOperator = function (output, context) {\n    var contents = {\n        Prefix: undefined,\n        Tags: undefined,\n    };\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    if (output.Tag === \"\") {\n        contents.Tags = [];\n    }\n    if (output[\"Tag\"] !== undefined) {\n        contents.Tags = deserializeAws_restXmlTagSet(__getArrayIfSingleItem(output[\"Tag\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlLifecycleRuleFilter = function (output, context) {\n    if (output[\"Prefix\"] !== undefined) {\n        return {\n            Prefix: output[\"Prefix\"],\n        };\n    }\n    if (output[\"Tag\"] !== undefined) {\n        return {\n            Tag: deserializeAws_restXmlTag(output[\"Tag\"], context),\n        };\n    }\n    if (output[\"And\"] !== undefined) {\n        return {\n            And: deserializeAws_restXmlLifecycleRuleAndOperator(output[\"And\"], context),\n        };\n    }\n    return { $unknown: Object.entries(output)[0] };\n};\nvar deserializeAws_restXmlLifecycleRules = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlLifecycleRule(entry, context);\n    });\n};\nvar deserializeAws_restXmlLoggingEnabled = function (output, context) {\n    var contents = {\n        TargetBucket: undefined,\n        TargetGrants: undefined,\n        TargetPrefix: undefined,\n    };\n    if (output[\"TargetBucket\"] !== undefined) {\n        contents.TargetBucket = output[\"TargetBucket\"];\n    }\n    if (output.TargetGrants === \"\") {\n        contents.TargetGrants = [];\n    }\n    if (output[\"TargetGrants\"] !== undefined && output[\"TargetGrants\"][\"Grant\"] !== undefined) {\n        contents.TargetGrants = deserializeAws_restXmlTargetGrants(__getArrayIfSingleItem(output[\"TargetGrants\"][\"Grant\"]), context);\n    }\n    if (output[\"TargetPrefix\"] !== undefined) {\n        contents.TargetPrefix = output[\"TargetPrefix\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlMetrics = function (output, context) {\n    var contents = {\n        Status: undefined,\n        EventThreshold: undefined,\n    };\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    if (output[\"EventThreshold\"] !== undefined) {\n        contents.EventThreshold = deserializeAws_restXmlReplicationTimeValue(output[\"EventThreshold\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlMetricsAndOperator = function (output, context) {\n    var contents = {\n        Prefix: undefined,\n        Tags: undefined,\n    };\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    if (output.Tag === \"\") {\n        contents.Tags = [];\n    }\n    if (output[\"Tag\"] !== undefined) {\n        contents.Tags = deserializeAws_restXmlTagSet(__getArrayIfSingleItem(output[\"Tag\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlMetricsConfiguration = function (output, context) {\n    var contents = {\n        Id: undefined,\n        Filter: undefined,\n    };\n    if (output[\"Id\"] !== undefined) {\n        contents.Id = output[\"Id\"];\n    }\n    if (output[\"Filter\"] !== undefined) {\n        contents.Filter = deserializeAws_restXmlMetricsFilter(output[\"Filter\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlMetricsConfigurationList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlMetricsConfiguration(entry, context);\n    });\n};\nvar deserializeAws_restXmlMetricsFilter = function (output, context) {\n    if (output[\"Prefix\"] !== undefined) {\n        return {\n            Prefix: output[\"Prefix\"],\n        };\n    }\n    if (output[\"Tag\"] !== undefined) {\n        return {\n            Tag: deserializeAws_restXmlTag(output[\"Tag\"], context),\n        };\n    }\n    if (output[\"And\"] !== undefined) {\n        return {\n            And: deserializeAws_restXmlMetricsAndOperator(output[\"And\"], context),\n        };\n    }\n    return { $unknown: Object.entries(output)[0] };\n};\nvar deserializeAws_restXmlMultipartUpload = function (output, context) {\n    var contents = {\n        UploadId: undefined,\n        Key: undefined,\n        Initiated: undefined,\n        StorageClass: undefined,\n        Owner: undefined,\n        Initiator: undefined,\n    };\n    if (output[\"UploadId\"] !== undefined) {\n        contents.UploadId = output[\"UploadId\"];\n    }\n    if (output[\"Key\"] !== undefined) {\n        contents.Key = output[\"Key\"];\n    }\n    if (output[\"Initiated\"] !== undefined) {\n        contents.Initiated = new Date(output[\"Initiated\"]);\n    }\n    if (output[\"StorageClass\"] !== undefined) {\n        contents.StorageClass = output[\"StorageClass\"];\n    }\n    if (output[\"Owner\"] !== undefined) {\n        contents.Owner = deserializeAws_restXmlOwner(output[\"Owner\"], context);\n    }\n    if (output[\"Initiator\"] !== undefined) {\n        contents.Initiator = deserializeAws_restXmlInitiator(output[\"Initiator\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlMultipartUploadList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlMultipartUpload(entry, context);\n    });\n};\nvar deserializeAws_restXmlNoncurrentVersionExpiration = function (output, context) {\n    var contents = {\n        NoncurrentDays: undefined,\n    };\n    if (output[\"NoncurrentDays\"] !== undefined) {\n        contents.NoncurrentDays = parseInt(output[\"NoncurrentDays\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlNoncurrentVersionTransition = function (output, context) {\n    var contents = {\n        NoncurrentDays: undefined,\n        StorageClass: undefined,\n    };\n    if (output[\"NoncurrentDays\"] !== undefined) {\n        contents.NoncurrentDays = parseInt(output[\"NoncurrentDays\"]);\n    }\n    if (output[\"StorageClass\"] !== undefined) {\n        contents.StorageClass = output[\"StorageClass\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlNoncurrentVersionTransitionList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlNoncurrentVersionTransition(entry, context);\n    });\n};\nvar deserializeAws_restXmlNotificationConfigurationFilter = function (output, context) {\n    var contents = {\n        Key: undefined,\n    };\n    if (output[\"S3Key\"] !== undefined) {\n        contents.Key = deserializeAws_restXmlS3KeyFilter(output[\"S3Key\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXml_Object = function (output, context) {\n    var contents = {\n        Key: undefined,\n        LastModified: undefined,\n        ETag: undefined,\n        Size: undefined,\n        StorageClass: undefined,\n        Owner: undefined,\n    };\n    if (output[\"Key\"] !== undefined) {\n        contents.Key = output[\"Key\"];\n    }\n    if (output[\"LastModified\"] !== undefined) {\n        contents.LastModified = new Date(output[\"LastModified\"]);\n    }\n    if (output[\"ETag\"] !== undefined) {\n        contents.ETag = output[\"ETag\"];\n    }\n    if (output[\"Size\"] !== undefined) {\n        contents.Size = parseInt(output[\"Size\"]);\n    }\n    if (output[\"StorageClass\"] !== undefined) {\n        contents.StorageClass = output[\"StorageClass\"];\n    }\n    if (output[\"Owner\"] !== undefined) {\n        contents.Owner = deserializeAws_restXmlOwner(output[\"Owner\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlObjectList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXml_Object(entry, context);\n    });\n};\nvar deserializeAws_restXmlObjectLockConfiguration = function (output, context) {\n    var contents = {\n        ObjectLockEnabled: undefined,\n        Rule: undefined,\n    };\n    if (output[\"ObjectLockEnabled\"] !== undefined) {\n        contents.ObjectLockEnabled = output[\"ObjectLockEnabled\"];\n    }\n    if (output[\"Rule\"] !== undefined) {\n        contents.Rule = deserializeAws_restXmlObjectLockRule(output[\"Rule\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlObjectLockLegalHold = function (output, context) {\n    var contents = {\n        Status: undefined,\n    };\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlObjectLockRetention = function (output, context) {\n    var contents = {\n        Mode: undefined,\n        RetainUntilDate: undefined,\n    };\n    if (output[\"Mode\"] !== undefined) {\n        contents.Mode = output[\"Mode\"];\n    }\n    if (output[\"RetainUntilDate\"] !== undefined) {\n        contents.RetainUntilDate = new Date(output[\"RetainUntilDate\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlObjectLockRule = function (output, context) {\n    var contents = {\n        DefaultRetention: undefined,\n    };\n    if (output[\"DefaultRetention\"] !== undefined) {\n        contents.DefaultRetention = deserializeAws_restXmlDefaultRetention(output[\"DefaultRetention\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlObjectVersion = function (output, context) {\n    var contents = {\n        ETag: undefined,\n        Size: undefined,\n        StorageClass: undefined,\n        Key: undefined,\n        VersionId: undefined,\n        IsLatest: undefined,\n        LastModified: undefined,\n        Owner: undefined,\n    };\n    if (output[\"ETag\"] !== undefined) {\n        contents.ETag = output[\"ETag\"];\n    }\n    if (output[\"Size\"] !== undefined) {\n        contents.Size = parseInt(output[\"Size\"]);\n    }\n    if (output[\"StorageClass\"] !== undefined) {\n        contents.StorageClass = output[\"StorageClass\"];\n    }\n    if (output[\"Key\"] !== undefined) {\n        contents.Key = output[\"Key\"];\n    }\n    if (output[\"VersionId\"] !== undefined) {\n        contents.VersionId = output[\"VersionId\"];\n    }\n    if (output[\"IsLatest\"] !== undefined) {\n        contents.IsLatest = output[\"IsLatest\"] == \"true\";\n    }\n    if (output[\"LastModified\"] !== undefined) {\n        contents.LastModified = new Date(output[\"LastModified\"]);\n    }\n    if (output[\"Owner\"] !== undefined) {\n        contents.Owner = deserializeAws_restXmlOwner(output[\"Owner\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlObjectVersionList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlObjectVersion(entry, context);\n    });\n};\nvar deserializeAws_restXmlOwner = function (output, context) {\n    var contents = {\n        DisplayName: undefined,\n        ID: undefined,\n    };\n    if (output[\"DisplayName\"] !== undefined) {\n        contents.DisplayName = output[\"DisplayName\"];\n    }\n    if (output[\"ID\"] !== undefined) {\n        contents.ID = output[\"ID\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlOwnershipControls = function (output, context) {\n    var contents = {\n        Rules: undefined,\n    };\n    if (output.Rule === \"\") {\n        contents.Rules = [];\n    }\n    if (output[\"Rule\"] !== undefined) {\n        contents.Rules = deserializeAws_restXmlOwnershipControlsRules(__getArrayIfSingleItem(output[\"Rule\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlOwnershipControlsRule = function (output, context) {\n    var contents = {\n        ObjectOwnership: undefined,\n    };\n    if (output[\"ObjectOwnership\"] !== undefined) {\n        contents.ObjectOwnership = output[\"ObjectOwnership\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlOwnershipControlsRules = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlOwnershipControlsRule(entry, context);\n    });\n};\nvar deserializeAws_restXmlPart = function (output, context) {\n    var contents = {\n        PartNumber: undefined,\n        LastModified: undefined,\n        ETag: undefined,\n        Size: undefined,\n    };\n    if (output[\"PartNumber\"] !== undefined) {\n        contents.PartNumber = parseInt(output[\"PartNumber\"]);\n    }\n    if (output[\"LastModified\"] !== undefined) {\n        contents.LastModified = new Date(output[\"LastModified\"]);\n    }\n    if (output[\"ETag\"] !== undefined) {\n        contents.ETag = output[\"ETag\"];\n    }\n    if (output[\"Size\"] !== undefined) {\n        contents.Size = parseInt(output[\"Size\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlParts = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlPart(entry, context);\n    });\n};\nvar deserializeAws_restXmlPolicyStatus = function (output, context) {\n    var contents = {\n        IsPublic: undefined,\n    };\n    if (output[\"IsPublic\"] !== undefined) {\n        contents.IsPublic = output[\"IsPublic\"] == \"true\";\n    }\n    return contents;\n};\nvar deserializeAws_restXmlPublicAccessBlockConfiguration = function (output, context) {\n    var contents = {\n        BlockPublicAcls: undefined,\n        IgnorePublicAcls: undefined,\n        BlockPublicPolicy: undefined,\n        RestrictPublicBuckets: undefined,\n    };\n    if (output[\"BlockPublicAcls\"] !== undefined) {\n        contents.BlockPublicAcls = output[\"BlockPublicAcls\"] == \"true\";\n    }\n    if (output[\"IgnorePublicAcls\"] !== undefined) {\n        contents.IgnorePublicAcls = output[\"IgnorePublicAcls\"] == \"true\";\n    }\n    if (output[\"BlockPublicPolicy\"] !== undefined) {\n        contents.BlockPublicPolicy = output[\"BlockPublicPolicy\"] == \"true\";\n    }\n    if (output[\"RestrictPublicBuckets\"] !== undefined) {\n        contents.RestrictPublicBuckets = output[\"RestrictPublicBuckets\"] == \"true\";\n    }\n    return contents;\n};\nvar deserializeAws_restXmlQueueConfiguration = function (output, context) {\n    var contents = {\n        Id: undefined,\n        QueueArn: undefined,\n        Events: undefined,\n        Filter: undefined,\n    };\n    if (output[\"Id\"] !== undefined) {\n        contents.Id = output[\"Id\"];\n    }\n    if (output[\"Queue\"] !== undefined) {\n        contents.QueueArn = output[\"Queue\"];\n    }\n    if (output.Event === \"\") {\n        contents.Events = [];\n    }\n    if (output[\"Event\"] !== undefined) {\n        contents.Events = deserializeAws_restXmlEventList(__getArrayIfSingleItem(output[\"Event\"]), context);\n    }\n    if (output[\"Filter\"] !== undefined) {\n        contents.Filter = deserializeAws_restXmlNotificationConfigurationFilter(output[\"Filter\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlQueueConfigurationList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlQueueConfiguration(entry, context);\n    });\n};\nvar deserializeAws_restXmlRedirect = function (output, context) {\n    var contents = {\n        HostName: undefined,\n        HttpRedirectCode: undefined,\n        Protocol: undefined,\n        ReplaceKeyPrefixWith: undefined,\n        ReplaceKeyWith: undefined,\n    };\n    if (output[\"HostName\"] !== undefined) {\n        contents.HostName = output[\"HostName\"];\n    }\n    if (output[\"HttpRedirectCode\"] !== undefined) {\n        contents.HttpRedirectCode = output[\"HttpRedirectCode\"];\n    }\n    if (output[\"Protocol\"] !== undefined) {\n        contents.Protocol = output[\"Protocol\"];\n    }\n    if (output[\"ReplaceKeyPrefixWith\"] !== undefined) {\n        contents.ReplaceKeyPrefixWith = output[\"ReplaceKeyPrefixWith\"];\n    }\n    if (output[\"ReplaceKeyWith\"] !== undefined) {\n        contents.ReplaceKeyWith = output[\"ReplaceKeyWith\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlRedirectAllRequestsTo = function (output, context) {\n    var contents = {\n        HostName: undefined,\n        Protocol: undefined,\n    };\n    if (output[\"HostName\"] !== undefined) {\n        contents.HostName = output[\"HostName\"];\n    }\n    if (output[\"Protocol\"] !== undefined) {\n        contents.Protocol = output[\"Protocol\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlReplicaModifications = function (output, context) {\n    var contents = {\n        Status: undefined,\n    };\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlReplicationConfiguration = function (output, context) {\n    var contents = {\n        Role: undefined,\n        Rules: undefined,\n    };\n    if (output[\"Role\"] !== undefined) {\n        contents.Role = output[\"Role\"];\n    }\n    if (output.Rule === \"\") {\n        contents.Rules = [];\n    }\n    if (output[\"Rule\"] !== undefined) {\n        contents.Rules = deserializeAws_restXmlReplicationRules(__getArrayIfSingleItem(output[\"Rule\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlReplicationRule = function (output, context) {\n    var contents = {\n        ID: undefined,\n        Priority: undefined,\n        Prefix: undefined,\n        Filter: undefined,\n        Status: undefined,\n        SourceSelectionCriteria: undefined,\n        ExistingObjectReplication: undefined,\n        Destination: undefined,\n        DeleteMarkerReplication: undefined,\n    };\n    if (output[\"ID\"] !== undefined) {\n        contents.ID = output[\"ID\"];\n    }\n    if (output[\"Priority\"] !== undefined) {\n        contents.Priority = parseInt(output[\"Priority\"]);\n    }\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    if (output[\"Filter\"] !== undefined) {\n        contents.Filter = deserializeAws_restXmlReplicationRuleFilter(output[\"Filter\"], context);\n    }\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    if (output[\"SourceSelectionCriteria\"] !== undefined) {\n        contents.SourceSelectionCriteria = deserializeAws_restXmlSourceSelectionCriteria(output[\"SourceSelectionCriteria\"], context);\n    }\n    if (output[\"ExistingObjectReplication\"] !== undefined) {\n        contents.ExistingObjectReplication = deserializeAws_restXmlExistingObjectReplication(output[\"ExistingObjectReplication\"], context);\n    }\n    if (output[\"Destination\"] !== undefined) {\n        contents.Destination = deserializeAws_restXmlDestination(output[\"Destination\"], context);\n    }\n    if (output[\"DeleteMarkerReplication\"] !== undefined) {\n        contents.DeleteMarkerReplication = deserializeAws_restXmlDeleteMarkerReplication(output[\"DeleteMarkerReplication\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlReplicationRuleAndOperator = function (output, context) {\n    var contents = {\n        Prefix: undefined,\n        Tags: undefined,\n    };\n    if (output[\"Prefix\"] !== undefined) {\n        contents.Prefix = output[\"Prefix\"];\n    }\n    if (output.Tag === \"\") {\n        contents.Tags = [];\n    }\n    if (output[\"Tag\"] !== undefined) {\n        contents.Tags = deserializeAws_restXmlTagSet(__getArrayIfSingleItem(output[\"Tag\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlReplicationRuleFilter = function (output, context) {\n    if (output[\"Prefix\"] !== undefined) {\n        return {\n            Prefix: output[\"Prefix\"],\n        };\n    }\n    if (output[\"Tag\"] !== undefined) {\n        return {\n            Tag: deserializeAws_restXmlTag(output[\"Tag\"], context),\n        };\n    }\n    if (output[\"And\"] !== undefined) {\n        return {\n            And: deserializeAws_restXmlReplicationRuleAndOperator(output[\"And\"], context),\n        };\n    }\n    return { $unknown: Object.entries(output)[0] };\n};\nvar deserializeAws_restXmlReplicationRules = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlReplicationRule(entry, context);\n    });\n};\nvar deserializeAws_restXmlReplicationTime = function (output, context) {\n    var contents = {\n        Status: undefined,\n        Time: undefined,\n    };\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    if (output[\"Time\"] !== undefined) {\n        contents.Time = deserializeAws_restXmlReplicationTimeValue(output[\"Time\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlReplicationTimeValue = function (output, context) {\n    var contents = {\n        Minutes: undefined,\n    };\n    if (output[\"Minutes\"] !== undefined) {\n        contents.Minutes = parseInt(output[\"Minutes\"]);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlRoutingRule = function (output, context) {\n    var contents = {\n        Condition: undefined,\n        Redirect: undefined,\n    };\n    if (output[\"Condition\"] !== undefined) {\n        contents.Condition = deserializeAws_restXmlCondition(output[\"Condition\"], context);\n    }\n    if (output[\"Redirect\"] !== undefined) {\n        contents.Redirect = deserializeAws_restXmlRedirect(output[\"Redirect\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlRoutingRules = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlRoutingRule(entry, context);\n    });\n};\nvar deserializeAws_restXmlS3KeyFilter = function (output, context) {\n    var contents = {\n        FilterRules: undefined,\n    };\n    if (output.FilterRule === \"\") {\n        contents.FilterRules = [];\n    }\n    if (output[\"FilterRule\"] !== undefined) {\n        contents.FilterRules = deserializeAws_restXmlFilterRuleList(__getArrayIfSingleItem(output[\"FilterRule\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlServerSideEncryptionByDefault = function (output, context) {\n    var contents = {\n        SSEAlgorithm: undefined,\n        KMSMasterKeyID: undefined,\n    };\n    if (output[\"SSEAlgorithm\"] !== undefined) {\n        contents.SSEAlgorithm = output[\"SSEAlgorithm\"];\n    }\n    if (output[\"KMSMasterKeyID\"] !== undefined) {\n        contents.KMSMasterKeyID = output[\"KMSMasterKeyID\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlServerSideEncryptionConfiguration = function (output, context) {\n    var contents = {\n        Rules: undefined,\n    };\n    if (output.Rule === \"\") {\n        contents.Rules = [];\n    }\n    if (output[\"Rule\"] !== undefined) {\n        contents.Rules = deserializeAws_restXmlServerSideEncryptionRules(__getArrayIfSingleItem(output[\"Rule\"]), context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlServerSideEncryptionRule = function (output, context) {\n    var contents = {\n        ApplyServerSideEncryptionByDefault: undefined,\n        BucketKeyEnabled: undefined,\n    };\n    if (output[\"ApplyServerSideEncryptionByDefault\"] !== undefined) {\n        contents.ApplyServerSideEncryptionByDefault = deserializeAws_restXmlServerSideEncryptionByDefault(output[\"ApplyServerSideEncryptionByDefault\"], context);\n    }\n    if (output[\"BucketKeyEnabled\"] !== undefined) {\n        contents.BucketKeyEnabled = output[\"BucketKeyEnabled\"] == \"true\";\n    }\n    return contents;\n};\nvar deserializeAws_restXmlServerSideEncryptionRules = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlServerSideEncryptionRule(entry, context);\n    });\n};\nvar deserializeAws_restXmlSourceSelectionCriteria = function (output, context) {\n    var contents = {\n        SseKmsEncryptedObjects: undefined,\n        ReplicaModifications: undefined,\n    };\n    if (output[\"SseKmsEncryptedObjects\"] !== undefined) {\n        contents.SseKmsEncryptedObjects = deserializeAws_restXmlSseKmsEncryptedObjects(output[\"SseKmsEncryptedObjects\"], context);\n    }\n    if (output[\"ReplicaModifications\"] !== undefined) {\n        contents.ReplicaModifications = deserializeAws_restXmlReplicaModifications(output[\"ReplicaModifications\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlSSEKMS = function (output, context) {\n    var contents = {\n        KeyId: undefined,\n    };\n    if (output[\"KeyId\"] !== undefined) {\n        contents.KeyId = output[\"KeyId\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlSseKmsEncryptedObjects = function (output, context) {\n    var contents = {\n        Status: undefined,\n    };\n    if (output[\"Status\"] !== undefined) {\n        contents.Status = output[\"Status\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlSSES3 = function (output, context) {\n    var contents = {};\n    return contents;\n};\nvar deserializeAws_restXmlStorageClassAnalysis = function (output, context) {\n    var contents = {\n        DataExport: undefined,\n    };\n    if (output[\"DataExport\"] !== undefined) {\n        contents.DataExport = deserializeAws_restXmlStorageClassAnalysisDataExport(output[\"DataExport\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlStorageClassAnalysisDataExport = function (output, context) {\n    var contents = {\n        OutputSchemaVersion: undefined,\n        Destination: undefined,\n    };\n    if (output[\"OutputSchemaVersion\"] !== undefined) {\n        contents.OutputSchemaVersion = output[\"OutputSchemaVersion\"];\n    }\n    if (output[\"Destination\"] !== undefined) {\n        contents.Destination = deserializeAws_restXmlAnalyticsExportDestination(output[\"Destination\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlTag = function (output, context) {\n    var contents = {\n        Key: undefined,\n        Value: undefined,\n    };\n    if (output[\"Key\"] !== undefined) {\n        contents.Key = output[\"Key\"];\n    }\n    if (output[\"Value\"] !== undefined) {\n        contents.Value = output[\"Value\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlTagSet = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlTag(entry, context);\n    });\n};\nvar deserializeAws_restXmlTargetGrant = function (output, context) {\n    var contents = {\n        Grantee: undefined,\n        Permission: undefined,\n    };\n    if (output[\"Grantee\"] !== undefined) {\n        contents.Grantee = deserializeAws_restXmlGrantee(output[\"Grantee\"], context);\n    }\n    if (output[\"Permission\"] !== undefined) {\n        contents.Permission = output[\"Permission\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlTargetGrants = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlTargetGrant(entry, context);\n    });\n};\nvar deserializeAws_restXmlTiering = function (output, context) {\n    var contents = {\n        Days: undefined,\n        AccessTier: undefined,\n    };\n    if (output[\"Days\"] !== undefined) {\n        contents.Days = parseInt(output[\"Days\"]);\n    }\n    if (output[\"AccessTier\"] !== undefined) {\n        contents.AccessTier = output[\"AccessTier\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlTieringList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlTiering(entry, context);\n    });\n};\nvar deserializeAws_restXmlTopicConfiguration = function (output, context) {\n    var contents = {\n        Id: undefined,\n        TopicArn: undefined,\n        Events: undefined,\n        Filter: undefined,\n    };\n    if (output[\"Id\"] !== undefined) {\n        contents.Id = output[\"Id\"];\n    }\n    if (output[\"Topic\"] !== undefined) {\n        contents.TopicArn = output[\"Topic\"];\n    }\n    if (output.Event === \"\") {\n        contents.Events = [];\n    }\n    if (output[\"Event\"] !== undefined) {\n        contents.Events = deserializeAws_restXmlEventList(__getArrayIfSingleItem(output[\"Event\"]), context);\n    }\n    if (output[\"Filter\"] !== undefined) {\n        contents.Filter = deserializeAws_restXmlNotificationConfigurationFilter(output[\"Filter\"], context);\n    }\n    return contents;\n};\nvar deserializeAws_restXmlTopicConfigurationList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlTopicConfiguration(entry, context);\n    });\n};\nvar deserializeAws_restXmlTransition = function (output, context) {\n    var contents = {\n        Date: undefined,\n        Days: undefined,\n        StorageClass: undefined,\n    };\n    if (output[\"Date\"] !== undefined) {\n        contents.Date = new Date(output[\"Date\"]);\n    }\n    if (output[\"Days\"] !== undefined) {\n        contents.Days = parseInt(output[\"Days\"]);\n    }\n    if (output[\"StorageClass\"] !== undefined) {\n        contents.StorageClass = output[\"StorageClass\"];\n    }\n    return contents;\n};\nvar deserializeAws_restXmlTransitionList = function (output, context) {\n    return (output || [])\n        .filter(function (e) { return e != null; })\n        .map(function (entry) {\n        if (entry === null) {\n            return null;\n        }\n        return deserializeAws_restXmlTransition(entry, context);\n    });\n};\nvar deserializeMetadata = function (output) {\n    var _a;\n    return ({\n        httpStatusCode: output.statusCode,\n        requestId: (_a = output.headers[\"x-amzn-requestid\"]) !== null && _a !== void 0 ? _a : output.headers[\"x-amzn-request-id\"],\n        extendedRequestId: output.headers[\"x-amz-id-2\"],\n        cfId: output.headers[\"x-amz-cf-id\"],\n    });\n};\n// Collect low-level response body stream to Uint8Array.\nvar collectBody = function (streamBody, context) {\n    if (streamBody === void 0) { streamBody = new Uint8Array(); }\n    if (streamBody instanceof Uint8Array) {\n        return Promise.resolve(streamBody);\n    }\n    return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n};\n// Encode Uint8Array data into string with utf-8.\nvar collectBodyString = function (streamBody, context) {\n    return collectBody(streamBody, context).then(function (body) { return context.utf8Encoder(body); });\n};\nvar isSerializableHeaderValue = function (value) {\n    return value !== undefined &&\n        value !== null &&\n        value !== \"\" &&\n        (!Object.getOwnPropertyNames(value).includes(\"length\") || value.length != 0) &&\n        (!Object.getOwnPropertyNames(value).includes(\"size\") || value.size != 0);\n};\nvar decodeEscapedXML = function (str) {\n    return str\n        .replace(/&amp;/g, \"&\")\n        .replace(/&apos;/g, \"'\")\n        .replace(/&quot;/g, '\"')\n        .replace(/&gt;/g, \">\")\n        .replace(/&lt;/g, \"<\");\n};\nvar parseBody = function (streamBody, context) {\n    return collectBodyString(streamBody, context).then(function (encoded) {\n        if (encoded.length) {\n            var parsedObj = xmlParse(encoded, {\n                attributeNamePrefix: \"\",\n                ignoreAttributes: false,\n                parseNodeValue: false,\n                tagValueProcessor: function (val, tagName) { return decodeEscapedXML(val); },\n            });\n            var textNodeName = \"#text\";\n            var key = Object.keys(parsedObj)[0];\n            var parsedObjToReturn = parsedObj[key];\n            if (parsedObjToReturn[textNodeName]) {\n                parsedObjToReturn[key] = parsedObjToReturn[textNodeName];\n                delete parsedObjToReturn[textNodeName];\n            }\n            return __getValueFromTextNode(parsedObjToReturn);\n        }\n        return {};\n    });\n};\nvar loadRestXmlErrorCode = function (output, data) {\n    if (data.Code !== undefined) {\n        return data.Code;\n    }\n    if (output.statusCode == 404) {\n        return \"NotFound\";\n    }\n    return \"\";\n};\n//# sourceMappingURL=Aws_restXml.js.map","import { __read } from \"tslib\";\nvar DOMAIN_PATTERN = /^[a-z0-9][a-z0-9\\.\\-]{1,61}[a-z0-9]$/;\nvar IP_ADDRESS_PATTERN = /(\\d+\\.){3}\\d+/;\nvar DOTS_PATTERN = /\\.\\./;\nexport var DOT_PATTERN = /\\./;\nexport var S3_HOSTNAME_PATTERN = /^(.+\\.)?s3[.-]([a-z0-9-]+)\\./;\nvar S3_US_EAST_1_ALTNAME_PATTERN = /^s3(-external-1)?\\.amazonaws\\.com$/;\nvar AWS_PARTITION_SUFFIX = \"amazonaws.com\";\nexport var isBucketNameOptions = function (options) { return typeof options.bucketName === \"string\"; };\n/**\n * Get pseudo region from supplied region. For example, if supplied with `fips-us-west-2`, it returns `us-west-2`.\n * @internal\n */\nexport var getPseudoRegion = function (region) { return (isFipsRegion(region) ? region.replace(/fips-|-fips/, \"\") : region); };\n/**\n * Determines whether a given string is DNS compliant per the rules outlined by\n * S3. Length, capitaization, and leading dot restrictions are enforced by the\n * DOMAIN_PATTERN regular expression.\n * @internal\n *\n * @see https://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html\n */\nexport var isDnsCompatibleBucketName = function (bucketName) {\n    return DOMAIN_PATTERN.test(bucketName) && !IP_ADDRESS_PATTERN.test(bucketName) && !DOTS_PATTERN.test(bucketName);\n};\nvar getRegionalSuffix = function (hostname) {\n    var parts = hostname.match(S3_HOSTNAME_PATTERN);\n    return [parts[2], hostname.replace(new RegExp(\"^\" + parts[0]), \"\")];\n};\nexport var getSuffix = function (hostname) {\n    return S3_US_EAST_1_ALTNAME_PATTERN.test(hostname) ? [\"us-east-1\", AWS_PARTITION_SUFFIX] : getRegionalSuffix(hostname);\n};\n/**\n * Infer region and hostname suffix from a complete hostname\n * @internal\n * @param hostname - Hostname\n * @returns [Region, Hostname suffix]\n */\nexport var getSuffixForArnEndpoint = function (hostname) {\n    return S3_US_EAST_1_ALTNAME_PATTERN.test(hostname)\n        ? [hostname.replace(\".\" + AWS_PARTITION_SUFFIX, \"\"), AWS_PARTITION_SUFFIX]\n        : getRegionalSuffix(hostname);\n};\nexport var validateArnEndpointOptions = function (options) {\n    if (options.pathStyleEndpoint) {\n        throw new Error(\"Path-style S3 endpoint is not supported when bucket is an ARN\");\n    }\n    if (options.accelerateEndpoint) {\n        throw new Error(\"Accelerate endpoint is not supported when bucket is an ARN\");\n    }\n    if (!options.tlsCompatible) {\n        throw new Error(\"HTTPS is required when bucket is an ARN\");\n    }\n};\nexport var validateService = function (service) {\n    if (service !== \"s3\" && service !== \"s3-outposts\") {\n        throw new Error(\"Expect 's3' or 's3-outposts' in ARN service component\");\n    }\n};\nexport var validateS3Service = function (service) {\n    if (service !== \"s3\") {\n        throw new Error(\"Expect 's3' in Accesspoint ARN service component\");\n    }\n};\nexport var validateOutpostService = function (service) {\n    if (service !== \"s3-outposts\") {\n        throw new Error(\"Expect 's3-posts' in Outpost ARN service component\");\n    }\n};\n/**\n * Validate partition inferred from ARN is the same to `options.clientPartition`.\n * @internal\n */\nexport var validatePartition = function (partition, options) {\n    if (partition !== options.clientPartition) {\n        throw new Error(\"Partition in ARN is incompatible, got \\\"\" + partition + \"\\\" but expected \\\"\" + options.clientPartition + \"\\\"\");\n    }\n};\n/**\n * validate region value inferred from ARN. If `options.useArnRegion` is set, it validates the region is not a FIPS\n * region. If `options.useArnRegion` is unset, it validates the region is equal to `options.clientRegion` or\n * `options.clientSigningRegion`.\n * @internal\n */\nexport var validateRegion = function (region, options) {\n    if (region === \"\") {\n        throw new Error(\"ARN region is empty\");\n    }\n    if (!options.useArnRegion &&\n        !isEqualRegions(region, options.clientRegion) &&\n        !isEqualRegions(region, options.clientSigningRegion)) {\n        throw new Error(\"Region in ARN is incompatible, got \" + region + \" but expected \" + options.clientRegion);\n    }\n    if (options.useArnRegion && isFipsRegion(region)) {\n        throw new Error(\"Endpoint does not support FIPS region\");\n    }\n};\nvar isFipsRegion = function (region) { return region.startsWith(\"fips-\") || region.endsWith(\"-fips\"); };\nvar isEqualRegions = function (regionA, regionB) {\n    return regionA === regionB || getPseudoRegion(regionA) === regionB || regionA === getPseudoRegion(regionB);\n};\n/**\n * Validate an account ID\n * @internal\n */\nexport var validateAccountId = function (accountId) {\n    if (!/[0-9]{12}/.exec(accountId)) {\n        throw new Error(\"Access point ARN accountID does not match regex '[0-9]{12}'\");\n    }\n};\n/**\n * Validate a host label according to https://tools.ietf.org/html/rfc3986#section-3.2.2\n * @internal\n */\nexport var validateDNSHostLabel = function (label, options) {\n    if (options === void 0) { options = { tlsCompatible: true }; }\n    // reference: https://tools.ietf.org/html/rfc3986#section-3.2.2\n    if (label.length >= 64 ||\n        !/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(label) ||\n        /(\\d+\\.){3}\\d+/.test(label) ||\n        /[.-]{2}/.test(label) ||\n        ((options === null || options === void 0 ? void 0 : options.tlsCompatible) && DOT_PATTERN.test(label))) {\n        throw new Error(\"Invalid DNS label \" + label);\n    }\n};\n/**\n * Validate and parse an Access Point ARN or Outposts ARN\n * @internal\n *\n * @param resource - The resource section of an ARN\n * @returns Access Point Name and optional Outpost ID.\n */\nexport var getArnResources = function (resource) {\n    var delimiter = resource.includes(\":\") ? \":\" : \"/\";\n    var _a = __read(resource.split(delimiter)), resourceType = _a[0], rest = _a.slice(1);\n    if (resourceType === \"accesspoint\") {\n        // Parse accesspoint ARN\n        if (rest.length !== 1 || rest[0] === \"\") {\n            throw new Error(\"Access Point ARN should have one resource accesspoint\" + delimiter + \"{accesspointname}\");\n        }\n        return { accesspointName: rest[0] };\n    }\n    else if (resourceType === \"outpost\") {\n        // Parse outpost ARN\n        if (!rest[0] || rest[1] !== \"accesspoint\" || !rest[2] || rest.length !== 3) {\n            throw new Error(\"Outpost ARN should have resource outpost\" + delimiter + \"{outpostId}\" + delimiter + \"accesspoint\" + delimiter + \"{accesspointName}\");\n        }\n        var _b = __read(rest, 3), outpostId = _b[0], _ = _b[1], accesspointName = _b[2];\n        return { outpostId: outpostId, accesspointName: accesspointName };\n    }\n    else {\n        throw new Error(\"ARN resource should begin with 'accesspoint\" + delimiter + \"' or 'outpost\" + delimiter + \"'\");\n    }\n};\n/**\n * Throw if dual stack configuration is set to true.\n * @internal\n */\nexport var validateNoDualstack = function (dualstackEndpoint) {\n    if (dualstackEndpoint)\n        throw new Error(\"Dualstack endpoint is not supported with Outpost\");\n};\n/**\n * Validate region is not appended or prepended with a `fips-`\n * @internal\n */\nexport var validateNoFIPS = function (region) {\n    if (isFipsRegion(region !== null && region !== void 0 ? region : \"\"))\n        throw new Error(\"FIPS region is not supported with Outpost, got \" + region);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVja2V0SG9zdG5hbWVVdGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9idWNrZXRIb3N0bmFtZVV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxJQUFNLGNBQWMsR0FBRyxzQ0FBc0MsQ0FBQztBQUM5RCxJQUFNLGtCQUFrQixHQUFHLGVBQWUsQ0FBQztBQUMzQyxJQUFNLFlBQVksR0FBRyxNQUFNLENBQUM7QUFDNUIsTUFBTSxDQUFDLElBQU0sV0FBVyxHQUFHLElBQUksQ0FBQztBQUNoQyxNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRyw4QkFBOEIsQ0FBQztBQUNsRSxJQUFNLDRCQUE0QixHQUFHLG9DQUFvQyxDQUFDO0FBQzFFLElBQU0sb0JBQW9CLEdBQUcsZUFBZSxDQUFDO0FBd0I3QyxNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRyxVQUNqQyxPQUFpRCxJQUNiLE9BQUEsT0FBTyxPQUFPLENBQUMsVUFBVSxLQUFLLFFBQVEsRUFBdEMsQ0FBc0MsQ0FBQztBQUU3RTs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQUcsVUFBQyxNQUFjLElBQUssT0FBQSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFuRSxDQUFtRSxDQUFDO0FBRXZIOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsSUFBTSx5QkFBeUIsR0FBRyxVQUFDLFVBQWtCO0lBQzFELE9BQUEsY0FBYyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO0FBQXpHLENBQXlHLENBQUM7QUFFNUcsSUFBTSxpQkFBaUIsR0FBRyxVQUFDLFFB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QzFFLE1BQU0sSUFBSSxLQUFLLENBQ2IsNkNBQTJDLFNBQVMsbUJBQWMsU0FBUyxtQkFBYyxTQUFTLHNCQUFtQixDQUN0SCxDQUFDO1NBQ0g7UUFDSyxJQUFBLEtBQUEsT0FBa0MsSUFBSSxJQUFBLEVBQXJDLFNBQVMsUUFBQSxFQUFFLENBQUMsUUFBQSxFQUFFLGVBQWUsUUFBUSxDQUFDO1FBQzdDLE9BQU8sRUFBRSxTQUFTLFdBQUEsRUFBRSxlQUFlLGlCQUFBLEVBQUUsQ0FBQztLQUN2QztTQUFNO1FBQ0wsTUFBTSxJQUFJLEtBQUssQ0FBQyxnREFBOEMsU0FBUyxxQkFBZ0IsU0FBUyxNQUFHLENBQUMsQ0FBQztLQUN0RztBQUNILENBQUMsQ0FBQztBQUVGOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLFVBQUMsaUJBQTBCO0lBQzVELElBQUksaUJBQWlCO1FBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrREFBa0QsQ0FBQyxDQUFDO0FBQzdGLENBQUMsQ0FBQztBQUVGOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxJQUFNLGNBQWMsR0FBRyxVQUFDLE1BQWM7SUFDM0MsSUFBSSxZQUFZLENBQUMsTUFBTSxhQUFOLE1BQU0sY0FBTixNQUFNLEdBQUksRUFBRSxDQUFDO1FBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxvREFBa0QsTUFBUSxDQUFDLENBQUM7QUFDOUcsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVJOIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYXJuLXBhcnNlclwiO1xuXG5jb25zdCBET01BSU5fUEFUVEVSTiA9IC9eW2EtejAtOV1bYS16MC05XFwuXFwtXXsxLDYxfVthLXowLTldJC87XG5jb25zdCBJUF9BRERSRVNTX1BBVFRFUk4gPSAvKFxcZCtcXC4pezN9XFxkKy87XG5jb25zdCBET1RTX1BBVFRFUk4gPSAvXFwuXFwuLztcbmV4cG9ydCBjb25zdCBET1RfUEFUVEVSTiA9IC9cXC4vO1xuZXhwb3J0IGNvbnN0IFMzX0hPU1ROQU1FX1BBVFRFUk4gPSAvXiguK1xcLik/czNbLi1dKFthLXowLTktXSspXFwuLztcbmNvbnN0IFMzX1VTX0VBU1RfMV9BTFROQU1FX1BBVFRFUk4gPSAvXnMzKC1leHRlcm5hbC0xKT9cXC5hbWF6b25hd3NcXC5jb20kLztcbmNvbnN0IEFXU19QQVJUSVRJT05fU1VGRklYID0gXCJhbWF6b25hd3MuY29tXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWNjZXNzUG9pbnRBcm4gZXh0ZW5kcyBBUk4ge1xuICBhY2Nlc3NQb2ludE5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCdWNrZXRIb3N0bmFtZVBhcmFtcyB7XG4gIGlzQ3VzdG9tRW5kcG9pbnQ6IGJvb2xlYW47XG4gIGJhc2VIb3N0bmFtZTogc3RyaW5nO1xuICBidWNrZXROYW1lOiBzdHJpbmc7XG4gIGNsaWVudFJlZ2lvbjogc3RyaW5nO1xuICBhY2NlbGVyYXRlRW5kcG9pbnQ/OiBib29sZWFuO1xuICBkdWFsc3RhY2tFbmRwb2ludD86IGJvb2xlYW47XG4gIHBhdGhTdHlsZUVuZHBvaW50PzogYm9vbGVhbjtcbiAgdGxzQ29tcGF0aWJsZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXJuSG9zdG5hbWVQYXJhbXMgZXh0ZW5kcyBPbWl0PEJ1Y2tldEhvc3RuYW1lUGFyYW1zLCBcImJ1Y2tldE5hbWVcIj4ge1xuICBidWNrZXROYW1lOiBBUk47XG4gIGNsaWVudFNpZ25pbmdSZWdpb24/OiBzdHJpbmc7XG4gIGNsaWVudFBhcnRpdGlvbj86IHN0cmluZztcbiAgdXNlQXJuUmVnaW9uPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGlzQnVja2V0TmFtZU9wdGlvbnMgPSAoXG4gIG9wdGlvbnM6IEJ1Y2tldEhvc3RuYW1lUGFyYW1zIHwgQXJuSG9zdG5hbWVQYXJhbXNcbik6IG9wdGlvbnMgaXMgQnVja2V0SG9zdG5hbWVQYXJhbXMgPT4gdHlwZW9mIG9wdGlvbnMuYnVja2V0TmFtZSA9PT0gXCJzdHJpbmdcIjtcblxuLyoqXG4gKiBHZXQgcHNldWRvIHJlZ2lvbiBmcm9tIHN1cHBsaWVkIHJlZ2lvbi4gRm9yIGV4YW1wbGUsIGlmIHN1cHBsaWVkIHdpdGggYGZpcHMtdXMtd2VzdC0yYCwgaXQgcmV0dXJucyBgdXMtd2VzdC0yYC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgZ2V0UHNldWRvUmVnaW9uID0gKHJlZ2lvbjogc3RyaW5nKSA9PiAoaXNGaXBzUmVnaW9uKHJlZ2lvbikgPyByZWdpb24ucmVwbGFjZSgvZmlwcy18LWZpcHMvLCBcIlwiKSA6IHJlZ2lvbik7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgZ2l2ZW4gc3RyaW5nIGlzIEROUyBjb21wbGlhbnQgcGVyIHRoZSBydWxlcyBvdXRsaW5lZCBieVxuICogUzMuIExlbmd0aCwgY2FwaXRhaXphdGlvbiwgYW5kIGxlYWRpbmcgZG90IHJlc3RyaWN0aW9ucyBhcmUgZW5mb3JjZWQgYnkgdGhlXG4gKiBET01BSU5fUEFUVEVSTiByZWd1bGFyIGV4cHJlc3Npb24uXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9BbWF6b25TMy9sYXRlc3QvZGV2L0J1Y2tldFJlc3RyaWN0aW9ucy5odG1sXG4gKi9cbmV4cG9ydCBjb25zdCBpc0Ruc0NvbXBhdGlibGVCdWNrZXROYW1lID0gKGJ1Y2tldE5hbWU6IHN0cmluZyk6IGJvb2xlYW4gPT5cbiAgRE9NQUlOX1BBVFRFUk4udGVzdChidWNrZXROYW1lKSAmJiAhSVBfQUREUkVTU19QQVRURVJOLnRlc3QoYnVja2V0TmFtZSkgJiYgIURPVFNfUEFUVEVSTi50ZXN0KGJ1Y2tldE5hbWUpO1xuXG5jb25zdCBnZXRSZWdpb25hbFN1ZmZpeCA9IChob3N0bmFtZTogc3RyaW5nKTogW3N0cmluZywgc3RyaW5nXSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gaG9zdG5hbWUubWF0Y2goUzNfSE9TVE5BTUVfUEFUVEVSTikhO1xuICByZXR1cm4gW3BhcnRzWzJdLCBob3N0bmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoYF4ke3BhcnRzWzBdfWApLCBcIlwiKV07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3VmZml4ID0gKGhvc3RuYW1lOiBzdHJpbmcpOiBbc3RyaW5nLCBzdHJpbmddID0+XG4gIFMzX1VTX0VBU1RfMV9BTFROQU1FX1BBVFRFUk4udGVzdChob3N0bmFtZSkgPyBbXCJ1cy1lYXN0LTFcIiwgQVdTX1BBUlRJVElPTl9TVUZGSVhdIDogZ2V0UmVnaW9uYWxTdWZmaXgoaG9zdG5hbWUpO1xuXG4vKipcbiAqIEluZmVyIHJlZ2lvbiBhbmQgaG9zdG5hbWUgc3VmZml4IGZyb20gYSBjb21wbGV0ZSBob3N0bmFtZVxuICogQGludGVybmFsXG4gKiBAcGFyYW0gaG9zdG5hbWUgLSBIb3N0bmFtZVxuICogQHJldHVybnMgW1JlZ2lvbiwgSG9zdG5hbWUgc3VmZml4XVxuICovXG5leHBvcnQgY29uc3QgZ2V0U3VmZml4Rm9yQXJuRW5kcG9pbnQgPSAoaG9zdG5hbWU6IHN0cmluZyk6IFtzdHJpbmcsIHN0cmluZ10gPT5cbiAgUzNfVVNfRUFTVF8xX0FMVE5BTUVfUEFUVEVSTi50ZXN0KGhvc3RuYW1lKVxuICAgID8gW2hvc3RuYW1lLnJlcGxhY2UoYC4ke0FXU19QQVJUSVRJT05fU1VGRklYfWAsIFwiXCIpLCBBV1NfUEFSVElUSU9OX1NVRkZJWF1cbiAgICA6IGdldFJlZ2lvbmFsU3VmZml4KGhvc3RuYW1lKTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQXJuRW5kcG9pbnRPcHRpb25zID0gKG9wdGlvbnM6IHtcbiAgYWNjZWxlcmF0ZUVuZHBvaW50PzogYm9vbGVhbjtcbiAgdGxzQ29tcGF0aWJsZT86IGJvb2xlYW47XG4gIHBhdGhTdHlsZUVuZHBvaW50PzogYm9vbGVhbjtcbn0pID0+IHtcbiAgaWYgKG9wdGlvbnMucGF0aFN0eWxlRW5kcG9pbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoLXN0eWxlIFMzIGVuZHBvaW50IGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiBidWNrZXQgaXMgYW4gQVJOXCIpO1xuICB9XG4gIGlmIChvcHRpb25zLmFjY2VsZXJhdGVFbmRwb2ludCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkFjY2VsZXJhdGUgZW5kcG9pbnQgaXMgbm90IHN1cHBvcnRlZCB3aGVuIGJ1Y2tldCBpcyBhbiBBUk5cIik7XG4gIH1cbiAgaWYgKCFvcHRpb25zLnRsc0NvbXBhdGlibGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJIVFRQUyBpcyByZXF1aXJlZCB3aGVuIGJ1Y2tldCBpcyBhbiBBUk5cIik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVNlcnZpY2UgPSAoc2VydmljZTogc3RyaW5nKSA9PiB7XG4gIGlmIChzZXJ2aWNlICE9PSBcInMzXCIgJiYgc2VydmljZSAhPT0gXCJzMy1vdXRwb3N0c1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ICdzMycgb3IgJ3MzLW91dHBvc3RzJyBpbiBBUk4gc2VydmljZSBjb21wb25lbnRcIik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVMzU2VydmljZSA9IChzZXJ2aWNlOiBzdHJpbmcpID0+IHtcbiAgaWYgKHNlcnZpY2UgIT09IFwiczNcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdCAnczMnIGluIEFjY2Vzc3BvaW50IEFSTiBzZXJ2aWNlIGNvbXBvbmVudFwiKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlT3V0cG9zdFNlcnZpY2UgPSAoc2VydmljZTogc3RyaW5nKSA9PiB7XG4gIGlmIChzZXJ2aWNlICE9PSBcInMzLW91dHBvc3RzXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3QgJ3MzLXBvc3RzJyBpbiBPdXRwb3N0IEFSTiBzZXJ2aWNlIGNvbXBvbmVudFwiKTtcbiAgfVxufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSBwYXJ0aXRpb24gaW5mZXJyZWQgZnJvbSBBUk4gaXMgdGhlIHNhbWUgdG8gYG9wdGlvbnMuY2xpZW50UGFydGl0aW9uYC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGVQYXJ0aXRpb24gPSAocGFydGl0aW9uOiBzdHJpbmcsIG9wdGlvbnM6IHsgY2xpZW50UGFydGl0aW9uOiBzdHJpbmcgfSkgPT4ge1xuICBpZiAocGFydGl0aW9uICE9PSBvcHRpb25zLmNsaWVudFBhcnRpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihgUGFydGl0aW9uIGluIEFSTiBpcyBpbmNvbXBhdGlibGUsIGdvdCBcIiR7cGFydGl0aW9ufVwiIGJ1dCBleHBlY3RlZCBcIiR7b3B0aW9ucy5jbGllbnRQYXJ0aXRpb259XCJgKTtcbiAgfVxufTtcblxuLyoqXG4gKiB2YWxpZGF0ZSByZWdpb24gdmFsdWUgaW5mZXJyZWQgZnJvbSBBUk4uIElmIGBvcHRpb25zLnVzZUFyblJlZ2lvbmAgaXMgc2V0LCBpdCB2YWxpZGF0ZXMgdGhlIHJlZ2lvbiBpcyBub3QgYSBGSVBTXG4gKiByZWdpb24uIElmIGBvcHRpb25zLnVzZUFyblJlZ2lvbmAgaXMgdW5zZXQsIGl0IHZhbGlkYXRlcyB0aGUgcmVnaW9uIGlzIGVxdWFsIHRvIGBvcHRpb25zLmNsaWVudFJlZ2lvbmAgb3JcbiAqIGBvcHRpb25zLmNsaWVudFNpZ25pbmdSZWdpb25gLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVJlZ2lvbiA9IChcbiAgcmVnaW9uOiBzdHJpbmcsXG4gIG9wdGlvbnM6IHtcbiAgICB1c2VBcm5SZWdpb24/OiBib29sZWFuO1xuICAgIGNsaWVudFJlZ2lvbjogc3RyaW5nO1xuICAgIGNsaWVudFNpZ25pbmdSZWdpb246IHN0cmluZztcbiAgfVxuKSA9PiB7XG4gIGlmIChyZWdpb24gPT09IFwiXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBUk4gcmVnaW9uIGlzIGVtcHR5XCIpO1xuICB9XG4gIGlmIChcbiAgICAhb3B0aW9ucy51c2VBcm5SZWdpb24gJiZcbiAgICAhaXNFcXVhbFJlZ2lvbnMocmVnaW9uLCBvcHRpb25zLmNsaWVudFJlZ2lvbikgJiZcbiAgICAhaXNFcXVhbFJlZ2lvbnMocmVnaW9uLCBvcHRpb25zLmNsaWVudFNpZ25pbmdSZWdpb24pXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihgUmVnaW9uIGluIEFSTiBpcyBpbmNvbXBhdGlibGUsIGdvdCAke3JlZ2lvbn0gYnV0IGV4cGVjdGVkICR7b3B0aW9ucy5jbGllbnRSZWdpb259YCk7XG4gIH1cbiAgaWYgKG9wdGlvbnMudXNlQXJuUmVnaW9uICYmIGlzRmlwc1JlZ2lvbihyZWdpb24pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRW5kcG9pbnQgZG9lcyBub3Qgc3VwcG9ydCBGSVBTIHJlZ2lvblwiKTtcbiAgfVxufTtcblxuY29uc3QgaXNGaXBzUmVnaW9uID0gKHJlZ2lvbjogc3RyaW5nKSA9PiByZWdpb24uc3RhcnRzV2l0aChcImZpcHMtXCIpIHx8IHJlZ2lvbi5lbmRzV2l0aChcIi1maXBzXCIpO1xuXG5jb25zdCBpc0VxdWFsUmVnaW9ucyA9IChyZWdpb25BOiBzdHJpbmcsIHJlZ2lvbkI6IHN0cmluZykgPT5cbiAgcmVnaW9uQSA9PT0gcmVnaW9uQiB8fCBnZXRQc2V1ZG9SZWdpb24ocmVnaW9uQSkgPT09IHJlZ2lvbkIgfHwgcmVnaW9uQSA9PT0gZ2V0UHNldWRvUmVnaW9uKHJlZ2lvbkIpO1xuXG4vKipcbiAqIFZhbGlkYXRlIGFuIGFjY291bnQgSURcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGVBY2NvdW50SWQgPSAoYWNjb3VudElkOiBzdHJpbmcpID0+IHtcbiAgaWYgKCEvWzAtOV17MTJ9Ly5leGVjKGFjY291bnRJZCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBY2Nlc3MgcG9pbnQgQVJOIGFjY291bnRJRCBkb2VzIG5vdCBtYXRjaCByZWdleCAnWzAtOV17MTJ9J1wiKTtcbiAgfVxufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSBhIGhvc3QgbGFiZWwgYWNjb3JkaW5nIHRvIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4yLjJcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGVETlNIb3N0TGFiZWwgPSAobGFiZWw6IHN0cmluZywgb3B0aW9uczogeyB0bHNDb21wYXRpYmxlPzogYm9vbGVhbiB9ID0geyB0bHNDb21wYXRpYmxlOiB0cnVlIH0pID0+IHtcbiAgLy8gcmVmZXJlbmNlOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMi4yXG4gIGlmIChcbiAgICBsYWJlbC5sZW5ndGggPj0gNjQgfHxcbiAgICAhL15bYS16MC05XVthLXowLTkuLV0rW2EtejAtOV0kLy50ZXN0KGxhYmVsKSB8fFxuICAgIC8oXFxkK1xcLil7M31cXGQrLy50ZXN0KGxhYmVsKSB8fFxuICAgIC9bLi1dezJ9Ly50ZXN0KGxhYmVsKSB8fFxuICAgIChvcHRpb25zPy50bHNDb21wYXRpYmxlICYmIERPVF9QQVRURVJOLnRlc3QobGFiZWwpKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgRE5TIGxhYmVsICR7bGFiZWx9YCk7XG4gIH1cbn07XG5cbi8qKlxuICogVmFsaWRhdGUgYW5kIHBhcnNlIGFuIEFjY2VzcyBQb2ludCBBUk4gb3IgT3V0cG9zdHMgQVJOXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBAcGFyYW0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2Ugc2VjdGlvbiBvZiBhbiBBUk5cbiAqIEByZXR1cm5zIEFjY2VzcyBQb2ludCBOYW1lIGFuZCBvcHRpb25hbCBPdXRwb3N0IElELlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXJuUmVzb3VyY2VzID0gKFxuICByZXNvdXJjZTogc3RyaW5nXG4pOiB7XG4gIGFjY2Vzc3BvaW50TmFtZTogc3RyaW5nO1xuICBvdXRwb3N0SWQ/OiBzdHJpbmc7XG59ID0+IHtcbiAgY29uc3QgZGVsaW1pdGVyID0gcmVzb3VyY2UuaW5jbHVkZXMoXCI6XCIpID8gXCI6XCIgOiBcIi9cIjtcbiAgY29uc3QgW3Jlc291cmNlVHlwZSwgLi4ucmVzdF0gPSByZXNvdXJjZS5zcGxpdChkZWxpbWl0ZXIpO1xuICBpZiAocmVzb3VyY2VUeXBlID09PSBcImFjY2Vzc3BvaW50XCIpIHtcbiAgICAvLyBQYXJzZSBhY2Nlc3Nwb2ludCBBUk5cbiAgICBpZiAocmVzdC5sZW5ndGggIT09IDEgfHwgcmVzdFswXSA9PT0gXCJcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY2Nlc3MgUG9pbnQgQVJOIHNob3VsZCBoYXZlIG9uZSByZXNvdXJjZSBhY2Nlc3Nwb2ludCR7ZGVsaW1pdGVyfXthY2Nlc3Nwb2ludG5hbWV9YCk7XG4gICAgfVxuICAgIHJldHVybiB7IGFjY2Vzc3BvaW50TmFtZTogcmVzdFswXSB9O1xuICB9IGVsc2UgaWYgKHJlc291cmNlVHlwZSA9PT0gXCJvdXRwb3N0XCIpIHtcbiAgICAvLyBQYXJzZSBvdXRwb3N0IEFSTlxuICAgIGlmICghcmVzdFswXSB8fCByZXN0WzFdICE9PSBcImFjY2Vzc3BvaW50XCIgfHwgIXJlc3RbMl0gfHwgcmVzdC5sZW5ndGggIT09IDMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE91dHBvc3QgQVJOIHNob3VsZCBoYXZlIHJlc291cmNlIG91dHBvc3Qke2RlbGltaXRlcn17b3V0cG9zdElkfSR7ZGVsaW1pdGVyfWFjY2Vzc3BvaW50JHtkZWxpbWl0ZXJ9e2FjY2Vzc3BvaW50TmFtZX1gXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBbb3V0cG9zdElkLCBfLCBhY2Nlc3Nwb2ludE5hbWVdID0gcmVzdDtcbiAgICByZXR1cm4geyBvdXRwb3N0SWQsIGFjY2Vzc3BvaW50TmFtZSB9O1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgQVJOIHJlc291cmNlIHNob3VsZCBiZWdpbiB3aXRoICdhY2Nlc3Nwb2ludCR7ZGVsaW1pdGVyfScgb3IgJ291dHBvc3Qke2RlbGltaXRlcn0nYCk7XG4gIH1cbn07XG5cbi8qKlxuICogVGhyb3cgaWYgZHVhbCBzdGFjayBjb25maWd1cmF0aW9uIGlzIHNldCB0byB0cnVlLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZU5vRHVhbHN0YWNrID0gKGR1YWxzdGFja0VuZHBvaW50OiBib29sZWFuKSA9PiB7XG4gIGlmIChkdWFsc3RhY2tFbmRwb2ludCkgdGhyb3cgbmV3IEVycm9yKFwiRHVhbHN0YWNrIGVuZHBvaW50IGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCBPdXRwb3N0XCIpO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSByZWdpb24gaXMgbm90IGFwcGVuZGVkIG9yIHByZXBlbmRlZCB3aXRoIGEgYGZpcHMtYFxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZU5vRklQUyA9IChyZWdpb246IHN0cmluZykgPT4ge1xuICBpZiAoaXNGaXBzUmVnaW9uKHJlZ2lvbiA/PyBcIlwiKSkgdGhyb3cgbmV3IEVycm9yKGBGSVBTIHJlZ2lvbiBpcyBub3Qgc3VwcG9ydGVkIHdpdGggT3V0cG9zdCwgZ290ICR7cmVnaW9ufWApO1xufTtcbiJdfQ==","import { __assign, __read } from \"tslib\";\nimport { DOT_PATTERN, getArnResources, getSuffix, getSuffixForArnEndpoint, isBucketNameOptions, isDnsCompatibleBucketName, validateAccountId, validateArnEndpointOptions, validateDNSHostLabel, validateNoDualstack, validateNoFIPS, validateOutpostService, validatePartition, validateRegion, validateS3Service, validateService, } from \"./bucketHostnameUtils\";\nexport var bucketHostname = function (options) {\n    var isCustomEndpoint = options.isCustomEndpoint, baseHostname = options.baseHostname, dualstackEndpoint = options.dualstackEndpoint, accelerateEndpoint = options.accelerateEndpoint;\n    if (isCustomEndpoint) {\n        if (dualstackEndpoint)\n            throw new Error(\"Dualstack endpoint is not supported with custom endpoint\");\n        if (accelerateEndpoint)\n            throw new Error(\"Accelerate endpoint is not supported with custom endpoint\");\n    }\n    return isBucketNameOptions(options)\n        ? // Construct endpoint when bucketName is a string referring to a bucket name\n            getEndpointFromBucketName(__assign(__assign({}, options), { isCustomEndpoint: isCustomEndpoint }))\n        : // Construct endpoint when bucketName is an ARN referring to an S3 resource like Access Point\n            getEndpointFromArn(__assign(__assign({}, options), { isCustomEndpoint: isCustomEndpoint }));\n};\nvar getEndpointFromArn = function (options) {\n    var isCustomEndpoint = options.isCustomEndpoint, baseHostname = options.baseHostname;\n    var _a = __read(isCustomEndpoint\n        ? [options.clientRegion, baseHostname]\n        : // Infer client region and hostname suffix from hostname from endpoints.json, like `s3.us-west-2.amazonaws.com`\n            getSuffixForArnEndpoint(baseHostname), 2), clientRegion = _a[0], hostnameSuffix = _a[1];\n    var pathStyleEndpoint = options.pathStyleEndpoint, _b = options.dualstackEndpoint, dualstackEndpoint = _b === void 0 ? false : _b, _c = options.accelerateEndpoint, accelerateEndpoint = _c === void 0 ? false : _c, _d = options.tlsCompatible, tlsCompatible = _d === void 0 ? true : _d, useArnRegion = options.useArnRegion, bucketName = options.bucketName, _e = options.clientPartition, clientPartition = _e === void 0 ? \"aws\" : _e, _f = options.clientSigningRegion, clientSigningRegion = _f === void 0 ? clientRegion : _f;\n    validateArnEndpointOptions({ pathStyleEndpoint: pathStyleEndpoint, accelerateEndpoint: accelerateEndpoint, tlsCompatible: tlsCompatible });\n    // Validate and parse the ARN supplied as a bucket name\n    var service = bucketName.service, partition = bucketName.partition, accountId = bucketName.accountId, region = bucketName.region, resource = bucketName.resource;\n    validateService(service);\n    validatePartition(partition, { clientPartition: clientPartition });\n    validateAccountId(accountId);\n    validateRegion(region, { useArnRegion: useArnRegion, clientRegion: clientRegion, clientSigningRegion: clientSigningRegion });\n    var _g = getArnResources(resource), accesspointName = _g.accesspointName, outpostId = _g.outpostId;\n    validateDNSHostLabel(accesspointName + \"-\" + accountId, { tlsCompatible: tlsCompatible });\n    var endpointRegion = useArnRegion ? region : clientRegion;\n    var signingRegion = useArnRegion ? region : clientSigningRegion;\n    if (outpostId) {\n        // if this is an Outpost ARN\n        validateOutpostService(service);\n        validateDNSHostLabel(outpostId, { tlsCompatible: tlsCompatible });\n        validateNoDualstack(dualstackEndpoint);\n        validateNoFIPS(endpointRegion);\n        var hostnamePrefix_1 = accesspointName + \"-\" + accountId + \".\" + outpostId;\n        return {\n            bucketEndpoint: true,\n            hostname: \"\" + hostnamePrefix_1 + (isCustomEndpoint ? \"\" : \".s3-outposts.\" + endpointRegion) + \".\" + hostnameSuffix,\n            signingRegion: signingRegion,\n            signingService: \"s3-outposts\",\n        };\n    }\n    // construct endpoint from Accesspoint ARN\n    validateS3Service(service);\n    var hostnamePrefix = accesspointName + \"-\" + accountId;\n    return {\n        bucketEndpoint: true,\n        hostname: \"\" + hostnamePrefix + (isCustomEndpoint ? \"\" : \".s3-accesspoint\" + (dualstackEndpoint ? \".dualstack\" : \"\") + \".\" + endpointRegion) + \".\" + hostnameSuffix,\n        signingRegion: signingRegion,\n    };\n};\nvar getEndpointFromBucketName = function (_a) {\n    var _b = _a.accelerateEndpoint, accelerateEndpoint = _b === void 0 ? false : _b, region = _a.clientRegion, baseHostname = _a.baseHostname, bucketName = _a.bucketName, _c = _a.dualstackEndpoint, dualstackEndpoint = _c === void 0 ? false : _c, _d = _a.pathStyleEndpoint, pathStyleEndpoint = _d === void 0 ? false : _d, _e = _a.tlsCompatible, tlsCompatible = _e === void 0 ? true : _e, _f = _a.isCustomEndpoint, isCustomEndpoint = _f === void 0 ? false : _f;\n    var _g = __read(isCustomEndpoint ? [region, baseHostname] : getSuffix(baseHostname), 2), clientRegion = _g[0], hostnameSuffix = _g[1];\n    if (pathStyleEndpoint || !isDnsCompatibleBucketName(bucketName) || (tlsCompatible && DOT_PATTERN.test(bucketName))) {\n        return {\n            bucketEndpoint: false,\n            hostname: dualstackEndpoint ? \"s3.dualstack.\" + clientRegion + \".\" + hostnameSuffix : baseHostname,\n        };\n    }\n    if (accelerateEndpoint) {\n        baseHostname = \"s3-accelerate\" + (dualstackEndpoint ? \".dualstack\" : \"\") + \".\" + hostnameSuffix;\n    }\n    else if (dualstackEndpoint) {\n        baseHostname = \"s3.dualstack.\" + clientRegion + \".\" + hostnameSuffix;\n    }\n    return {\n        bucketEndpoint: true,\n        hostname: bucketName + \".\" + baseHostname,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVja2V0SG9zdG5hbWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYnVja2V0SG9zdG5hbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFHTCxXQUFXLEVBQ1gsZUFBZSxFQUNmLFNBQVMsRUFDVCx1QkFBdUIsRUFDdkIsbUJBQW1CLEVBQ25CLHlCQUF5QixFQUN6QixpQkFBaUIsRUFDakIsMEJBQTBCLEVBQzFCLG9CQUFvQixFQUNwQixtQkFBbUIsRUFDbkIsY0FBYyxFQUNkLHNCQUFzQixFQUN0QixpQkFBaUIsRUFDakIsY0FBYyxFQUNkLGlCQUFpQixFQUNqQixlQUFlLEdBQ2hCLE1BQU0sdUJBQXVCLENBQUM7QUFTL0IsTUFBTSxDQUFDLElBQU0sY0FBYyxHQUFHLFVBQUMsT0FBaUQ7SUFDdEUsSUFBQSxnQkFBZ0IsR0FBMEQsT0FBTyxpQkFBakUsRUFBRSxZQUFZLEdBQTRDLE9BQU8sYUFBbkQsRUFBRSxpQkFBaUIsR0FBeUIsT0FBTyxrQkFBaEMsRUFBRSxrQkFBa0IsR0FBSyxPQUFPLG1CQUFaLENBQWE7SUFFMUYsSUFBSSxnQkFBZ0IsRUFBRTtRQUNwQixJQUFJLGlCQUFpQjtZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsMERBQTBELENBQUMsQ0FBQztRQUNuRyxJQUFJLGtCQUFrQjtZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsMkRBQTJELENBQUMsQ0FBQztLQUN0RztJQUVELE9BQU8sbUJBQW1CLENBQUMsT0FBTyxDQUFDO1FBQ2pDLENBQUMsQ0FBQyw0RUFBNEU7WUFDNUUseUJBQXlCLHVCQUFNLE9BQU8sS0FBRSxnQkFBZ0Isa0JBQUEsSUFBRztRQUM3RCxDQUFDLENBQUMsNkZBQTZGO1lBQzdGLGtCQUFrQix1QkFBTSxPQUFPLEtBQUUsZ0JBQWdCLGtCQUFBLElBQUcsQ0FBQztBQUMzRCxDQUFDLENBQUM7QUFFRixJQUFNLGtCQUFrQixHQUFHLFVBQUMsT0FBMEQ7SUFDNUUsSUFBQSxn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OUYsQ0FBQztLQUNIO0lBRUQsSUFBSSxrQkFBa0IsRUFBRTtRQUN0QixZQUFZLEdBQUcsbUJBQWdCLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsVUFBSSxjQUFnQixDQUFDO0tBQzFGO1NBQU0sSUFBSSxpQkFBaUIsRUFBRTtRQUM1QixZQUFZLEdBQUcsa0JBQWdCLFlBQVksU0FBSSxjQUFnQixDQUFDO0tBQ2pFO0lBRUQsT0FBTztRQUNMLGNBQWMsRUFBRSxJQUFJO1FBQ3BCLFFBQVEsRUFBSyxVQUFVLFNBQUksWUFBYztLQUMxQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQXJuSG9zdG5hbWVQYXJhbXMsXG4gIEJ1Y2tldEhvc3RuYW1lUGFyYW1zLFxuICBET1RfUEFUVEVSTixcbiAgZ2V0QXJuUmVzb3VyY2VzLFxuICBnZXRTdWZmaXgsXG4gIGdldFN1ZmZpeEZvckFybkVuZHBvaW50LFxuICBpc0J1Y2tldE5hbWVPcHRpb25zLFxuICBpc0Ruc0NvbXBhdGlibGVCdWNrZXROYW1lLFxuICB2YWxpZGF0ZUFjY291bnRJZCxcbiAgdmFsaWRhdGVBcm5FbmRwb2ludE9wdGlvbnMsXG4gIHZhbGlkYXRlRE5TSG9zdExhYmVsLFxuICB2YWxpZGF0ZU5vRHVhbHN0YWNrLFxuICB2YWxpZGF0ZU5vRklQUyxcbiAgdmFsaWRhdGVPdXRwb3N0U2VydmljZSxcbiAgdmFsaWRhdGVQYXJ0aXRpb24sXG4gIHZhbGlkYXRlUmVnaW9uLFxuICB2YWxpZGF0ZVMzU2VydmljZSxcbiAgdmFsaWRhdGVTZXJ2aWNlLFxufSBmcm9tIFwiLi9idWNrZXRIb3N0bmFtZVV0aWxzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnVja2V0SG9zdG5hbWUge1xuICBob3N0bmFtZTogc3RyaW5nO1xuICBidWNrZXRFbmRwb2ludDogYm9vbGVhbjtcbiAgc2lnbmluZ1JlZ2lvbj86IHN0cmluZztcbiAgc2lnbmluZ1NlcnZpY2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBidWNrZXRIb3N0bmFtZSA9IChvcHRpb25zOiBCdWNrZXRIb3N0bmFtZVBhcmFtcyB8IEFybkhvc3RuYW1lUGFyYW1zKTogQnVja2V0SG9zdG5hbWUgPT4ge1xuICBjb25zdCB7IGlzQ3VzdG9tRW5kcG9pbnQsIGJhc2VIb3N0bmFtZSwgZHVhbHN0YWNrRW5kcG9pbnQsIGFjY2VsZXJhdGVFbmRwb2ludCB9ID0gb3B0aW9ucztcblxuICBpZiAoaXNDdXN0b21FbmRwb2ludCkge1xuICAgIGlmIChkdWFsc3RhY2tFbmRwb2ludCkgdGhyb3cgbmV3IEVycm9yKFwiRHVhbHN0YWNrIGVuZHBvaW50IGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCBjdXN0b20gZW5kcG9pbnRcIik7XG4gICAgaWYgKGFjY2VsZXJhdGVFbmRwb2ludCkgdGhyb3cgbmV3IEVycm9yKFwiQWNjZWxlcmF0ZSBlbmRwb2ludCBpcyBub3Qgc3VwcG9ydGVkIHdpdGggY3VzdG9tIGVuZHBvaW50XCIpO1xuICB9XG5cbiAgcmV0dXJuIGlzQnVja2V0TmFtZU9wdGlvbnMob3B0aW9ucylcbiAgICA/IC8vIENvbnN0cnVjdCBlbmRwb2ludCB3aGVuIGJ1Y2tldE5hbWUgaXMgYSBzdHJpbmcgcmVmZXJyaW5nIHRvIGEgYnVja2V0IG5hbWVcbiAgICAgIGdldEVuZHBvaW50RnJvbUJ1Y2tldE5hbWUoeyAuLi5vcHRpb25zLCBpc0N1c3RvbUVuZHBvaW50IH0pXG4gICAgOiAvLyBDb25zdHJ1Y3QgZW5kcG9pbnQgd2hlbiBidWNrZXROYW1lIGlzIGFuIEFSTiByZWZlcnJpbmcgdG8gYW4gUzMgcmVzb3VyY2UgbGlrZSBBY2Nlc3MgUG9pbnRcbiAgICAgIGdldEVuZHBvaW50RnJvbUFybih7IC4uLm9wdGlvbnMsIGlzQ3VzdG9tRW5kcG9pbnQgfSk7XG59O1xuXG5jb25zdCBnZXRFbmRwb2ludEZyb21Bcm4gPSAob3B0aW9uczogQXJuSG9zdG5hbWVQYXJhbXMgJiB7IGlzQ3VzdG9tRW5kcG9pbnQ6IGJvb2xlYW4gfSk6IEJ1Y2tldEhvc3RuYW1lID0+IHtcbiAgY29uc3QgeyBpc0N1c3RvbUVuZHBvaW50LCBiYXNlSG9zdG5hbWUgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IFtjbGllbnRSZWdpb24sIGhvc3RuYW1lU3VmZml4XSA9IGlzQ3VzdG9tRW5kcG9pbnRcbiAgICA/IFtvcHRpb25zLmNsaWVudFJlZ2lvbiwgYmFzZUhvc3RuYW1lXVxuICAgIDogLy8gSW5mZXIgY2xpZW50IHJlZ2lvbiBhbmQgaG9zdG5hbWUgc3VmZml4IGZyb20gaG9zdG5hbWUgZnJvbSBlbmRwb2ludHMuanNvbiwgbGlrZSBgczMudXMtd2VzdC0yLmFtYXpvbmF3cy5jb21gXG4gICAgICBnZXRTdWZmaXhGb3JBcm5FbmRwb2ludChiYXNlSG9zdG5hbWUpO1xuXG4gIGNvbnN0IHtcbiAgICBwYXRoU3R5bGVFbmRwb2ludCxcbiAgICBkdWFsc3RhY2tFbmRwb2ludCA9IGZhbHNlLFxuICAgIGFjY2VsZXJhdGVFbmRwb2ludCA9IGZhbHNlLFxuICAgIHRsc0NvbXBhdGlibGUgPSB0cnVlLFxuICAgIHVzZUFyblJlZ2lvbixcbiAgICBidWNrZXROYW1lLFxuICAgIGNsaWVudFBhcnRpdGlvbiA9IFwiYXdzXCIsXG4gICAgY2xpZW50U2lnbmluZ1JlZ2lvbiA9IGNsaWVudFJlZ2lvbixcbiAgfSA9IG9wdGlvbnM7XG5cbiAgdmFsaWRhdGVBcm5FbmRwb2ludE9wdGlvbnMoeyBwYXRoU3R5bGVFbmRwb2ludCwgYWNjZWxlcmF0ZUVuZHBvaW50LCB0bHNDb21wYXRpYmxlIH0pO1xuXG4gIC8vIFZhbGlkYXRlIGFuZCBwYXJzZSB0aGUgQVJOIHN1cHBsaWVkIGFzIGEgYnVja2V0IG5hbWVcbiAgY29uc3QgeyBzZXJ2aWNlLCBwYXJ0aXRpb24sIGFjY291bnRJZCwgcmVnaW9uLCByZXNvdXJjZSB9ID0gYnVja2V0TmFtZTtcbiAgdmFsaWRhdGVTZXJ2aWNlKHNlcnZpY2UpO1xuICB2YWxpZGF0ZVBhcnRpdGlvbihwYXJ0aXRpb24sIHsgY2xpZW50UGFydGl0aW9uIH0pO1xuICB2YWxpZGF0ZUFjY291bnRJZChhY2NvdW50SWQpO1xuICB2YWxpZGF0ZVJlZ2lvbihyZWdpb24sIHsgdXNlQXJuUmVnaW9uLCBjbGllbnRSZWdpb24sIGNsaWVudFNpZ25pbmdSZWdpb24gfSk7XG4gIGNvbnN0IHsgYWNjZXNzcG9pbnROYW1lLCBvdXRwb3N0SWQgfSA9IGdldEFyblJlc291cmNlcyhyZXNvdXJjZSk7XG4gIHZhbGlkYXRlRE5TSG9zdExhYmVsKGAke2FjY2Vzc3BvaW50TmFtZX0tJHthY2NvdW50SWR9YCwgeyB0bHNDb21wYXRpYmxlIH0pO1xuXG4gIGNvbnN0IGVuZHBvaW50UmVnaW9uID0gdXNlQXJuUmVnaW9uID8gcmVnaW9uIDogY2xpZW50UmVnaW9uO1xuICBjb25zdCBzaWduaW5nUmVnaW9uID0gdXNlQXJuUmVnaW9uID8gcmVnaW9uIDogY2xpZW50U2lnbmluZ1JlZ2lvbjtcbiAgaWYgKG91dHBvc3RJZCkge1xuICAgIC8vIGlmIHRoaXMgaXMgYW4gT3V0cG9zdCBBUk5cbiAgICB2YWxpZGF0ZU91dHBvc3RTZXJ2aWNlKHNlcnZpY2UpO1xuICAgIHZhbGlkYXRlRE5TSG9zdExhYmVsKG91dHBvc3RJZCwgeyB0bHNDb21wYXRpYmxlIH0pO1xuICAgIHZhbGlkYXRlTm9EdWFsc3RhY2soZHVhbHN0YWNrRW5kcG9pbnQpO1xuICAgIHZhbGlkYXRlTm9GSVBTKGVuZHBvaW50UmVnaW9uKTtcbiAgICBjb25zdCBob3N0bmFtZVByZWZpeCA9IGAke2FjY2Vzc3BvaW50TmFtZX0tJHthY2NvdW50SWR9LiR7b3V0cG9zdElkfWA7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJ1Y2tldEVuZHBvaW50OiB0cnVlLFxuICAgICAgaG9zdG5hbWU6IGAke2hvc3RuYW1lUHJlZml4fSR7aXNDdXN0b21FbmRwb2ludCA/IFwiXCIgOiBgLnMzLW91dHBvc3RzLiR7ZW5kcG9pbnRSZWdpb259YH0uJHtob3N0bmFtZVN1ZmZpeH1gLFxuICAgICAgc2lnbmluZ1JlZ2lvbixcbiAgICAgIHNpZ25pbmdTZXJ2aWNlOiBcInMzLW91dHBvc3RzXCIsXG4gICAgfTtcbiAgfVxuICAvLyBjb25zdHJ1Y3QgZW5kcG9pbnQgZnJvbSBBY2Nlc3Nwb2ludCBBUk5cbiAgdmFsaWRhdGVTM1NlcnZpY2Uoc2VydmljZSk7XG4gIGNvbnN0IGhvc3RuYW1lUHJlZml4ID0gYCR7YWNjZXNzcG9pbnROYW1lfS0ke2FjY291bnRJZH1gO1xuICByZXR1cm4ge1xuICAgIGJ1Y2tldEVuZHBvaW50OiB0cnVlLFxuICAgIGhvc3RuYW1lOiBgJHtob3N0bmFtZVByZWZpeH0ke1xuICAgICAgaXNDdXN0b21FbmRwb2ludCA/IFwiXCIgOiBgLnMzLWFjY2Vzc3BvaW50JHtkdWFsc3RhY2tFbmRwb2ludCA/IFwiLmR1YWxzdGFja1wiIDogXCJcIn0uJHtlbmRwb2ludFJlZ2lvbn1gXG4gICAgfS4ke2hvc3RuYW1lU3VmZml4fWAsXG4gICAgc2lnbmluZ1JlZ2lvbixcbiAgfTtcbn07XG5cbmNvbnN0IGdldEVuZHBvaW50RnJvbUJ1Y2tldE5hbWUgPSAoe1xuICBhY2NlbGVyYXRlRW5kcG9pbnQgPSBmYWxzZSxcbiAgY2xpZW50UmVnaW9uOiByZWdpb24sXG4gIGJhc2VIb3N0bmFtZSxcbiAgYnVja2V0TmFtZSxcbiAgZHVhbHN0YWNrRW5kcG9pbnQgPSBmYWxzZSxcbiAgcGF0aFN0eWxlRW5kcG9pbnQgPSBmYWxzZSxcbiAgdGxzQ29tcGF0aWJsZSA9IHRydWUsXG4gIGlzQ3VzdG9tRW5kcG9pbnQgPSBmYWxzZSxcbn06IEJ1Y2tldEhvc3RuYW1lUGFyYW1zICYgeyBpc0N1c3RvbUVuZHBvaW50OiBib29sZWFuIH0pOiBCdWNrZXRIb3N0bmFtZSA9PiB7XG4gIGNvbnN0IFtjbGllbnRSZWdpb24sIGhvc3RuYW1lU3VmZml4XSA9IGlzQ3VzdG9tRW5kcG9pbnQgPyBbcmVnaW9uLCBiYXNlSG9zdG5hbWVdIDogZ2V0U3VmZml4KGJhc2VIb3N0bmFtZSk7XG4gIGlmIChwYXRoU3R5bGVFbmRwb2ludCB8fCAhaXNEbnNDb21wYXRpYmxlQnVja2V0TmFtZShidWNrZXROYW1lKSB8fCAodGxzQ29tcGF0aWJsZSAmJiBET1RfUEFUVEVSTi50ZXN0KGJ1Y2tldE5hbWUpKSkge1xuICAgIHJldHVybiB7XG4gICAgICBidWNrZXRFbmRwb2ludDogZmFsc2UsXG4gICAgICBob3N0bmFtZTogZHVhbHN0YWNrRW5kcG9pbnQgPyBgczMuZHVhbHN0YWNrLiR7Y2xpZW50UmVnaW9ufS4ke2hvc3RuYW1lU3VmZml4fWAgOiBiYXNlSG9zdG5hbWUsXG4gICAgfTtcbiAgfVxuXG4gIGlmIChhY2NlbGVyYXRlRW5kcG9pbnQpIHtcbiAgICBiYXNlSG9zdG5hbWUgPSBgczMtYWNjZWxlcmF0ZSR7ZHVhbHN0YWNrRW5kcG9pbnQgPyBcIi5kdWFsc3RhY2tcIiA6IFwiXCJ9LiR7aG9zdG5hbWVTdWZmaXh9YDtcbiAgfSBlbHNlIGlmIChkdWFsc3RhY2tFbmRwb2ludCkge1xuICAgIGJhc2VIb3N0bmFtZSA9IGBzMy5kdWFsc3RhY2suJHtjbGllbnRSZWdpb259LiR7aG9zdG5hbWVTdWZmaXh9YDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYnVja2V0RW5kcG9pbnQ6IHRydWUsXG4gICAgaG9zdG5hbWU6IGAke2J1Y2tldE5hbWV9LiR7YmFzZUhvc3RuYW1lfWAsXG4gIH07XG59O1xuIl19","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { parse as parseArn, validate as validateArn } from \"@aws-sdk/util-arn-parser\";\nimport { bucketHostname } from \"./bucketHostname\";\nimport { getPseudoRegion } from \"./bucketHostnameUtils\";\nexport var bucketEndpointMiddleware = function (options) { return function (next, context) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var bucketName, replaceBucketInPath, request, bucketArn, clientRegion, _a, _b, partition, _c, signingRegion, useArnRegion, _d, hostname, bucketEndpoint, modifiedSigningRegion, signingService, clientRegion, _e, _f, hostname, bucketEndpoint;\n    return __generator(this, function (_g) {\n        switch (_g.label) {\n            case 0:\n                bucketName = args.input.Bucket;\n                replaceBucketInPath = options.bucketEndpoint;\n                request = args.request;\n                if (!HttpRequest.isInstance(request)) return [3 /*break*/, 8];\n                if (!options.bucketEndpoint) return [3 /*break*/, 1];\n                request.hostname = bucketName;\n                return [3 /*break*/, 7];\n            case 1:\n                if (!validateArn(bucketName)) return [3 /*break*/, 5];\n                bucketArn = parseArn(bucketName);\n                _a = getPseudoRegion;\n                return [4 /*yield*/, options.region()];\n            case 2:\n                clientRegion = _a.apply(void 0, [_g.sent()]);\n                return [4 /*yield*/, options.regionInfoProvider(clientRegion)];\n            case 3:\n                _b = (_g.sent()) || {}, partition = _b.partition, _c = _b.signingRegion, signingRegion = _c === void 0 ? clientRegion : _c;\n                return [4 /*yield*/, options.useArnRegion()];\n            case 4:\n                useArnRegion = _g.sent();\n                _d = bucketHostname({\n                    bucketName: bucketArn,\n                    baseHostname: request.hostname,\n                    accelerateEndpoint: options.useAccelerateEndpoint,\n                    dualstackEndpoint: options.useDualstackEndpoint,\n                    pathStyleEndpoint: options.forcePathStyle,\n                    tlsCompatible: request.protocol === \"https:\",\n                    useArnRegion: useArnRegion,\n                    clientPartition: partition,\n                    clientSigningRegion: signingRegion,\n                    clientRegion: clientRegion,\n                    isCustomEndpoint: options.isCustomEndpoint,\n                }), hostname = _d.hostname, bucketEndpoint = _d.bucketEndpoint, modifiedSigningRegion = _d.signingRegion, signingService = _d.signingService;\n                // If the request needs to use a region or service name inferred from ARN that different from client region, we\n                // need to set them in the handler context so the signer will use them\n                if (modifiedSigningRegion && modifiedSigningRegion !== signingRegion) {\n                    context[\"signing_region\"] = modifiedSigningRegion;\n                }\n                if (signingService && signingService !== \"s3\") {\n                    context[\"signing_service\"] = signingService;\n                }\n                request.hostname = hostname;\n                replaceBucketInPath = bucketEndpoint;\n                return [3 /*break*/, 7];\n            case 5:\n                _e = getPseudoRegion;\n                return [4 /*yield*/, options.region()];\n            case 6:\n                clientRegion = _e.apply(void 0, [_g.sent()]);\n                _f = bucketHostname({\n                    bucketName: bucketName,\n                    clientRegion: clientRegion,\n                    baseHostname: request.hostname,\n                    accelerateEndpoint: options.useAccelerateEndpoint,\n                    dualstackEndpoint: options.useDualstackEndpoint,\n                    pathStyleEndpoint: options.forcePathStyle,\n                    tlsCompatible: request.protocol === \"https:\",\n                    isCustomEndpoint: options.isCustomEndpoint,\n                }), hostname = _f.hostname, bucketEndpoint = _f.bucketEndpoint;\n                request.hostname = hostname;\n                replaceBucketInPath = bucketEndpoint;\n                _g.label = 7;\n            case 7:\n                if (replaceBucketInPath) {\n                    request.path = request.path.replace(/^(\\/)?[^\\/]+/, \"\");\n                    if (request.path === \"\") {\n                        request.path = \"/\";\n                    }\n                }\n                _g.label = 8;\n            case 8: return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n        }\n    });\n}); }; }; };\nexport var bucketEndpointMiddlewareOptions = {\n    tags: [\"BUCKET_ENDPOINT\"],\n    name: \"bucketEndpointMiddleware\",\n    relation: \"before\",\n    toMiddleware: \"hostHeaderMiddleware\",\n    override: true,\n};\nexport var getBucketEndpointPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.addRelativeTo(bucketEndpointMiddleware(options), bucketEndpointMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVja2V0RW5kcG9pbnRNaWRkbGV3YXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2J1Y2tldEVuZHBvaW50TWlkZGxld2FyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBV3JELE9BQU8sRUFBRSxLQUFLLElBQUksUUFBUSxFQUFFLFFBQVEsSUFBSSxXQUFXLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUV0RixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBR3hELE1BQU0sQ0FBQyxJQUFNLHdCQUF3QixHQUFHLFVBQUMsT0FBcUMsSUFBZ0MsT0FBQSxVQUc1RyxJQUErQixFQUMvQixPQUFnQyxJQUNGLE9BQUEsVUFBTyxJQUFnQzs7Ozs7Z0JBQ3JELFVBQVUsR0FBSyxJQUFJLENBQUMsS0FBMkIsT0FBckMsQ0FBc0M7Z0JBQzVELG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUM7Z0JBQzNDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO3FCQUN6QixXQUFXLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUEvQix3QkFBK0I7cUJBQzdCLE9BQU8sQ0FBQyxjQUFjLEVBQXRCLHdCQUFzQjtnQkFDeEIsT0FBTyxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUM7OztxQkFDckIsV0FBVyxDQUFDLFVBQVUsQ0FBQyxFQUF2Qix3QkFBdUI7Z0JBQzFCLFNBQVMsR0FBRyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ2xCLEtBQUEsZUFBZSxDQUFBO2dCQUFDLHFCQUFNLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBQTs7Z0JBQXJELFlBQVksR0FBRyxrQkFBZ0IsU0FBc0IsRUFBQztnQkFDUCxxQkFBTSxPQUFPLENBQUMsa0JBQWtCLENB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cEMsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sdUJBQXVCLEdBQUcsVUFBQyxPQUFxQyxJQUEwQixPQUFBLENBQUM7SUFDdEcsWUFBWSxFQUFFLFVBQUMsV0FBVztRQUN4QixXQUFXLENBQUMsYUFBYSxDQUFDLHdCQUF3QixDQUFDLE9BQU8sQ0FBQyxFQUFFLCtCQUErQixDQUFDLENBQUM7SUFDaEcsQ0FBQztDQUNGLENBQUMsRUFKcUcsQ0FJckcsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7XG4gIEJ1aWxkSGFuZGxlcixcbiAgQnVpbGRIYW5kbGVyQXJndW1lbnRzLFxuICBCdWlsZEhhbmRsZXJPdXRwdXQsXG4gIEJ1aWxkTWlkZGxld2FyZSxcbiAgSGFuZGxlckV4ZWN1dGlvbkNvbnRleHQsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBQbHVnZ2FibGUsXG4gIFJlbGF0aXZlTWlkZGxld2FyZU9wdGlvbnMsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuaW1wb3J0IHsgcGFyc2UgYXMgcGFyc2VBcm4sIHZhbGlkYXRlIGFzIHZhbGlkYXRlQXJuIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYXJuLXBhcnNlclwiO1xuXG5pbXBvcnQgeyBidWNrZXRIb3N0bmFtZSB9IGZyb20gXCIuL2J1Y2tldEhvc3RuYW1lXCI7XG5pbXBvcnQgeyBnZXRQc2V1ZG9SZWdpb24gfSBmcm9tIFwiLi9idWNrZXRIb3N0bmFtZVV0aWxzXCI7XG5pbXBvcnQgeyBCdWNrZXRFbmRwb2ludFJlc29sdmVkQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnNcIjtcblxuZXhwb3J0IGNvbnN0IGJ1Y2tldEVuZHBvaW50TWlkZGxld2FyZSA9IChvcHRpb25zOiBCdWNrZXRFbmRwb2ludFJlc29sdmVkQ29uZmlnKTogQnVpbGRNaWRkbGV3YXJlPGFueSwgYW55PiA9PiA8XG4gIE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyXG4+KFxuICBuZXh0OiBCdWlsZEhhbmRsZXI8YW55LCBPdXRwdXQ+LFxuICBjb250ZXh0OiBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dFxuKTogQnVpbGRIYW5kbGVyPGFueSwgT3V0cHV0PiA9PiBhc3luYyAoYXJnczogQnVpbGRIYW5kbGVyQXJndW1lbnRzPGFueT4pOiBQcm9taXNlPEJ1aWxkSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gIGNvbnN0IHsgQnVja2V0OiBidWNrZXROYW1lIH0gPSBhcmdzLmlucHV0IGFzIHsgQnVja2V0OiBzdHJpbmcgfTtcbiAgbGV0IHJlcGxhY2VCdWNrZXRJblBhdGggPSBvcHRpb25zLmJ1Y2tldEVuZHBvaW50O1xuICBjb25zdCByZXF1ZXN0ID0gYXJncy5yZXF1ZXN0O1xuICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgIGlmIChvcHRpb25zLmJ1Y2tldEVuZHBvaW50KSB7XG4gICAgICByZXF1ZXN0Lmhvc3RuYW1lID0gYnVja2V0TmFtZTtcbiAgICB9IGVsc2UgaWYgKHZhbGlkYXRlQXJuKGJ1Y2tldE5hbWUpKSB7XG4gICAgICBjb25zdCBidWNrZXRBcm4gPSBwYXJzZUFybihidWNrZXROYW1lKTtcbiAgICAgIGNvbnN0IGNsaWVudFJlZ2lvbiA9IGdldFBzZXVkb1JlZ2lvbihhd2FpdCBvcHRpb25zLnJlZ2lvbigpKTtcbiAgICAgIGNvbnN0IHsgcGFydGl0aW9uLCBzaWduaW5nUmVnaW9uID0gY2xpZW50UmVnaW9uIH0gPSAoYXdhaXQgb3B0aW9ucy5yZWdpb25JbmZvUHJvdmlkZXIoY2xpZW50UmVnaW9uKSkgfHwge307XG4gICAgICBjb25zdCB1c2VBcm5SZWdpb24gPSBhd2FpdCBvcHRpb25zLnVzZUFyblJlZ2lvbigpO1xuICAgICAgY29uc3QgeyBob3N0bmFtZSwgYnVja2V0RW5kcG9pbnQsIHNpZ25pbmdSZWdpb246IG1vZGlmaWVkU2lnbmluZ1JlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgfSA9IGJ1Y2tldEhvc3RuYW1lKHtcbiAgICAgICAgYnVja2V0TmFtZTogYnVja2V0QXJuLFxuICAgICAgICBiYXNlSG9zdG5hbWU6IHJlcXVlc3QuaG9zdG5hbWUsXG4gICAgICAgIGFjY2VsZXJhdGVFbmRwb2ludDogb3B0aW9ucy51c2VBY2NlbGVyYXRlRW5kcG9pbnQsXG4gICAgICAgIGR1YWxzdGFja0VuZHBvaW50OiBvcHRpb25zLnVzZUR1YWxzdGFja0VuZHBvaW50LFxuICAgICAgICBwYXRoU3R5bGVFbmRwb2ludDogb3B0aW9ucy5mb3JjZVBhdGhTdHlsZSxcbiAgICAgICAgdGxzQ29tcGF0aWJsZTogcmVxdWVzdC5wcm90b2NvbCA9PT0gXCJodHRwczpcIixcbiAgICAgICAgdXNlQXJuUmVnaW9uLFxuICAgICAgICBjbGllbnRQYXJ0aXRpb246IHBhcnRpdGlvbixcbiAgICAgICAgY2xpZW50U2lnbmluZ1JlZ2lvbjogc2lnbmluZ1JlZ2lvbixcbiAgICAgICAgY2xpZW50UmVnaW9uOiBjbGllbnRSZWdpb24sXG4gICAgICAgIGlzQ3VzdG9tRW5kcG9pbnQ6IG9wdGlvbnMuaXNDdXN0b21FbmRwb2ludCxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCBuZWVkcyB0byB1c2UgYSByZWdpb24gb3Igc2VydmljZSBuYW1lIGluZmVycmVkIGZyb20gQVJOIHRoYXQgZGlmZmVyZW50IGZyb20gY2xpZW50IHJlZ2lvbiwgd2VcbiAgICAgIC8vIG5lZWQgdG8gc2V0IHRoZW0gaW4gdGhlIGhhbmRsZXIgY29udGV4dCBzbyB0aGUgc2lnbmVyIHdpbGwgdXNlIHRoZW1cbiAgICAgIGlmIChtb2RpZmllZFNpZ25pbmdSZWdpb24gJiYgbW9kaWZpZWRTaWduaW5nUmVnaW9uICE9PSBzaWduaW5nUmVnaW9uKSB7XG4gICAgICAgIGNvbnRleHRbXCJzaWduaW5nX3JlZ2lvblwiXSA9IG1vZGlmaWVkU2lnbmluZ1JlZ2lvbjtcbiAgICAgIH1cbiAgICAgIGlmIChzaWduaW5nU2VydmljZSAmJiBzaWduaW5nU2VydmljZSAhPT0gXCJzM1wiKSB7XG4gICAgICAgIGNvbnRleHRbXCJzaWduaW5nX3NlcnZpY2VcIl0gPSBzaWduaW5nU2VydmljZTtcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5ob3N0bmFtZSA9IGhvc3RuYW1lO1xuICAgICAgcmVwbGFjZUJ1Y2tldEluUGF0aCA9IGJ1Y2tldEVuZHBvaW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjbGllbnRSZWdpb24gPSBnZXRQc2V1ZG9SZWdpb24oYXdhaXQgb3B0aW9ucy5yZWdpb24oKSk7XG4gICAgICBjb25zdCB7IGhvc3RuYW1lLCBidWNrZXRFbmRwb2ludCB9ID0gYnVja2V0SG9zdG5hbWUoe1xuICAgICAgICBidWNrZXROYW1lLFxuICAgICAgICBjbGllbnRSZWdpb24sXG4gICAgICAgIGJhc2VIb3N0bmFtZTogcmVxdWVzdC5ob3N0bmFtZSxcbiAgICAgICAgYWNjZWxlcmF0ZUVuZHBvaW50OiBvcHRpb25zLnVzZUFjY2VsZXJhdGVFbmRwb2ludCxcbiAgICAgICAgZHVhbHN0YWNrRW5kcG9pbnQ6IG9wdGlvbnMudXNlRHVhbHN0YWNrRW5kcG9pbnQsXG4gICAgICAgIHBhdGhTdHlsZUVuZHBvaW50OiBvcHRpb25zLmZvcmNlUGF0aFN0eWxlLFxuICAgICAgICB0bHNDb21wYXRpYmxlOiByZXF1ZXN0LnByb3RvY29sID09PSBcImh0dHBzOlwiLFxuICAgICAgICBpc0N1c3RvbUVuZHBvaW50OiBvcHRpb25zLmlzQ3VzdG9tRW5kcG9pbnQsXG4gICAgICB9KTtcblxuICAgICAgcmVxdWVzdC5ob3N0bmFtZSA9IGhvc3RuYW1lO1xuICAgICAgcmVwbGFjZUJ1Y2tldEluUGF0aCA9IGJ1Y2tldEVuZHBvaW50O1xuICAgIH1cblxuICAgIGlmIChyZXBsYWNlQnVja2V0SW5QYXRoKSB7XG4gICAgICByZXF1ZXN0LnBhdGggPSByZXF1ZXN0LnBhdGgucmVwbGFjZSgvXihcXC8pP1teXFwvXSsvLCBcIlwiKTtcbiAgICAgIGlmIChyZXF1ZXN0LnBhdGggPT09IFwiXCIpIHtcbiAgICAgICAgcmVxdWVzdC5wYXRoID0gXCIvXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5leHQoeyAuLi5hcmdzLCByZXF1ZXN0IH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGJ1Y2tldEVuZHBvaW50TWlkZGxld2FyZU9wdGlvbnM6IFJlbGF0aXZlTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gIHRhZ3M6IFtcIkJVQ0tFVF9FTkRQT0lOVFwiXSxcbiAgbmFtZTogXCJidWNrZXRFbmRwb2ludE1pZGRsZXdhcmVcIixcbiAgcmVsYXRpb246IFwiYmVmb3JlXCIsXG4gIHRvTWlkZGxld2FyZTogXCJob3N0SGVhZGVyTWlkZGxld2FyZVwiLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRCdWNrZXRFbmRwb2ludFBsdWdpbiA9IChvcHRpb25zOiBCdWNrZXRFbmRwb2ludFJlc29sdmVkQ29uZmlnKTogUGx1Z2dhYmxlPGFueSwgYW55PiA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oYnVja2V0RW5kcG9pbnRNaWRkbGV3YXJlKG9wdGlvbnMpLCBidWNrZXRFbmRwb2ludE1pZGRsZXdhcmVPcHRpb25zKTtcbiAgfSxcbn0pO1xuIl19","import { __read } from \"tslib\";\n/**\n * Validate whether a string is an ARN.\n */\nexport var validate = function (str) {\n    return typeof str === \"string\" && str.indexOf(\"arn:\") === 0 && str.split(\":\").length >= 6;\n};\n/**\n * Parse an ARN string into structure with partition, service, region, accountId and resource values\n */\nexport var parse = function (arn) {\n    var segments = arn.split(\":\");\n    if (segments.length < 6 || segments[0] !== \"arn\")\n        throw new Error(\"Malformed ARN\");\n    var _a = __read(segments), \n    //Skip \"arn\" literal\n    partition = _a[1], service = _a[2], region = _a[3], accountId = _a[4], resource = _a.slice(5);\n    return {\n        partition: partition,\n        service: service,\n        region: region,\n        accountId: accountId,\n        resource: resource.join(\":\"),\n    };\n};\n/**\n * Build an ARN with service, partition, region, accountId, and resources strings\n */\nexport var build = function (arnObject) {\n    var _a = arnObject.partition, partition = _a === void 0 ? \"aws\" : _a, service = arnObject.service, region = arnObject.region, accountId = arnObject.accountId, resource = arnObject.resource;\n    if ([service, region, accountId, resource].some(function (segment) { return typeof segment !== \"string\"; })) {\n        throw new Error(\"Input ARN object is invalid\");\n    }\n    return \"arn:\" + partition + \":\" + service + \":\" + region + \":\" + accountId + \":\" + resource;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQU9BOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0sUUFBUSxHQUFHLFVBQUMsR0FBUTtJQUMvQixPQUFBLE9BQU8sR0FBRyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDO0FBQWxGLENBQWtGLENBQUM7QUFFckY7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxLQUFLLEdBQUcsVUFBQyxHQUFXO0lBQy9CLElBQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDaEMsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSztRQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDN0UsSUFBQSxLQUFBLE9BUUYsUUFBUSxDQUFBO0lBTlYsb0JBQW9CO0lBQ3BCLFNBQVMsUUFBQSxFQUNULE9BQU8sUUFBQSxFQUNQLE1BQU0sUUFBQSxFQUNOLFNBQVMsUUFBQSxFQUNOLFFBQVEsY0FDRCxDQUFDO0lBRWIsT0FBTztRQUNMLFNBQVMsV0FBQTtRQUNULE9BQU8sU0FBQTtRQUNQLE1BQU0sUUFBQTtRQUNOLFNBQVMsV0FBQTtRQUNULFFBQVEsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztLQUM3QixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBSUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxLQUFLLEdBQUcsVUFBQyxTQUF1QjtJQUNuQyxJQUFBLEtBQTRELFNBQVMsVUFBcEQsRUFBakIsU0FBUyxtQkFBRyxLQUFLLEtBQUEsRUFBRSxPQUFPLEdBQWtDLFNBQVMsUUFBM0MsRUFBRSxNQUFNLEdBQTBCLFNBQVMsT0FBbkMsRUFBRSxTQUFTLEdBQWUsU0FBUyxVQUF4QixFQUFFLFFBQVEsR0FBSyxTQUFTLFNBQWQsQ0FBZTtJQUM5RSxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsT0FBTyxJQUFLLE9BQUEsT0FBTyxPQUFPLEtBQUssUUFBUSxFQUEzQixDQUEyQixDQUFDLEVBQUU7UUFDekYsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0tBQ2hEO0lBQ0QsT0FBTyxTQUFPLFNBQVMsU0FBSSxPQUFPLFNBQUksTUFBTSxTQUFJLFNBQVMsU0FBSSxRQUFVLENBQUM7QUFDMUUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBBUk4ge1xuICBwYXJ0aXRpb246IHN0cmluZztcbiAgc2VydmljZTogc3RyaW5nO1xuICByZWdpb246IHN0cmluZztcbiAgYWNjb3VudElkOiBzdHJpbmc7XG4gIHJlc291cmNlOiBzdHJpbmc7XG59XG4vKipcbiAqIFZhbGlkYXRlIHdoZXRoZXIgYSBzdHJpbmcgaXMgYW4gQVJOLlxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGUgPSAoc3RyOiBhbnkpOiBib29sZWFuID0+XG4gIHR5cGVvZiBzdHIgPT09IFwic3RyaW5nXCIgJiYgc3RyLmluZGV4T2YoXCJhcm46XCIpID09PSAwICYmIHN0ci5zcGxpdChcIjpcIikubGVuZ3RoID49IDY7XG5cbi8qKlxuICogUGFyc2UgYW4gQVJOIHN0cmluZyBpbnRvIHN0cnVjdHVyZSB3aXRoIHBhcnRpdGlvbiwgc2VydmljZSwgcmVnaW9uLCBhY2NvdW50SWQgYW5kIHJlc291cmNlIHZhbHVlc1xuICovXG5leHBvcnQgY29uc3QgcGFyc2UgPSAoYXJuOiBzdHJpbmcpOiBBUk4gPT4ge1xuICBjb25zdCBzZWdtZW50cyA9IGFybi5zcGxpdChcIjpcIik7XG4gIGlmIChzZWdtZW50cy5sZW5ndGggPCA2IHx8IHNlZ21lbnRzWzBdICE9PSBcImFyblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgQVJOXCIpO1xuICBjb25zdCBbXG4gICAgLFxuICAgIC8vU2tpcCBcImFyblwiIGxpdGVyYWxcbiAgICBwYXJ0aXRpb24sXG4gICAgc2VydmljZSxcbiAgICByZWdpb24sXG4gICAgYWNjb3VudElkLFxuICAgIC4uLnJlc291cmNlXG4gIF0gPSBzZWdtZW50cztcblxuICByZXR1cm4ge1xuICAgIHBhcnRpdGlvbixcbiAgICBzZXJ2aWNlLFxuICAgIHJlZ2lvbixcbiAgICBhY2NvdW50SWQsXG4gICAgcmVzb3VyY2U6IHJlc291cmNlLmpvaW4oXCI6XCIpLFxuICB9O1xufTtcblxudHlwZSBidWlsZE9wdGlvbnMgPSBPbWl0PEFSTiwgXCJwYXJ0aXRpb25cIj4gJiB7IHBhcnRpdGlvbj86IHN0cmluZyB9O1xuXG4vKipcbiAqIEJ1aWxkIGFuIEFSTiB3aXRoIHNlcnZpY2UsIHBhcnRpdGlvbiwgcmVnaW9uLCBhY2NvdW50SWQsIGFuZCByZXNvdXJjZXMgc3RyaW5nc1xuICovXG5leHBvcnQgY29uc3QgYnVpbGQgPSAoYXJuT2JqZWN0OiBidWlsZE9wdGlvbnMpOiBzdHJpbmcgPT4ge1xuICBjb25zdCB7IHBhcnRpdGlvbiA9IFwiYXdzXCIsIHNlcnZpY2UsIHJlZ2lvbiwgYWNjb3VudElkLCByZXNvdXJjZSB9ID0gYXJuT2JqZWN0O1xuICBpZiAoW3NlcnZpY2UsIHJlZ2lvbiwgYWNjb3VudElkLCByZXNvdXJjZV0uc29tZSgoc2VnbWVudCkgPT4gdHlwZW9mIHNlZ21lbnQgIT09IFwic3RyaW5nXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgQVJOIG9iamVjdCBpcyBpbnZhbGlkXCIpO1xuICB9XG4gIHJldHVybiBgYXJuOiR7cGFydGl0aW9ufToke3NlcnZpY2V9OiR7cmVnaW9ufToke2FjY291bnRJZH06JHtyZXNvdXJjZX1gO1xufTtcbiJdfQ==","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { validate as validateArn } from \"@aws-sdk/util-arn-parser\";\n/**\n * @internal\n */\nexport function validateBucketNameMiddleware() {\n    var _this = this;\n    return function (next) { return function (args) { return __awaiter(_this, void 0, void 0, function () {\n        var Bucket, err;\n        return __generator(this, function (_a) {\n            Bucket = args.input.Bucket;\n            if (typeof Bucket === \"string\" && !validateArn(Bucket) && Bucket.indexOf(\"/\") >= 0) {\n                err = new Error(\"Bucket name shouldn't contain '/', received '\" + Bucket + \"'\");\n                err.name = \"InvalidBucketName\";\n                throw err;\n            }\n            return [2 /*return*/, next(__assign({}, args))];\n        });\n    }); }; };\n}\n/**\n * @internal\n */\nexport var validateBucketNameMiddlewareOptions = {\n    step: \"initialize\",\n    tags: [\"VALIDATE_BUCKET_NAME\"],\n    name: \"validateBucketNameMiddleware\",\n    override: true,\n};\n/**\n * @internal\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport var getValidateBucketNamePlugin = function (unused) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(validateBucketNameMiddleware(), validateBucketNameMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGUtYnVja2V0LW5hbWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdmFsaWRhdGUtYnVja2V0LW5hbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVNBLE9BQU8sRUFBRSxRQUFRLElBQUksV0FBVyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFbkU7O0dBRUc7QUFDSCxNQUFNLFVBQVUsNEJBQTRCO0lBQTVDLGlCQWdCQztJQWZDLE9BQU8sVUFDTCxJQUFvQyxJQUNELE9BQUEsVUFDbkMsSUFBcUM7OztZQUcxQixNQUFNLEdBQ2IsSUFBSSxhQURTLENBQ1I7WUFDVCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDNUUsR0FBRyxHQUFHLElBQUksS0FBSyxDQUFDLGtEQUFnRCxNQUFNLE1BQUcsQ0FBQyxDQUFDO2dCQUNqRixHQUFHLENBQUMsSUFBSSxHQUFHLG1CQUFtQixDQUFDO2dCQUMvQixNQUFNLEdBQUcsQ0FBQzthQUNYO1lBQ0Qsc0JBQU8sSUFBSSxjQUFNLElBQUksRUFBRyxFQUFDOztTQUMxQixFQVpvQyxDQVlwQyxDQUFDO0FBQ0osQ0FBQztBQUVEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0sbUNBQW1DLEdBQTZCO0lBQzNFLElBQUksRUFBRSxZQUFZO0lBQ2xCLElBQUksRUFBRSxDQUFDLHNCQUFzQixDQUFDO0lBQzlCLElBQUksRUFBRSw4QkFBOEI7SUFDcEMsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDO0FBRUY7O0dBRUc7QUFDSCw2REFBNkQ7QUFDN0QsTUFBTSxDQUFDLElBQU0sMkJBQTJCLEdBQUcsVUFBQyxNQUFXLElBQTBCLE9BQUEsQ0FBQztJQUNoRixZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsNEJBQTRCLEVBQUUsRUFBRSxtQ0FBbUMsQ0FBQyxDQUFDO0lBQ3ZGLENBQUM7Q0FDRixDQUFDLEVBSitFLENBSS9FLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBJbml0aWFsaXplSGFuZGxlcixcbiAgSW5pdGlhbGl6ZUhhbmRsZXJBcmd1bWVudHMsXG4gIEluaXRpYWxpemVIYW5kbGVyT3B0aW9ucyxcbiAgSW5pdGlhbGl6ZUhhbmRsZXJPdXRwdXQsXG4gIEluaXRpYWxpemVNaWRkbGV3YXJlLFxuICBNZXRhZGF0YUJlYXJlcixcbiAgUGx1Z2dhYmxlLFxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IHZhbGlkYXRlIGFzIHZhbGlkYXRlQXJuIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYXJuLXBhcnNlclwiO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVCdWNrZXROYW1lTWlkZGxld2FyZSgpOiBJbml0aWFsaXplTWlkZGxld2FyZTxhbnksIGFueT4ge1xuICByZXR1cm4gPE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyPihcbiAgICBuZXh0OiBJbml0aWFsaXplSGFuZGxlcjxhbnksIE91dHB1dD5cbiAgKTogSW5pdGlhbGl6ZUhhbmRsZXI8YW55LCBPdXRwdXQ+ID0+IGFzeW5jIChcbiAgICBhcmdzOiBJbml0aWFsaXplSGFuZGxlckFyZ3VtZW50czxhbnk+XG4gICk6IFByb21pc2U8SW5pdGlhbGl6ZUhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGlucHV0OiB7IEJ1Y2tldCB9LFxuICAgIH0gPSBhcmdzO1xuICAgIGlmICh0eXBlb2YgQnVja2V0ID09PSBcInN0cmluZ1wiICYmICF2YWxpZGF0ZUFybihCdWNrZXQpICYmIEJ1Y2tldC5pbmRleE9mKFwiL1wiKSA+PSAwKSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYEJ1Y2tldCBuYW1lIHNob3VsZG4ndCBjb250YWluICcvJywgcmVjZWl2ZWQgJyR7QnVja2V0fSdgKTtcbiAgICAgIGVyci5uYW1lID0gXCJJbnZhbGlkQnVja2V0TmFtZVwiO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dCh7IC4uLmFyZ3MgfSk7XG4gIH07XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUJ1Y2tldE5hbWVNaWRkbGV3YXJlT3B0aW9uczogSW5pdGlhbGl6ZUhhbmRsZXJPcHRpb25zID0ge1xuICBzdGVwOiBcImluaXRpYWxpemVcIixcbiAgdGFnczogW1wiVkFMSURBVEVfQlVDS0VUX05BTUVcIl0sXG4gIG5hbWU6IFwidmFsaWRhdGVCdWNrZXROYW1lTWlkZGxld2FyZVwiLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmV4cG9ydCBjb25zdCBnZXRWYWxpZGF0ZUJ1Y2tldE5hbWVQbHVnaW4gPSAodW51c2VkOiBhbnkpOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkKHZhbGlkYXRlQnVja2V0TmFtZU1pZGRsZXdhcmUoKSwgdmFsaWRhdGVCdWNrZXROYW1lTWlkZGxld2FyZU9wdGlvbnMpO1xuICB9LFxufSk7XG4iXX0=","import { __read } from \"tslib\";\n/**\n * Validate whether a string is an ARN.\n */\nexport var validate = function (str) {\n    return typeof str === \"string\" && str.indexOf(\"arn:\") === 0 && str.split(\":\").length >= 6;\n};\n/**\n * Parse an ARN string into structure with partition, service, region, accountId and resource values\n */\nexport var parse = function (arn) {\n    var segments = arn.split(\":\");\n    if (segments.length < 6 || segments[0] !== \"arn\")\n        throw new Error(\"Malformed ARN\");\n    var _a = __read(segments), \n    //Skip \"arn\" literal\n    partition = _a[1], service = _a[2], region = _a[3], accountId = _a[4], resource = _a.slice(5);\n    return {\n        partition: partition,\n        service: service,\n        region: region,\n        accountId: accountId,\n        resource: resource.join(\":\"),\n    };\n};\n/**\n * Build an ARN with service, partition, region, accountId, and resources strings\n */\nexport var build = function (arnObject) {\n    var _a = arnObject.partition, partition = _a === void 0 ? \"aws\" : _a, service = arnObject.service, region = arnObject.region, accountId = arnObject.accountId, resource = arnObject.resource;\n    if ([service, region, accountId, resource].some(function (segment) { return typeof segment !== \"string\"; })) {\n        throw new Error(\"Input ARN object is invalid\");\n    }\n    return \"arn:\" + partition + \":\" + service + \":\" + region + \":\" + accountId + \":\" + resource;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQU9BOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0sUUFBUSxHQUFHLFVBQUMsR0FBUTtJQUMvQixPQUFBLE9BQU8sR0FBRyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDO0FBQWxGLENBQWtGLENBQUM7QUFFckY7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxLQUFLLEdBQUcsVUFBQyxHQUFXO0lBQy9CLElBQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDaEMsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSztRQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDN0UsSUFBQSxLQUFBLE9BUUYsUUFBUSxDQUFBO0lBTlYsb0JBQW9CO0lBQ3BCLFNBQVMsUUFBQSxFQUNULE9BQU8sUUFBQSxFQUNQLE1BQU0sUUFBQSxFQUNOLFNBQVMsUUFBQSxFQUNOLFFBQVEsY0FDRCxDQUFDO0lBRWIsT0FBTztRQUNMLFNBQVMsV0FBQTtRQUNULE9BQU8sU0FBQTtRQUNQLE1BQU0sUUFBQTtRQUNOLFNBQVMsV0FBQTtRQUNULFFBQVEsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztLQUM3QixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBSUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxLQUFLLEdBQUcsVUFBQyxTQUF1QjtJQUNuQyxJQUFBLEtBQTRELFNBQVMsVUFBcEQsRUFBakIsU0FBUyxtQkFBRyxLQUFLLEtBQUEsRUFBRSxPQUFPLEdBQWtDLFNBQVMsUUFBM0MsRUFBRSxNQUFNLEdBQTBCLFNBQVMsT0FBbkMsRUFBRSxTQUFTLEdBQWUsU0FBUyxVQUF4QixFQUFFLFFBQVEsR0FBSyxTQUFTLFNBQWQsQ0FBZTtJQUM5RSxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsT0FBTyxJQUFLLE9BQUEsT0FBTyxPQUFPLEtBQUssUUFBUSxFQUEzQixDQUEyQixDQUFDLEVBQUU7UUFDekYsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0tBQ2hEO0lBQ0QsT0FBTyxTQUFPLFNBQVMsU0FBSSxPQUFPLFNBQUksTUFBTSxTQUFJLFNBQVMsU0FBSSxRQUFVLENBQUM7QUFDMUUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBBUk4ge1xuICBwYXJ0aXRpb246IHN0cmluZztcbiAgc2VydmljZTogc3RyaW5nO1xuICByZWdpb246IHN0cmluZztcbiAgYWNjb3VudElkOiBzdHJpbmc7XG4gIHJlc291cmNlOiBzdHJpbmc7XG59XG4vKipcbiAqIFZhbGlkYXRlIHdoZXRoZXIgYSBzdHJpbmcgaXMgYW4gQVJOLlxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGUgPSAoc3RyOiBhbnkpOiBib29sZWFuID0+XG4gIHR5cGVvZiBzdHIgPT09IFwic3RyaW5nXCIgJiYgc3RyLmluZGV4T2YoXCJhcm46XCIpID09PSAwICYmIHN0ci5zcGxpdChcIjpcIikubGVuZ3RoID49IDY7XG5cbi8qKlxuICogUGFyc2UgYW4gQVJOIHN0cmluZyBpbnRvIHN0cnVjdHVyZSB3aXRoIHBhcnRpdGlvbiwgc2VydmljZSwgcmVnaW9uLCBhY2NvdW50SWQgYW5kIHJlc291cmNlIHZhbHVlc1xuICovXG5leHBvcnQgY29uc3QgcGFyc2UgPSAoYXJuOiBzdHJpbmcpOiBBUk4gPT4ge1xuICBjb25zdCBzZWdtZW50cyA9IGFybi5zcGxpdChcIjpcIik7XG4gIGlmIChzZWdtZW50cy5sZW5ndGggPCA2IHx8IHNlZ21lbnRzWzBdICE9PSBcImFyblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgQVJOXCIpO1xuICBjb25zdCBbXG4gICAgLFxuICAgIC8vU2tpcCBcImFyblwiIGxpdGVyYWxcbiAgICBwYXJ0aXRpb24sXG4gICAgc2VydmljZSxcbiAgICByZWdpb24sXG4gICAgYWNjb3VudElkLFxuICAgIC4uLnJlc291cmNlXG4gIF0gPSBzZWdtZW50cztcblxuICByZXR1cm4ge1xuICAgIHBhcnRpdGlvbixcbiAgICBzZXJ2aWNlLFxuICAgIHJlZ2lvbixcbiAgICBhY2NvdW50SWQsXG4gICAgcmVzb3VyY2U6IHJlc291cmNlLmpvaW4oXCI6XCIpLFxuICB9O1xufTtcblxudHlwZSBidWlsZE9wdGlvbnMgPSBPbWl0PEFSTiwgXCJwYXJ0aXRpb25cIj4gJiB7IHBhcnRpdGlvbj86IHN0cmluZyB9O1xuXG4vKipcbiAqIEJ1aWxkIGFuIEFSTiB3aXRoIHNlcnZpY2UsIHBhcnRpdGlvbiwgcmVnaW9uLCBhY2NvdW50SWQsIGFuZCByZXNvdXJjZXMgc3RyaW5nc1xuICovXG5leHBvcnQgY29uc3QgYnVpbGQgPSAoYXJuT2JqZWN0OiBidWlsZE9wdGlvbnMpOiBzdHJpbmcgPT4ge1xuICBjb25zdCB7IHBhcnRpdGlvbiA9IFwiYXdzXCIsIHNlcnZpY2UsIHJlZ2lvbiwgYWNjb3VudElkLCByZXNvdXJjZSB9ID0gYXJuT2JqZWN0O1xuICBpZiAoW3NlcnZpY2UsIHJlZ2lvbiwgYWNjb3VudElkLCByZXNvdXJjZV0uc29tZSgoc2VnbWVudCkgPT4gdHlwZW9mIHNlZ21lbnQgIT09IFwic3RyaW5nXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgQVJOIG9iamVjdCBpcyBpbnZhbGlkXCIpO1xuICB9XG4gIHJldHVybiBgYXJuOiR7cGFydGl0aW9ufToke3NlcnZpY2V9OiR7cmVnaW9ufToke2FjY291bnRJZH06JHtyZXNvdXJjZX1gO1xufTtcbiJdfQ==","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\n/**\n * @internal\n */\nexport var useRegionalEndpointMiddleware = function (config) { return function (next) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var request, _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                request = args.request;\n                if (!HttpRequest.isInstance(request) || config.isCustomEndpoint)\n                    return [2 /*return*/, next(__assign({}, args))];\n                if (!(request.hostname === \"s3.amazonaws.com\")) return [3 /*break*/, 1];\n                request.hostname = \"s3.us-east-1.amazonaws.com\";\n                return [3 /*break*/, 3];\n            case 1:\n                _a = \"aws-global\";\n                return [4 /*yield*/, config.region()];\n            case 2:\n                if (_a === (_b.sent())) {\n                    request.hostname = \"s3.amazonaws.com\";\n                }\n                _b.label = 3;\n            case 3: return [2 /*return*/, next(__assign({}, args))];\n        }\n    });\n}); }; }; };\n/**\n * @internal\n */\nexport var useRegionalEndpointMiddlewareOptions = {\n    step: \"build\",\n    tags: [\"USE_REGIONAL_ENDPOINT\", \"S3\"],\n    name: \"useRegionalEndpointMiddleware\",\n    override: true,\n};\n/**\n * @internal\n */\nexport var getUseRegionalEndpointPlugin = function (config) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(useRegionalEndpointMiddleware(config), useRegionalEndpointMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlZ2lvbmFsLWVuZHBvaW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VzZS1yZWdpb25hbC1lbmRwb2ludC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBaUJyRDs7R0FFRztBQUNILE1BQU0sQ0FBQyxJQUFNLDZCQUE2QixHQUFHLFVBQUMsTUFBMEIsSUFBZ0MsT0FBQSxVQUd0RyxJQUErQixJQUNELE9BQUEsVUFBTyxJQUFnQzs7Ozs7Z0JBQzdELE9BQU8sR0FBSyxJQUFJLFFBQVQsQ0FBVTtnQkFDekIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksTUFBTSxDQUFDLGdCQUFnQjtvQkFBRSxzQkFBTyxJQUFJLGNBQU0sSUFBSSxFQUFHLEVBQUM7cUJBQ3RGLENBQUEsT0FBTyxDQUFDLFFBQVEsS0FBSyxrQkFBa0IsQ0FBQSxFQUF2Qyx3QkFBdUM7Z0JBQ3pDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsNEJBQTRCLENBQUM7OztnQkFDdkMsS0FBQSxZQUFZLENBQUE7Z0JBQU0scUJBQU0sTUFBTSxDQUFDLE1BQU0sRUFBRSxFQUFBOztnQkFBM0MsSUFBSSxPQUFpQixDQUFDLFNBQXFCLENBQUMsRUFBRTtvQkFDbkQsT0FBTyxDQUFDLFFBQVEsR0FBRyxrQkFBa0IsQ0FBQztpQkFDdkM7O29CQUNELHNCQUFPLElBQUksY0FBTSxJQUFJLEVBQUcsRUFBQzs7O0tBQzFCLEVBVCtCLENBUy9CLEVBYnVHLENBYXZHLENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sQ0FBQyxJQUFNLG9DQUFvQyxHQUF3QjtJQUN2RSxJQUFJLEVBQUUsT0FBTztJQUNiLElBQUksRUFBRSxDQUFDLHVCQUF1QixFQUFFLElBQUksQ0FBQztJQUNyQyxJQUFJLEVBQUUsK0JBQStCO0lBQ3JDLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0sNEJBQTRCLEdBQUcsVUFBQyxNQUEwQixJQUEwQixPQUFBLENBQUM7SUFDaEcsWUFBWSxFQUFFLFVBQUMsV0FBVztRQUN4QixXQUFXLENBQUMsR0FBRyxDQUFDLDZCQUE2QixDQUFDLE1BQU0sQ0FBQyxFQUFFLG9DQUFvQyxDQUFDLENBQUM7SUFDL0YsQ0FBQztDQUNGLENBQUMsRUFKK0YsQ0FJL0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7XG4gIEJ1aWxkSGFuZGxlcixcbiAgQnVpbGRIYW5kbGVyQXJndW1lbnRzLFxuICBCdWlsZEhhbmRsZXJPcHRpb25zLFxuICBCdWlsZEhhbmRsZXJPdXRwdXQsXG4gIEJ1aWxkTWlkZGxld2FyZSxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIFBsdWdnYWJsZSxcbiAgUHJvdmlkZXIsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG50eXBlIFByZXZpb3VzbHlSZXNvbHZlZCA9IHtcbiAgcmVnaW9uOiBQcm92aWRlcjxzdHJpbmc+O1xuICBpc0N1c3RvbUVuZHBvaW50OiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVJlZ2lvbmFsRW5kcG9pbnRNaWRkbGV3YXJlID0gKGNvbmZpZzogUHJldmlvdXNseVJlc29sdmVkKTogQnVpbGRNaWRkbGV3YXJlPGFueSwgYW55PiA9PiA8XG4gIE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyXG4+KFxuICBuZXh0OiBCdWlsZEhhbmRsZXI8YW55LCBPdXRwdXQ+XG4pOiBCdWlsZEhhbmRsZXI8YW55LCBPdXRwdXQ+ID0+IGFzeW5jIChhcmdzOiBCdWlsZEhhbmRsZXJBcmd1bWVudHM8YW55Pik6IFByb21pc2U8QnVpbGRIYW5kbGVyT3V0cHV0PE91dHB1dD4+ID0+IHtcbiAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICBpZiAoIUh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkgfHwgY29uZmlnLmlzQ3VzdG9tRW5kcG9pbnQpIHJldHVybiBuZXh0KHsgLi4uYXJncyB9KTtcbiAgaWYgKHJlcXVlc3QuaG9zdG5hbWUgPT09IFwiczMuYW1hem9uYXdzLmNvbVwiKSB7XG4gICAgcmVxdWVzdC5ob3N0bmFtZSA9IFwiczMudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cIjtcbiAgfSBlbHNlIGlmIChcImF3cy1nbG9iYWxcIiA9PT0gKGF3YWl0IGNvbmZpZy5yZWdpb24oKSkpIHtcbiAgICByZXF1ZXN0Lmhvc3RuYW1lID0gXCJzMy5hbWF6b25hd3MuY29tXCI7XG4gIH1cbiAgcmV0dXJuIG5leHQoeyAuLi5hcmdzIH0pO1xufTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVJlZ2lvbmFsRW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9uczogQnVpbGRIYW5kbGVyT3B0aW9ucyA9IHtcbiAgc3RlcDogXCJidWlsZFwiLFxuICB0YWdzOiBbXCJVU0VfUkVHSU9OQUxfRU5EUE9JTlRcIiwgXCJTM1wiXSxcbiAgbmFtZTogXCJ1c2VSZWdpb25hbEVuZHBvaW50TWlkZGxld2FyZVwiLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRVc2VSZWdpb25hbEVuZHBvaW50UGx1Z2luID0gKGNvbmZpZzogUHJldmlvdXNseVJlc29sdmVkKTogUGx1Z2dhYmxlPGFueSwgYW55PiA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZCh1c2VSZWdpb25hbEVuZHBvaW50TWlkZGxld2FyZShjb25maWcpLCB1c2VSZWdpb25hbEVuZHBvaW50TWlkZGxld2FyZU9wdGlvbnMpO1xuICB9LFxufSk7XG4iXX0=","import { __awaiter, __generator } from \"tslib\";\nimport { HttpResponse } from \"@aws-sdk/protocol-http\";\n/**\n * In case of an internal error/terminated connection, S3 operations may return 200 errors. CopyObject, UploadPartCopy,\n * CompleteMultipartUpload may return empty payload or payload with only xml Preamble.\n * @internal\n */\nexport var throw200ExceptionsMiddleware = function (config) { return function (next) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var result, response, statusCode, body, bodyBytes, bodyString, err;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, next(args)];\n            case 1:\n                result = _a.sent();\n                response = result.response;\n                if (!HttpResponse.isInstance(response))\n                    return [2 /*return*/, result];\n                statusCode = response.statusCode, body = response.body;\n                if (statusCode < 200 && statusCode >= 300)\n                    return [2 /*return*/, result];\n                return [4 /*yield*/, collectBody(body, config)];\n            case 2:\n                bodyBytes = _a.sent();\n                return [4 /*yield*/, collectBodyString(bodyBytes, config)];\n            case 3:\n                bodyString = _a.sent();\n                if (bodyBytes.length === 0) {\n                    err = new Error(\"S3 aborted request\");\n                    err.name = \"InternalError\";\n                    throw err;\n                }\n                if (bodyString && bodyString.match(\"<Error>\")) {\n                    // Set the error code to 4XX so that error deserializer can parse them\n                    response.statusCode = 400;\n                }\n                // Body stream is consumed and paused at this point. So replace the response.body to the collected bytes.\n                // So that the deserializer can consume the body as normal.\n                response.body = bodyBytes;\n                return [2 /*return*/, result];\n        }\n    });\n}); }; }; };\n// Collect low-level response body stream to Uint8Array.\nvar collectBody = function (streamBody, context) {\n    if (streamBody === void 0) { streamBody = new Uint8Array(); }\n    if (streamBody instanceof Uint8Array) {\n        return Promise.resolve(streamBody);\n    }\n    return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n};\n// Encode Uint8Array data into string with utf-8.\nvar collectBodyString = function (streamBody, context) {\n    return collectBody(streamBody, context).then(function (body) { return context.utf8Encoder(body); });\n};\n/**\n * @internal\n */\nexport var throw200ExceptionsMiddlewareOptions = {\n    relation: \"after\",\n    toMiddleware: \"deserializerMiddleware\",\n    tags: [\"THROW_200_EXCEPTIONS\", \"S3\"],\n    name: \"throw200ExceptionsMiddleware\",\n    override: true,\n};\n/**\n *\n * @internal\n */\nexport var getThrow200ExceptionsPlugin = function (config) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.addRelativeTo(throw200ExceptionsMiddleware(config), throw200ExceptionsMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhyb3ctMjAwLWV4Y2VwdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdGhyb3ctMjAwLWV4Y2VwdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVF0RDs7OztHQUlHO0FBQ0gsTUFBTSxDQUFDLElBQU0sNEJBQTRCLEdBQUcsVUFBQyxNQUEwQixJQUFzQyxPQUFBLFVBQzNHLElBQUksSUFDRCxPQUFBLFVBQU8sSUFBSTs7OztvQkFDQyxxQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUE7O2dCQUF6QixNQUFNLEdBQUcsU0FBZ0I7Z0JBQ3ZCLFFBQVEsR0FBSyxNQUFNLFNBQVgsQ0FBWTtnQkFDNUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO29CQUFFLHNCQUFPLE1BQU0sRUFBQztnQkFDOUMsVUFBVSxHQUFXLFFBQVEsV0FBbkIsRUFBRSxJQUFJLEdBQUssUUFBUSxLQUFiLENBQWM7Z0JBQ3RDLElBQUksVUFBVSxHQUFHLEdBQUcsSUFBSSxVQUFVLElBQUksR0FBRztvQkFBRSxzQkFBTyxNQUFNLEVBQUM7Z0JBR3ZDLHFCQUFNLFdBQVcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLEVBQUE7O2dCQUEzQyxTQUFTLEdBQUcsU0FBK0I7Z0JBQzlCLHFCQUFNLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsRUFBQTs7Z0JBQXZELFVBQVUsR0FBRyxTQUEwQztnQkFDN0QsSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtvQkFDcEIsR0FBRyxHQUFHLElBQUksS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUM7b0JBQzVDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsZUFBZSxDQUFDO29CQUMzQixNQUFNLEdBQUcsQ0FBQztpQkFDWDtnQkFDRCxJQUFJLFVBQVUsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFFO29CQUM3QyxzRUFBc0U7b0JBQ3RFLFFBQVEsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO2lCQUMzQjtnQkFFRCx5R0FBeUc7Z0JBQ3pHLDJEQUEyRDtnQkFDM0QsUUFBUSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7Z0JBQzFCLHNCQUFPLE1BQU0sRUFBQzs7O0tBQ2YsRUF4QkksQ0F3QkosRUExQjRHLENBMEI1RyxDQUFDO0FBRUYsd0RBQXdEO0FBQ3hELElBQU0sV0FBVyxHQUFHLFVBQUMsVUFBa0MsRUFBRSxPQUEyQjtJQUEvRCwyQkFBQSxFQUFBLGlCQUFzQixVQUFVLEVBQUU7SUFDckQsSUFBSSxVQUFVLFlBQVksVUFBVSxFQUFFO1FBQ3BDLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUNwQztJQUNELE9BQU8sT0FBTyxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksVUFBVSxFQUFFLENBQUMsQ0FBQztBQUNsRixDQUFDLENBQUM7QUFFRixpREFBaUQ7QUFDakQsSUFBTSxpQkFBaUIsR0FBRyxVQUFDLFVBQWUsRUFBRSxPQUEyQjtJQUNyRSxPQUFBLFdBQVcsQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsSUFBSSxJQUFLLE9BQUEsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBekIsQ0FBeUIsQ0FBQztBQUExRSxDQUEwRSxDQUFDO0FBRTdFOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0sbUNBQW1DLEdBQThCO0lBQzVFLFFBQVEsRUFBRSxPQUFPO0lBQ2pCLFlBQVksRUFBRSx3QkFBd0I7SUFDdEMsSUFBSSxFQUFFLENBQUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDO0lBQ3BDLElBQUksRUFBRSw4QkFBOEI7SUFDcEMsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDO0FBRUY7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLElBQU0sMkJBQTJCLEdBQUcsVUFBQyxNQUEwQixJQUEwQixPQUFBLENBQUM7SUFDL0YsWUFBWSxFQUFFLFVBQUMsV0FBVztRQUN4QixXQUFXLENBQUMsYUFBYSxDQUFDLDRCQUE0QixDQUFDLE1BQU0sQ0FBQyxFQUFFLG1DQUFtQyxDQUFDLENBQUM7SUFDdkcsQ0FBQztDQUNGLENBQUMsRUFKOEYsQ0FJOUYsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXNwb25zZSB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBEZXNlcmlhbGl6ZU1pZGRsZXdhcmUsIEVuY29kZXIsIFBsdWdnYWJsZSwgUmVsYXRpdmVNaWRkbGV3YXJlT3B0aW9ucywgU3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbnR5cGUgUHJldmlvdXNseVJlc29sdmVkID0ge1xuICBzdHJlYW1Db2xsZWN0b3I6IFN0cmVhbUNvbGxlY3RvcjtcbiAgdXRmOEVuY29kZXI6IEVuY29kZXI7XG59O1xuXG4vKipcbiAqIEluIGNhc2Ugb2YgYW4gaW50ZXJuYWwgZXJyb3IvdGVybWluYXRlZCBjb25uZWN0aW9uLCBTMyBvcGVyYXRpb25zIG1heSByZXR1cm4gMjAwIGVycm9ycy4gQ29weU9iamVjdCwgVXBsb2FkUGFydENvcHksXG4gKiBDb21wbGV0ZU11bHRpcGFydFVwbG9hZCBtYXkgcmV0dXJuIGVtcHR5IHBheWxvYWQgb3IgcGF5bG9hZCB3aXRoIG9ubHkgeG1sIFByZWFtYmxlLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB0aHJvdzIwMEV4Y2VwdGlvbnNNaWRkbGV3YXJlID0gKGNvbmZpZzogUHJldmlvdXNseVJlc29sdmVkKTogRGVzZXJpYWxpemVNaWRkbGV3YXJlPGFueSwgYW55PiA9PiAoXG4gIG5leHRcbikgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgY29uc3QgeyByZXNwb25zZSB9ID0gcmVzdWx0O1xuICBpZiAoIUh0dHBSZXNwb25zZS5pc0luc3RhbmNlKHJlc3BvbnNlKSkgcmV0dXJuIHJlc3VsdDtcbiAgY29uc3QgeyBzdGF0dXNDb2RlLCBib2R5IH0gPSByZXNwb25zZTtcbiAgaWYgKHN0YXR1c0NvZGUgPCAyMDAgJiYgc3RhdHVzQ29kZSA+PSAzMDApIHJldHVybiByZXN1bHQ7XG5cbiAgLy8gVGhyb3cgMlhYIHJlc3BvbnNlIHRoYXQncyBlaXRoZXIgYW4gZXJyb3Igb3IgaGFzIGVtcHR5IGJvZHkuXG4gIGNvbnN0IGJvZHlCeXRlcyA9IGF3YWl0IGNvbGxlY3RCb2R5KGJvZHksIGNvbmZpZyk7XG4gIGNvbnN0IGJvZHlTdHJpbmcgPSBhd2FpdCBjb2xsZWN0Qm9keVN0cmluZyhib2R5Qnl0ZXMsIGNvbmZpZyk7XG4gIGlmIChib2R5Qnl0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwiUzMgYWJvcnRlZCByZXF1ZXN0XCIpO1xuICAgIGVyci5uYW1lID0gXCJJbnRlcm5hbEVycm9yXCI7XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIGlmIChib2R5U3RyaW5nICYmIGJvZHlTdHJpbmcubWF0Y2goXCI8RXJyb3I+XCIpKSB7XG4gICAgLy8gU2V0IHRoZSBlcnJvciBjb2RlIHRvIDRYWCBzbyB0aGF0IGVycm9yIGRlc2VyaWFsaXplciBjYW4gcGFyc2UgdGhlbVxuICAgIHJlc3BvbnNlLnN0YXR1c0NvZGUgPSA0MDA7XG4gIH1cblxuICAvLyBCb2R5IHN0cmVhbSBpcyBjb25zdW1lZCBhbmQgcGF1c2VkIGF0IHRoaXMgcG9pbnQuIFNvIHJlcGxhY2UgdGhlIHJlc3BvbnNlLmJvZHkgdG8gdGhlIGNvbGxlY3RlZCBieXRlcy5cbiAgLy8gU28gdGhhdCB0aGUgZGVzZXJpYWxpemVyIGNhbiBjb25zdW1lIHRoZSBib2R5IGFzIG5vcm1hbC5cbiAgcmVzcG9uc2UuYm9keSA9IGJvZHlCeXRlcztcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIENvbGxlY3QgbG93LWxldmVsIHJlc3BvbnNlIGJvZHkgc3RyZWFtIHRvIFVpbnQ4QXJyYXkuXG5jb25zdCBjb2xsZWN0Qm9keSA9IChzdHJlYW1Cb2R5OiBhbnkgPSBuZXcgVWludDhBcnJheSgpLCBjb250ZXh0OiBQcmV2aW91c2x5UmVzb2x2ZWQpOiBQcm9taXNlPFVpbnQ4QXJyYXk+ID0+IHtcbiAgaWYgKHN0cmVhbUJvZHkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdHJlYW1Cb2R5KTtcbiAgfVxuICByZXR1cm4gY29udGV4dC5zdHJlYW1Db2xsZWN0b3Ioc3RyZWFtQm9keSkgfHwgUHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KCkpO1xufTtcblxuLy8gRW5jb2RlIFVpbnQ4QXJyYXkgZGF0YSBpbnRvIHN0cmluZyB3aXRoIHV0Zi04LlxuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keTogYW55LCBjb250ZXh0OiBQcmV2aW91c2x5UmVzb2x2ZWQpOiBQcm9taXNlPHN0cmluZz4gPT5cbiAgY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCB0aHJvdzIwMEV4Y2VwdGlvbnNNaWRkbGV3YXJlT3B0aW9uczogUmVsYXRpdmVNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgcmVsYXRpb246IFwiYWZ0ZXJcIixcbiAgdG9NaWRkbGV3YXJlOiBcImRlc2VyaWFsaXplck1pZGRsZXdhcmVcIixcbiAgdGFnczogW1wiVEhST1dfMjAwX0VYQ0VQVElPTlNcIiwgXCJTM1wiXSxcbiAgbmFtZTogXCJ0aHJvdzIwMEV4Y2VwdGlvbnNNaWRkbGV3YXJlXCIsXG4gIG92ZXJyaWRlOiB0cnVlLFxufTtcblxuLyoqXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRUaHJvdzIwMEV4Y2VwdGlvbnNQbHVnaW4gPSAoY29uZmlnOiBQcmV2aW91c2x5UmVzb2x2ZWQpOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkUmVsYXRpdmVUbyh0aHJvdzIwMEV4Y2VwdGlvbnNNaWRkbGV3YXJlKGNvbmZpZyksIHRocm93MjAwRXhjZXB0aW9uc01pZGRsZXdhcmVPcHRpb25zKTtcbiAgfSxcbn0pO1xuIl19","import { deserializerMiddleware } from \"./deserializerMiddleware\";\nimport { serializerMiddleware } from \"./serializerMiddleware\";\nexport var deserializerMiddlewareOption = {\n    name: \"deserializerMiddleware\",\n    step: \"deserialize\",\n    tags: [\"DESERIALIZER\"],\n    override: true,\n};\nexport var serializerMiddlewareOption = {\n    name: \"serializerMiddleware\",\n    step: \"serialize\",\n    tags: [\"SERIALIZER\"],\n    override: true,\n};\nexport function getSerdePlugin(config, serializer, deserializer) {\n    return {\n        applyToStack: function (commandStack) {\n            commandStack.add(deserializerMiddleware(config, deserializer), deserializerMiddlewareOption);\n            commandStack.add(serializerMiddleware(config, serializer), serializerMiddlewareOption);\n        },\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyZGVQbHVnaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VyZGVQbHVnaW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV0EsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDbEUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFOUQsTUFBTSxDQUFDLElBQU0sNEJBQTRCLEdBQThCO0lBQ3JFLElBQUksRUFBRSx3QkFBd0I7SUFDOUIsSUFBSSxFQUFFLGFBQWE7SUFDbkIsSUFBSSxFQUFFLENBQUMsY0FBYyxDQUFDO0lBQ3RCLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLDBCQUEwQixHQUE0QjtJQUNqRSxJQUFJLEVBQUUsc0JBQXNCO0lBQzVCLElBQUksRUFBRSxXQUFXO0lBQ2pCLElBQUksRUFBRSxDQUFDLFlBQVksQ0FBQztJQUNwQixRQUFRLEVBQUUsSUFBSTtDQUNmLENBQUM7QUFFRixNQUFNLFVBQVUsY0FBYyxDQUs1QixNQUFvQixFQUNwQixVQUFnRCxFQUNoRCxZQUFpRTtJQUVqRSxPQUFPO1FBQ0wsWUFBWSxFQUFFLFVBQUMsWUFBb0Q7WUFDakUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztZQUM3RixZQUFZLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsRUFBRSwwQkFBMEIsQ0FBQyxDQUFDO1FBQ3pGLENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERlc2VyaWFsaXplSGFuZGxlck9wdGlvbnMsXG4gIEVuZHBvaW50QmVhcmVyLFxuICBNZXRhZGF0YUJlYXJlcixcbiAgTWlkZGxld2FyZVN0YWNrLFxuICBQbHVnZ2FibGUsXG4gIFJlcXVlc3RTZXJpYWxpemVyLFxuICBSZXNwb25zZURlc2VyaWFsaXplcixcbiAgU2VyaWFsaXplSGFuZGxlck9wdGlvbnMsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlIH0gZnJvbSBcIi4vZGVzZXJpYWxpemVyTWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgc2VyaWFsaXplck1pZGRsZXdhcmUgfSBmcm9tIFwiLi9zZXJpYWxpemVyTWlkZGxld2FyZVwiO1xuXG5leHBvcnQgY29uc3QgZGVzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvbjogRGVzZXJpYWxpemVIYW5kbGVyT3B0aW9ucyA9IHtcbiAgbmFtZTogXCJkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlXCIsXG4gIHN0ZXA6IFwiZGVzZXJpYWxpemVcIixcbiAgdGFnczogW1wiREVTRVJJQUxJWkVSXCJdLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvbjogU2VyaWFsaXplSGFuZGxlck9wdGlvbnMgPSB7XG4gIG5hbWU6IFwic2VyaWFsaXplck1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJzZXJpYWxpemVcIixcbiAgdGFnczogW1wiU0VSSUFMSVpFUlwiXSxcbiAgb3ZlcnJpZGU6IHRydWUsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VyZGVQbHVnaW48XG4gIElucHV0VHlwZSBleHRlbmRzIG9iamVjdCxcbiAgU2VyRGVDb250ZXh0IGV4dGVuZHMgRW5kcG9pbnRCZWFyZXIsXG4gIE91dHB1dFR5cGUgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlclxuPihcbiAgY29uZmlnOiBTZXJEZUNvbnRleHQsXG4gIHNlcmlhbGl6ZXI6IFJlcXVlc3RTZXJpYWxpemVyPGFueSwgU2VyRGVDb250ZXh0PixcbiAgZGVzZXJpYWxpemVyOiBSZXNwb25zZURlc2VyaWFsaXplcjxPdXRwdXRUeXBlLCBhbnksIFNlckRlQ29udGV4dD5cbik6IFBsdWdnYWJsZTxJbnB1dFR5cGUsIE91dHB1dFR5cGU+IHtcbiAgcmV0dXJuIHtcbiAgICBhcHBseVRvU3RhY2s6IChjb21tYW5kU3RhY2s6IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+KSA9PiB7XG4gICAgICBjb21tYW5kU3RhY2suYWRkKGRlc2VyaWFsaXplck1pZGRsZXdhcmUoY29uZmlnLCBkZXNlcmlhbGl6ZXIpLCBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uKTtcbiAgICAgIGNvbW1hbmRTdGFjay5hZGQoc2VyaWFsaXplck1pZGRsZXdhcmUoY29uZmlnLCBzZXJpYWxpemVyKSwgc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24pO1xuICAgIH0sXG4gIH07XG59XG4iXX0=","import { __awaiter, __generator } from \"tslib\";\nexport var deserializerMiddleware = function (options, deserializer) { return function (next, context) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var response, parsed;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, next(args)];\n            case 1:\n                response = (_a.sent()).response;\n                return [4 /*yield*/, deserializer(response, options)];\n            case 2:\n                parsed = _a.sent();\n                return [2 /*return*/, {\n                        response: response,\n                        output: parsed,\n                    }];\n        }\n    });\n}); }; }; };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzZXJpYWxpemVyTWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZXNlcmlhbGl6ZXJNaWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFTQSxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRyxVQUNwQyxPQUFxQixFQUNyQixZQUEwRCxJQUNqQixPQUFBLFVBQ3pDLElBQXVDLEVBQ3ZDLE9BQWdDLElBQ00sT0FBQSxVQUN0QyxJQUF3Qzs7OztvQkFFbkIscUJBQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFBOztnQkFBN0IsUUFBUSxHQUFLLENBQUEsU0FBZ0IsQ0FBQSxTQUFyQjtnQkFDRCxxQkFBTSxZQUFZLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFBOztnQkFBOUMsTUFBTSxHQUFHLFNBQXFDO2dCQUNwRCxzQkFBTzt3QkFDTCxRQUFRLFVBQUE7d0JBQ1IsTUFBTSxFQUFFLE1BQWdCO3FCQUN6QixFQUFDOzs7S0FDSCxFQVR1QyxDQVN2QyxFQVowQyxDQVkxQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRGVzZXJpYWxpemVIYW5kbGVyLFxuICBEZXNlcmlhbGl6ZUhhbmRsZXJBcmd1bWVudHMsXG4gIERlc2VyaWFsaXplSGFuZGxlck91dHB1dCxcbiAgRGVzZXJpYWxpemVNaWRkbGV3YXJlLFxuICBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCxcbiAgUmVzcG9uc2VEZXNlcmlhbGl6ZXIsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZGVzZXJpYWxpemVyTWlkZGxld2FyZSA9IDxJbnB1dCBleHRlbmRzIG9iamVjdCwgT3V0cHV0IGV4dGVuZHMgb2JqZWN0LCBSdW50aW1lVXRpbHMgPSBhbnk+KFxuICBvcHRpb25zOiBSdW50aW1lVXRpbHMsXG4gIGRlc2VyaWFsaXplcjogUmVzcG9uc2VEZXNlcmlhbGl6ZXI8YW55LCBhbnksIFJ1bnRpbWVVdGlscz5cbik6IERlc2VyaWFsaXplTWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PiA9PiAoXG4gIG5leHQ6IERlc2VyaWFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PixcbiAgY29udGV4dDogSGFuZGxlckV4ZWN1dGlvbkNvbnRleHRcbik6IERlc2VyaWFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PiA9PiBhc3luYyAoXG4gIGFyZ3M6IERlc2VyaWFsaXplSGFuZGxlckFyZ3VtZW50czxJbnB1dD5cbik6IFByb21pc2U8RGVzZXJpYWxpemVIYW5kbGVyT3V0cHV0PE91dHB1dD4+ID0+IHtcbiAgY29uc3QgeyByZXNwb25zZSB9ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgY29uc3QgcGFyc2VkID0gYXdhaXQgZGVzZXJpYWxpemVyKHJlc3BvbnNlLCBvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICByZXNwb25zZSxcbiAgICBvdXRwdXQ6IHBhcnNlZCBhcyBPdXRwdXQsXG4gIH07XG59O1xuIl19","import { __assign, __awaiter, __generator } from \"tslib\";\nexport var serializerMiddleware = function (options, serializer) { return function (next, context) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var request;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, serializer(args.input, options)];\n            case 1:\n                request = _a.sent();\n                return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n        }\n    });\n}); }; }; };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplck1pZGRsZXdhcmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VyaWFsaXplck1pZGRsZXdhcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVVBLE1BQU0sQ0FBQyxJQUFNLG9CQUFvQixHQUFHLFVBQ2xDLE9BQXFCLEVBQ3JCLFVBQWdELElBQ1QsT0FBQSxVQUN2QyxJQUFxQyxFQUNyQyxPQUFnQyxJQUNJLE9BQUEsVUFDcEMsSUFBc0M7Ozs7b0JBRXRCLHFCQUFNLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxFQUFBOztnQkFBL0MsT0FBTyxHQUFHLFNBQXFDO2dCQUNyRCxzQkFBTyxJQUFJLHVCQUNOLElBQUksS0FDUCxPQUFPLFNBQUEsSUFDUCxFQUFDOzs7S0FDSixFQVJxQyxDQVFyQyxFQVh3QyxDQVd4QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRW5kcG9pbnRCZWFyZXIsXG4gIEhhbmRsZXJFeGVjdXRpb25Db250ZXh0LFxuICBSZXF1ZXN0U2VyaWFsaXplcixcbiAgU2VyaWFsaXplSGFuZGxlcixcbiAgU2VyaWFsaXplSGFuZGxlckFyZ3VtZW50cyxcbiAgU2VyaWFsaXplSGFuZGxlck91dHB1dCxcbiAgU2VyaWFsaXplTWlkZGxld2FyZSxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBzZXJpYWxpemVyTWlkZGxld2FyZSA9IDxJbnB1dCBleHRlbmRzIG9iamVjdCwgT3V0cHV0IGV4dGVuZHMgb2JqZWN0LCBSdW50aW1lVXRpbHMgZXh0ZW5kcyBFbmRwb2ludEJlYXJlcj4oXG4gIG9wdGlvbnM6IFJ1bnRpbWVVdGlscyxcbiAgc2VyaWFsaXplcjogUmVxdWVzdFNlcmlhbGl6ZXI8YW55LCBSdW50aW1lVXRpbHM+XG4pOiBTZXJpYWxpemVNaWRkbGV3YXJlPElucHV0LCBPdXRwdXQ+ID0+IChcbiAgbmV4dDogU2VyaWFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PixcbiAgY29udGV4dDogSGFuZGxlckV4ZWN1dGlvbkNvbnRleHRcbik6IFNlcmlhbGl6ZUhhbmRsZXI8SW5wdXQsIE91dHB1dD4gPT4gYXN5bmMgKFxuICBhcmdzOiBTZXJpYWxpemVIYW5kbGVyQXJndW1lbnRzPElucHV0PlxuKTogUHJvbWlzZTxTZXJpYWxpemVIYW5kbGVyT3V0cHV0PE91dHB1dD4+ID0+IHtcbiAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHNlcmlhbGl6ZXIoYXJncy5pbnB1dCwgb3B0aW9ucyk7XG4gIHJldHVybiBuZXh0KHtcbiAgICAuLi5hcmdzLFxuICAgIHJlcXVlc3QsXG4gIH0pO1xufTtcbiJdfQ==","var SHORT_TO_HEX = {};\nvar HEX_TO_SHORT = {};\nfor (var i = 0; i < 256; i++) {\n    var encodedByte = i.toString(16).toLowerCase();\n    if (encodedByte.length === 1) {\n        encodedByte = \"0\" + encodedByte;\n    }\n    SHORT_TO_HEX[i] = encodedByte;\n    HEX_TO_SHORT[encodedByte] = i;\n}\n/**\n * Converts a hexadecimal encoded string to a Uint8Array of bytes.\n *\n * @param encoded The hexadecimal encoded string\n */\nexport function fromHex(encoded) {\n    if (encoded.length % 2 !== 0) {\n        throw new Error(\"Hex encoded strings must have an even number length\");\n    }\n    var out = new Uint8Array(encoded.length / 2);\n    for (var i = 0; i < encoded.length; i += 2) {\n        var encodedByte = encoded.substr(i, 2).toLowerCase();\n        if (encodedByte in HEX_TO_SHORT) {\n            out[i / 2] = HEX_TO_SHORT[encodedByte];\n        }\n        else {\n            throw new Error(\"Cannot decode unrecognized sequence \" + encodedByte + \" as hexadecimal\");\n        }\n    }\n    return out;\n}\n/**\n * Converts a Uint8Array of binary data to a hexadecimal encoded string.\n *\n * @param bytes The binary data to encode\n */\nexport function toHex(bytes) {\n    var out = \"\";\n    for (var i = 0; i < bytes.byteLength; i++) {\n        out += SHORT_TO_HEX[bytes[i]];\n    }\n    return out;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxZQUFZLEdBQThCLEVBQUUsQ0FBQztBQUNuRCxJQUFNLFlBQVksR0FBOEIsRUFBRSxDQUFDO0FBRW5ELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDNUIsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMvQyxJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQzVCLFdBQVcsR0FBRyxNQUFJLFdBQWEsQ0FBQztLQUNqQztJQUVELFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUM7SUFDOUIsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUMvQjtBQUVEOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsT0FBTyxDQUFDLE9BQWU7SUFDckMsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDNUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxREFBcUQsQ0FBQyxDQUFDO0tBQ3hFO0lBRUQsSUFBTSxHQUFHLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMvQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFDLElBQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3ZELElBQUksV0FBVyxJQUFJLFlBQVksRUFBRTtZQUMvQixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0wsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBdUMsV0FBVyxvQkFBaUIsQ0FBQyxDQUFDO1NBQ3RGO0tBQ0Y7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTSxVQUFVLEtBQUssQ0FBQyxLQUFpQjtJQUNyQyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDYixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN6QyxHQUFHLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQy9CO0lBRUQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU0hPUlRfVE9fSEVYOiB7IFtrZXk6IG51bWJlcl06IHN0cmluZyB9ID0ge307XG5jb25zdCBIRVhfVE9fU0hPUlQ6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICBsZXQgZW5jb2RlZEJ5dGUgPSBpLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoZW5jb2RlZEJ5dGUubGVuZ3RoID09PSAxKSB7XG4gICAgZW5jb2RlZEJ5dGUgPSBgMCR7ZW5jb2RlZEJ5dGV9YDtcbiAgfVxuXG4gIFNIT1JUX1RPX0hFWFtpXSA9IGVuY29kZWRCeXRlO1xuICBIRVhfVE9fU0hPUlRbZW5jb2RlZEJ5dGVdID0gaTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGVuY29kZWQgc3RyaW5nIHRvIGEgVWludDhBcnJheSBvZiBieXRlcy5cbiAqXG4gKiBAcGFyYW0gZW5jb2RlZCBUaGUgaGV4YWRlY2ltYWwgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21IZXgoZW5jb2RlZDogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIGlmIChlbmNvZGVkLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZXggZW5jb2RlZCBzdHJpbmdzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBsZW5ndGhcIik7XG4gIH1cblxuICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShlbmNvZGVkLmxlbmd0aCAvIDIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBjb25zdCBlbmNvZGVkQnl0ZSA9IGVuY29kZWQuc3Vic3RyKGksIDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGVuY29kZWRCeXRlIGluIEhFWF9UT19TSE9SVCkge1xuICAgICAgb3V0W2kgLyAyXSA9IEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRlY29kZSB1bnJlY29nbml6ZWQgc2VxdWVuY2UgJHtlbmNvZGVkQnl0ZX0gYXMgaGV4YWRlY2ltYWxgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgVWludDhBcnJheSBvZiBiaW5hcnkgZGF0YSB0byBhIGhleGFkZWNpbWFsIGVuY29kZWQgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSBieXRlcyBUaGUgYmluYXJ5IGRhdGEgdG8gZW5jb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0hleChieXRlczogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBvdXQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgIG91dCArPSBTSE9SVF9UT19IRVhbYnl0ZXNbaV1dO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbiJdfQ==","import { __assign, __awaiter, __generator, __values } from \"tslib\";\nexport function ssecMiddleware(options) {\n    var _this = this;\n    return function (next) { return function (args) { return __awaiter(_this, void 0, void 0, function () {\n        var input, properties, properties_1, properties_1_1, prop, value, valueView, encoded, hash, _a, _b, _c, _d, e_1_1;\n        var e_1, _e, _f;\n        return __generator(this, function (_g) {\n            switch (_g.label) {\n                case 0:\n                    input = __assign({}, args.input);\n                    properties = [\n                        {\n                            target: \"SSECustomerKey\",\n                            hash: \"SSECustomerKeyMD5\",\n                        },\n                        {\n                            target: \"CopySourceSSECustomerKey\",\n                            hash: \"CopySourceSSECustomerKeyMD5\",\n                        },\n                    ];\n                    _g.label = 1;\n                case 1:\n                    _g.trys.push([1, 6, 7, 8]);\n                    properties_1 = __values(properties), properties_1_1 = properties_1.next();\n                    _g.label = 2;\n                case 2:\n                    if (!!properties_1_1.done) return [3 /*break*/, 5];\n                    prop = properties_1_1.value;\n                    value = input[prop.target];\n                    if (!value) return [3 /*break*/, 4];\n                    valueView = ArrayBuffer.isView(value)\n                        ? new Uint8Array(value.buffer, value.byteOffset, value.byteLength)\n                        : typeof value === \"string\"\n                            ? options.utf8Decoder(value)\n                            : new Uint8Array(value);\n                    encoded = options.base64Encoder(valueView);\n                    hash = new options.md5();\n                    hash.update(valueView);\n                    _a = [__assign({}, input)];\n                    _f = {}, _f[prop.target] = encoded;\n                    _b = prop.hash;\n                    _d = (_c = options).base64Encoder;\n                    return [4 /*yield*/, hash.digest()];\n                case 3:\n                    input = __assign.apply(void 0, _a.concat([(_f[_b] = _d.apply(_c, [_g.sent()]), _f)]));\n                    _g.label = 4;\n                case 4:\n                    properties_1_1 = properties_1.next();\n                    return [3 /*break*/, 2];\n                case 5: return [3 /*break*/, 8];\n                case 6:\n                    e_1_1 = _g.sent();\n                    e_1 = { error: e_1_1 };\n                    return [3 /*break*/, 8];\n                case 7:\n                    try {\n                        if (properties_1_1 && !properties_1_1.done && (_e = properties_1.return)) _e.call(properties_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                    return [7 /*endfinally*/];\n                case 8: return [2 /*return*/, next(__assign(__assign({}, args), { input: input }))];\n            }\n        });\n    }); }; };\n}\nexport var ssecMiddlewareOptions = {\n    name: \"ssecMiddleware\",\n    step: \"initialize\",\n    tags: [\"SSE\"],\n    override: true,\n};\nexport var getSsecPlugin = function (config) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(ssecMiddleware(config), ssecMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQWFBLE1BQU0sVUFBVSxjQUFjLENBQUMsT0FBcUM7SUFBcEUsaUJBMENDO0lBekNDLE9BQU8sVUFDTCxJQUFvQyxJQUNELE9BQUEsVUFDbkMsSUFBcUM7Ozs7OztvQkFFakMsS0FBSyxnQkFBUSxJQUFJLENBQUMsS0FBSyxDQUFFLENBQUM7b0JBQ3hCLFVBQVUsR0FBRzt3QkFDakI7NEJBQ0UsTUFBTSxFQUFFLGdCQUFnQjs0QkFDeEIsSUFBSSxFQUFFLG1CQUFtQjt5QkFDMUI7d0JBQ0Q7NEJBQ0UsTUFBTSxFQUFFLDBCQUEwQjs0QkFDbEMsSUFBSSxFQUFFLDZCQUE2Qjt5QkFDcEM7cUJBQ0YsQ0FBQzs7OztvQkFFaUIsZUFBQSxTQUFBLFVBQVUsQ0FBQTs7OztvQkFBbEIsSUFBSTtvQkFDUCxLQUFLLEdBQTRCLEtBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7eUJBQzlELEtBQUssRUFBTCx3QkFBSztvQkFDRCxTQUFTLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7d0JBQ3pDLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQzt3QkFDbEUsQ0FBQyxDQUFDLE9BQU8sS0FBSyxLQUFLLFFBQVE7NEJBQzNCLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQzs0QkFDNUIsQ0FBQyxDQUFDLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNwQixPQUFPLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztvQkFDM0MsSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUMvQixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO3VDQUVqQixLQUFhO2dDQUNoQixJQUFJLENBQUMsTUFBTSxJQUFHLE9BQU87b0JBQ3JCLEtBQUEsSUFBSSxDQUFDLElBQUksQ0FBQTtvQkFBRyxLQUFBLENBQUEsS0FBQSxPQUFPLENBQUEsQ0FBQyxhQUFhLENBQUE7b0JBQUMscUJBQU0sSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFBOztvQkFIeEQsS0FBSywrQ0FHVSxjQUFzQixTQUFtQixFQUFDLFFBQ3hELENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7d0JBSU4sc0JBQU8sSUFBSSx1QkFDTixJQUFJLEtBQ1AsS0FBSyxPQUFBLElBQ0wsRUFBQzs7O1NBQ0osRUF0Q29DLENBc0NwQyxDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0sQ0FBQyxJQUFNLHFCQUFxQixHQUE2QjtJQUM3RCxJQUFJLEVBQUUsZ0JBQWdCO0lBQ3RCLElBQUksRUFBRSxZQUFZO0lBQ2xCLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQztJQUNiLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLGFBQWEsR0FBRyxVQUFDLE1BQW9DLElBQTBCLE9BQUEsQ0FBQztJQUMzRixZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxFQUFFLHFCQUFxQixDQUFDLENBQUM7SUFDakUsQ0FBQztDQUNGLENBQUMsRUFKMEYsQ0FJMUYsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEluaXRpYWxpemVIYW5kbGVyLFxuICBJbml0aWFsaXplSGFuZGxlckFyZ3VtZW50cyxcbiAgSW5pdGlhbGl6ZUhhbmRsZXJPcHRpb25zLFxuICBJbml0aWFsaXplSGFuZGxlck91dHB1dCxcbiAgSW5pdGlhbGl6ZU1pZGRsZXdhcmUsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBQbHVnZ2FibGUsXG4gIFNvdXJjZURhdGEsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBSZXNvbHZlZFNzZWNNaWRkbGV3YXJlQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlndXJhdGlvblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gc3NlY01pZGRsZXdhcmUob3B0aW9uczogUmVzb2x2ZWRTc2VjTWlkZGxld2FyZUNvbmZpZyk6IEluaXRpYWxpemVNaWRkbGV3YXJlPGFueSwgYW55PiB7XG4gIHJldHVybiA8T3V0cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXI+KFxuICAgIG5leHQ6IEluaXRpYWxpemVIYW5kbGVyPGFueSwgT3V0cHV0PlxuICApOiBJbml0aWFsaXplSGFuZGxlcjxhbnksIE91dHB1dD4gPT4gYXN5bmMgKFxuICAgIGFyZ3M6IEluaXRpYWxpemVIYW5kbGVyQXJndW1lbnRzPGFueT5cbiAgKTogUHJvbWlzZTxJbml0aWFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gICAgbGV0IGlucHV0ID0geyAuLi5hcmdzLmlucHV0IH07XG4gICAgY29uc3QgcHJvcGVydGllcyA9IFtcbiAgICAgIHtcbiAgICAgICAgdGFyZ2V0OiBcIlNTRUN1c3RvbWVyS2V5XCIsXG4gICAgICAgIGhhc2g6IFwiU1NFQ3VzdG9tZXJLZXlNRDVcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRhcmdldDogXCJDb3B5U291cmNlU1NFQ3VzdG9tZXJLZXlcIixcbiAgICAgICAgaGFzaDogXCJDb3B5U291cmNlU1NFQ3VzdG9tZXJLZXlNRDVcIixcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zdCB2YWx1ZTogU291cmNlRGF0YSB8IHVuZGVmaW5lZCA9IChpbnB1dCBhcyBhbnkpW3Byb3AudGFyZ2V0XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZVZpZXcgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpXG4gICAgICAgICAgPyBuZXcgVWludDhBcnJheSh2YWx1ZS5idWZmZXIsIHZhbHVlLmJ5dGVPZmZzZXQsIHZhbHVlLmJ5dGVMZW5ndGgpXG4gICAgICAgICAgOiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICA/IG9wdGlvbnMudXRmOERlY29kZXIodmFsdWUpXG4gICAgICAgICAgOiBuZXcgVWludDhBcnJheSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGVuY29kZWQgPSBvcHRpb25zLmJhc2U2NEVuY29kZXIodmFsdWVWaWV3KTtcbiAgICAgICAgY29uc3QgaGFzaCA9IG5ldyBvcHRpb25zLm1kNSgpO1xuICAgICAgICBoYXNoLnVwZGF0ZSh2YWx1ZVZpZXcpO1xuICAgICAgICBpbnB1dCA9IHtcbiAgICAgICAgICAuLi4oaW5wdXQgYXMgYW55KSxcbiAgICAgICAgICBbcHJvcC50YXJnZXRdOiBlbmNvZGVkLFxuICAgICAgICAgIFtwcm9wLmhhc2hdOiBvcHRpb25zLmJhc2U2NEVuY29kZXIoYXdhaXQgaGFzaC5kaWdlc3QoKSksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHQoe1xuICAgICAgLi4uYXJncyxcbiAgICAgIGlucHV0LFxuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgY29uc3Qgc3NlY01pZGRsZXdhcmVPcHRpb25zOiBJbml0aWFsaXplSGFuZGxlck9wdGlvbnMgPSB7XG4gIG5hbWU6IFwic3NlY01pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJpbml0aWFsaXplXCIsXG4gIHRhZ3M6IFtcIlNTRVwiXSxcbiAgb3ZlcnJpZGU6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3NlY1BsdWdpbiA9IChjb25maWc6IFJlc29sdmVkU3NlY01pZGRsZXdhcmVDb25maWcpOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkKHNzZWNNaWRkbGV3YXJlKGNvbmZpZyksIHNzZWNNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","import { __extends } from \"tslib\";\nimport { CopyObjectOutput, CopyObjectRequest } from \"../models/models_0\";\nimport { deserializeAws_restXmlCopyObjectCommand, serializeAws_restXmlCopyObjectCommand, } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getThrow200ExceptionsPlugin } from \"@aws-sdk/middleware-sdk-s3\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { getSsecPlugin } from \"@aws-sdk/middleware-ssec\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Creates a copy of an object that is already stored in Amazon S3.</p>\n *          <note>\n *             <p>You can store individual objects of up to 5 TB in Amazon S3. You create a copy of your\n *             object up to 5 GB in size in a single atomic operation using this API. However, to copy\n *             an object greater than 5 GB, you must use the multipart upload Upload Part - Copy API.\n *             For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/CopyingObjctsUsingRESTMPUapi.html\">Copy Object Using the REST Multipart Upload API</a>.</p>\n *          </note>\n *          <p>All copy requests must be authenticated. Additionally, you must have\n *             <i>read</i> access to the source object and <i>write</i>\n *          access to the destination bucket. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html\">REST Authentication</a>. Both the Region\n *          that you want to copy the object from and the Region that you want to copy the object to\n *          must be enabled for your account.</p>\n *          <p>A copy request might return an error when Amazon S3 receives the copy request or while Amazon S3\n *          is copying the files. If the error occurs before the copy operation starts, you receive a\n *          standard Amazon S3 error. If the error occurs during the copy operation, the error response is\n *          embedded in the <code>200 OK</code> response. This means that a <code>200 OK</code>\n *          response can contain either a success or an error. Design your application to parse the\n *          contents of the response and handle it appropriately.</p>\n *          <p>If the copy is successful, you receive a response with information about the copied\n *          object.</p>\n *          <note>\n *             <p>If the request is an HTTP 1.1 request, the response is chunk encoded. If it were not,\n *             it would not contain the content-length, and you would need to read the entire\n *             body.</p>\n *          </note>\n *          <p>The copy request charge is based on the storage class and Region that you specify for\n *          the destination object. For pricing information, see <a href=\"https://aws.amazon.com/s3/pricing/\">Amazon S3 pricing</a>.</p>\n *          <important>\n *             <p>Amazon S3 transfer acceleration does not support cross-Region copies. If you request a\n *             cross-Region copy using a transfer acceleration endpoint, you get a 400 <code>Bad\n *                Request</code> error. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/transfer-acceleration.html\">Transfer Acceleration</a>.</p>\n *          </important>\n *          <p>\n *             <b>Metadata</b>\n *          </p>\n *          <p>When copying an object, you can preserve all metadata (default) or specify new metadata.\n *          However, the ACL is not preserved and is set to private for the user making the request. To\n *          override the default ACL setting, specify a new ACL when generating a copy request. For\n *          more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/S3_ACLs_UsingACLs.html\">Using ACLs</a>. </p>\n *          <p>To specify whether you want the object metadata copied from the source object or\n *          replaced with metadata provided in the request, you can optionally add the\n *             <code>x-amz-metadata-directive</code> header. When you grant permissions, you can use\n *          the <code>s3:x-amz-metadata-directive</code> condition key to enforce certain metadata\n *          behavior when objects are uploaded. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/amazon-s3-policy-keys.html\">Specifying Conditions in a\n *             Policy</a> in the <i>Amazon S3 Developer Guide</i>. For a complete list of\n *          Amazon S3-specific condition keys, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/list_amazons3.html\">Actions, Resources, and Condition Keys for\n *             Amazon S3</a>.</p>\n *          <p>\n *             <b>\n *                <code>x-amz-copy-source-if</code> Headers</b>\n *          </p>\n *          <p>To only copy an object under certain conditions, such as whether the <code>Etag</code>\n *          matches or whether the object was modified before or after a specified date, use the\n *          following request parameters:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <code>x-amz-copy-source-if-match</code>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>x-amz-copy-source-if-none-match</code>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>x-amz-copy-source-if-unmodified-since</code>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>x-amz-copy-source-if-modified-since</code>\n *                </p>\n *             </li>\n *          </ul>\n *          <p> If both the <code>x-amz-copy-source-if-match</code> and\n *             <code>x-amz-copy-source-if-unmodified-since</code> headers are present in the request\n *          and evaluate as follows, Amazon S3 returns <code>200 OK</code> and copies the data:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <code>x-amz-copy-source-if-match</code> condition evaluates to true</p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>x-amz-copy-source-if-unmodified-since</code> condition evaluates to\n *                false</p>\n *             </li>\n *          </ul>\n *\n *          <p>If both the <code>x-amz-copy-source-if-none-match</code> and\n *             <code>x-amz-copy-source-if-modified-since</code> headers are present in the request and\n *          evaluate as follows, Amazon S3 returns the <code>412 Precondition Failed</code> response\n *          code:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <code>x-amz-copy-source-if-none-match</code> condition evaluates to false</p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>x-amz-copy-source-if-modified-since</code> condition evaluates to\n *                true</p>\n *             </li>\n *          </ul>\n *\n *          <note>\n *             <p>All headers with the <code>x-amz-</code> prefix, including\n *                <code>x-amz-copy-source</code>, must be signed.</p>\n *          </note>\n *          <p>\n *             <b>Server-side encryption</b>\n *          </p>\n *          <p>When you perform a CopyObject operation, you can optionally use the appropriate encryption-related headers to encrypt the object using server-side encryption with AWS managed encryption keys (SSE-S3 or SSE-KMS) or a customer-provided encryption key. With server-side encryption, Amazon S3 encrypts your data as it writes it to disks in its data centers and decrypts the data when you access it. For more information about server-side encryption, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html\">Using\n *          Server-Side Encryption</a>.</p>\n *          <p>If a target object uses SSE-KMS, you can enable an S3 Bucket Key for the object. For more\n *          information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/bucket-key.html\">Amazon S3 Bucket Keys</a> in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>\n *             <b>Access Control List (ACL)-Specific Request\n *          Headers</b>\n *          </p>\n *          <p>When copying an object, you can optionally use headers to grant ACL-based permissions.\n *          By default, all objects are private. Only the owner has full access control. When adding a\n *          new object, you can grant permissions to individual AWS accounts or to predefined groups\n *          defined by Amazon S3. These permissions are then added to the ACL on the object. For more\n *          information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html\">Access Control List (ACL) Overview</a> and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-using-rest-api.html\">Managing ACLs Using the REST\n *             API</a>. </p>\n *\n *          <p>\n *             <b>Storage Class Options</b>\n *          </p>\n *          <p>You can use the <code>CopyObject</code> operation to change the storage class of an\n *          object that is already stored in Amazon S3 using the <code>StorageClass</code> parameter. For\n *          more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-class-intro.html\">Storage\n *             Classes</a> in the <i>Amazon S3 Service Developer Guide</i>.</p>\n *          <p>\n *             <b>Versioning</b>\n *          </p>\n *          <p>By default, <code>x-amz-copy-source</code> identifies the current version of an object\n *          to copy. If the current version is a delete marker, Amazon S3 behaves as if the object was\n *          deleted. To copy a different version, use the <code>versionId</code> subresource.</p>\n *          <p>If you enable versioning on the target bucket, Amazon S3 generates a unique version ID for\n *          the object being copied. This version ID is different from the version ID of the source\n *          object. Amazon S3 returns the version ID of the copied object in the\n *             <code>x-amz-version-id</code> response header in the response.</p>\n *          <p>If you do not enable versioning or suspend it on the target bucket, the version ID that\n *          Amazon S3 generates is always null.</p>\n *          <p>If the source object's storage class is GLACIER, you must restore a copy of this object\n *          before you can use it as a source object for the copy operation. For more information, see\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_RestoreObject.html\">RestoreObject</a>.</p>\n *          <p>The following operations are related to <code>CopyObject</code>:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\">PutObject</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html\">GetObject</a>\n *                </p>\n *             </li>\n *          </ul>\n *          <p>For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/CopyingObjectsExamples.html\">Copying\n *             Objects</a>.</p>\n */\nvar CopyObjectCommand = /** @class */ (function (_super) {\n    __extends(CopyObjectCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function CopyObjectCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    CopyObjectCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getThrow200ExceptionsPlugin(configuration));\n        this.middlewareStack.use(getSsecPlugin(configuration));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"CopyObjectCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: CopyObjectRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: CopyObjectOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    CopyObjectCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlCopyObjectCommand(input, context);\n    };\n    CopyObjectCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlCopyObjectCommand(output, context);\n    };\n    return CopyObjectCommand;\n}($Command));\nexport { CopyObjectCommand };\n//# sourceMappingURL=CopyObjectCommand.js.map","import { __extends } from \"tslib\";\nimport { GetObjectOutput, GetObjectRequest } from \"../models/models_0\";\nimport { deserializeAws_restXmlGetObjectCommand, serializeAws_restXmlGetObjectCommand } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { getSsecPlugin } from \"@aws-sdk/middleware-ssec\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Retrieves objects from Amazon S3. To use <code>GET</code>, you must have <code>READ</code>\n *          access to the object. If you grant <code>READ</code> access to the anonymous user, you can\n *          return the object without using an authorization header.</p>\n *\n *          <p>An Amazon S3 bucket has no directory hierarchy such as you would find in a typical computer\n *          file system. You can, however, create a logical hierarchy by using object key names that\n *          imply a folder structure. For example, instead of naming an object <code>sample.jpg</code>,\n *          you can name it <code>photos/2006/February/sample.jpg</code>.</p>\n *\n *          <p>To get an object from such a logical hierarchy, specify the full key name for the object\n *          in the <code>GET</code> operation. For a virtual hosted-style request example, if you have\n *          the object <code>photos/2006/February/sample.jpg</code>, specify the resource as\n *             <code>/photos/2006/February/sample.jpg</code>. For a path-style request example, if you\n *          have the object <code>photos/2006/February/sample.jpg</code> in the bucket named\n *             <code>examplebucket</code>, specify the resource as\n *             <code>/examplebucket/photos/2006/February/sample.jpg</code>. For more information about\n *          request types, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/VirtualHosting.html#VirtualHostingSpecifyBucket\">HTTP Host Header Bucket Specification</a>.</p>\n *\n *          <p>To distribute large files to many people, you can save bandwidth costs by using\n *          BitTorrent. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/S3Torrent.html\">Amazon S3\n *             Torrent</a>. For more information about returning the ACL of an object, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObjectAcl.html\">GetObjectAcl</a>.</p>\n *\n *          <p>If the object you are retrieving is stored in the S3 Glacier or\n *          S3 Glacier Deep Archive storage class, or S3 Intelligent-Tiering Archive or\n *          S3 Intelligent-Tiering Deep Archive tiers, before you can retrieve the object you must first restore a\n *          copy using <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_RestoreObject.html\">RestoreObject</a>. Otherwise, this operation returns an\n *             <code>InvalidObjectStateError</code> error. For information about restoring archived\n *          objects, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/restoring-objects.html\">Restoring Archived\n *             Objects</a>.</p>\n *\n *          <p>Encryption request headers, like <code>x-amz-server-side-encryption</code>, should not\n *          be sent for GET requests if your object uses server-side encryption with CMKs stored in AWS\n *          KMS (SSE-KMS) or server-side encryption with Amazon S3managed encryption keys (SSE-S3). If your\n *          object does use these types of keys, youll get an HTTP 400 BadRequest error.</p>\n *          <p>If you encrypt an object by using server-side encryption with customer-provided\n *          encryption keys (SSE-C) when you store the object in Amazon S3, then when you GET the object,\n *          you must use the following headers:</p>\n *          <ul>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-algorithm</p>\n *             </li>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-key</p>\n *             </li>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-key-MD5</p>\n *             </li>\n *          </ul>\n *          <p>For more information about SSE-C, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/ServerSideEncryptionCustomerKeys.html\">Server-Side Encryption (Using\n *             Customer-Provided Encryption Keys)</a>.</p>\n *\n *          <p>Assuming you have permission to read object tags (permission for the\n *             <code>s3:GetObjectVersionTagging</code> action), the response also returns the\n *             <code>x-amz-tagging-count</code> header that provides the count of number of tags\n *          associated with the object. You can use <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObjectTagging.html\">GetObjectTagging</a> to retrieve\n *          the tag set associated with an object.</p>\n *\n *          <p>\n *             <b>Permissions</b>\n *          </p>\n *          <p>You need the <code>s3:GetObject</code> permission for this operation. For more\n *          information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/using-with-s3-actions.html\">Specifying Permissions\n *             in a Policy</a>. If the object you request does not exist, the error Amazon S3 returns\n *          depends on whether you also have the <code>s3:ListBucket</code> permission.</p>\n *          <ul>\n *             <li>\n *                <p>If you have the <code>s3:ListBucket</code> permission on the bucket, Amazon S3 will\n *                return an HTTP status code 404 (\"no such key\") error.</p>\n *             </li>\n *             <li>\n *                <p>If you dont have the <code>s3:ListBucket</code> permission, Amazon S3 will return an\n *                HTTP status code 403 (\"access denied\") error.</p>\n *             </li>\n *          </ul>\n *\n *\n *          <p>\n *             <b>Versioning</b>\n *          </p>\n *          <p>By default, the GET operation returns the current version of an object. To return a\n *          different version, use the <code>versionId</code> subresource.</p>\n *\n *          <note>\n *             <p>If the current version of the object is a delete marker, Amazon S3 behaves as if the\n *             object was deleted and includes <code>x-amz-delete-marker: true</code> in the\n *             response.</p>\n *          </note>\n *\n *\n *          <p>For more information about versioning, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketVersioning.html\">PutBucketVersioning</a>. </p>\n *\n *          <p>\n *             <b>Overriding Response Header Values</b>\n *          </p>\n *          <p>There are times when you want to override certain response header values in a GET\n *          response. For example, you might override the Content-Disposition response header value in\n *          your GET request.</p>\n *\n *          <p>You can override values for a set of response headers using the following query\n *          parameters. These response header values are sent only on a successful request, that is,\n *          when status code 200 OK is returned. The set of headers you can override using these\n *          parameters is a subset of the headers that Amazon S3 accepts when you create an object. The\n *          response headers that you can override for the GET response are <code>Content-Type</code>,\n *             <code>Content-Language</code>, <code>Expires</code>, <code>Cache-Control</code>,\n *             <code>Content-Disposition</code>, and <code>Content-Encoding</code>. To override these\n *          header values in the GET response, you use the following request parameters.</p>\n *\n *          <note>\n *             <p>You must sign the request, either using an Authorization header or a presigned URL,\n *             when using these parameters. They cannot be used with an unsigned (anonymous)\n *             request.</p>\n *          </note>\n *          <ul>\n *             <li>\n *                <p>\n *                   <code>response-content-type</code>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>response-content-language</code>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>response-expires</code>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>response-cache-control</code>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>response-content-disposition</code>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <code>response-content-encoding</code>\n *                </p>\n *             </li>\n *          </ul>\n *\n *          <p>\n *             <b>Additional Considerations about Request Headers</b>\n *          </p>\n *\n *          <p>If both of the <code>If-Match</code> and <code>If-Unmodified-Since</code> headers are\n *          present in the request as follows: <code>If-Match</code> condition evaluates to\n *             <code>true</code>, and; <code>If-Unmodified-Since</code> condition evaluates to\n *             <code>false</code>; then, S3 returns 200 OK and the data requested. </p>\n *\n *          <p>If both of the <code>If-None-Match</code> and <code>If-Modified-Since</code> headers are\n *          present in the request as follows:<code> If-None-Match</code> condition evaluates to\n *             <code>false</code>, and; <code>If-Modified-Since</code> condition evaluates to\n *             <code>true</code>; then, S3 returns 304 Not Modified response code.</p>\n *\n *          <p>For more information about conditional requests, see <a href=\"https://tools.ietf.org/html/rfc7232\">RFC 7232</a>.</p>\n *\n *          <p>The following operations are related to <code>GetObject</code>:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBuckets.html\">ListBuckets</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObjectAcl.html\">GetObjectAcl</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar GetObjectCommand = /** @class */ (function (_super) {\n    __extends(GetObjectCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function GetObjectCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    GetObjectCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getSsecPlugin(configuration));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"GetObjectCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: GetObjectRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: GetObjectOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    GetObjectCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlGetObjectCommand(input, context);\n    };\n    GetObjectCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlGetObjectCommand(output, context);\n    };\n    return GetObjectCommand;\n}($Command));\nexport { GetObjectCommand };\n//# sourceMappingURL=GetObjectCommand.js.map","import { __extends } from \"tslib\";\nimport { DeleteObjectOutput, DeleteObjectRequest } from \"../models/models_0\";\nimport { deserializeAws_restXmlDeleteObjectCommand, serializeAws_restXmlDeleteObjectCommand, } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Removes the null version (if there is one) of an object and inserts a delete marker,\n *          which becomes the latest version of the object. If there isn't a null version, Amazon S3 does\n *          not remove any objects.</p>\n *\n *          <p>To remove a specific version, you must be the bucket owner and you must use the version\n *          Id subresource. Using this subresource permanently deletes the version. If the object\n *          deleted is a delete marker, Amazon S3 sets the response header,\n *          <code>x-amz-delete-marker</code>, to true. </p>\n *\n *          <p>If the object you want to delete is in a bucket where the bucket versioning\n *          configuration is MFA Delete enabled, you must include the <code>x-amz-mfa</code> request\n *          header in the DELETE <code>versionId</code> request. Requests that include\n *             <code>x-amz-mfa</code> must use HTTPS. </p>\n *\n *          <p> For more information about MFA Delete, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMFADelete.html\">Using MFA Delete</a>. To see sample requests that use versioning, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectDELETE.html#ExampleVersionObjectDelete\">Sample Request</a>. </p>\n *\n *          <p>You can delete objects by explicitly calling the DELETE Object API or configure its\n *          lifecycle (<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketLifecycle.html\">PutBucketLifecycle</a>) to\n *          enable Amazon S3 to remove them for you. If you want to block users or accounts from removing or\n *          deleting objects from your bucket, you must deny them the <code>s3:DeleteObject</code>,\n *             <code>s3:DeleteObjectVersion</code>, and <code>s3:PutLifeCycleConfiguration</code>\n *          actions. </p>\n *\n *          <p>The following operation is related to <code>DeleteObject</code>:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\">PutObject</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar DeleteObjectCommand = /** @class */ (function (_super) {\n    __extends(DeleteObjectCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function DeleteObjectCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    DeleteObjectCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"DeleteObjectCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: DeleteObjectRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: DeleteObjectOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    DeleteObjectCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlDeleteObjectCommand(input, context);\n    };\n    DeleteObjectCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlDeleteObjectCommand(output, context);\n    };\n    return DeleteObjectCommand;\n}($Command));\nexport { DeleteObjectCommand };\n//# sourceMappingURL=DeleteObjectCommand.js.map","import { __extends } from \"tslib\";\nimport { ListObjectsOutput, ListObjectsRequest } from \"../models/models_0\";\nimport { deserializeAws_restXmlListObjectsCommand, serializeAws_restXmlListObjectsCommand, } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Returns some or all (up to 1,000) of the objects in a bucket. You can use the request\n *          parameters as selection criteria to return a subset of the objects in a bucket. A 200 OK\n *          response can contain valid or invalid XML. Be sure to design your application to parse the\n *          contents of the response and handle it appropriately.</p>\n *          <important>\n *             <p>This API has been revised. We recommend that you use the newer version, <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\">ListObjectsV2</a>, when developing applications. For backward compatibility,\n *             Amazon S3 continues to support <code>ListObjects</code>.</p>\n *          </important>\n *\n *\n *          <p>The following operations are related to <code>ListObjects</code>:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html\">ListObjectsV2</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html\">GetObject</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\">PutObject</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateBucket.html\">CreateBucket</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBuckets.html\">ListBuckets</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar ListObjectsCommand = /** @class */ (function (_super) {\n    __extends(ListObjectsCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function ListObjectsCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    ListObjectsCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"ListObjectsCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: ListObjectsRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: ListObjectsOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    ListObjectsCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlListObjectsCommand(input, context);\n    };\n    ListObjectsCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlListObjectsCommand(output, context);\n    };\n    return ListObjectsCommand;\n}($Command));\nexport { ListObjectsCommand };\n//# sourceMappingURL=ListObjectsCommand.js.map","import { toHex } from \"@aws-sdk/util-hex-encoding\";\n/**\n * A lossless representation of a signed, 64-bit integer. Instances of this\n * class may be used in arithmetic expressions as if they were numeric\n * primitives, but the binary representation will be preserved unchanged as the\n * `bytes` property of the object. The bytes should be encoded as big-endian,\n * two's complement integers.\n */\nvar Int64 = /** @class */ (function () {\n    function Int64(bytes) {\n        this.bytes = bytes;\n        if (bytes.byteLength !== 8) {\n            throw new Error(\"Int64 buffers must be exactly 8 bytes\");\n        }\n    }\n    Int64.fromNumber = function (number) {\n        if (number > 9223372036854775807 || number < -9223372036854775808) {\n            throw new Error(number + \" is too large (or, if negative, too small) to represent as an Int64\");\n        }\n        var bytes = new Uint8Array(8);\n        for (var i = 7, remaining = Math.abs(Math.round(number)); i > -1 && remaining > 0; i--, remaining /= 256) {\n            bytes[i] = remaining;\n        }\n        if (number < 0) {\n            negate(bytes);\n        }\n        return new Int64(bytes);\n    };\n    /**\n     * Called implicitly by infix arithmetic operators.\n     */\n    Int64.prototype.valueOf = function () {\n        var bytes = this.bytes.slice(0);\n        var negative = bytes[0] & 128;\n        if (negative) {\n            negate(bytes);\n        }\n        return parseInt(toHex(bytes), 16) * (negative ? -1 : 1);\n    };\n    Int64.prototype.toString = function () {\n        return String(this.valueOf());\n    };\n    return Int64;\n}());\nexport { Int64 };\nfunction negate(bytes) {\n    for (var i = 0; i < 8; i++) {\n        bytes[i] ^= 0xff;\n    }\n    for (var i = 7; i > -1; i--) {\n        bytes[i]++;\n        if (bytes[i] !== 0)\n            break;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW50NjQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvSW50NjQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBSW5EOzs7Ozs7R0FNRztBQUNIO0lBQ0UsZUFBcUIsS0FBaUI7UUFBakIsVUFBSyxHQUFMLEtBQUssQ0FBWTtRQUNwQyxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssQ0FBQyxFQUFFO1lBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FBQztTQUMxRDtJQUNILENBQUM7SUFFTSxnQkFBVSxHQUFqQixVQUFrQixNQUFjO1FBQzlCLElBQUksTUFBTSxHQUFHLG1CQUFtQixJQUFJLE1BQU0sR0FBRyxDQUFDLG1CQUFtQixFQUFFO1lBQ2pFLE1BQU0sSUFBSSxLQUFLLENBQUksTUFBTSx3RUFBcUUsQ0FBQyxDQUFDO1NBQ2pHO1FBRUQsSUFBTSxLQUFLLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxTQUFTLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLFNBQVMsSUFBSSxHQUFHLEVBQUU7WUFDeEcsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQztTQUN0QjtRQUVELElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNkLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNmO1FBRUQsT0FBTyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQ7O09BRUc7SUFDSCx1QkFBTyxHQUFQO1FBQ0UsSUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQVUsQ0FBQztRQUN2QyxJQUFJLFFBQVEsRUFBRTtZQUNaLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNmO1FBRUQsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVELHdCQUFRLEdBQVI7UUFDRSxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBQ0gsWUFBQztBQUFELENBQUMsQUF4Q0QsSUF3Q0M7O0FBRUQsU0FBUyxNQUFNLENBQUMsS0FBaUI7SUFDL0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUMxQixLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO0tBQ2xCO0lBRUQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzNCLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ1gsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUFFLE1BQU07S0FDM0I7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW50NjQgYXMgSUludDY0IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEludDY0IGV4dGVuZHMgSUludDY0IHt9XG5cbi8qKlxuICogQSBsb3NzbGVzcyByZXByZXNlbnRhdGlvbiBvZiBhIHNpZ25lZCwgNjQtYml0IGludGVnZXIuIEluc3RhbmNlcyBvZiB0aGlzXG4gKiBjbGFzcyBtYXkgYmUgdXNlZCBpbiBhcml0aG1ldGljIGV4cHJlc3Npb25zIGFzIGlmIHRoZXkgd2VyZSBudW1lcmljXG4gKiBwcmltaXRpdmVzLCBidXQgdGhlIGJpbmFyeSByZXByZXNlbnRhdGlvbiB3aWxsIGJlIHByZXNlcnZlZCB1bmNoYW5nZWQgYXMgdGhlXG4gKiBgYnl0ZXNgIHByb3BlcnR5IG9mIHRoZSBvYmplY3QuIFRoZSBieXRlcyBzaG91bGQgYmUgZW5jb2RlZCBhcyBiaWctZW5kaWFuLFxuICogdHdvJ3MgY29tcGxlbWVudCBpbnRlZ2Vycy5cbiAqL1xuZXhwb3J0IGNsYXNzIEludDY0IHtcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgYnl0ZXM6IFVpbnQ4QXJyYXkpIHtcbiAgICBpZiAoYnl0ZXMuYnl0ZUxlbmd0aCAhPT0gOCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW50NjQgYnVmZmVycyBtdXN0IGJlIGV4YWN0bHkgOCBieXRlc1wiKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZnJvbU51bWJlcihudW1iZXI6IG51bWJlcik6IEludDY0IHtcbiAgICBpZiAobnVtYmVyID4gOTIyMzM3MjAzNjg1NDc3NTgwNyB8fCBudW1iZXIgPCAtOTIyMzM3MjAzNjg1NDc3NTgwOCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke251bWJlcn0gaXMgdG9vIGxhcmdlIChvciwgaWYgbmVnYXRpdmUsIHRvbyBzbWFsbCkgdG8gcmVwcmVzZW50IGFzIGFuIEludDY0YCk7XG4gICAgfVxuXG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICBmb3IgKGxldCBpID0gNywgcmVtYWluaW5nID0gTWF0aC5hYnMoTWF0aC5yb3VuZChudW1iZXIpKTsgaSA+IC0xICYmIHJlbWFpbmluZyA+IDA7IGktLSwgcmVtYWluaW5nIC89IDI1Nikge1xuICAgICAgYnl0ZXNbaV0gPSByZW1haW5pbmc7XG4gICAgfVxuXG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgIG5lZ2F0ZShieXRlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBJbnQ2NChieXRlcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGltcGxpY2l0bHkgYnkgaW5maXggYXJpdGhtZXRpYyBvcGVyYXRvcnMuXG4gICAqL1xuICB2YWx1ZU9mKCk6IG51bWJlciB7XG4gICAgY29uc3QgYnl0ZXMgPSB0aGlzLmJ5dGVzLnNsaWNlKDApO1xuICAgIGNvbnN0IG5lZ2F0aXZlID0gYnl0ZXNbMF0gJiAwYjEwMDAwMDAwO1xuICAgIGlmIChuZWdhdGl2ZSkge1xuICAgICAgbmVnYXRlKGJ5dGVzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VJbnQodG9IZXgoYnl0ZXMpLCAxNikgKiAobmVnYXRpdmUgPyAtMSA6IDEpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIFN0cmluZyh0aGlzLnZhbHVlT2YoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmVnYXRlKGJ5dGVzOiBVaW50OEFycmF5KTogdm9pZCB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgYnl0ZXNbaV0gXj0gMHhmZjtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSA3OyBpID4gLTE7IGktLSkge1xuICAgIGJ5dGVzW2ldKys7XG4gICAgaWYgKGJ5dGVzW2ldICE9PSAwKSBicmVhaztcbiAgfVxufVxuIl19","import { __values } from \"tslib\";\nimport { fromHex, toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { Int64 } from \"./Int64\";\n/**\n * @internal\n */\nvar HeaderMarshaller = /** @class */ (function () {\n    function HeaderMarshaller(toUtf8, fromUtf8) {\n        this.toUtf8 = toUtf8;\n        this.fromUtf8 = fromUtf8;\n    }\n    HeaderMarshaller.prototype.format = function (headers) {\n        var e_1, _a, e_2, _b;\n        var chunks = [];\n        try {\n            for (var _c = __values(Object.keys(headers)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var headerName = _d.value;\n                var bytes = this.fromUtf8(headerName);\n                chunks.push(Uint8Array.from([bytes.byteLength]), bytes, this.formatHeaderValue(headers[headerName]));\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var out = new Uint8Array(chunks.reduce(function (carry, bytes) { return carry + bytes.byteLength; }, 0));\n        var position = 0;\n        try {\n            for (var chunks_1 = __values(chunks), chunks_1_1 = chunks_1.next(); !chunks_1_1.done; chunks_1_1 = chunks_1.next()) {\n                var chunk = chunks_1_1.value;\n                out.set(chunk, position);\n                position += chunk.byteLength;\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (chunks_1_1 && !chunks_1_1.done && (_b = chunks_1.return)) _b.call(chunks_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return out;\n    };\n    HeaderMarshaller.prototype.formatHeaderValue = function (header) {\n        switch (header.type) {\n            case \"boolean\":\n                return Uint8Array.from([header.value ? 0 /* boolTrue */ : 1 /* boolFalse */]);\n            case \"byte\":\n                return Uint8Array.from([2 /* byte */, header.value]);\n            case \"short\":\n                var shortView = new DataView(new ArrayBuffer(3));\n                shortView.setUint8(0, 3 /* short */);\n                shortView.setInt16(1, header.value, false);\n                return new Uint8Array(shortView.buffer);\n            case \"integer\":\n                var intView = new DataView(new ArrayBuffer(5));\n                intView.setUint8(0, 4 /* integer */);\n                intView.setInt32(1, header.value, false);\n                return new Uint8Array(intView.buffer);\n            case \"long\":\n                var longBytes = new Uint8Array(9);\n                longBytes[0] = 5 /* long */;\n                longBytes.set(header.value.bytes, 1);\n                return longBytes;\n            case \"binary\":\n                var binView = new DataView(new ArrayBuffer(3 + header.value.byteLength));\n                binView.setUint8(0, 6 /* byteArray */);\n                binView.setUint16(1, header.value.byteLength, false);\n                var binBytes = new Uint8Array(binView.buffer);\n                binBytes.set(header.value, 3);\n                return binBytes;\n            case \"string\":\n                var utf8Bytes = this.fromUtf8(header.value);\n                var strView = new DataView(new ArrayBuffer(3 + utf8Bytes.byteLength));\n                strView.setUint8(0, 7 /* string */);\n                strView.setUint16(1, utf8Bytes.byteLength, false);\n                var strBytes = new Uint8Array(strView.buffer);\n                strBytes.set(utf8Bytes, 3);\n                return strBytes;\n            case \"timestamp\":\n                var tsBytes = new Uint8Array(9);\n                tsBytes[0] = 8 /* timestamp */;\n                tsBytes.set(Int64.fromNumber(header.value.valueOf()).bytes, 1);\n                return tsBytes;\n            case \"uuid\":\n                if (!UUID_PATTERN.test(header.value)) {\n                    throw new Error(\"Invalid UUID received: \" + header.value);\n                }\n                var uuidBytes = new Uint8Array(17);\n                uuidBytes[0] = 9 /* uuid */;\n                uuidBytes.set(fromHex(header.value.replace(/\\-/g, \"\")), 1);\n                return uuidBytes;\n        }\n    };\n    HeaderMarshaller.prototype.parse = function (headers) {\n        var out = {};\n        var position = 0;\n        while (position < headers.byteLength) {\n            var nameLength = headers.getUint8(position++);\n            var name = this.toUtf8(new Uint8Array(headers.buffer, headers.byteOffset + position, nameLength));\n            position += nameLength;\n            switch (headers.getUint8(position++)) {\n                case 0 /* boolTrue */:\n                    out[name] = {\n                        type: BOOLEAN_TAG,\n                        value: true,\n                    };\n                    break;\n                case 1 /* boolFalse */:\n                    out[name] = {\n                        type: BOOLEAN_TAG,\n                        value: false,\n                    };\n                    break;\n                case 2 /* byte */:\n                    out[name] = {\n                        type: BYTE_TAG,\n                        value: headers.getInt8(position++),\n                    };\n                    break;\n                case 3 /* short */:\n                    out[name] = {\n                        type: SHORT_TAG,\n                        value: headers.getInt16(position, false),\n                    };\n                    position += 2;\n                    break;\n                case 4 /* integer */:\n                    out[name] = {\n                        type: INT_TAG,\n                        value: headers.getInt32(position, false),\n                    };\n                    position += 4;\n                    break;\n                case 5 /* long */:\n                    out[name] = {\n                        type: LONG_TAG,\n                        value: new Int64(new Uint8Array(headers.buffer, headers.byteOffset + position, 8)),\n                    };\n                    position += 8;\n                    break;\n                case 6 /* byteArray */:\n                    var binaryLength = headers.getUint16(position, false);\n                    position += 2;\n                    out[name] = {\n                        type: BINARY_TAG,\n                        value: new Uint8Array(headers.buffer, headers.byteOffset + position, binaryLength),\n                    };\n                    position += binaryLength;\n                    break;\n                case 7 /* string */:\n                    var stringLength = headers.getUint16(position, false);\n                    position += 2;\n                    out[name] = {\n                        type: STRING_TAG,\n                        value: this.toUtf8(new Uint8Array(headers.buffer, headers.byteOffset + position, stringLength)),\n                    };\n                    position += stringLength;\n                    break;\n                case 8 /* timestamp */:\n                    out[name] = {\n                        type: TIMESTAMP_TAG,\n                        value: new Date(new Int64(new Uint8Array(headers.buffer, headers.byteOffset + position, 8)).valueOf()),\n                    };\n                    position += 8;\n                    break;\n                case 9 /* uuid */:\n                    var uuidBytes = new Uint8Array(headers.buffer, headers.byteOffset + position, 16);\n                    position += 16;\n                    out[name] = {\n                        type: UUID_TAG,\n                        value: toHex(uuidBytes.subarray(0, 4)) + \"-\" + toHex(uuidBytes.subarray(4, 6)) + \"-\" + toHex(uuidBytes.subarray(6, 8)) + \"-\" + toHex(uuidBytes.subarray(8, 10)) + \"-\" + toHex(uuidBytes.subarray(10)),\n                    };\n                    break;\n                default:\n                    throw new Error(\"Unrecognized header type tag\");\n            }\n        }\n        return out;\n    };\n    return HeaderMarshaller;\n}());\nexport { HeaderMarshaller };\nvar HEADER_VALUE_TYPE;\n(function (HEADER_VALUE_TYPE) {\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"boolTrue\"] = 0] = \"boolTrue\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"boolFalse\"] = 1] = \"boolFalse\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"byte\"] = 2] = \"byte\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"short\"] = 3] = \"short\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"integer\"] = 4] = \"integer\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"long\"] = 5] = \"long\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"byteArray\"] = 6] = \"byteArray\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"string\"] = 7] = \"string\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"timestamp\"] = 8] = \"timestamp\";\n    HEADER_VALUE_TYPE[HEADER_VALUE_TYPE[\"uuid\"] = 9] = \"uuid\";\n})(HEADER_VALUE_TYPE || (HEADER_VALUE_TYPE = {}));\nvar BOOLEAN_TAG = \"boolean\";\nvar BYTE_TAG = \"byte\";\nvar SHORT_TAG = \"short\";\nvar INT_TAG = \"integer\";\nvar LONG_TAG = \"long\";\nvar BINARY_TAG = \"binary\";\nvar STRING_TAG = \"string\";\nvar TIMESTAMP_TAG = \"timestamp\";\nvar UUID_TAG = \"uuid\";\nvar UUID_PATTERN = /^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGVhZGVyTWFyc2hhbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9IZWFkZXJNYXJzaGFsbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRTVELE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFFaEM7O0dBRUc7QUFDSDtJQUNFLDBCQUE2QixNQUFlLEVBQW1CLFFBQWlCO1FBQW5ELFdBQU0sR0FBTixNQUFNLENBQVM7UUFBbUIsYUFBUSxHQUFSLFFBQVEsQ0FBUztJQUFHLENBQUM7SUFFcEYsaUNBQU0sR0FBTixVQUFPLE9BQXVCOztRQUM1QixJQUFNLE1BQU0sR0FBc0IsRUFBRSxDQUFDOztZQUVyQyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLGdCQUFBLDRCQUFFO2dCQUExQyxJQUFNLFVBQVUsV0FBQTtnQkFDbkIsSUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDeEMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3RHOzs7Ozs7Ozs7UUFFRCxJQUFNLEdBQUcsR0FBRyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUMsS0FBSyxFQUFFLEtBQUssSUFBSyxPQUFBLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxFQUF4QixDQUF3QixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekYsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDOztZQUNqQixLQUFvQixJQUFBLFdBQUEsU0FBQSxNQUFNLENBQUEsOEJBQUEsa0RBQUU7Z0JBQXZCLElBQU0sS0FBSyxtQkFBQTtnQkFDZCxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFDekIsUUFBUSxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUM7YUFDOUI7Ozs7Ozs7OztRQUVELE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUVPLDRDQUFpQixHQUF6QixVQUEwQixNQUEwQjtRQUNsRCxRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFDbkIsS0FBSyxTQUFTO2dCQUNaLE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxrQkFBNEIsQ0FBQyxrQkFBNEIsQ0FBQyxDQUFDLENBQUM7WUFDcEcsS0FBSyxNQUFNO2dCQUNULE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxlQUF5QixNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNqRSxLQUFLLE9BQU87Z0JBQ1YsSUFBTSxTQUFTLEdBQUcsSUFBSSxRQUFRLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkQsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLGdCQUEwQixDQUFDO2dCQUMvQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUMzQyxPQUFPLElBQUksVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxQyxLQUFLLFNBQVM7Z0JBQ1osSUFBTSxPQUFPLEdBQUcsSUFBSSxRQUFRLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDakQsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLGtCQUE0QixDQUFDO2dCQUMvQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUN6QyxPQUFPLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN4QyxLQUFLLE1BQU07Z0JBQ1QsSUFBTSxTQUFTLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BDLFNBQVMsQ0FBQyxDQUFDLENBQUMsZUFBeUIsQ0FBQztnQkFDdEMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDckMsT0FBTyxTQUFTLENBQUM7WUFDbkIsS0FBSyxRQUFRO2dCQUNYLElBQU0sT0FBTyxHQUFHLElBQUksUUFBUSxDQUFDLElBQUksV0FBVyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7Z0JBQzNFLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxvQkFBOEIsQ0FBQztnQkFDakQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ3JELElBQU0sUUFBUSxHQUFHLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDaEQsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUM5QixPQUFPLFFBQVEsQ0FBQztZQUNsQixLQUFLLFFBQVE7Z0JBQ1gsSUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzlDLElBQU0sT0FBTyxHQUFHLElBQUksUUFBUSxDQUFDLElBQUksV0FBVyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDeEUsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLGlCQUEyQixDQUFDO2dCQUM5QyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNsRCxJQUFNLFFBQVEsR0FBRyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2hELFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMzQixPQUFPLFFBQVEsQ0FBQztZQUNsQixLQUFLLFdBQVc7Z0JBQ2QsSUFBTSxPQUFPLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xDLE9BQU8sQ0FBQyxDQUFDLENBQUMsb0JBQThCLENBQUM7Z0JBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMvRCxPQUFPLE9BQU8sQ0FBQztZQUNqQixLQUFLLE1BQU07Z0JBQ1QsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO29CQUNwQyxNQUFNLElBQUksS0FBSyxDQUFDLDRCQUEwQixNQUFNLENBQUMsS0FBTyxDQUFDLENBQUM7aUJBQzNEO2dCQUVELElBQU0sU0FBUyxHQUFHLElBQUksVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUNyQyxTQUFTLENBQUMsQ0FBQyxDQUFDLGVBQXlCLENBQUM7Z0JBQ3RDLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMzRCxPQUFPLFNBQVMsQ0FBQztTQUNwQjtJQUNILENBQUM7SUFFRCxnQ0FBSyxHQUFMLFVBQU0sT0FBaUI7UUFDckIsSUFBTSxHQUFHLEdBQW1CLEVBQUUsQ0FBQztRQUMvQixJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFFakIsT0FBTyxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsRUFBRTtZQUNwQyxJQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7WUFDaEQsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxVQUFVLEdBQUcsUUFBUSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDcEcsUUFBUSxJQUFJLFVBQVUsQ0FBQztZQUV2QixRQUFRLE9BQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRTtnQkFDcEM7b0JBQ0UsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHO3dCQUNWLElBQUksRUFBRSxXQUFXO3dCQUNqQixLQUFLLEVBQUUsSUFBSTtxQkFDWixDQUFDO29CQUNGLE1BQU07Z0JBQ1I7b0JBQ0UsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHO3dCQUNWLElBQUksRUFBRSxXQUFXO3dCQUNqQixLQUFLLEVBQUUsS0FBSztxQkFDYixDQUFDO29CQUNGLE1BQU07Z0JBQ1I7b0JBQ0UsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHO3dCQUNWLElBQUksRUFBRSxRQUFRO3dCQUNkLEtBQUssRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO3FCQUNuQyxDQUFDO29CQUNGLE1BQU07Z0JBQ1I7b0JBQ0UsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHO3dCQUNWLElBQUksRUFBRSxTQUFTO3dCQUNmLEtBQUssRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUM7cUJBQ3pDLENBQUM7b0JBQ0YsUUFBUSxJQUFJLENBQUMsQ0FBQztvQkFDZCxNQUFNO2dCQUNSO29CQUNFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRzt3QkFDVixJQUFJLEVBQUUsT0FBTzt3QkFDYixLQUFLLEVBQUUsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDO3FCQUN6QyxDQUFDO29CQUNGLFFBQVEsSUFBSSxDQUFDLENBQUM7b0JBQ2QsTUFBTTtnQkFDUjtvQkFDRSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUc7d0JBQ1YsSUFBSSxFQUFFLFFBQVE7d0JBQ2QsS0FBSyxFQUFFLElBQUksS0FBSyxDQUFDLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVUsR0FBRyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7cUJBQ25GLENBQUM7b0JBQ0YsUUFBUSxJQUFJLENBQUMsQ0FBQztvQkFDZCxNQUFNO2dCQUNSO29CQUNFLElBQU0sWUFBWSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUN4RCxRQUFRLElBQUksQ0FBQyxDQUFDO29CQUNkLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRzt3QkFDVixJQUFJLEVBQUUsVUFBVTt3QkFDaEIsS0FBSyxFQUFFLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVUsR0FBRyxRQUFRLEVBQUUsWUFBWSxDQUFDO3FCQUNuRixDQUFDO29CQUNGLFFBQVEsSUFBSSxZQUFZLENBQUM7b0JBQ3pCLE1BQU07Z0JBQ1I7b0JBQ0UsSUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7b0JBQ3hELFFBQVEsSUFBSSxDQUFDLENBQUM7b0JBQ2QsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHO3dCQUNWLElBQUksRUFBRSxVQUFVO3dCQUNoQixLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxVQUFVLEdBQUcsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO3FCQUNoRyxDQUFDO29CQUNGLFFBQVEsSUFBSSxZQUFZLENBQUM7b0JBQ3pCLE1BQU07Z0JBQ1I7b0JBQ0UsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHO3dCQUNWLElBQUksRUFBRSxhQUFhO3dCQUNuQixLQUFLLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsVUFBVSxHQUFHLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO3FCQUN2RyxDQUFDO29CQUNGLFFBQVEsSUFBSSxDQUFDLENBQUM7b0JBQ2QsTUFBTTtnQkFDUjtvQkFDRSxJQUFNLFNBQVMsR0FBRyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxVQUFVLEdBQUcsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUNwRixRQUFRLElBQUksRUFBRSxDQUFDO29CQUNmLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRzt3QkFDVixJQUFJLEVBQUUsUUFBUTt3QkFDZCxLQUFLLEVBQUssS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQUksS0FBSyxDQUNuRixTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDekIsU0FBSSxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsU0FBSSxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBRztxQkFDekUsQ0FBQztvQkFDRixNQUFNO2dCQUNSO29CQUNFLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQzthQUNuRDtTQUNGO1FBRUQsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBQ0gsdUJBQUM7QUFBRCxDQUFDLEFBcktELElBcUtDOztBQUVELElBQVcsaUJBV1Y7QUFYRCxXQUFXLGlCQUFpQjtJQUMxQixpRUFBWSxDQUFBO0lBQ1osbUVBQVMsQ0FBQTtJQUNULHlEQUFJLENBQUE7SUFDSiwyREFBSyxDQUFBO0lBQ0wsK0RBQU8sQ0FBQTtJQUNQLHlEQUFJLENBQUE7SUFDSixtRUFBUyxDQUFBO0lBQ1QsNkRBQU0sQ0FBQTtJQUNOLG1FQUFTLENBQUE7SUFDVCx5REFBSSxDQUFBO0FBQ04sQ0FBQyxFQVhVLGlCQUFpQixLQUFqQixpQkFBaUIsUUFXM0I7QUFFRCxJQUFNLFdBQVcsR0FBRyxTQUFTLENBQUM7QUFDOUIsSUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDO0FBQ3hCLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQztBQUMxQixJQUFNLE9BQU8sR0FBRyxTQUFTLENBQUM7QUFDMUIsSUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDO0FBQ3hCLElBQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQztBQUM1QixJQUFNLFVBQVUsR0FBRyxRQUFRLENBQUM7QUFDNUIsSUFBTSxhQUFhLEdBQUcsV0FBVyxDQUFDO0FBQ2xDLElBQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQztBQUV4QixJQUFNLFlBQVksR0FBRyxnRUFBZ0UsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlY29kZXIsIEVuY29kZXIsIE1lc3NhZ2VIZWFkZXJzLCBNZXNzYWdlSGVhZGVyVmFsdWUgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IGZyb21IZXgsIHRvSGV4IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtaGV4LWVuY29kaW5nXCI7XG5cbmltcG9ydCB7IEludDY0IH0gZnJvbSBcIi4vSW50NjRcIjtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIEhlYWRlck1hcnNoYWxsZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHRvVXRmODogRW5jb2RlciwgcHJpdmF0ZSByZWFkb25seSBmcm9tVXRmODogRGVjb2Rlcikge31cblxuICBmb3JtYXQoaGVhZGVyczogTWVzc2FnZUhlYWRlcnMpOiBVaW50OEFycmF5IHtcbiAgICBjb25zdCBjaHVua3M6IEFycmF5PFVpbnQ4QXJyYXk+ID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgIGNvbnN0IGJ5dGVzID0gdGhpcy5mcm9tVXRmOChoZWFkZXJOYW1lKTtcbiAgICAgIGNodW5rcy5wdXNoKFVpbnQ4QXJyYXkuZnJvbShbYnl0ZXMuYnl0ZUxlbmd0aF0pLCBieXRlcywgdGhpcy5mb3JtYXRIZWFkZXJWYWx1ZShoZWFkZXJzW2hlYWRlck5hbWVdKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3V0ID0gbmV3IFVpbnQ4QXJyYXkoY2h1bmtzLnJlZHVjZSgoY2FycnksIGJ5dGVzKSA9PiBjYXJyeSArIGJ5dGVzLmJ5dGVMZW5ndGgsIDApKTtcbiAgICBsZXQgcG9zaXRpb24gPSAwO1xuICAgIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XG4gICAgICBvdXQuc2V0KGNodW5rLCBwb3NpdGlvbik7XG4gICAgICBwb3NpdGlvbiArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdEhlYWRlclZhbHVlKGhlYWRlcjogTWVzc2FnZUhlYWRlclZhbHVlKTogVWludDhBcnJheSB7XG4gICAgc3dpdGNoIChoZWFkZXIudHlwZSkge1xuICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShbaGVhZGVyLnZhbHVlID8gSEVBREVSX1ZBTFVFX1RZUEUuYm9vbFRydWUgOiBIRUFERVJfVkFMVUVfVFlQRS5ib29sRmFsc2VdKTtcbiAgICAgIGNhc2UgXCJieXRlXCI6XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LmZyb20oW0hFQURFUl9WQUxVRV9UWVBFLmJ5dGUsIGhlYWRlci52YWx1ZV0pO1xuICAgICAgY2FzZSBcInNob3J0XCI6XG4gICAgICAgIGNvbnN0IHNob3J0VmlldyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMykpO1xuICAgICAgICBzaG9ydFZpZXcuc2V0VWludDgoMCwgSEVBREVSX1ZBTFVFX1RZUEUuc2hvcnQpO1xuICAgICAgICBzaG9ydFZpZXcuc2V0SW50MTYoMSwgaGVhZGVyLnZhbHVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShzaG9ydFZpZXcuYnVmZmVyKTtcbiAgICAgIGNhc2UgXCJpbnRlZ2VyXCI6XG4gICAgICAgIGNvbnN0IGludFZpZXcgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDUpKTtcbiAgICAgICAgaW50Vmlldy5zZXRVaW50OCgwLCBIRUFERVJfVkFMVUVfVFlQRS5pbnRlZ2VyKTtcbiAgICAgICAgaW50Vmlldy5zZXRJbnQzMigxLCBoZWFkZXIudmFsdWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGludFZpZXcuYnVmZmVyKTtcbiAgICAgIGNhc2UgXCJsb25nXCI6XG4gICAgICAgIGNvbnN0IGxvbmdCeXRlcyA9IG5ldyBVaW50OEFycmF5KDkpO1xuICAgICAgICBsb25nQnl0ZXNbMF0gPSBIRUFERVJfVkFMVUVfVFlQRS5sb25nO1xuICAgICAgICBsb25nQnl0ZXMuc2V0KGhlYWRlci52YWx1ZS5ieXRlcywgMSk7XG4gICAgICAgIHJldHVybiBsb25nQnl0ZXM7XG4gICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgIGNvbnN0IGJpblZpZXcgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDMgKyBoZWFkZXIudmFsdWUuYnl0ZUxlbmd0aCkpO1xuICAgICAgICBiaW5WaWV3LnNldFVpbnQ4KDAsIEhFQURFUl9WQUxVRV9UWVBFLmJ5dGVBcnJheSk7XG4gICAgICAgIGJpblZpZXcuc2V0VWludDE2KDEsIGhlYWRlci52YWx1ZS5ieXRlTGVuZ3RoLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGJpbkJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluVmlldy5idWZmZXIpO1xuICAgICAgICBiaW5CeXRlcy5zZXQoaGVhZGVyLnZhbHVlLCAzKTtcbiAgICAgICAgcmV0dXJuIGJpbkJ5dGVzO1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBjb25zdCB1dGY4Qnl0ZXMgPSB0aGlzLmZyb21VdGY4KGhlYWRlci52YWx1ZSk7XG4gICAgICAgIGNvbnN0IHN0clZpZXcgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDMgKyB1dGY4Qnl0ZXMuYnl0ZUxlbmd0aCkpO1xuICAgICAgICBzdHJWaWV3LnNldFVpbnQ4KDAsIEhFQURFUl9WQUxVRV9UWVBFLnN0cmluZyk7XG4gICAgICAgIHN0clZpZXcuc2V0VWludDE2KDEsIHV0ZjhCeXRlcy5ieXRlTGVuZ3RoLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHN0ckJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoc3RyVmlldy5idWZmZXIpO1xuICAgICAgICBzdHJCeXRlcy5zZXQodXRmOEJ5dGVzLCAzKTtcbiAgICAgICAgcmV0dXJuIHN0ckJ5dGVzO1xuICAgICAgY2FzZSBcInRpbWVzdGFtcFwiOlxuICAgICAgICBjb25zdCB0c0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkoOSk7XG4gICAgICAgIHRzQnl0ZXNbMF0gPSBIRUFERVJfVkFMVUVfVFlQRS50aW1lc3RhbXA7XG4gICAgICAgIHRzQnl0ZXMuc2V0KEludDY0LmZyb21OdW1iZXIoaGVhZGVyLnZhbHVlLnZhbHVlT2YoKSkuYnl0ZXMsIDEpO1xuICAgICAgICByZXR1cm4gdHNCeXRlcztcbiAgICAgIGNhc2UgXCJ1dWlkXCI6XG4gICAgICAgIGlmICghVVVJRF9QQVRURVJOLnRlc3QoaGVhZGVyLnZhbHVlKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBVVUlEIHJlY2VpdmVkOiAke2hlYWRlci52YWx1ZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHV1aWRCeXRlcyA9IG5ldyBVaW50OEFycmF5KDE3KTtcbiAgICAgICAgdXVpZEJ5dGVzWzBdID0gSEVBREVSX1ZBTFVFX1RZUEUudXVpZDtcbiAgICAgICAgdXVpZEJ5dGVzLnNldChmcm9tSGV4KGhlYWRlci52YWx1ZS5yZXBsYWNlKC9cXC0vZywgXCJcIikpLCAxKTtcbiAgICAgICAgcmV0dXJuIHV1aWRCeXRlcztcbiAgICB9XG4gIH1cblxuICBwYXJzZShoZWFkZXJzOiBEYXRhVmlldyk6IE1lc3NhZ2VIZWFkZXJzIHtcbiAgICBjb25zdCBvdXQ6IE1lc3NhZ2VIZWFkZXJzID0ge307XG4gICAgbGV0IHBvc2l0aW9uID0gMDtcblxuICAgIHdoaWxlIChwb3NpdGlvbiA8IGhlYWRlcnMuYnl0ZUxlbmd0aCkge1xuICAgICAgY29uc3QgbmFtZUxlbmd0aCA9IGhlYWRlcnMuZ2V0VWludDgocG9zaXRpb24rKyk7XG4gICAgICBjb25zdCBuYW1lID0gdGhpcy50b1V0ZjgobmV3IFVpbnQ4QXJyYXkoaGVhZGVycy5idWZmZXIsIGhlYWRlcnMuYnl0ZU9mZnNldCArIHBvc2l0aW9uLCBuYW1lTGVuZ3RoKSk7XG4gICAgICBwb3NpdGlvbiArPSBuYW1lTGVuZ3RoO1xuXG4gICAgICBzd2l0Y2ggKGhlYWRlcnMuZ2V0VWludDgocG9zaXRpb24rKykpIHtcbiAgICAgICAgY2FzZSBIRUFERVJfVkFMVUVfVFlQRS5ib29sVHJ1ZTpcbiAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOiBCT09MRUFOX1RBRyxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSEVBREVSX1ZBTFVFX1RZUEUuYm9vbEZhbHNlOlxuICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IEJPT0xFQU5fVEFHLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSEVBREVSX1ZBTFVFX1RZUEUuYnl0ZTpcbiAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOiBCWVRFX1RBRyxcbiAgICAgICAgICAgIHZhbHVlOiBoZWFkZXJzLmdldEludDgocG9zaXRpb24rKyksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBIRUFERVJfVkFMVUVfVFlQRS5zaG9ydDpcbiAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOiBTSE9SVF9UQUcsXG4gICAgICAgICAgICB2YWx1ZTogaGVhZGVycy5nZXRJbnQxNihwb3NpdGlvbiwgZmFsc2UpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgcG9zaXRpb24gKz0gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBIRUFERVJfVkFMVUVfVFlQRS5pbnRlZ2VyOlxuICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IElOVF9UQUcsXG4gICAgICAgICAgICB2YWx1ZTogaGVhZGVycy5nZXRJbnQzMihwb3NpdGlvbiwgZmFsc2UpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgcG9zaXRpb24gKz0gNDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBIRUFERVJfVkFMVUVfVFlQRS5sb25nOlxuICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IExPTkdfVEFHLFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBJbnQ2NChuZXcgVWludDhBcnJheShoZWFkZXJzLmJ1ZmZlciwgaGVhZGVycy5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIDgpKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBvc2l0aW9uICs9IDg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSEVBREVSX1ZBTFVFX1RZUEUuYnl0ZUFycmF5OlxuICAgICAgICAgIGNvbnN0IGJpbmFyeUxlbmd0aCA9IGhlYWRlcnMuZ2V0VWludDE2KHBvc2l0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgcG9zaXRpb24gKz0gMjtcbiAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOiBCSU5BUllfVEFHLFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBVaW50OEFycmF5KGhlYWRlcnMuYnVmZmVyLCBoZWFkZXJzLmJ5dGVPZmZzZXQgKyBwb3NpdGlvbiwgYmluYXJ5TGVuZ3RoKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBvc2l0aW9uICs9IGJpbmFyeUxlbmd0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBIRUFERVJfVkFMVUVfVFlQRS5zdHJpbmc6XG4gICAgICAgICAgY29uc3Qgc3RyaW5nTGVuZ3RoID0gaGVhZGVycy5nZXRVaW50MTYocG9zaXRpb24sIGZhbHNlKTtcbiAgICAgICAgICBwb3NpdGlvbiArPSAyO1xuICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFNUUklOR19UQUcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy50b1V0ZjgobmV3IFVpbnQ4QXJyYXkoaGVhZGVycy5idWZmZXIsIGhlYWRlcnMuYnl0ZU9mZnNldCArIHBvc2l0aW9uLCBzdHJpbmdMZW5ndGgpKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBvc2l0aW9uICs9IHN0cmluZ0xlbmd0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBIRUFERVJfVkFMVUVfVFlQRS50aW1lc3RhbXA6XG4gICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgdHlwZTogVElNRVNUQU1QX1RBRyxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShuZXcgSW50NjQobmV3IFVpbnQ4QXJyYXkoaGVhZGVycy5idWZmZXIsIGhlYWRlcnMuYnl0ZU9mZnNldCArIHBvc2l0aW9uLCA4KSkudmFsdWVPZigpKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHBvc2l0aW9uICs9IDg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSEVBREVSX1ZBTFVFX1RZUEUudXVpZDpcbiAgICAgICAgICBjb25zdCB1dWlkQnl0ZXMgPSBuZXcgVWludDhBcnJheShoZWFkZXJzLmJ1ZmZlciwgaGVhZGVycy5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIDE2KTtcbiAgICAgICAgICBwb3NpdGlvbiArPSAxNjtcbiAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOiBVVUlEX1RBRyxcbiAgICAgICAgICAgIHZhbHVlOiBgJHt0b0hleCh1dWlkQnl0ZXMuc3ViYXJyYXkoMCwgNCkpfS0ke3RvSGV4KHV1aWRCeXRlcy5zdWJhcnJheSg0LCA2KSl9LSR7dG9IZXgoXG4gICAgICAgICAgICAgIHV1aWRCeXRlcy5zdWJhcnJheSg2LCA4KVxuICAgICAgICAgICAgKX0tJHt0b0hleCh1dWlkQnl0ZXMuc3ViYXJyYXkoOCwgMTApKX0tJHt0b0hleCh1dWlkQnl0ZXMuc3ViYXJyYXkoMTApKX1gLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgaGVhZGVyIHR5cGUgdGFnYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dDtcbiAgfVxufVxuXG5jb25zdCBlbnVtIEhFQURFUl9WQUxVRV9UWVBFIHtcbiAgYm9vbFRydWUgPSAwLFxuICBib29sRmFsc2UsXG4gIGJ5dGUsXG4gIHNob3J0LFxuICBpbnRlZ2VyLFxuICBsb25nLFxuICBieXRlQXJyYXksXG4gIHN0cmluZyxcbiAgdGltZXN0YW1wLFxuICB1dWlkLFxufVxuXG5jb25zdCBCT09MRUFOX1RBRyA9IFwiYm9vbGVhblwiO1xuY29uc3QgQllURV9UQUcgPSBcImJ5dGVcIjtcbmNvbnN0IFNIT1JUX1RBRyA9IFwic2hvcnRcIjtcbmNvbnN0IElOVF9UQUcgPSBcImludGVnZXJcIjtcbmNvbnN0IExPTkdfVEFHID0gXCJsb25nXCI7XG5jb25zdCBCSU5BUllfVEFHID0gXCJiaW5hcnlcIjtcbmNvbnN0IFNUUklOR19UQUcgPSBcInN0cmluZ1wiO1xuY29uc3QgVElNRVNUQU1QX1RBRyA9IFwidGltZXN0YW1wXCI7XG5jb25zdCBVVUlEX1RBRyA9IFwidXVpZFwiO1xuXG5jb25zdCBVVUlEX1BBVFRFUk4gPSAvXlthLWYwLTldezh9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezEyfSQvO1xuIl19","import { Crc32 } from \"@aws-crypto/crc32\";\nimport { HeaderMarshaller } from \"./HeaderMarshaller\";\nimport { splitMessage } from \"./splitMessage\";\n/**\n * A marshaller that can convert binary-packed event stream messages into\n * JavaScript objects and back again into their binary format.\n */\nvar EventStreamMarshaller = /** @class */ (function () {\n    function EventStreamMarshaller(toUtf8, fromUtf8) {\n        this.headerMarshaller = new HeaderMarshaller(toUtf8, fromUtf8);\n    }\n    /**\n     * Convert a structured JavaScript object with tagged headers into a binary\n     * event stream message.\n     */\n    EventStreamMarshaller.prototype.marshall = function (_a) {\n        var rawHeaders = _a.headers, body = _a.body;\n        var headers = this.headerMarshaller.format(rawHeaders);\n        var length = headers.byteLength + body.byteLength + 16;\n        var out = new Uint8Array(length);\n        var view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n        var checksum = new Crc32();\n        // Format message\n        view.setUint32(0, length, false);\n        view.setUint32(4, headers.byteLength, false);\n        view.setUint32(8, checksum.update(out.subarray(0, 8)).digest(), false);\n        out.set(headers, 12);\n        out.set(body, headers.byteLength + 12);\n        // Write trailing message checksum\n        view.setUint32(length - 4, checksum.update(out.subarray(8, length - 4)).digest(), false);\n        return out;\n    };\n    /**\n     * Convert a binary event stream message into a JavaScript object with an\n     * opaque, binary body and tagged, parsed headers.\n     */\n    EventStreamMarshaller.prototype.unmarshall = function (message) {\n        var _a = splitMessage(message), headers = _a.headers, body = _a.body;\n        return { headers: this.headerMarshaller.parse(headers), body: body };\n    };\n    /**\n     * Convert a structured JavaScript object with tagged headers into a binary\n     * event stream message header.\n     */\n    EventStreamMarshaller.prototype.formatHeaders = function (rawHeaders) {\n        return this.headerMarshaller.format(rawHeaders);\n    };\n    return EventStreamMarshaller;\n}());\nexport { EventStreamMarshaller };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXZlbnRTdHJlYW1NYXJzaGFsbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0V2ZW50U3RyZWFtTWFyc2hhbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFJMUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDdEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTlDOzs7R0FHRztBQUNIO0lBR0UsK0JBQVksTUFBZSxFQUFFLFFBQWlCO1FBQzVDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsd0NBQVEsR0FBUixVQUFTLEVBQXNDO1lBQTNCLFVBQVUsYUFBQSxFQUFFLElBQUksVUFBQTtRQUNsQyxJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3pELElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFFekQsSUFBTSxHQUFHLEdBQUcsSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbkMsSUFBTSxJQUFJLEdBQUcsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN0RSxJQUFNLFFBQVEsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBRTdCLGlCQUFpQjtRQUNqQixJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDdkUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDckIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUV2QyxrQ0FBa0M7UUFDbEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFekYsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsMENBQVUsR0FBVixVQUFXLE9BQXdCO1FBQzNCLElBQUEsS0FBb0IsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUF2QyxPQUFPLGFBQUEsRUFBRSxJQUFJLFVBQTBCLENBQUM7UUFFaEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksTUFBQSxFQUFFLENBQUM7SUFDakUsQ0FBQztJQUVEOzs7T0FHRztJQUNILDZDQUFhLEdBQWIsVUFBYyxVQUEwQjtRQUN0QyxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUNILDRCQUFDO0FBQUQsQ0FBQyxBQWpERCxJQWlEQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENyYzMyIH0gZnJvbSBcIkBhd3MtY3J5cHRvL2NyYzMyXCI7XG5pbXBvcnQgeyBNZXNzYWdlLCBNZXNzYWdlSGVhZGVycyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuaW1wb3J0IHsgRGVjb2RlciwgRW5jb2RlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBIZWFkZXJNYXJzaGFsbGVyIH0gZnJvbSBcIi4vSGVhZGVyTWFyc2hhbGxlclwiO1xuaW1wb3J0IHsgc3BsaXRNZXNzYWdlIH0gZnJvbSBcIi4vc3BsaXRNZXNzYWdlXCI7XG5cbi8qKlxuICogQSBtYXJzaGFsbGVyIHRoYXQgY2FuIGNvbnZlcnQgYmluYXJ5LXBhY2tlZCBldmVudCBzdHJlYW0gbWVzc2FnZXMgaW50b1xuICogSmF2YVNjcmlwdCBvYmplY3RzIGFuZCBiYWNrIGFnYWluIGludG8gdGhlaXIgYmluYXJ5IGZvcm1hdC5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50U3RyZWFtTWFyc2hhbGxlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaGVhZGVyTWFyc2hhbGxlcjogSGVhZGVyTWFyc2hhbGxlcjtcblxuICBjb25zdHJ1Y3Rvcih0b1V0Zjg6IEVuY29kZXIsIGZyb21VdGY4OiBEZWNvZGVyKSB7XG4gICAgdGhpcy5oZWFkZXJNYXJzaGFsbGVyID0gbmV3IEhlYWRlck1hcnNoYWxsZXIodG9VdGY4LCBmcm9tVXRmOCk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBhIHN0cnVjdHVyZWQgSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCB0YWdnZWQgaGVhZGVycyBpbnRvIGEgYmluYXJ5XG4gICAqIGV2ZW50IHN0cmVhbSBtZXNzYWdlLlxuICAgKi9cbiAgbWFyc2hhbGwoeyBoZWFkZXJzOiByYXdIZWFkZXJzLCBib2R5IH06IE1lc3NhZ2UpOiBVaW50OEFycmF5IHtcbiAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5oZWFkZXJNYXJzaGFsbGVyLmZvcm1hdChyYXdIZWFkZXJzKTtcbiAgICBjb25zdCBsZW5ndGggPSBoZWFkZXJzLmJ5dGVMZW5ndGggKyBib2R5LmJ5dGVMZW5ndGggKyAxNjtcblxuICAgIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhvdXQuYnVmZmVyLCBvdXQuYnl0ZU9mZnNldCwgb3V0LmJ5dGVMZW5ndGgpO1xuICAgIGNvbnN0IGNoZWNrc3VtID0gbmV3IENyYzMyKCk7XG5cbiAgICAvLyBGb3JtYXQgbWVzc2FnZVxuICAgIHZpZXcuc2V0VWludDMyKDAsIGxlbmd0aCwgZmFsc2UpO1xuICAgIHZpZXcuc2V0VWludDMyKDQsIGhlYWRlcnMuYnl0ZUxlbmd0aCwgZmFsc2UpO1xuICAgIHZpZXcuc2V0VWludDMyKDgsIGNoZWNrc3VtLnVwZGF0ZShvdXQuc3ViYXJyYXkoMCwgOCkpLmRpZ2VzdCgpLCBmYWxzZSk7XG4gICAgb3V0LnNldChoZWFkZXJzLCAxMik7XG4gICAgb3V0LnNldChib2R5LCBoZWFkZXJzLmJ5dGVMZW5ndGggKyAxMik7XG5cbiAgICAvLyBXcml0ZSB0cmFpbGluZyBtZXNzYWdlIGNoZWNrc3VtXG4gICAgdmlldy5zZXRVaW50MzIobGVuZ3RoIC0gNCwgY2hlY2tzdW0udXBkYXRlKG91dC5zdWJhcnJheSg4LCBsZW5ndGggLSA0KSkuZGlnZXN0KCksIGZhbHNlKTtcblxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBhIGJpbmFyeSBldmVudCBzdHJlYW0gbWVzc2FnZSBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3Qgd2l0aCBhblxuICAgKiBvcGFxdWUsIGJpbmFyeSBib2R5IGFuZCB0YWdnZWQsIHBhcnNlZCBoZWFkZXJzLlxuICAgKi9cbiAgdW5tYXJzaGFsbChtZXNzYWdlOiBBcnJheUJ1ZmZlclZpZXcpOiBNZXNzYWdlIHtcbiAgICBjb25zdCB7IGhlYWRlcnMsIGJvZHkgfSA9IHNwbGl0TWVzc2FnZShtZXNzYWdlKTtcblxuICAgIHJldHVybiB7IGhlYWRlcnM6IHRoaXMuaGVhZGVyTWFyc2hhbGxlci5wYXJzZShoZWFkZXJzKSwgYm9keSB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYSBzdHJ1Y3R1cmVkIEphdmFTY3JpcHQgb2JqZWN0IHdpdGggdGFnZ2VkIGhlYWRlcnMgaW50byBhIGJpbmFyeVxuICAgKiBldmVudCBzdHJlYW0gbWVzc2FnZSBoZWFkZXIuXG4gICAqL1xuICBmb3JtYXRIZWFkZXJzKHJhd0hlYWRlcnM6IE1lc3NhZ2VIZWFkZXJzKTogVWludDhBcnJheSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZGVyTWFyc2hhbGxlci5mb3JtYXQocmF3SGVhZGVycyk7XG4gIH1cbn1cbiJdfQ==","import { Crc32 } from \"@aws-crypto/crc32\";\n// All prelude components are unsigned, 32-bit integers\nvar PRELUDE_MEMBER_LENGTH = 4;\n// The prelude consists of two components\nvar PRELUDE_LENGTH = PRELUDE_MEMBER_LENGTH * 2;\n// Checksums are always CRC32 hashes.\nvar CHECKSUM_LENGTH = 4;\n// Messages must include a full prelude, a prelude checksum, and a message checksum\nvar MINIMUM_MESSAGE_LENGTH = PRELUDE_LENGTH + CHECKSUM_LENGTH * 2;\n/**\n * @internal\n */\nexport function splitMessage(_a) {\n    var byteLength = _a.byteLength, byteOffset = _a.byteOffset, buffer = _a.buffer;\n    if (byteLength < MINIMUM_MESSAGE_LENGTH) {\n        throw new Error(\"Provided message too short to accommodate event stream message overhead\");\n    }\n    var view = new DataView(buffer, byteOffset, byteLength);\n    var messageLength = view.getUint32(0, false);\n    if (byteLength !== messageLength) {\n        throw new Error(\"Reported message length does not match received message length\");\n    }\n    var headerLength = view.getUint32(PRELUDE_MEMBER_LENGTH, false);\n    var expectedPreludeChecksum = view.getUint32(PRELUDE_LENGTH, false);\n    var expectedMessageChecksum = view.getUint32(byteLength - CHECKSUM_LENGTH, false);\n    var checksummer = new Crc32().update(new Uint8Array(buffer, byteOffset, PRELUDE_LENGTH));\n    if (expectedPreludeChecksum !== checksummer.digest()) {\n        throw new Error(\"The prelude checksum specified in the message (\" + expectedPreludeChecksum + \") does not match the calculated CRC32 checksum (\" + checksummer.digest() + \")\");\n    }\n    checksummer.update(new Uint8Array(buffer, byteOffset + PRELUDE_LENGTH, byteLength - (PRELUDE_LENGTH + CHECKSUM_LENGTH)));\n    if (expectedMessageChecksum !== checksummer.digest()) {\n        throw new Error(\"The message checksum (\" + checksummer.digest() + \") did not match the expected value of \" + expectedMessageChecksum);\n    }\n    return {\n        headers: new DataView(buffer, byteOffset + PRELUDE_LENGTH + CHECKSUM_LENGTH, headerLength),\n        body: new Uint8Array(buffer, byteOffset + PRELUDE_LENGTH + CHECKSUM_LENGTH + headerLength, messageLength - headerLength - (PRELUDE_LENGTH + CHECKSUM_LENGTH + CHECKSUM_LENGTH)),\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BsaXRNZXNzYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NwbGl0TWVzc2FnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFMUMsdURBQXVEO0FBQ3ZELElBQU0scUJBQXFCLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLHlDQUF5QztBQUN6QyxJQUFNLGNBQWMsR0FBRyxxQkFBcUIsR0FBRyxDQUFDLENBQUM7QUFDakQscUNBQXFDO0FBQ3JDLElBQU0sZUFBZSxHQUFHLENBQUMsQ0FBQztBQUMxQixtRkFBbUY7QUFDbkYsSUFBTSxzQkFBc0IsR0FBRyxjQUFjLEdBQUcsZUFBZSxHQUFHLENBQUMsQ0FBQztBQVVwRTs7R0FFRztBQUNILE1BQU0sVUFBVSxZQUFZLENBQUMsRUFBbUQ7UUFBakQsVUFBVSxnQkFBQSxFQUFFLFVBQVUsZ0JBQUEsRUFBRSxNQUFNLFlBQUE7SUFDM0QsSUFBSSxVQUFVLEdBQUcsc0JBQXNCLEVBQUU7UUFDdkMsTUFBTSxJQUFJLEtBQUssQ0FBQyx5RUFBeUUsQ0FBQyxDQUFDO0tBQzVGO0lBRUQsSUFBTSxJQUFJLEdBQUcsSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUUxRCxJQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUUvQyxJQUFJLFVBQVUsS0FBSyxhQUFhLEVBQUU7UUFDaEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxnRUFBZ0UsQ0FBQyxDQUFDO0tBQ25GO0lBRUQsSUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxxQkFBcUIsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNsRSxJQUFNLHVCQUF1QixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3RFLElBQU0sdUJBQXVCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRXBGLElBQU0sV0FBVyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksVUFBVSxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQztJQUMzRixJQUFJLHVCQUF1QixLQUFLLFdBQVcsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUNwRCxNQUFNLElBQUksS0FBSyxDQUNiLG9EQUFrRCx1QkFBdUIsd0RBQW1ELFdBQVcsQ0FBQyxNQUFNLEVBQUUsTUFBRyxDQUNwSixDQUFDO0tBQ0g7SUFFRCxXQUFXLENBQUMsTUFBTSxDQUNoQixJQUFJLFVBQVUsQ0FBQyxNQUFNLEVBQUUsVUFBVSxHQUFHLGNBQWMsRUFBRSxVQUFVLEdBQUcsQ0FBQyxjQUFjLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FDckcsQ0FBQztJQUNGLElBQUksdUJBQXVCLEtBQUssV0FBVyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ3BELE1BQU0sSUFBSSxLQUFLLENBQ2IsMkJBQXlCLFdBQVcsQ0FBQyxNQUFNLEVBQUUsOENBQXlDLHVCQUF5QixDQUNoSCxDQUFDO0tBQ0g7SUFFRCxPQUFPO1FBQ0wsT0FBTyxFQUFFLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRSxVQUFVLEdBQUcsY0FBYyxHQUFHLGVBQWUsRUFBRSxZQUFZLENBQUM7UUFDMUYsSUFBSSxFQUFFLElBQUksVUFBVSxDQUNsQixNQUFNLEVBQ04sVUFBVSxHQUFHLGNBQWMsR0FBRyxlQUFlLEdBQUcsWUFBWSxFQUM1RCxhQUFhLEdBQUcsWUFBWSxHQUFHLENBQUMsY0FBYyxHQUFHLGVBQWUsR0FBRyxlQUFlLENBQUMsQ0FDcEY7S0FDRixDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENyYzMyIH0gZnJvbSBcIkBhd3MtY3J5cHRvL2NyYzMyXCI7XG5cbi8vIEFsbCBwcmVsdWRlIGNvbXBvbmVudHMgYXJlIHVuc2lnbmVkLCAzMi1iaXQgaW50ZWdlcnNcbmNvbnN0IFBSRUxVREVfTUVNQkVSX0xFTkdUSCA9IDQ7XG4vLyBUaGUgcHJlbHVkZSBjb25zaXN0cyBvZiB0d28gY29tcG9uZW50c1xuY29uc3QgUFJFTFVERV9MRU5HVEggPSBQUkVMVURFX01FTUJFUl9MRU5HVEggKiAyO1xuLy8gQ2hlY2tzdW1zIGFyZSBhbHdheXMgQ1JDMzIgaGFzaGVzLlxuY29uc3QgQ0hFQ0tTVU1fTEVOR1RIID0gNDtcbi8vIE1lc3NhZ2VzIG11c3QgaW5jbHVkZSBhIGZ1bGwgcHJlbHVkZSwgYSBwcmVsdWRlIGNoZWNrc3VtLCBhbmQgYSBtZXNzYWdlIGNoZWNrc3VtXG5jb25zdCBNSU5JTVVNX01FU1NBR0VfTEVOR1RIID0gUFJFTFVERV9MRU5HVEggKyBDSEVDS1NVTV9MRU5HVEggKiAyO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VQYXJ0cyB7XG4gIGhlYWRlcnM6IERhdGFWaWV3O1xuICBib2R5OiBVaW50OEFycmF5O1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRNZXNzYWdlKHsgYnl0ZUxlbmd0aCwgYnl0ZU9mZnNldCwgYnVmZmVyIH06IEFycmF5QnVmZmVyVmlldyk6IE1lc3NhZ2VQYXJ0cyB7XG4gIGlmIChieXRlTGVuZ3RoIDwgTUlOSU1VTV9NRVNTQUdFX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGVkIG1lc3NhZ2UgdG9vIHNob3J0IHRvIGFjY29tbW9kYXRlIGV2ZW50IHN0cmVhbSBtZXNzYWdlIG92ZXJoZWFkXCIpO1xuICB9XG5cbiAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpO1xuXG4gIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSB2aWV3LmdldFVpbnQzMigwLCBmYWxzZSk7XG5cbiAgaWYgKGJ5dGVMZW5ndGggIT09IG1lc3NhZ2VMZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXBvcnRlZCBtZXNzYWdlIGxlbmd0aCBkb2VzIG5vdCBtYXRjaCByZWNlaXZlZCBtZXNzYWdlIGxlbmd0aFwiKTtcbiAgfVxuXG4gIGNvbnN0IGhlYWRlckxlbmd0aCA9IHZpZXcuZ2V0VWludDMyKFBSRUxVREVfTUVNQkVSX0xFTkdUSCwgZmFsc2UpO1xuICBjb25zdCBleHBlY3RlZFByZWx1ZGVDaGVja3N1bSA9IHZpZXcuZ2V0VWludDMyKFBSRUxVREVfTEVOR1RILCBmYWxzZSk7XG4gIGNvbnN0IGV4cGVjdGVkTWVzc2FnZUNoZWNrc3VtID0gdmlldy5nZXRVaW50MzIoYnl0ZUxlbmd0aCAtIENIRUNLU1VNX0xFTkdUSCwgZmFsc2UpO1xuXG4gIGNvbnN0IGNoZWNrc3VtbWVyID0gbmV3IENyYzMyKCkudXBkYXRlKG5ldyBVaW50OEFycmF5KGJ1ZmZlciwgYnl0ZU9mZnNldCwgUFJFTFVERV9MRU5HVEgpKTtcbiAgaWYgKGV4cGVjdGVkUHJlbHVkZUNoZWNrc3VtICE9PSBjaGVja3N1bW1lci5kaWdlc3QoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBUaGUgcHJlbHVkZSBjaGVja3N1bSBzcGVjaWZpZWQgaW4gdGhlIG1lc3NhZ2UgKCR7ZXhwZWN0ZWRQcmVsdWRlQ2hlY2tzdW19KSBkb2VzIG5vdCBtYXRjaCB0aGUgY2FsY3VsYXRlZCBDUkMzMiBjaGVja3N1bSAoJHtjaGVja3N1bW1lci5kaWdlc3QoKX0pYFxuICAgICk7XG4gIH1cblxuICBjaGVja3N1bW1lci51cGRhdGUoXG4gICAgbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLCBieXRlT2Zmc2V0ICsgUFJFTFVERV9MRU5HVEgsIGJ5dGVMZW5ndGggLSAoUFJFTFVERV9MRU5HVEggKyBDSEVDS1NVTV9MRU5HVEgpKVxuICApO1xuICBpZiAoZXhwZWN0ZWRNZXNzYWdlQ2hlY2tzdW0gIT09IGNoZWNrc3VtbWVyLmRpZ2VzdCgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFRoZSBtZXNzYWdlIGNoZWNrc3VtICgke2NoZWNrc3VtbWVyLmRpZ2VzdCgpfSkgZGlkIG5vdCBtYXRjaCB0aGUgZXhwZWN0ZWQgdmFsdWUgb2YgJHtleHBlY3RlZE1lc3NhZ2VDaGVja3N1bX1gXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaGVhZGVyczogbmV3IERhdGFWaWV3KGJ1ZmZlciwgYnl0ZU9mZnNldCArIFBSRUxVREVfTEVOR1RIICsgQ0hFQ0tTVU1fTEVOR1RILCBoZWFkZXJMZW5ndGgpLFxuICAgIGJvZHk6IG5ldyBVaW50OEFycmF5KFxuICAgICAgYnVmZmVyLFxuICAgICAgYnl0ZU9mZnNldCArIFBSRUxVREVfTEVOR1RIICsgQ0hFQ0tTVU1fTEVOR1RIICsgaGVhZGVyTGVuZ3RoLFxuICAgICAgbWVzc2FnZUxlbmd0aCAtIGhlYWRlckxlbmd0aCAtIChQUkVMVURFX0xFTkdUSCArIENIRUNLU1VNX0xFTkdUSCArIENIRUNLU1VNX0xFTkdUSClcbiAgICApLFxuICB9O1xufVxuIl19","import { __asyncGenerator, __asyncValues, __await, __generator } from \"tslib\";\nimport { EventStreamMarshaller as EventMarshaller } from \"@aws-sdk/eventstream-marshaller\";\nimport { getChunkedStream } from \"./getChunkedStream\";\nimport { getUnmarshalledStream } from \"./getUnmarshalledStream\";\nvar EventStreamMarshaller = /** @class */ (function () {\n    function EventStreamMarshaller(_a) {\n        var utf8Encoder = _a.utf8Encoder, utf8Decoder = _a.utf8Decoder;\n        this.eventMarshaller = new EventMarshaller(utf8Encoder, utf8Decoder);\n        this.utfEncoder = utf8Encoder;\n    }\n    EventStreamMarshaller.prototype.deserialize = function (body, deserializer) {\n        var chunkedStream = getChunkedStream(body);\n        var unmarshalledStream = getUnmarshalledStream(chunkedStream, {\n            eventMarshaller: this.eventMarshaller,\n            deserializer: deserializer,\n            toUtf8: this.utfEncoder,\n        });\n        return unmarshalledStream;\n    };\n    EventStreamMarshaller.prototype.serialize = function (input, serializer) {\n        var _a;\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        var serializedIterator = function () {\n            return __asyncGenerator(this, arguments, function () {\n                var input_1, input_1_1, chunk, payloadBuf, e_1_1;\n                var e_1, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            _b.trys.push([0, 7, 8, 13]);\n                            input_1 = __asyncValues(input);\n                            _b.label = 1;\n                        case 1: return [4 /*yield*/, __await(input_1.next())];\n                        case 2:\n                            if (!(input_1_1 = _b.sent(), !input_1_1.done)) return [3 /*break*/, 6];\n                            chunk = input_1_1.value;\n                            payloadBuf = self.eventMarshaller.marshall(serializer(chunk));\n                            return [4 /*yield*/, __await(payloadBuf)];\n                        case 3: return [4 /*yield*/, _b.sent()];\n                        case 4:\n                            _b.sent();\n                            _b.label = 5;\n                        case 5: return [3 /*break*/, 1];\n                        case 6: return [3 /*break*/, 13];\n                        case 7:\n                            e_1_1 = _b.sent();\n                            e_1 = { error: e_1_1 };\n                            return [3 /*break*/, 13];\n                        case 8:\n                            _b.trys.push([8, , 11, 12]);\n                            if (!(input_1_1 && !input_1_1.done && (_a = input_1.return))) return [3 /*break*/, 10];\n                            return [4 /*yield*/, __await(_a.call(input_1))];\n                        case 9:\n                            _b.sent();\n                            _b.label = 10;\n                        case 10: return [3 /*break*/, 12];\n                        case 11:\n                            if (e_1) throw e_1.error;\n                            return [7 /*endfinally*/];\n                        case 12: return [7 /*endfinally*/];\n                        case 13: return [4 /*yield*/, __await(new Uint8Array(0))];\n                        case 14: \n                        // Ending frame\n                        return [4 /*yield*/, _b.sent()];\n                        case 15:\n                            // Ending frame\n                            _b.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        return _a = {},\n            _a[Symbol.asyncIterator] = serializedIterator,\n            _a;\n    };\n    return EventStreamMarshaller;\n}());\nexport { EventStreamMarshaller };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXZlbnRTdHJlYW1NYXJzaGFsbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0V2ZW50U3RyZWFtTWFyc2hhbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLHFCQUFxQixJQUFJLGVBQWUsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBRzNGLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBU2hFO0lBR0UsK0JBQVksRUFBMEQ7WUFBeEQsV0FBVyxpQkFBQSxFQUFFLFdBQVcsaUJBQUE7UUFDcEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUM7SUFDaEMsQ0FBQztJQUVELDJDQUFXLEdBQVgsVUFDRSxJQUErQixFQUMvQixZQUFpRTtRQUVqRSxJQUFNLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3QyxJQUFNLGtCQUFrQixHQUFHLHFCQUFxQixDQUFDLGFBQWEsRUFBRTtZQUM5RCxlQUFlLEVBQUUsSUFBSSxDQUFDLGVBQWU7WUFDckMsWUFBWSxjQUFBO1lBQ1osTUFBTSxFQUFFLElBQUksQ0FBQyxVQUFVO1NBQ3hCLENBQUMsQ0FBQztRQUNILE9BQU8sa0JBQWtCLENBQUM7SUFDNUIsQ0FBQztJQUVELHlDQUFTLEdBQVQsVUFBYSxLQUF1QixFQUFFLFVBQWlDOztRQUNyRSw0REFBNEQ7UUFDNUQsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQU0sa0JBQWtCLEdBQUc7Ozs7Ozs7OzRCQUNDLFVBQUEsY0FBQSxLQUFLLENBQUE7Ozs7OzRCQUFkLEtBQUssa0JBQUEsQ0FBQTs0QkFDZCxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7eURBQzlELFVBQVU7Z0NBQWhCLGdDQUFnQjs7NEJBQWhCLFNBQWdCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhEQUdiLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQzs7d0JBRHZCLGVBQWU7d0JBQ2YsZ0NBQXVCOzs0QkFEdkIsZUFBZTs0QkFDZixTQUF1QixDQUFDOzs7OztTQUN6QixDQUFDO1FBQ0Y7WUFDRSxHQUFDLE1BQU0sQ0FBQyxhQUFhLElBQUcsa0JBQWtCO2VBQzFDO0lBQ0osQ0FBQztJQUNILDRCQUFDO0FBQUQsQ0FBQyxBQXBDRCxJQW9DQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50U3RyZWFtTWFyc2hhbGxlciBhcyBFdmVudE1hcnNoYWxsZXIgfSBmcm9tIFwiQGF3cy1zZGsvZXZlbnRzdHJlYW0tbWFyc2hhbGxlclwiO1xuaW1wb3J0IHsgRGVjb2RlciwgRW5jb2RlciwgRXZlbnRTdHJlYW1NYXJzaGFsbGVyIGFzIElFdmVudFN0cmVhbU1hcnNoYWxsZXIsIE1lc3NhZ2UgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgZ2V0Q2h1bmtlZFN0cmVhbSB9IGZyb20gXCIuL2dldENodW5rZWRTdHJlYW1cIjtcbmltcG9ydCB7IGdldFVubWFyc2hhbGxlZFN0cmVhbSB9IGZyb20gXCIuL2dldFVubWFyc2hhbGxlZFN0cmVhbVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50U3RyZWFtTWFyc2hhbGxlciBleHRlbmRzIElFdmVudFN0cmVhbU1hcnNoYWxsZXIge31cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudFN0cmVhbU1hcnNoYWxsZXJPcHRpb25zIHtcbiAgdXRmOEVuY29kZXI6IEVuY29kZXI7XG4gIHV0ZjhEZWNvZGVyOiBEZWNvZGVyO1xufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRTdHJlYW1NYXJzaGFsbGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBldmVudE1hcnNoYWxsZXI6IEV2ZW50TWFyc2hhbGxlcjtcbiAgcHJpdmF0ZSByZWFkb25seSB1dGZFbmNvZGVyOiBFbmNvZGVyO1xuICBjb25zdHJ1Y3Rvcih7IHV0ZjhFbmNvZGVyLCB1dGY4RGVjb2RlciB9OiBFdmVudFN0cmVhbU1hcnNoYWxsZXJPcHRpb25zKSB7XG4gICAgdGhpcy5ldmVudE1hcnNoYWxsZXIgPSBuZXcgRXZlbnRNYXJzaGFsbGVyKHV0ZjhFbmNvZGVyLCB1dGY4RGVjb2Rlcik7XG4gICAgdGhpcy51dGZFbmNvZGVyID0gdXRmOEVuY29kZXI7XG4gIH1cblxuICBkZXNlcmlhbGl6ZTxUPihcbiAgICBib2R5OiBBc3luY0l0ZXJhYmxlPFVpbnQ4QXJyYXk+LFxuICAgIGRlc2VyaWFsaXplcjogKGlucHV0OiB7IFtldmVudDogc3RyaW5nXTogTWVzc2FnZSB9KSA9PiBQcm9taXNlPFQ+XG4gICk6IEFzeW5jSXRlcmFibGU8VD4ge1xuICAgIGNvbnN0IGNodW5rZWRTdHJlYW0gPSBnZXRDaHVua2VkU3RyZWFtKGJvZHkpO1xuICAgIGNvbnN0IHVubWFyc2hhbGxlZFN0cmVhbSA9IGdldFVubWFyc2hhbGxlZFN0cmVhbShjaHVua2VkU3RyZWFtLCB7XG4gICAgICBldmVudE1hcnNoYWxsZXI6IHRoaXMuZXZlbnRNYXJzaGFsbGVyLFxuICAgICAgZGVzZXJpYWxpemVyLFxuICAgICAgdG9VdGY4OiB0aGlzLnV0ZkVuY29kZXIsXG4gICAgfSk7XG4gICAgcmV0dXJuIHVubWFyc2hhbGxlZFN0cmVhbTtcbiAgfVxuXG4gIHNlcmlhbGl6ZTxUPihpbnB1dDogQXN5bmNJdGVyYWJsZTxUPiwgc2VyaWFsaXplcjogKGV2ZW50OiBUKSA9PiBNZXNzYWdlKTogQXN5bmNJdGVyYWJsZTxVaW50OEFycmF5PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3Qgc2VyaWFsaXplZEl0ZXJhdG9yID0gYXN5bmMgZnVuY3Rpb24qICgpIHtcbiAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZEJ1ZiA9IHNlbGYuZXZlbnRNYXJzaGFsbGVyLm1hcnNoYWxsKHNlcmlhbGl6ZXIoY2h1bmspKTtcbiAgICAgICAgeWllbGQgcGF5bG9hZEJ1ZjtcbiAgICAgIH1cbiAgICAgIC8vIEVuZGluZyBmcmFtZVxuICAgICAgeWllbGQgbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogc2VyaWFsaXplZEl0ZXJhdG9yLFxuICAgIH07XG4gIH1cbn1cbiJdfQ==","import { __asyncGenerator, __await, __generator } from \"tslib\";\nexport function getChunkedStream(source) {\n    var _a;\n    var currentMessageTotalLength = 0;\n    var currentMessagePendingLength = 0;\n    var currentMessage = null;\n    var messageLengthBuffer = null;\n    var allocateMessage = function (size) {\n        if (typeof size !== \"number\") {\n            throw new Error(\"Attempted to allocate an event message where size was not a number: \" + size);\n        }\n        currentMessageTotalLength = size;\n        currentMessagePendingLength = 4;\n        currentMessage = new Uint8Array(size);\n        var currentMessageView = new DataView(currentMessage.buffer);\n        currentMessageView.setUint32(0, size, false); //set big-endian Uint32 to 0~3 bytes\n    };\n    var iterator = function () {\n        return __asyncGenerator(this, arguments, function () {\n            var sourceIterator, _a, value, done, chunkLength, currentOffset, bytesRemaining, numBytesForTotal, numBytesToWrite;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        sourceIterator = source[Symbol.asyncIterator]();\n                        _b.label = 1;\n                    case 1:\n                        if (!true) return [3 /*break*/, 16];\n                        return [4 /*yield*/, __await(sourceIterator.next())];\n                    case 2:\n                        _a = _b.sent(), value = _a.value, done = _a.done;\n                        if (!done) return [3 /*break*/, 10];\n                        if (!!currentMessageTotalLength) return [3 /*break*/, 4];\n                        return [4 /*yield*/, __await(void 0)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                    case 4:\n                        if (!(currentMessageTotalLength === currentMessagePendingLength)) return [3 /*break*/, 7];\n                        return [4 /*yield*/, __await(currentMessage)];\n                    case 5: return [4 /*yield*/, _b.sent()];\n                    case 6:\n                        _b.sent();\n                        return [3 /*break*/, 8];\n                    case 7: throw new Error(\"Truncated event message received.\");\n                    case 8: return [4 /*yield*/, __await(void 0)];\n                    case 9: return [2 /*return*/, _b.sent()];\n                    case 10:\n                        chunkLength = value.length;\n                        currentOffset = 0;\n                        _b.label = 11;\n                    case 11:\n                        if (!(currentOffset < chunkLength)) return [3 /*break*/, 15];\n                        // create new message if necessary\n                        if (!currentMessage) {\n                            bytesRemaining = chunkLength - currentOffset;\n                            // prevent edge case where total length spans 2 chunks\n                            if (!messageLengthBuffer) {\n                                messageLengthBuffer = new Uint8Array(4);\n                            }\n                            numBytesForTotal = Math.min(4 - currentMessagePendingLength, // remaining bytes to fill the messageLengthBuffer\n                            bytesRemaining // bytes left in chunk\n                            );\n                            messageLengthBuffer.set(\n                            // @ts-ignore error TS2532: Object is possibly 'undefined' for value\n                            value.slice(currentOffset, currentOffset + numBytesForTotal), currentMessagePendingLength);\n                            currentMessagePendingLength += numBytesForTotal;\n                            currentOffset += numBytesForTotal;\n                            if (currentMessagePendingLength < 4) {\n                                // not enough information to create the current message\n                                return [3 /*break*/, 15];\n                            }\n                            allocateMessage(new DataView(messageLengthBuffer.buffer).getUint32(0, false));\n                            messageLengthBuffer = null;\n                        }\n                        numBytesToWrite = Math.min(currentMessageTotalLength - currentMessagePendingLength, // number of bytes left to complete message\n                        chunkLength - currentOffset // number of bytes left in the original chunk\n                        );\n                        currentMessage.set(\n                        // @ts-ignore error TS2532: Object is possibly 'undefined' for value\n                        value.slice(currentOffset, currentOffset + numBytesToWrite), currentMessagePendingLength);\n                        currentMessagePendingLength += numBytesToWrite;\n                        currentOffset += numBytesToWrite;\n                        if (!(currentMessageTotalLength && currentMessageTotalLength === currentMessagePendingLength)) return [3 /*break*/, 14];\n                        return [4 /*yield*/, __await(currentMessage)];\n                    case 12: \n                    // push out the message\n                    return [4 /*yield*/, _b.sent()];\n                    case 13:\n                        // push out the message\n                        _b.sent();\n                        // cleanup\n                        currentMessage = null;\n                        currentMessageTotalLength = 0;\n                        currentMessagePendingLength = 0;\n                        _b.label = 14;\n                    case 14: return [3 /*break*/, 11];\n                    case 15: return [3 /*break*/, 1];\n                    case 16: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return _a = {},\n        _a[Symbol.asyncIterator] = iterator,\n        _a;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2h1bmtlZFN0cmVhbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9nZXRDaHVua2VkU3RyZWFtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsTUFBaUM7O0lBQ2hFLElBQUkseUJBQXlCLEdBQUcsQ0FBQyxDQUFDO0lBQ2xDLElBQUksMkJBQTJCLEdBQUcsQ0FBQyxDQUFDO0lBQ3BDLElBQUksY0FBYyxHQUFzQixJQUFJLENBQUM7SUFDN0MsSUFBSSxtQkFBbUIsR0FBc0IsSUFBSSxDQUFDO0lBQ2xELElBQU0sZUFBZSxHQUFHLFVBQUMsSUFBWTtRQUNuQyxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtZQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLHNFQUFzRSxHQUFHLElBQUksQ0FBQyxDQUFDO1NBQ2hHO1FBQ0QseUJBQXlCLEdBQUcsSUFBSSxDQUFDO1FBQ2pDLDJCQUEyQixHQUFHLENBQUMsQ0FBQztRQUNoQyxjQUFjLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEMsSUFBTSxrQkFBa0IsR0FBRyxJQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDL0Qsa0JBQWtCLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxvQ0FBb0M7SUFDcEYsQ0FBQyxDQUFDO0lBRUYsSUFBTSxRQUFRLEdBQUc7Ozs7Ozt3QkFDVCxjQUFjLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDOzs7NkJBQy9DLElBQUk7d0JBQ2UsNkJBQU0sY0FBYyxDQUFDLElBQUksRUFBRSxHQUFBOzt3QkFBN0MsS0FBa0IsU0FBMkIsRUFBM0MsS0FBSyxXQUFBLEVBQUUsSUFBSSxVQUFBOzZCQUNmLElBQUksRUFBSix5QkFBSTs2QkFDRixDQUFDLHlCQUF5QixFQUExQix3QkFBMEI7OzRCQUM1QixpQ0FBTzs7NkJBQ0UsQ0FBQSx5QkFBeUIsS0FBSywyQkFBMkIsQ0FBQSxFQUF6RCx3QkFBeUQ7cURBQzVELGNBQTRCOzRCQUFsQyxnQ0FBa0M7O3dCQUFsQyxTQUFrQyxDQUFDOzs0QkFFbkMsTUFBTSxJQUFJLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDOzs0QkFFdkQsaUNBQU87O3dCQUdILFdBQVcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO3dCQUM3QixhQUFhLEdBQUcsQ0FBQyxDQUFDOzs7NkJBRWYsQ0FBQSxhQUFhLEdBQUcsV0FBVyxDQUFBO3dCQUNoQyxrQ0FBa0M7d0JBQ2xDLElBQUksQ0FBQyxjQUFjLEVBQUU7NEJBRWIsY0FBYyxHQUFHLFdBQVcsR0FBRyxhQUFhLENBQUM7NEJBQ25ELHNEQUFzRDs0QkFDdEQsSUFBSSxDQUFDLG1CQUFtQixFQUFFO2dDQUN4QixtQkFBbUIsR0FBRyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs2QkFDekM7NEJBQ0ssZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FDL0IsQ0FBQyxHQUFHLDJCQUEyQixFQUFFLGtEQUFrRDs0QkFDbkYsY0FBYyxDQUFDLHNCQUFzQjs2QkFDdEMsQ0FBQzs0QkFFRixtQkFBbUIsQ0FBQyxHQUFHOzRCQUNyQixvRUFBb0U7NEJBQ3BFLEtBQUssQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQyxFQUM1RCwyQkFBMkIsQ0FDNUIsQ0FBQzs0QkFFRiwyQkFBMkIsSUFBSSxnQkFBZ0IsQ0FBQzs0QkFDaEQsYUFBYSxJQUFJLGdCQUFnQixDQUFDOzRCQUVsQyxJQUFJLDJCQUEyQixHQUFHLENBQUMsRUFBRTtnQ0FDbkMsdURBQXVEO2dDQUN2RCx5QkFBTTs2QkFDUDs0QkFDRCxlQUFlLENBQUMsSUFBSSxRQUFRLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDOzRCQUM5RSxtQkFBbUIsR0FBRyxJQUFJLENBQUM7eUJBQzVCO3dCQUdLLGVBQWUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUM5Qix5QkFBeUIsR0FBRywyQkFBMkIsRUFBRSwyQ0FBMkM7d0JBQ3BHLFdBQVcsR0FBRyxhQUFhLENBQUMsNkNBQTZDO3lCQUMxRSxDQUFDO3dCQUNGLGNBQWUsQ0FBQyxHQUFHO3dCQUNqQixvRUFBb0U7d0JBQ3BFLEtBQUssQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLGFBQWEsR0FBRyxlQUFlLENBQUMsRUFDM0QsMkJBQTJCLENBQzVCLENBQUM7d0JBQ0YsMkJBQTJCLElBQUksZUFBZSxDQUFDO3dCQUMvQyxhQUFhLElBQUksZUFBZSxDQUFDOzZCQUc3QixDQUFBLHlCQUF5QixJQUFJLHlCQUF5QixLQUFLLDJCQUEyQixDQUFBLEVBQXRGLHlCQUFzRjtxREFFbEYsY0FBNEI7O29CQURsQyx1QkFBdUI7b0JBQ3ZCLGdDQUFrQzs7d0JBRGxDLHVCQUF1Qjt3QkFDdkIsU0FBa0MsQ0FBQzt3QkFDbkMsVUFBVTt3QkFDVixjQUFjLEdBQUcsSUFBSSxDQUFDO3dCQUN0Qix5QkFBeUIsR0FBRyxDQUFDLENBQUM7d0JBQzlCLDJCQUEyQixHQUFHLENBQUMsQ0FBQzs7Ozs7Ozs7S0FJdkMsQ0FBQztJQUVGO1FBQ0UsR0FBQyxNQUFNLENBQUMsYUFBYSxJQUFHLFFBQVE7V0FDaEM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldENodW5rZWRTdHJlYW0oc291cmNlOiBBc3luY0l0ZXJhYmxlPFVpbnQ4QXJyYXk+KTogQXN5bmNJdGVyYWJsZTxVaW50OEFycmF5PiB7XG4gIGxldCBjdXJyZW50TWVzc2FnZVRvdGFsTGVuZ3RoID0gMDtcbiAgbGV0IGN1cnJlbnRNZXNzYWdlUGVuZGluZ0xlbmd0aCA9IDA7XG4gIGxldCBjdXJyZW50TWVzc2FnZTogVWludDhBcnJheSB8IG51bGwgPSBudWxsO1xuICBsZXQgbWVzc2FnZUxlbmd0aEJ1ZmZlcjogVWludDhBcnJheSB8IG51bGwgPSBudWxsO1xuICBjb25zdCBhbGxvY2F0ZU1lc3NhZ2UgPSAoc2l6ZTogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzaXplICE9PSBcIm51bWJlclwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gYWxsb2NhdGUgYW4gZXZlbnQgbWVzc2FnZSB3aGVyZSBzaXplIHdhcyBub3QgYSBudW1iZXI6IFwiICsgc2l6ZSk7XG4gICAgfVxuICAgIGN1cnJlbnRNZXNzYWdlVG90YWxMZW5ndGggPSBzaXplO1xuICAgIGN1cnJlbnRNZXNzYWdlUGVuZGluZ0xlbmd0aCA9IDQ7XG4gICAgY3VycmVudE1lc3NhZ2UgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICBjb25zdCBjdXJyZW50TWVzc2FnZVZpZXcgPSBuZXcgRGF0YVZpZXcoY3VycmVudE1lc3NhZ2UuYnVmZmVyKTtcbiAgICBjdXJyZW50TWVzc2FnZVZpZXcuc2V0VWludDMyKDAsIHNpemUsIGZhbHNlKTsgLy9zZXQgYmlnLWVuZGlhbiBVaW50MzIgdG8gMH4zIGJ5dGVzXG4gIH07XG5cbiAgY29uc3QgaXRlcmF0b3IgPSBhc3luYyBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHNvdXJjZUl0ZXJhdG9yID0gc291cmNlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBzb3VyY2VJdGVyYXRvci5uZXh0KCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBpZiAoIWN1cnJlbnRNZXNzYWdlVG90YWxMZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudE1lc3NhZ2VUb3RhbExlbmd0aCA9PT0gY3VycmVudE1lc3NhZ2VQZW5kaW5nTGVuZ3RoKSB7XG4gICAgICAgICAgeWllbGQgY3VycmVudE1lc3NhZ2UgYXMgVWludDhBcnJheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcnVuY2F0ZWQgZXZlbnQgbWVzc2FnZSByZWNlaXZlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjaHVua0xlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgIGxldCBjdXJyZW50T2Zmc2V0ID0gMDtcblxuICAgICAgd2hpbGUgKGN1cnJlbnRPZmZzZXQgPCBjaHVua0xlbmd0aCkge1xuICAgICAgICAvLyBjcmVhdGUgbmV3IG1lc3NhZ2UgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGlmICghY3VycmVudE1lc3NhZ2UpIHtcbiAgICAgICAgICAvLyB3b3JraW5nIG9uIGEgbmV3IG1lc3NhZ2UsIGRldGVybWluZSB0b3RhbCBsZW5ndGhcbiAgICAgICAgICBjb25zdCBieXRlc1JlbWFpbmluZyA9IGNodW5rTGVuZ3RoIC0gY3VycmVudE9mZnNldDtcbiAgICAgICAgICAvLyBwcmV2ZW50IGVkZ2UgY2FzZSB3aGVyZSB0b3RhbCBsZW5ndGggc3BhbnMgMiBjaHVua3NcbiAgICAgICAgICBpZiAoIW1lc3NhZ2VMZW5ndGhCdWZmZXIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VMZW5ndGhCdWZmZXIgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbnVtQnl0ZXNGb3JUb3RhbCA9IE1hdGgubWluKFxuICAgICAgICAgICAgNCAtIGN1cnJlbnRNZXNzYWdlUGVuZGluZ0xlbmd0aCwgLy8gcmVtYWluaW5nIGJ5dGVzIHRvIGZpbGwgdGhlIG1lc3NhZ2VMZW5ndGhCdWZmZXJcbiAgICAgICAgICAgIGJ5dGVzUmVtYWluaW5nIC8vIGJ5dGVzIGxlZnQgaW4gY2h1bmtcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgbWVzc2FnZUxlbmd0aEJ1ZmZlci5zZXQoXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIGVycm9yIFRTMjUzMjogT2JqZWN0IGlzIHBvc3NpYmx5ICd1bmRlZmluZWQnIGZvciB2YWx1ZVxuICAgICAgICAgICAgdmFsdWUuc2xpY2UoY3VycmVudE9mZnNldCwgY3VycmVudE9mZnNldCArIG51bUJ5dGVzRm9yVG90YWwpLFxuICAgICAgICAgICAgY3VycmVudE1lc3NhZ2VQZW5kaW5nTGVuZ3RoXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGN1cnJlbnRNZXNzYWdlUGVuZGluZ0xlbmd0aCArPSBudW1CeXRlc0ZvclRvdGFsO1xuICAgICAgICAgIGN1cnJlbnRPZmZzZXQgKz0gbnVtQnl0ZXNGb3JUb3RhbDtcblxuICAgICAgICAgIGlmIChjdXJyZW50TWVzc2FnZVBlbmRpbmdMZW5ndGggPCA0KSB7XG4gICAgICAgICAgICAvLyBub3QgZW5vdWdoIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGUgY3VycmVudCBtZXNzYWdlXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgYWxsb2NhdGVNZXNzYWdlKG5ldyBEYXRhVmlldyhtZXNzYWdlTGVuZ3RoQnVmZmVyLmJ1ZmZlcikuZ2V0VWludDMyKDAsIGZhbHNlKSk7XG4gICAgICAgICAgbWVzc2FnZUxlbmd0aEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3cml0ZSBkYXRhIGludG8gY3VycmVudCBtZXNzYWdlXG4gICAgICAgIGNvbnN0IG51bUJ5dGVzVG9Xcml0ZSA9IE1hdGgubWluKFxuICAgICAgICAgIGN1cnJlbnRNZXNzYWdlVG90YWxMZW5ndGggLSBjdXJyZW50TWVzc2FnZVBlbmRpbmdMZW5ndGgsIC8vIG51bWJlciBvZiBieXRlcyBsZWZ0IHRvIGNvbXBsZXRlIG1lc3NhZ2VcbiAgICAgICAgICBjaHVua0xlbmd0aCAtIGN1cnJlbnRPZmZzZXQgLy8gbnVtYmVyIG9mIGJ5dGVzIGxlZnQgaW4gdGhlIG9yaWdpbmFsIGNodW5rXG4gICAgICAgICk7XG4gICAgICAgIGN1cnJlbnRNZXNzYWdlIS5zZXQoXG4gICAgICAgICAgLy8gQHRzLWlnbm9yZSBlcnJvciBUUzI1MzI6IE9iamVjdCBpcyBwb3NzaWJseSAndW5kZWZpbmVkJyBmb3IgdmFsdWVcbiAgICAgICAgICB2YWx1ZS5zbGljZShjdXJyZW50T2Zmc2V0LCBjdXJyZW50T2Zmc2V0ICsgbnVtQnl0ZXNUb1dyaXRlKSxcbiAgICAgICAgICBjdXJyZW50TWVzc2FnZVBlbmRpbmdMZW5ndGhcbiAgICAgICAgKTtcbiAgICAgICAgY3VycmVudE1lc3NhZ2VQZW5kaW5nTGVuZ3RoICs9IG51bUJ5dGVzVG9Xcml0ZTtcbiAgICAgICAgY3VycmVudE9mZnNldCArPSBudW1CeXRlc1RvV3JpdGU7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgYSBtZXNzYWdlIGlzIHJlYWR5IHRvIGJlIHB1c2hlZFxuICAgICAgICBpZiAoY3VycmVudE1lc3NhZ2VUb3RhbExlbmd0aCAmJiBjdXJyZW50TWVzc2FnZVRvdGFsTGVuZ3RoID09PSBjdXJyZW50TWVzc2FnZVBlbmRpbmdMZW5ndGgpIHtcbiAgICAgICAgICAvLyBwdXNoIG91dCB0aGUgbWVzc2FnZVxuICAgICAgICAgIHlpZWxkIGN1cnJlbnRNZXNzYWdlIGFzIFVpbnQ4QXJyYXk7XG4gICAgICAgICAgLy8gY2xlYW51cFxuICAgICAgICAgIGN1cnJlbnRNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICBjdXJyZW50TWVzc2FnZVRvdGFsTGVuZ3RoID0gMDtcbiAgICAgICAgICBjdXJyZW50TWVzc2FnZVBlbmRpbmdMZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogaXRlcmF0b3IsXG4gIH07XG59XG4iXX0=","import { __asyncGenerator, __asyncValues, __await, __generator } from \"tslib\";\nexport function getUnmarshalledStream(source, options) {\n    var _a;\n    return _a = {},\n        _a[Symbol.asyncIterator] = function () {\n            return __asyncGenerator(this, arguments, function () {\n                var source_1, source_1_1, chunk, message, messageType, unmodeledError, code, exception, deserializedException, error, event, deserialized, e_1_1;\n                var _a, _b;\n                var e_1, _c;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0:\n                            _d.trys.push([0, 12, 13, 18]);\n                            source_1 = __asyncValues(source);\n                            _d.label = 1;\n                        case 1: return [4 /*yield*/, __await(source_1.next())];\n                        case 2:\n                            if (!(source_1_1 = _d.sent(), !source_1_1.done)) return [3 /*break*/, 11];\n                            chunk = source_1_1.value;\n                            message = options.eventMarshaller.unmarshall(chunk);\n                            messageType = message.headers[\":message-type\"].value;\n                            if (!(messageType === \"error\")) return [3 /*break*/, 3];\n                            unmodeledError = new Error(message.headers[\":error-message\"].value || \"UnknownError\");\n                            unmodeledError.name = message.headers[\":error-code\"].value;\n                            throw unmodeledError;\n                        case 3:\n                            if (!(messageType === \"exception\")) return [3 /*break*/, 5];\n                            code = message.headers[\":exception-type\"].value;\n                            exception = (_a = {}, _a[code] = message, _a);\n                            return [4 /*yield*/, __await(options.deserializer(exception))];\n                        case 4:\n                            deserializedException = _d.sent();\n                            if (deserializedException.$unknown) {\n                                error = new Error(options.toUtf8(message.body));\n                                error.name = code;\n                                throw error;\n                            }\n                            throw deserializedException[code];\n                        case 5:\n                            if (!(messageType === \"event\")) return [3 /*break*/, 9];\n                            event = (_b = {},\n                                _b[message.headers[\":event-type\"].value] = message,\n                                _b);\n                            return [4 /*yield*/, __await(options.deserializer(event))];\n                        case 6:\n                            deserialized = _d.sent();\n                            if (deserialized.$unknown)\n                                return [3 /*break*/, 10];\n                            return [4 /*yield*/, __await(deserialized)];\n                        case 7: return [4 /*yield*/, _d.sent()];\n                        case 8:\n                            _d.sent();\n                            return [3 /*break*/, 10];\n                        case 9: throw Error(\"Unrecognizable event type: \" + message.headers[\":event-type\"].value);\n                        case 10: return [3 /*break*/, 1];\n                        case 11: return [3 /*break*/, 18];\n                        case 12:\n                            e_1_1 = _d.sent();\n                            e_1 = { error: e_1_1 };\n                            return [3 /*break*/, 18];\n                        case 13:\n                            _d.trys.push([13, , 16, 17]);\n                            if (!(source_1_1 && !source_1_1.done && (_c = source_1.return))) return [3 /*break*/, 15];\n                            return [4 /*yield*/, __await(_c.call(source_1))];\n                        case 14:\n                            _d.sent();\n                            _d.label = 15;\n                        case 15: return [3 /*break*/, 17];\n                        case 16:\n                            if (e_1) throw e_1.error;\n                            return [7 /*endfinally*/];\n                        case 17: return [7 /*endfinally*/];\n                        case 18: return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        _a;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0VW5tYXJzaGFsbGVkU3RyZWFtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dldFVubWFyc2hhbGxlZFN0cmVhbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBU0EsTUFBTSxVQUFVLHFCQUFxQixDQUNuQyxNQUFpQyxFQUNqQyxPQUFxQzs7SUFFckM7UUFDRSxHQUFDLE1BQU0sQ0FBQyxhQUFhLElBQUc7Ozs7Ozs7Ozs0QkFDSSxXQUFBLGNBQUEsTUFBTSxDQUFBOzs7Ozs0QkFBZixLQUFLLG1CQUFBLENBQUE7NEJBQ2QsT0FBTyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDOzRCQUMzQyxXQUFXLEdBQUssT0FBTyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsTUFBckMsQ0FBc0M7aUNBQzVELENBQUEsV0FBVyxLQUFLLE9BQU8sQ0FBQSxFQUF2Qix3QkFBdUI7NEJBRW5CLGNBQWMsR0FBRyxJQUFJLEtBQUssQ0FBRSxPQUFPLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBZ0IsSUFBSSxjQUFjLENBQUMsQ0FBQzs0QkFDeEcsY0FBYyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEtBQWUsQ0FBQzs0QkFDckUsTUFBTSxjQUFjLENBQUM7O2lDQUNaLENBQUEsV0FBVyxLQUFLLFdBQVcsQ0FBQSxFQUEzQix3QkFBMkI7NEJBRTlCLElBQUksR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBZSxDQUFDOzRCQUMxRCxTQUFTLGFBQUssR0FBQyxJQUFJLElBQUcsT0FBTyxLQUFFLENBQUM7NEJBRVIsNkJBQU0sT0FBTyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBQTs7NEJBQTdELHFCQUFxQixHQUFHLFNBQXFDOzRCQUNuRSxJQUFJLHFCQUFxQixDQUFDLFFBQVEsRUFBRTtnQ0FFNUIsS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7Z0NBQ3RELEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2dDQUNsQixNQUFNLEtBQUssQ0FBQzs2QkFDYjs0QkFDRCxNQUFNLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFDOztpQ0FDekIsQ0FBQSxXQUFXLEtBQUssT0FBTyxDQUFBLEVBQXZCLHdCQUF1Qjs0QkFDMUIsS0FBSztnQ0FDVCxHQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsS0FBZSxJQUFHLE9BQU87bUNBQzFELENBQUM7NEJBQ21CLDZCQUFNLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUE7OzRCQUFoRCxZQUFZLEdBQUcsU0FBaUM7NEJBQ3RELElBQUksWUFBWSxDQUFDLFFBQVE7Z0NBQUUseUJBQVM7eURBQzlCLFlBQVk7Z0NBQWxCLGdDQUFrQjs7NEJBQWxCLFNBQWtCLENBQUM7O2dDQUVuQixNQUFNLEtBQUssQ0FBQyxnQ0FBOEIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxLQUFPLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7U0FHdkY7V0FDRDtBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudFN0cmVhbU1hcnNoYWxsZXIgYXMgRXZlbnRNYXJzaGFsbGVyIH0gZnJvbSBcIkBhd3Mtc2RrL2V2ZW50c3RyZWFtLW1hcnNoYWxsZXJcIjtcbmltcG9ydCB7IEVuY29kZXIsIE1lc3NhZ2UgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IHR5cGUgVW5tYXJzaGFsbGVkU3RyZWFtT3B0aW9uczxUPiA9IHtcbiAgZXZlbnRNYXJzaGFsbGVyOiBFdmVudE1hcnNoYWxsZXI7XG4gIGRlc2VyaWFsaXplcjogKGlucHV0OiB7IFtuYW1lOiBzdHJpbmddOiBNZXNzYWdlIH0pID0+IFByb21pc2U8VD47XG4gIHRvVXRmODogRW5jb2Rlcjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVbm1hcnNoYWxsZWRTdHJlYW08VCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogYW55IH0+KFxuICBzb3VyY2U6IEFzeW5jSXRlcmFibGU8VWludDhBcnJheT4sXG4gIG9wdGlvbnM6IFVubWFyc2hhbGxlZFN0cmVhbU9wdGlvbnM8VD5cbik6IEFzeW5jSXRlcmFibGU8VD4ge1xuICByZXR1cm4ge1xuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl06IGFzeW5jIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHNvdXJjZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gb3B0aW9ucy5ldmVudE1hcnNoYWxsZXIudW5tYXJzaGFsbChjaHVuayk7XG4gICAgICAgIGNvbnN0IHsgdmFsdWU6IG1lc3NhZ2VUeXBlIH0gPSBtZXNzYWdlLmhlYWRlcnNbXCI6bWVzc2FnZS10eXBlXCJdO1xuICAgICAgICBpZiAobWVzc2FnZVR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgIC8vIFVubW9kZWxlZCBleGNlcHRpb24gaW4gZXZlbnRcbiAgICAgICAgICBjb25zdCB1bm1vZGVsZWRFcnJvciA9IG5ldyBFcnJvcigobWVzc2FnZS5oZWFkZXJzW1wiOmVycm9yLW1lc3NhZ2VcIl0udmFsdWUgYXMgc3RyaW5nKSB8fCBcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgICB1bm1vZGVsZWRFcnJvci5uYW1lID0gbWVzc2FnZS5oZWFkZXJzW1wiOmVycm9yLWNvZGVcIl0udmFsdWUgYXMgc3RyaW5nO1xuICAgICAgICAgIHRocm93IHVubW9kZWxlZEVycm9yO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VUeXBlID09PSBcImV4Y2VwdGlvblwiKSB7XG4gICAgICAgICAgLy8gRm9yIG1vZGVsZWQgZXhjZXB0aW9uLCBwdXNoIGl0IHRvIGRlc2VyaWFsaXplciBhbmQgdGhyb3cgYWZ0ZXIgZGVzZXJpYWxpemluZ1xuICAgICAgICAgIGNvbnN0IGNvZGUgPSBtZXNzYWdlLmhlYWRlcnNbXCI6ZXhjZXB0aW9uLXR5cGVcIl0udmFsdWUgYXMgc3RyaW5nO1xuICAgICAgICAgIGNvbnN0IGV4Y2VwdGlvbiA9IHsgW2NvZGVdOiBtZXNzYWdlIH07XG4gICAgICAgICAgLy8gR2V0IHBhcnNlZCBleGNlcHRpb24gZXZlbnQgaW4ga2V5KGVycm9yIGNvZGUpIHZhbHVlKHN0cnVjdHVyZWQgZXJyb3IpIHBhaXIuXG4gICAgICAgICAgY29uc3QgZGVzZXJpYWxpemVkRXhjZXB0aW9uID0gYXdhaXQgb3B0aW9ucy5kZXNlcmlhbGl6ZXIoZXhjZXB0aW9uKTtcbiAgICAgICAgICBpZiAoZGVzZXJpYWxpemVkRXhjZXB0aW9uLiR1bmtub3duKSB7XG4gICAgICAgICAgICAvL3RoaXMgaXMgYW4gdW5tb2RlbGVkIGV4Y2VwdGlvbiB0aGVuIHRyeSBwYXJzaW5nIGl0IHdpdGggYmVzdCBlZmZvcnRcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG9wdGlvbnMudG9VdGY4KG1lc3NhZ2UuYm9keSkpO1xuICAgICAgICAgICAgZXJyb3IubmFtZSA9IGNvZGU7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZGVzZXJpYWxpemVkRXhjZXB0aW9uW2NvZGVdO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VUeXBlID09PSBcImV2ZW50XCIpIHtcbiAgICAgICAgICBjb25zdCBldmVudCA9IHtcbiAgICAgICAgICAgIFttZXNzYWdlLmhlYWRlcnNbXCI6ZXZlbnQtdHlwZVwiXS52YWx1ZSBhcyBzdHJpbmddOiBtZXNzYWdlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgZGVzZXJpYWxpemVkID0gYXdhaXQgb3B0aW9ucy5kZXNlcmlhbGl6ZXIoZXZlbnQpO1xuICAgICAgICAgIGlmIChkZXNlcmlhbGl6ZWQuJHVua25vd24pIGNvbnRpbnVlO1xuICAgICAgICAgIHlpZWxkIGRlc2VyaWFsaXplZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihgVW5yZWNvZ25pemFibGUgZXZlbnQgdHlwZTogJHttZXNzYWdlLmhlYWRlcnNbXCI6ZXZlbnQtdHlwZVwiXS52YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH07XG59XG4iXX0=","import { EventStreamMarshaller as EventMarshaller } from \"@aws-sdk/eventstream-marshaller\";\nimport { EventStreamMarshaller as UniversalEventStreamMarshaller } from \"@aws-sdk/eventstream-serde-universal\";\nimport { iterableToReadableStream, readableStreamtoIterable } from \"./utils\";\n/**\n * Utility class used to serialize and deserialize event streams in\n * browsers and ReactNative.\n *\n * In browsers where ReadableStream API is available:\n * * deserialize from ReadableStream to an async iterable of output structure\n * * serialize from async iterable of input structure to ReadableStream\n * In ReactNative where only async iterable API is available:\n * * deserialize from async iterable of binaries to async iterable of output structure\n * * serialize from async iterable of input structure to async iterable of binaries\n *\n * We use ReadableStream API in browsers because of the consistency with other\n * streaming operations, where ReadableStream API is used to denote streaming data.\n * Whereas in ReactNative, ReadableStream API is not available, we use async iterable\n * for streaming data although it has lower throughput.\n */\nvar EventStreamMarshaller = /** @class */ (function () {\n    function EventStreamMarshaller(_a) {\n        var utf8Encoder = _a.utf8Encoder, utf8Decoder = _a.utf8Decoder;\n        this.eventMarshaller = new EventMarshaller(utf8Encoder, utf8Decoder);\n        this.universalMarshaller = new UniversalEventStreamMarshaller({\n            utf8Decoder: utf8Decoder,\n            utf8Encoder: utf8Encoder,\n        });\n    }\n    EventStreamMarshaller.prototype.deserialize = function (body, deserializer) {\n        var bodyIterable = isReadableStream(body) ? readableStreamtoIterable(body) : body;\n        return this.universalMarshaller.deserialize(bodyIterable, deserializer);\n    };\n    /**\n     * Generate a stream that serialize events into stream of binary chunks;\n     *\n     * Caveat is that streaming request payload doesn't work on browser with native\n     * xhr or fetch handler currently because they don't support upload streaming.\n     * reference:\n     * * https://bugs.chromium.org/p/chromium/issues/detail?id=688906\n     * * https://bugzilla.mozilla.org/show_bug.cgi?id=1387483\n     *\n     */\n    EventStreamMarshaller.prototype.serialize = function (input, serializer) {\n        var serialziedIterable = this.universalMarshaller.serialize(input, serializer);\n        return typeof ReadableStream === \"function\" ? iterableToReadableStream(serialziedIterable) : serialziedIterable;\n    };\n    return EventStreamMarshaller;\n}());\nexport { EventStreamMarshaller };\nvar isReadableStream = function (body) {\n    return typeof ReadableStream === \"function\" && body instanceof ReadableStream;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXZlbnRTdHJlYW1NYXJzaGFsbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0V2ZW50U3RyZWFtTWFyc2hhbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUscUJBQXFCLElBQUksZUFBZSxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDM0YsT0FBTyxFQUFFLHFCQUFxQixJQUFJLDhCQUE4QixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFHL0csT0FBTyxFQUFFLHdCQUF3QixFQUFFLHdCQUF3QixFQUFFLE1BQU0sU0FBUyxDQUFDO0FBUzdFOzs7Ozs7Ozs7Ozs7Ozs7R0FlRztBQUNIO0lBR0UsK0JBQVksRUFBMEQ7WUFBeEQsV0FBVyxpQkFBQSxFQUFFLFdBQVcsaUJBQUE7UUFDcEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksOEJBQThCLENBQUM7WUFDNUQsV0FBVyxhQUFBO1lBQ1gsV0FBVyxhQUFBO1NBQ1osQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELDJDQUFXLEdBQVgsVUFDRSxJQUE0RCxFQUM1RCxZQUFpRTtRQUVqRSxJQUFNLFlBQVksR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsd0JBQXdCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNwRixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzFFLENBQUM7SUFFRDs7Ozs7Ozs7O09BU0c7SUFDSCx5Q0FBUyxHQUFULFVBQWEsS0FBdUIsRUFBRSxVQUFpQztRQUNyRSxJQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ2pGLE9BQU8sT0FBTyxjQUFjLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyx3QkFBd0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztJQUNsSCxDQUFDO0lBQ0gsNEJBQUM7QUFBRCxDQUFDLEFBakNELElBaUNDOztBQUVELElBQU0sZ0JBQWdCLEdBQUcsVUFBQyxJQUFTO0lBQ2pDLE9BQUEsT0FBTyxjQUFjLEtBQUssVUFBVSxJQUFJLElBQUksWUFBWSxjQUFjO0FBQXRFLENBQXNFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudFN0cmVhbU1hcnNoYWxsZXIgYXMgRXZlbnRNYXJzaGFsbGVyIH0gZnJvbSBcIkBhd3Mtc2RrL2V2ZW50c3RyZWFtLW1hcnNoYWxsZXJcIjtcbmltcG9ydCB7IEV2ZW50U3RyZWFtTWFyc2hhbGxlciBhcyBVbml2ZXJzYWxFdmVudFN0cmVhbU1hcnNoYWxsZXIgfSBmcm9tIFwiQGF3cy1zZGsvZXZlbnRzdHJlYW0tc2VyZGUtdW5pdmVyc2FsXCI7XG5pbXBvcnQgeyBEZWNvZGVyLCBFbmNvZGVyLCBFdmVudFN0cmVhbU1hcnNoYWxsZXIgYXMgSUV2ZW50U3RyZWFtTWFyc2hhbGxlciwgTWVzc2FnZSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBpdGVyYWJsZVRvUmVhZGFibGVTdHJlYW0sIHJlYWRhYmxlU3RyZWFtdG9JdGVyYWJsZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRTdHJlYW1NYXJzaGFsbGVyIGV4dGVuZHMgSUV2ZW50U3RyZWFtTWFyc2hhbGxlciB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50U3RyZWFtTWFyc2hhbGxlck9wdGlvbnMge1xuICB1dGY4RW5jb2RlcjogRW5jb2RlcjtcbiAgdXRmOERlY29kZXI6IERlY29kZXI7XG59XG5cbi8qKlxuICogVXRpbGl0eSBjbGFzcyB1c2VkIHRvIHNlcmlhbGl6ZSBhbmQgZGVzZXJpYWxpemUgZXZlbnQgc3RyZWFtcyBpblxuICogYnJvd3NlcnMgYW5kIFJlYWN0TmF0aXZlLlxuICpcbiAqIEluIGJyb3dzZXJzIHdoZXJlIFJlYWRhYmxlU3RyZWFtIEFQSSBpcyBhdmFpbGFibGU6XG4gKiAqIGRlc2VyaWFsaXplIGZyb20gUmVhZGFibGVTdHJlYW0gdG8gYW4gYXN5bmMgaXRlcmFibGUgb2Ygb3V0cHV0IHN0cnVjdHVyZVxuICogKiBzZXJpYWxpemUgZnJvbSBhc3luYyBpdGVyYWJsZSBvZiBpbnB1dCBzdHJ1Y3R1cmUgdG8gUmVhZGFibGVTdHJlYW1cbiAqIEluIFJlYWN0TmF0aXZlIHdoZXJlIG9ubHkgYXN5bmMgaXRlcmFibGUgQVBJIGlzIGF2YWlsYWJsZTpcbiAqICogZGVzZXJpYWxpemUgZnJvbSBhc3luYyBpdGVyYWJsZSBvZiBiaW5hcmllcyB0byBhc3luYyBpdGVyYWJsZSBvZiBvdXRwdXQgc3RydWN0dXJlXG4gKiAqIHNlcmlhbGl6ZSBmcm9tIGFzeW5jIGl0ZXJhYmxlIG9mIGlucHV0IHN0cnVjdHVyZSB0byBhc3luYyBpdGVyYWJsZSBvZiBiaW5hcmllc1xuICpcbiAqIFdlIHVzZSBSZWFkYWJsZVN0cmVhbSBBUEkgaW4gYnJvd3NlcnMgYmVjYXVzZSBvZiB0aGUgY29uc2lzdGVuY3kgd2l0aCBvdGhlclxuICogc3RyZWFtaW5nIG9wZXJhdGlvbnMsIHdoZXJlIFJlYWRhYmxlU3RyZWFtIEFQSSBpcyB1c2VkIHRvIGRlbm90ZSBzdHJlYW1pbmcgZGF0YS5cbiAqIFdoZXJlYXMgaW4gUmVhY3ROYXRpdmUsIFJlYWRhYmxlU3RyZWFtIEFQSSBpcyBub3QgYXZhaWxhYmxlLCB3ZSB1c2UgYXN5bmMgaXRlcmFibGVcbiAqIGZvciBzdHJlYW1pbmcgZGF0YSBhbHRob3VnaCBpdCBoYXMgbG93ZXIgdGhyb3VnaHB1dC5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50U3RyZWFtTWFyc2hhbGxlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZXZlbnRNYXJzaGFsbGVyOiBFdmVudE1hcnNoYWxsZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgdW5pdmVyc2FsTWFyc2hhbGxlcjogVW5pdmVyc2FsRXZlbnRTdHJlYW1NYXJzaGFsbGVyO1xuICBjb25zdHJ1Y3Rvcih7IHV0ZjhFbmNvZGVyLCB1dGY4RGVjb2RlciB9OiBFdmVudFN0cmVhbU1hcnNoYWxsZXJPcHRpb25zKSB7XG4gICAgdGhpcy5ldmVudE1hcnNoYWxsZXIgPSBuZXcgRXZlbnRNYXJzaGFsbGVyKHV0ZjhFbmNvZGVyLCB1dGY4RGVjb2Rlcik7XG4gICAgdGhpcy51bml2ZXJzYWxNYXJzaGFsbGVyID0gbmV3IFVuaXZlcnNhbEV2ZW50U3RyZWFtTWFyc2hhbGxlcih7XG4gICAgICB1dGY4RGVjb2RlcixcbiAgICAgIHV0ZjhFbmNvZGVyLFxuICAgIH0pO1xuICB9XG5cbiAgZGVzZXJpYWxpemU8VD4oXG4gICAgYm9keTogUmVhZGFibGVTdHJlYW08VWludDhBcnJheT4gfCBBc3luY0l0ZXJhYmxlPFVpbnQ4QXJyYXk+LFxuICAgIGRlc2VyaWFsaXplcjogKGlucHV0OiB7IFtldmVudDogc3RyaW5nXTogTWVzc2FnZSB9KSA9PiBQcm9taXNlPFQ+XG4gICk6IEFzeW5jSXRlcmFibGU8VD4ge1xuICAgIGNvbnN0IGJvZHlJdGVyYWJsZSA9IGlzUmVhZGFibGVTdHJlYW0oYm9keSkgPyByZWFkYWJsZVN0cmVhbXRvSXRlcmFibGUoYm9keSkgOiBib2R5O1xuICAgIHJldHVybiB0aGlzLnVuaXZlcnNhbE1hcnNoYWxsZXIuZGVzZXJpYWxpemUoYm9keUl0ZXJhYmxlLCBkZXNlcmlhbGl6ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgc3RyZWFtIHRoYXQgc2VyaWFsaXplIGV2ZW50cyBpbnRvIHN0cmVhbSBvZiBiaW5hcnkgY2h1bmtzO1xuICAgKlxuICAgKiBDYXZlYXQgaXMgdGhhdCBzdHJlYW1pbmcgcmVxdWVzdCBwYXlsb2FkIGRvZXNuJ3Qgd29yayBvbiBicm93c2VyIHdpdGggbmF0aXZlXG4gICAqIHhociBvciBmZXRjaCBoYW5kbGVyIGN1cnJlbnRseSBiZWNhdXNlIHRoZXkgZG9uJ3Qgc3VwcG9ydCB1cGxvYWQgc3RyZWFtaW5nLlxuICAgKiByZWZlcmVuY2U6XG4gICAqICogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Njg4OTA2XG4gICAqICogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM4NzQ4M1xuICAgKlxuICAgKi9cbiAgc2VyaWFsaXplPFQ+KGlucHV0OiBBc3luY0l0ZXJhYmxlPFQ+LCBzZXJpYWxpemVyOiAoZXZlbnQ6IFQpID0+IE1lc3NhZ2UpOiBSZWFkYWJsZVN0cmVhbSB8IEFzeW5jSXRlcmFibGU8VWludDhBcnJheT4ge1xuICAgIGNvbnN0IHNlcmlhbHppZWRJdGVyYWJsZSA9IHRoaXMudW5pdmVyc2FsTWFyc2hhbGxlci5zZXJpYWxpemUoaW5wdXQsIHNlcmlhbGl6ZXIpO1xuICAgIHJldHVybiB0eXBlb2YgUmVhZGFibGVTdHJlYW0gPT09IFwiZnVuY3Rpb25cIiA/IGl0ZXJhYmxlVG9SZWFkYWJsZVN0cmVhbShzZXJpYWx6aWVkSXRlcmFibGUpIDogc2VyaWFsemllZEl0ZXJhYmxlO1xuICB9XG59XG5cbmNvbnN0IGlzUmVhZGFibGVTdHJlYW0gPSAoYm9keTogYW55KTogYm9keSBpcyBSZWFkYWJsZVN0cmVhbSA9PlxuICB0eXBlb2YgUmVhZGFibGVTdHJlYW0gPT09IFwiZnVuY3Rpb25cIiAmJiBib2R5IGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW07XG4iXX0=","import { __asyncGenerator, __await, __awaiter, __generator } from \"tslib\";\n/**\n * A util function converting ReadableStream into an async iterable.\n * Reference: https://jakearchibald.com/2017/async-iterators-and-generators/#making-streams-iterate\n */\nexport var readableStreamtoIterable = function (readableStream) {\n    var _a;\n    return (_a = {},\n        _a[Symbol.asyncIterator] = function () {\n            return __asyncGenerator(this, arguments, function () {\n                var reader, _a, done, value;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            reader = readableStream.getReader();\n                            _b.label = 1;\n                        case 1:\n                            _b.trys.push([1, , 9, 10]);\n                            _b.label = 2;\n                        case 2:\n                            if (!true) return [3 /*break*/, 8];\n                            return [4 /*yield*/, __await(reader.read())];\n                        case 3:\n                            _a = _b.sent(), done = _a.done, value = _a.value;\n                            if (!done) return [3 /*break*/, 5];\n                            return [4 /*yield*/, __await(void 0)];\n                        case 4: return [2 /*return*/, _b.sent()];\n                        case 5: return [4 /*yield*/, __await(value)];\n                        case 6: return [4 /*yield*/, _b.sent()];\n                        case 7:\n                            _b.sent();\n                            return [3 /*break*/, 2];\n                        case 8: return [3 /*break*/, 10];\n                        case 9:\n                            reader.releaseLock();\n                            return [7 /*endfinally*/];\n                        case 10: return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        _a);\n};\n/**\n * A util function converting async iterable to a ReadableStream.\n */\nexport var iterableToReadableStream = function (asyncIterable) {\n    var iterator = asyncIterable[Symbol.asyncIterator]();\n    return new ReadableStream({\n        pull: function (controller) {\n            return __awaiter(this, void 0, void 0, function () {\n                var _a, done, value;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0: return [4 /*yield*/, iterator.next()];\n                        case 1:\n                            _a = _b.sent(), done = _a.done, value = _a.value;\n                            if (done) {\n                                return [2 /*return*/, controller.close()];\n                            }\n                            controller.enqueue(value);\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxJQUFNLHdCQUF3QixHQUFHLFVBQUksY0FBaUM7O0lBQXVCLE9BQUE7UUFDbEcsR0FBQyxNQUFNLENBQUMsYUFBYSxJQUFHOzs7Ozs7NEJBQ2hCLE1BQU0sR0FBRyxjQUFjLENBQUMsU0FBUyxFQUFFLENBQUM7Ozs7OztpQ0FFakMsSUFBSTs0QkFDZSw2QkFBTSxNQUFNLENBQUMsSUFBSSxFQUFFLEdBQUE7OzRCQUFyQyxLQUFrQixTQUFtQixFQUFuQyxJQUFJLFVBQUEsRUFBRSxLQUFLLFdBQUE7aUNBQ2YsSUFBSSxFQUFKLHdCQUFJOztnQ0FBRSxpQ0FBTzs2REFDWCxLQUFVO2dDQUFoQixnQ0FBZ0I7OzRCQUFoQixTQUFnQixDQUFDOzs7OzRCQUduQixNQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7Ozs7OztTQUV4QjtXQUNEO0FBYmtHLENBYWxHLENBQUM7QUFFSDs7R0FFRztBQUNILE1BQU0sQ0FBQyxJQUFNLHdCQUF3QixHQUFHLFVBQUksYUFBK0I7SUFDekUsSUFBTSxRQUFRLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO0lBQ3ZELE9BQU8sSUFBSSxjQUFjLENBQUM7UUFDbEIsSUFBSSxZQUFDLFVBQVU7Ozs7O2dDQUNLLHFCQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBQTs7NEJBQXZDLEtBQWtCLFNBQXFCLEVBQXJDLElBQUksVUFBQSxFQUFFLEtBQUssV0FBQTs0QkFDbkIsSUFBSSxJQUFJLEVBQUU7Z0NBQ1Isc0JBQU8sVUFBVSxDQUFDLEtBQUssRUFBRSxFQUFDOzZCQUMzQjs0QkFDRCxVQUFVLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDOzs7OztTQUMzQjtLQUNGLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSB1dGlsIGZ1bmN0aW9uIGNvbnZlcnRpbmcgUmVhZGFibGVTdHJlYW0gaW50byBhbiBhc3luYyBpdGVyYWJsZS5cbiAqIFJlZmVyZW5jZTogaHR0cHM6Ly9qYWtlYXJjaGliYWxkLmNvbS8yMDE3L2FzeW5jLWl0ZXJhdG9ycy1hbmQtZ2VuZXJhdG9ycy8jbWFraW5nLXN0cmVhbXMtaXRlcmF0ZVxuICovXG5leHBvcnQgY29uc3QgcmVhZGFibGVTdHJlYW10b0l0ZXJhYmxlID0gPFQ+KHJlYWRhYmxlU3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxUPik6IEFzeW5jSXRlcmFibGU8VD4gPT4gKHtcbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTogYXN5bmMgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCByZWFkZXIgPSByZWFkYWJsZVN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICB0cnkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICAgICAgeWllbGQgdmFsdWUgYXMgVDtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgfVxuICB9LFxufSk7XG5cbi8qKlxuICogQSB1dGlsIGZ1bmN0aW9uIGNvbnZlcnRpbmcgYXN5bmMgaXRlcmFibGUgdG8gYSBSZWFkYWJsZVN0cmVhbS5cbiAqL1xuZXhwb3J0IGNvbnN0IGl0ZXJhYmxlVG9SZWFkYWJsZVN0cmVhbSA9IDxUPihhc3luY0l0ZXJhYmxlOiBBc3luY0l0ZXJhYmxlPFQ+KTogUmVhZGFibGVTdHJlYW08VD4gPT4ge1xuICBjb25zdCBpdGVyYXRvciA9IGFzeW5jSXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgfSxcbiAgfSk7XG59O1xuIl19","export var escapeUri = function (uri) {\n    // AWS percent-encodes some extra non-standard characters in a URI\n    return encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\n};\nvar hexEncode = function (c) { return \"%\" + c.charCodeAt(0).toString(16).toUpperCase(); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLXVyaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lc2NhcGUtdXJpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxJQUFNLFNBQVMsR0FBRyxVQUFDLEdBQVc7SUFDbkMsa0VBQWtFO0lBQ2xFLE9BQUEsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUM7QUFBdEQsQ0FBc0QsQ0FBQztBQUV6RCxJQUFNLFNBQVMsR0FBRyxVQUFDLENBQVMsSUFBSyxPQUFBLE1BQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFJLEVBQWhELENBQWdELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZXNjYXBlVXJpID0gKHVyaTogc3RyaW5nKTogc3RyaW5nID0+XG4gIC8vIEFXUyBwZXJjZW50LWVuY29kZXMgc29tZSBleHRyYSBub24tc3RhbmRhcmQgY2hhcmFjdGVycyBpbiBhIFVSSVxuICBlbmNvZGVVUklDb21wb25lbnQodXJpKS5yZXBsYWNlKC9bIScoKSpdL2csIGhleEVuY29kZSk7XG5cbmNvbnN0IGhleEVuY29kZSA9IChjOiBzdHJpbmcpID0+IGAlJHtjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YDtcbiJdfQ==","var alphabetByEncoding = {};\nvar alphabetByValue = new Array(64);\nfor (var i = 0, start = \"A\".charCodeAt(0), limit = \"Z\".charCodeAt(0); i + start <= limit; i++) {\n    var char = String.fromCharCode(i + start);\n    alphabetByEncoding[char] = i;\n    alphabetByValue[i] = char;\n}\nfor (var i = 0, start = \"a\".charCodeAt(0), limit = \"z\".charCodeAt(0); i + start <= limit; i++) {\n    var char = String.fromCharCode(i + start);\n    var index = i + 26;\n    alphabetByEncoding[char] = index;\n    alphabetByValue[index] = char;\n}\nfor (var i = 0; i < 10; i++) {\n    alphabetByEncoding[i.toString(10)] = i + 52;\n    var char = i.toString(10);\n    var index = i + 52;\n    alphabetByEncoding[char] = index;\n    alphabetByValue[index] = char;\n}\nalphabetByEncoding[\"+\"] = 62;\nalphabetByValue[62] = \"+\";\nalphabetByEncoding[\"/\"] = 63;\nalphabetByValue[63] = \"/\";\nvar bitsPerLetter = 6;\nvar bitsPerByte = 8;\nvar maxLetterValue = 63;\n/**\n * Converts a base-64 encoded string to a Uint8Array of bytes.\n *\n * @param input The base-64 encoded string\n *\n * @see https://tools.ietf.org/html/rfc4648#section-4\n */\nexport function fromBase64(input) {\n    var totalByteLength = (input.length / 4) * 3;\n    if (input.substr(-2) === \"==\") {\n        totalByteLength -= 2;\n    }\n    else if (input.substr(-1) === \"=\") {\n        totalByteLength--;\n    }\n    var out = new ArrayBuffer(totalByteLength);\n    var dataView = new DataView(out);\n    for (var i = 0; i < input.length; i += 4) {\n        var bits = 0;\n        var bitLength = 0;\n        for (var j = i, limit = i + 3; j <= limit; j++) {\n            if (input[j] !== \"=\") {\n                bits |= alphabetByEncoding[input[j]] << ((limit - j) * bitsPerLetter);\n                bitLength += bitsPerLetter;\n            }\n            else {\n                bits >>= bitsPerLetter;\n            }\n        }\n        var chunkOffset = (i / 4) * 3;\n        bits >>= bitLength % bitsPerByte;\n        var byteLength = Math.floor(bitLength / bitsPerByte);\n        for (var k = 0; k < byteLength; k++) {\n            var offset = (byteLength - k - 1) * bitsPerByte;\n            dataView.setUint8(chunkOffset + k, (bits & (255 << offset)) >> offset);\n        }\n    }\n    return new Uint8Array(out);\n}\n/**\n * Converts a Uint8Array of binary data to a base-64 encoded string.\n *\n * @param input The binary data to encode\n *\n * @see https://tools.ietf.org/html/rfc4648#section-4\n */\nexport function toBase64(input) {\n    var str = \"\";\n    for (var i = 0; i < input.length; i += 3) {\n        var bits = 0;\n        var bitLength = 0;\n        for (var j = i, limit = Math.min(i + 3, input.length); j < limit; j++) {\n            bits |= input[j] << ((limit - j - 1) * bitsPerByte);\n            bitLength += bitsPerByte;\n        }\n        var bitClusterCount = Math.ceil(bitLength / bitsPerLetter);\n        bits <<= bitClusterCount * bitsPerLetter - bitLength;\n        for (var k = 1; k <= bitClusterCount; k++) {\n            var offset = (bitClusterCount - k) * bitsPerLetter;\n            str += alphabetByValue[(bits & (maxLetterValue << offset)) >> offset];\n        }\n        str += \"==\".slice(0, 4 - bitClusterCount);\n    }\n    return str;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxrQkFBa0IsR0FBOEIsRUFBRSxDQUFDO0FBQ3pELElBQU0sZUFBZSxHQUFrQixJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUVyRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxJQUFJLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUM3RixJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUM1QyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDN0IsZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztDQUMzQjtBQUVELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLElBQUksS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzdGLElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQzVDLElBQU0sS0FBSyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDckIsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQ2pDLGVBQWUsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUM7Q0FDL0I7QUFFRCxLQUFLLElBQUksQ0FB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QyxDQUFDLElBQUksR0FBRyxDQUFDLGNBQWMsSUFBSSxNQUFNLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDO1NBQ3ZFO1FBRUQsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxlQUFlLENBQUMsQ0FBQztLQUMzQztJQUVELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFscGhhYmV0QnlFbmNvZGluZzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuY29uc3QgYWxwaGFiZXRCeVZhbHVlOiBBcnJheTxzdHJpbmc+ID0gbmV3IEFycmF5KDY0KTtcblxuZm9yIChsZXQgaSA9IDAsIHN0YXJ0ID0gXCJBXCIuY2hhckNvZGVBdCgwKSwgbGltaXQgPSBcIlpcIi5jaGFyQ29kZUF0KDApOyBpICsgc3RhcnQgPD0gbGltaXQ7IGkrKykge1xuICBjb25zdCBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShpICsgc3RhcnQpO1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbY2hhcl0gPSBpO1xuICBhbHBoYWJldEJ5VmFsdWVbaV0gPSBjaGFyO1xufVxuXG5mb3IgKGxldCBpID0gMCwgc3RhcnQgPSBcImFcIi5jaGFyQ29kZUF0KDApLCBsaW1pdCA9IFwielwiLmNoYXJDb2RlQXQoMCk7IGkgKyBzdGFydCA8PSBsaW1pdDsgaSsrKSB7XG4gIGNvbnN0IGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkgKyBzdGFydCk7XG4gIGNvbnN0IGluZGV4ID0gaSArIDI2O1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbY2hhcl0gPSBpbmRleDtcbiAgYWxwaGFiZXRCeVZhbHVlW2luZGV4XSA9IGNoYXI7XG59XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbaS50b1N0cmluZygxMCldID0gaSArIDUyO1xuICBjb25zdCBjaGFyID0gaS50b1N0cmluZygxMCk7XG4gIGNvbnN0IGluZGV4ID0gaSArIDUyO1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbY2hhcl0gPSBpbmRleDtcbiAgYWxwaGFiZXRCeVZhbHVlW2luZGV4XSA9IGNoYXI7XG59XG5cbmFscGhhYmV0QnlFbmNvZGluZ1tcIitcIl0gPSA2MjtcbmFscGhhYmV0QnlWYWx1ZVs2Ml0gPSBcIitcIjtcbmFscGhhYmV0QnlFbmNvZGluZ1tcIi9cIl0gPSA2MztcbmFscGhhYmV0QnlWYWx1ZVs2M10gPSBcIi9cIjtcblxuY29uc3QgYml0c1BlckxldHRlciA9IDY7XG5jb25zdCBiaXRzUGVyQnl0ZSA9IDg7XG5jb25zdCBtYXhMZXR0ZXJWYWx1ZSA9IDBiMTExMTExO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgYmFzZS02NCBlbmNvZGVkIHN0cmluZyB0byBhIFVpbnQ4QXJyYXkgb2YgYnl0ZXMuXG4gKlxuICogQHBhcmFtIGlucHV0IFRoZSBiYXNlLTY0IGVuY29kZWQgc3RyaW5nXG4gKlxuICogQHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDY0OCNzZWN0aW9uLTRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21CYXNlNjQoaW5wdXQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBsZXQgdG90YWxCeXRlTGVuZ3RoID0gKGlucHV0Lmxlbmd0aCAvIDQpICogMztcbiAgaWYgKGlucHV0LnN1YnN0cigtMikgPT09IFwiPT1cIikge1xuICAgIHRvdGFsQnl0ZUxlbmd0aCAtPSAyO1xuICB9IGVsc2UgaWYgKGlucHV0LnN1YnN0cigtMSkgPT09IFwiPVwiKSB7XG4gICAgdG90YWxCeXRlTGVuZ3RoLS07XG4gIH1cbiAgY29uc3Qgb3V0ID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsQnl0ZUxlbmd0aCk7XG4gIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KG91dCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpICs9IDQpIHtcbiAgICBsZXQgYml0cyA9IDA7XG4gICAgbGV0IGJpdExlbmd0aCA9IDA7XG4gICAgZm9yIChsZXQgaiA9IGksIGxpbWl0ID0gaSArIDM7IGogPD0gbGltaXQ7IGorKykge1xuICAgICAgaWYgKGlucHV0W2pdICE9PSBcIj1cIikge1xuICAgICAgICBiaXRzIHw9IGFscGhhYmV0QnlFbmNvZGluZ1tpbnB1dFtqXV0gPDwgKChsaW1pdCAtIGopICogYml0c1BlckxldHRlcik7XG4gICAgICAgIGJpdExlbmd0aCArPSBiaXRzUGVyTGV0dGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYml0cyA+Pj0gYml0c1BlckxldHRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjaHVua09mZnNldCA9IChpIC8gNCkgKiAzO1xuICAgIGJpdHMgPj49IGJpdExlbmd0aCAlIGJpdHNQZXJCeXRlO1xuICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBNYXRoLmZsb29yKGJpdExlbmd0aCAvIGJpdHNQZXJCeXRlKTtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IGJ5dGVMZW5ndGg7IGsrKykge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gKGJ5dGVMZW5ndGggLSBrIC0gMSkgKiBiaXRzUGVyQnl0ZTtcbiAgICAgIGRhdGFWaWV3LnNldFVpbnQ4KGNodW5rT2Zmc2V0ICsgaywgKGJpdHMgJiAoMjU1IDw8IG9mZnNldCkpID4+IG9mZnNldCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG91dCk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IG9mIGJpbmFyeSBkYXRhIHRvIGEgYmFzZS02NCBlbmNvZGVkIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgVGhlIGJpbmFyeSBkYXRhIHRvIGVuY29kZVxuICpcbiAqIEBzZWUgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQ2NDgjc2VjdGlvbi00XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Jhc2U2NChpbnB1dDogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBzdHIgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSAzKSB7XG4gICAgbGV0IGJpdHMgPSAwO1xuICAgIGxldCBiaXRMZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGogPSBpLCBsaW1pdCA9IE1hdGgubWluKGkgKyAzLCBpbnB1dC5sZW5ndGgpOyBqIDwgbGltaXQ7IGorKykge1xuICAgICAgYml0cyB8PSBpbnB1dFtqXSA8PCAoKGxpbWl0IC0gaiAtIDEpICogYml0c1BlckJ5dGUpO1xuICAgICAgYml0TGVuZ3RoICs9IGJpdHNQZXJCeXRlO1xuICAgIH1cblxuICAgIGNvbnN0IGJpdENsdXN0ZXJDb3VudCA9IE1hdGguY2VpbChiaXRMZW5ndGggLyBiaXRzUGVyTGV0dGVyKTtcbiAgICBiaXRzIDw8PSBiaXRDbHVzdGVyQ291bnQgKiBiaXRzUGVyTGV0dGVyIC0gYml0TGVuZ3RoO1xuICAgIGZvciAobGV0IGsgPSAxOyBrIDw9IGJpdENsdXN0ZXJDb3VudDsgaysrKSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSAoYml0Q2x1c3RlckNvdW50IC0gaykgKiBiaXRzUGVyTGV0dGVyO1xuICAgICAgc3RyICs9IGFscGhhYmV0QnlWYWx1ZVsoYml0cyAmIChtYXhMZXR0ZXJWYWx1ZSA8PCBvZmZzZXQpKSA+PiBvZmZzZXRdO1xuICAgIH1cblxuICAgIHN0ciArPSBcIj09XCIuc2xpY2UoMCwgNCAtIGJpdENsdXN0ZXJDb3VudCk7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuIl19","import { __values } from \"tslib\";\nimport { HttpResponse } from \"@aws-sdk/protocol-http\";\nimport { buildQueryString } from \"@aws-sdk/querystring-builder\";\nimport { requestTimeout } from \"./request-timeout\";\nvar FetchHttpHandler = /** @class */ (function () {\n    function FetchHttpHandler(_a) {\n        var _b = _a === void 0 ? {} : _a, requestTimeout = _b.requestTimeout;\n        this.requestTimeout = requestTimeout;\n    }\n    FetchHttpHandler.prototype.destroy = function () {\n        // Do nothing. TLS and HTTP/2 connection pooling is handled by the browser.\n    };\n    FetchHttpHandler.prototype.handle = function (request, _a) {\n        var _b = _a === void 0 ? {} : _a, abortSignal = _b.abortSignal;\n        var requestTimeoutInMs = this.requestTimeout;\n        // if the request was already aborted, prevent doing extra work\n        if (abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.aborted) {\n            var abortError = new Error(\"Request aborted\");\n            abortError.name = \"AbortError\";\n            return Promise.reject(abortError);\n        }\n        var path = request.path;\n        if (request.query) {\n            var queryString = buildQueryString(request.query);\n            if (queryString) {\n                path += \"?\" + queryString;\n            }\n        }\n        var port = request.port, method = request.method;\n        var url = request.protocol + \"//\" + request.hostname + (port ? \":\" + port : \"\") + path;\n        // Request constructor doesn't allow GET/HEAD request with body\n        // ref: https://github.com/whatwg/fetch/issues/551\n        var body = method === \"GET\" || method === \"HEAD\" ? undefined : request.body;\n        var requestOptions = {\n            body: body,\n            headers: new Headers(request.headers),\n            method: method,\n        };\n        // some browsers support abort signal\n        if (typeof AbortController !== \"undefined\") {\n            requestOptions[\"signal\"] = abortSignal;\n        }\n        var fetchRequest = new Request(url, requestOptions);\n        var raceOfPromises = [\n            fetch(fetchRequest).then(function (response) {\n                var e_1, _a;\n                var fetchHeaders = response.headers;\n                var transformedHeaders = {};\n                try {\n                    for (var _b = __values(fetchHeaders.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var pair = _c.value;\n                        transformedHeaders[pair[0]] = pair[1];\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                var hasReadableStream = response.body !== undefined;\n                // Return the response with buffered body\n                if (!hasReadableStream) {\n                    return response.blob().then(function (body) { return ({\n                        response: new HttpResponse({\n                            headers: transformedHeaders,\n                            statusCode: response.status,\n                            body: body,\n                        }),\n                    }); });\n                }\n                // Return the response with streaming body\n                return {\n                    response: new HttpResponse({\n                        headers: transformedHeaders,\n                        statusCode: response.status,\n                        body: response.body,\n                    }),\n                };\n            }),\n            requestTimeout(requestTimeoutInMs),\n        ];\n        if (abortSignal) {\n            raceOfPromises.push(new Promise(function (resolve, reject) {\n                abortSignal.onabort = function () {\n                    var abortError = new Error(\"Request aborted\");\n                    abortError.name = \"AbortError\";\n                    reject(abortError);\n                };\n            }));\n        }\n        return Promise.race(raceOfPromises);\n    };\n    return FetchHttpHandler;\n}());\nexport { FetchHttpHandler };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmV0Y2gtaHR0cC1oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2ZldGNoLWh0dHAtaGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUE0QixZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNoRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUdoRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFlbkQ7SUFHRSwwQkFBWSxFQUFnRDtZQUFoRCxxQkFBOEMsRUFBRSxLQUFBLEVBQTlDLGNBQWMsb0JBQUE7UUFDMUIsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7SUFDdkMsQ0FBQztJQUVELGtDQUFPLEdBQVA7UUFDRSwyRUFBMkU7SUFDN0UsQ0FBQztJQUVELGlDQUFNLEdBQU4sVUFBTyxPQUFvQixFQUFFLEVBQXdDO1lBQXhDLHFCQUFzQyxFQUFFLEtBQUEsRUFBdEMsV0FBVyxpQkFBQTtRQUN4QyxJQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7UUFFL0MsK0RBQStEO1FBQy9ELElBQUksV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLE9BQU8sRUFBRTtZQUN4QixJQUFNLFVBQVUsR0FBRyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ2hELFVBQVUsQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDO1lBQy9CLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNuQztRQUVELElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDeEIsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFO1lBQ2pCLElBQU0sV0FBVyxHQUFHLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwRCxJQUFJLFdBQVcsRUFBRTtnQkFDZixJQUFJLElB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Q0FBQyxjQUFjLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQ0gsdUJBQUM7QUFBRCxDQUFDLEFBM0ZELElBMkZDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cEhhbmRsZXIsIEh0dHBSZXF1ZXN0LCBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgYnVpbGRRdWVyeVN0cmluZyB9IGZyb20gXCJAYXdzLXNkay9xdWVyeXN0cmluZy1idWlsZGVyXCI7XG5pbXBvcnQgeyBIZWFkZXJCYWcsIEh0dHBIYW5kbGVyT3B0aW9ucyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyByZXF1ZXN0VGltZW91dCB9IGZyb20gXCIuL3JlcXVlc3QtdGltZW91dFwiO1xuXG5kZWNsYXJlIGxldCBBYm9ydENvbnRyb2xsZXI6IGFueTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBodHRwIG9wdGlvbnMgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIGEgYnJvd3NlciBodHRwIGNsaWVudC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGZXRjaEh0dHBIYW5kbGVyT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhIHJlcXVlc3QgY2FuIHRha2UgYmVmb3JlIGJlaW5nIGF1dG9tYXRpY2FsbHlcbiAgICogdGVybWluYXRlZC5cbiAgICovXG4gIHJlcXVlc3RUaW1lb3V0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRmV0Y2hIdHRwSGFuZGxlciBpbXBsZW1lbnRzIEh0dHBIYW5kbGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSByZXF1ZXN0VGltZW91dD86IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih7IHJlcXVlc3RUaW1lb3V0IH06IEZldGNoSHR0cEhhbmRsZXJPcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XG4gIH1cblxuICBkZXN0cm95KCk6IHZvaWQge1xuICAgIC8vIERvIG5vdGhpbmcuIFRMUyBhbmQgSFRUUC8yIGNvbm5lY3Rpb24gcG9vbGluZyBpcyBoYW5kbGVkIGJ5IHRoZSBicm93c2VyLlxuICB9XG5cbiAgaGFuZGxlKHJlcXVlc3Q6IEh0dHBSZXF1ZXN0LCB7IGFib3J0U2lnbmFsIH06IEh0dHBIYW5kbGVyT3B0aW9ucyA9IHt9KTogUHJvbWlzZTx7IHJlc3BvbnNlOiBIdHRwUmVzcG9uc2UgfT4ge1xuICAgIGNvbnN0IHJlcXVlc3RUaW1lb3V0SW5NcyA9IHRoaXMucmVxdWVzdFRpbWVvdXQ7XG5cbiAgICAvLyBpZiB0aGUgcmVxdWVzdCB3YXMgYWxyZWFkeSBhYm9ydGVkLCBwcmV2ZW50IGRvaW5nIGV4dHJhIHdvcmtcbiAgICBpZiAoYWJvcnRTaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgIGNvbnN0IGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICBhYm9ydEVycm9yLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiAgICB9XG5cbiAgICBsZXQgcGF0aCA9IHJlcXVlc3QucGF0aDtcbiAgICBpZiAocmVxdWVzdC5xdWVyeSkge1xuICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBidWlsZFF1ZXJ5U3RyaW5nKHJlcXVlc3QucXVlcnkpO1xuICAgICAgaWYgKHF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHBhdGggKz0gYD8ke3F1ZXJ5U3RyaW5nfWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBwb3J0LCBtZXRob2QgfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgdXJsID0gYCR7cmVxdWVzdC5wcm90b2NvbH0vLyR7cmVxdWVzdC5ob3N0bmFtZX0ke3BvcnQgPyBgOiR7cG9ydH1gIDogXCJcIn0ke3BhdGh9YDtcbiAgICAvLyBSZXF1ZXN0IGNvbnN0cnVjdG9yIGRvZXNuJ3QgYWxsb3cgR0VUL0hFQUQgcmVxdWVzdCB3aXRoIGJvZHlcbiAgICAvLyByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvZmV0Y2gvaXNzdWVzLzU1MVxuICAgIGNvbnN0IGJvZHkgPSBtZXRob2QgPT09IFwiR0VUXCIgfHwgbWV0aG9kID09PSBcIkhFQURcIiA/IHVuZGVmaW5lZCA6IHJlcXVlc3QuYm9keTtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdEluaXQgPSB7XG4gICAgICBib2R5LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMocmVxdWVzdC5oZWFkZXJzKSxcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgIH07XG5cbiAgICAvLyBzb21lIGJyb3dzZXJzIHN1cHBvcnQgYWJvcnQgc2lnbmFsXG4gICAgaWYgKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIChyZXF1ZXN0T3B0aW9ucyBhcyBhbnkpW1wic2lnbmFsXCJdID0gYWJvcnRTaWduYWw7XG4gICAgfVxuXG4gICAgY29uc3QgZmV0Y2hSZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgY29uc3QgcmFjZU9mUHJvbWlzZXMgPSBbXG4gICAgICBmZXRjaChmZXRjaFJlcXVlc3QpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGZldGNoSGVhZGVyczogYW55ID0gcmVzcG9uc2UuaGVhZGVycztcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRIZWFkZXJzOiBIZWFkZXJCYWcgPSB7fTtcblxuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgPEFycmF5PHN0cmluZ1tdPj5mZXRjaEhlYWRlcnMuZW50cmllcygpKSB7XG4gICAgICAgICAgdHJhbnNmb3JtZWRIZWFkZXJzW3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhc1JlYWRhYmxlU3RyZWFtID0gcmVzcG9uc2UuYm9keSAhPT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIFJldHVybiB0aGUgcmVzcG9uc2Ugd2l0aCBidWZmZXJlZCBib2R5XG4gICAgICAgIGlmICghaGFzUmVhZGFibGVTdHJlYW0pIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpLnRoZW4oKGJvZHkpID0+ICh7XG4gICAgICAgICAgICByZXNwb25zZTogbmV3IEh0dHBSZXNwb25zZSh7XG4gICAgICAgICAgICAgIGhlYWRlcnM6IHRyYW5zZm9ybWVkSGVhZGVycyxcbiAgICAgICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUgcmVzcG9uc2Ugd2l0aCBzdHJlYW1pbmcgYm9keVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3BvbnNlOiBuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRyYW5zZm9ybWVkSGVhZGVycyxcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIGJvZHk6IHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHJlcXVlc3RUaW1lb3V0KHJlcXVlc3RUaW1lb3V0SW5NcyksXG4gICAgXTtcbiAgICBpZiAoYWJvcnRTaWduYWwpIHtcbiAgICAgIHJhY2VPZlByb21pc2VzLnB1c2goXG4gICAgICAgIG5ldyBQcm9taXNlPG5ldmVyPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgYWJvcnRTaWduYWwub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICAgICAgICBhYm9ydEVycm9yLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcbiAgICAgICAgICAgIHJlamVjdChhYm9ydEVycm9yKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShyYWNlT2ZQcm9taXNlcyk7XG4gIH1cbn1cbiJdfQ==","import { __values } from \"tslib\";\nimport { escapeUri } from \"@aws-sdk/util-uri-escape\";\nexport function buildQueryString(query) {\n    var e_1, _a;\n    var parts = [];\n    try {\n        for (var _b = __values(Object.keys(query).sort()), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var key = _c.value;\n            var value = query[key];\n            key = escapeUri(key);\n            if (Array.isArray(value)) {\n                for (var i = 0, iLen = value.length; i < iLen; i++) {\n                    parts.push(key + \"=\" + escapeUri(value[i]));\n                }\n            }\n            else {\n                var qsEntry = key;\n                if (value || typeof value === \"string\") {\n                    qsEntry += \"=\" + escapeUri(value);\n                }\n                parts.push(qsEntry);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return parts.join(\"&\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVyRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsS0FBd0I7O0lBQ3ZELElBQU0sS0FBSyxHQUFhLEVBQUUsQ0FBQzs7UUFDM0IsS0FBZ0IsSUFBQSxLQUFBLFNBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxnQkFBQSw0QkFBRTtZQUF0QyxJQUFJLEdBQUcsV0FBQTtZQUNWLElBQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6QixHQUFHLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3JCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDbEQsS0FBSyxDQUFDLElBQUksQ0FBSSxHQUFHLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBRyxDQUFDLENBQUM7aUJBQzdDO2FBQ0Y7aUJBQU07Z0JBQ0wsSUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDO2dCQUNsQixJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7b0JBQ3RDLE9BQU8sSUFBSSxNQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUcsQ0FBQztpQkFDbkM7Z0JBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNyQjtTQUNGOzs7Ozs7Ozs7SUFFRCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1ZXJ5UGFyYW1ldGVyQmFnIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFF1ZXJ5U3RyaW5nKHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZyk6IHN0cmluZyB7XG4gIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocXVlcnkpLnNvcnQoKSkge1xuICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICBrZXkgPSBlc2NhcGVVcmkoa2V5KTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpTGVuID0gdmFsdWUubGVuZ3RoOyBpIDwgaUxlbjsgaSsrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYCR7a2V5fT0ke2VzY2FwZVVyaSh2YWx1ZVtpXSl9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBxc0VudHJ5ID0ga2V5O1xuICAgICAgaWYgKHZhbHVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBxc0VudHJ5ICs9IGA9JHtlc2NhcGVVcmkodmFsdWUpfWA7XG4gICAgICB9XG4gICAgICBwYXJ0cy5wdXNoKHFzRW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKFwiJlwiKTtcbn1cbiJdfQ==","export function requestTimeout(timeoutInMs) {\n    if (timeoutInMs === void 0) { timeoutInMs = 0; }\n    return new Promise(function (resolve, reject) {\n        if (timeoutInMs) {\n            setTimeout(function () {\n                var timeoutError = new Error(\"Request did not complete within \" + timeoutInMs + \" ms\");\n                timeoutError.name = \"TimeoutError\";\n                reject(timeoutError);\n            }, timeoutInMs);\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVxdWVzdC10aW1lb3V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JlcXVlc3QtdGltZW91dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsY0FBYyxDQUFDLFdBQWU7SUFBZiw0QkFBQSxFQUFBLGVBQWU7SUFDNUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2pDLElBQUksV0FBVyxFQUFFO1lBQ2YsVUFBVSxDQUFDO2dCQUNULElBQU0sWUFBWSxHQUFHLElBQUksS0FBSyxDQUFDLHFDQUFtQyxXQUFXLFFBQUssQ0FBQyxDQUFDO2dCQUNwRixZQUFZLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQztnQkFDbkMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3ZCLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztTQUNqQjtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0VGltZW91dCh0aW1lb3V0SW5NcyA9IDApOiBQcm9taXNlPG5ldmVyPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHRpbWVvdXRJbk1zKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgdGltZW91dEVycm9yID0gbmV3IEVycm9yKGBSZXF1ZXN0IGRpZCBub3QgY29tcGxldGUgd2l0aGluICR7dGltZW91dEluTXN9IG1zYCk7XG4gICAgICAgIHRpbWVvdXRFcnJvci5uYW1lID0gXCJUaW1lb3V0RXJyb3JcIjtcbiAgICAgICAgcmVqZWN0KHRpbWVvdXRFcnJvcik7XG4gICAgICB9LCB0aW1lb3V0SW5Ncyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { fromBase64 } from \"@aws-sdk/util-base64-browser\";\n//reference: https://snack.expo.io/r1JCSWRGU\nexport var streamCollector = function (stream) {\n    if (typeof Blob === \"function\" && stream instanceof Blob) {\n        return collectBlob(stream);\n    }\n    return collectStream(stream);\n};\nfunction collectBlob(blob) {\n    return __awaiter(this, void 0, void 0, function () {\n        var base64, arrayBuffer;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, readToBase64(blob)];\n                case 1:\n                    base64 = _a.sent();\n                    arrayBuffer = fromBase64(base64);\n                    return [2 /*return*/, new Uint8Array(arrayBuffer)];\n            }\n        });\n    });\n}\nfunction collectStream(stream) {\n    return __awaiter(this, void 0, void 0, function () {\n        var res, reader, isDone, _a, done, value, prior;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    res = new Uint8Array(0);\n                    reader = stream.getReader();\n                    isDone = false;\n                    _b.label = 1;\n                case 1:\n                    if (!!isDone) return [3 /*break*/, 3];\n                    return [4 /*yield*/, reader.read()];\n                case 2:\n                    _a = _b.sent(), done = _a.done, value = _a.value;\n                    if (value) {\n                        prior = res;\n                        res = new Uint8Array(prior.length + value.length);\n                        res.set(prior);\n                        res.set(value, prior.length);\n                    }\n                    isDone = done;\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/, res];\n            }\n        });\n    });\n}\nfunction readToBase64(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n            var _a;\n            // reference: https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n            // response from readAsDataURL is always prepended with \"data:*/*;base64,\"\n            if (reader.readyState !== 2) {\n                return reject(new Error(\"Reader aborted too early\"));\n            }\n            var result = ((_a = reader.result) !== null && _a !== void 0 ? _a : \"\");\n            // Response can include only 'data:' for empty blob, return empty string in this case.\n            // Otherwise, return the string after ','\n            var commaIndex = result.indexOf(\",\");\n            var dataOffset = commaIndex > -1 ? commaIndex + 1 : result.length;\n            resolve(result.substring(dataOffset));\n        };\n        reader.onabort = function () { return reject(new Error(\"Read aborted\")); };\n        reader.onerror = function () { return reject(reader.error); };\n        // reader.readAsArrayBuffer is not always available\n        reader.readAsDataURL(blob);\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyZWFtLWNvbGxlY3Rvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zdHJlYW0tY29sbGVjdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFFMUQsNENBQTRDO0FBQzVDLE1BQU0sQ0FBQyxJQUFNLGVBQWUsR0FBb0IsVUFBQyxNQUE2QjtJQUM1RSxJQUFJLE9BQU8sSUFBSSxLQUFLLFVBQVUsSUFBSSxNQUFNLFlBQVksSUFBSSxFQUFFO1FBQ3hELE9BQU8sV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQzVCO0lBRUQsT0FBTyxhQUFhLENBQUMsTUFBd0IsQ0FBQyxDQUFDO0FBQ2pELENBQUMsQ0FBQztBQUVGLFNBQWUsV0FBVyxDQUFDLElBQVU7Ozs7O3dCQUNwQixxQkFBTSxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUE7O29CQUFqQyxNQUFNLEdBQUcsU0FBd0I7b0JBQ2pDLFdBQVcsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQ3ZDLHNCQUFPLElBQUksVUFBVSxDQUFDLFdBQVcsQ0FBQyxFQUFDOzs7O0NBQ3BDO0FBRUQsU0FBZSxhQUFhLENBQUMsTUFBc0I7Ozs7OztvQkFDN0MsR0FBRyxHQUFHLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN0QixNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO29CQUM5QixNQUFNLEdBQUcsS0FBSyxDQUFDOzs7eUJBQ1osQ0FBQyxNQUFNO29CQUNZLHFCQUFNLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBQTs7b0JBQXJDLEtBQWtCLFNBQW1CLEVBQW5DLElBQUksVUFBQSxFQUFFLEtBQUssV0FBQTtvQkFDbkIsSUFBSSxLQUFLLEVBQUU7d0JBQ0gsS0FBSyxHQUFHLEdBQUcsQ0FBQzt3QkFDbEIsR0FBRyxHQUFHLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO3dCQUNsRCxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNmLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztxQkFDOUI7b0JBQ0QsTUFBTSxHQUFHLElBQUksQ0FBQzs7d0JBRWhCLHNCQUFPLEdBQUcsRUFBQzs7OztDQUNaO0FBRUQsU0FBUyxZQUFZLENBQUMsSUFBVTtJQUM5QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07UUFDakMsSUFBTSxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztRQUNoQyxNQUFNLENBQUMsU0FBUyxHQUFHOztZQUNqQix1RkFBdUY7WUFDdkYsMEVBQTBFO1lBQzFFLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxDQUFDLEVBQUU7Z0JBQzNCLE9BQU8sTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQzthQUN0RDtZQUNELElBQU0sTUFBTSxHQUFHLE9BQUMsTUFBTSxDQUFDLE1BQU0sbUNBQUksRUFBRSxDQUFXLENBQUM7WUFDL0Msc0ZBQXNGO1lBQ3RGLHlDQUF5QztZQUN6QyxJQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZDLElBQU0sVUFBVSxHQUFHLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwRSxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQztRQUNGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsY0FBTSxPQUFBLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFqQyxDQUFpQyxDQUFDO1FBQ3pELE1BQU0sQ0FBQyxPQUFPLEdBQUcsY0FBTSxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQXBCLENBQW9CLENBQUM7UUFDNUMsbURBQW1EO1FBQ25ELE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBmcm9tQmFzZTY0IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYmFzZTY0LWJyb3dzZXJcIjtcblxuLy9yZWZlcmVuY2U6IGh0dHBzOi8vc25hY2suZXhwby5pby9yMUpDU1dSR1VcbmV4cG9ydCBjb25zdCBzdHJlYW1Db2xsZWN0b3I6IFN0cmVhbUNvbGxlY3RvciA9IChzdHJlYW06IEJsb2IgfCBSZWFkYWJsZVN0cmVhbSk6IFByb21pc2U8VWludDhBcnJheT4gPT4ge1xuICBpZiAodHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJiBzdHJlYW0gaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgcmV0dXJuIGNvbGxlY3RCbG9iKHN0cmVhbSk7XG4gIH1cblxuICByZXR1cm4gY29sbGVjdFN0cmVhbShzdHJlYW0gYXMgUmVhZGFibGVTdHJlYW0pO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gY29sbGVjdEJsb2IoYmxvYjogQmxvYik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkVG9CYXNlNjQoYmxvYik7XG4gIGNvbnN0IGFycmF5QnVmZmVyID0gZnJvbUJhc2U2NChiYXNlNjQpO1xuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjb2xsZWN0U3RyZWFtKHN0cmVhbTogUmVhZGFibGVTdHJlYW0pOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgbGV0IHJlcyA9IG5ldyBVaW50OEFycmF5KDApO1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIGxldCBpc0RvbmUgPSBmYWxzZTtcbiAgd2hpbGUgKCFpc0RvbmUpIHtcbiAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY29uc3QgcHJpb3IgPSByZXM7XG4gICAgICByZXMgPSBuZXcgVWludDhBcnJheShwcmlvci5sZW5ndGggKyB2YWx1ZS5sZW5ndGgpO1xuICAgICAgcmVzLnNldChwcmlvcik7XG4gICAgICByZXMuc2V0KHZhbHVlLCBwcmlvci5sZW5ndGgpO1xuICAgIH1cbiAgICBpc0RvbmUgPSBkb25lO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIHJlYWRUb0Jhc2U2NChibG9iOiBCbG9iKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7XG4gICAgICAvLyByZWZlcmVuY2U6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9GaWxlUmVhZGVyL3JlYWRBc0RhdGFVUkxcbiAgICAgIC8vIHJlc3BvbnNlIGZyb20gcmVhZEFzRGF0YVVSTCBpcyBhbHdheXMgcHJlcGVuZGVkIHdpdGggXCJkYXRhOiovKjtiYXNlNjQsXCJcbiAgICAgIGlmIChyZWFkZXIucmVhZHlTdGF0ZSAhPT0gMikge1xuICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIlJlYWRlciBhYm9ydGVkIHRvbyBlYXJseVwiKSk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSAocmVhZGVyLnJlc3VsdCA/PyBcIlwiKSBhcyBzdHJpbmc7XG4gICAgICAvLyBSZXNwb25zZSBjYW4gaW5jbHVkZSBvbmx5ICdkYXRhOicgZm9yIGVtcHR5IGJsb2IsIHJldHVybiBlbXB0eSBzdHJpbmcgaW4gdGhpcyBjYXNlLlxuICAgICAgLy8gT3RoZXJ3aXNlLCByZXR1cm4gdGhlIHN0cmluZyBhZnRlciAnLCdcbiAgICAgIGNvbnN0IGNvbW1hSW5kZXggPSByZXN1bHQuaW5kZXhPZihcIixcIik7XG4gICAgICBjb25zdCBkYXRhT2Zmc2V0ID0gY29tbWFJbmRleCA+IC0xID8gY29tbWFJbmRleCArIDEgOiByZXN1bHQubGVuZ3RoO1xuICAgICAgcmVzb2x2ZShyZXN1bHQuc3Vic3RyaW5nKGRhdGFPZmZzZXQpKTtcbiAgICB9O1xuICAgIHJlYWRlci5vbmFib3J0ID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihcIlJlYWQgYWJvcnRlZFwiKSk7XG4gICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVhZGVyLmVycm9yKTtcbiAgICAvLyByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIgaXMgbm90IGFsd2F5cyBhdmFpbGFibGVcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgfSk7XG59XG4iXX0=","export function blobReader(blob, onChunk, chunkSize) {\n    if (chunkSize === void 0) { chunkSize = 1024 * 1024; }\n    return new Promise(function (resolve, reject) {\n        var fileReader = new FileReader();\n        fileReader.addEventListener(\"error\", reject);\n        fileReader.addEventListener(\"abort\", reject);\n        var size = blob.size;\n        var totalBytesRead = 0;\n        function read() {\n            if (totalBytesRead >= size) {\n                resolve();\n                return;\n            }\n            fileReader.readAsArrayBuffer(blob.slice(totalBytesRead, Math.min(size, totalBytesRead + chunkSize)));\n        }\n        fileReader.addEventListener(\"load\", function (event) {\n            var result = event.target.result;\n            onChunk(new Uint8Array(result));\n            totalBytesRead += result.byteLength;\n            // read the next block\n            read();\n        });\n        // kick off the read\n        read();\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLFVBQVUsQ0FDeEIsSUFBVSxFQUNWLE9BQW9DLEVBQ3BDLFNBQStCO0lBQS9CLDBCQUFBLEVBQUEsWUFBb0IsSUFBSSxHQUFHLElBQUk7SUFFL0IsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2pDLElBQU0sVUFBVSxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7UUFFcEMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM3QyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRTdDLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxjQUFjLEdBQUcsQ0FBQyxDQUFDO1FBRXZCLFNBQVMsSUFBSTtZQUNYLElBQUksY0FBYyxJQUFJLElBQUksRUFBRTtnQkFDMUIsT0FBTyxFQUFFLENBQUM7Z0JBQ1YsT0FBTzthQUNSO1lBQ0QsVUFBVSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLGNBQWMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkcsQ0FBQztRQUVELFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsVUFBQyxLQUFLO1lBQ3hDLElBQU0sTUFBTSxHQUFpQixLQUFLLENBQUMsTUFBYyxDQUFDLE1BQU0sQ0FBQztZQUN6RCxPQUFPLENBQUMsSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNoQyxjQUFjLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQztZQUNwQyxzQkFBc0I7WUFDdEIsSUFBSSxFQUFFLENBQUM7UUFDVCxDQUFDLENBQUMsQ0FBQztRQUVILG9CQUFvQjtRQUNwQixJQUFJLEVBQUUsQ0FBQztJQUNULENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBibG9iUmVhZGVyKFxuICBibG9iOiBCbG9iLFxuICBvbkNodW5rOiAoY2h1bms6IFVpbnQ4QXJyYXkpID0+IHZvaWQsXG4gIGNodW5rU2l6ZTogbnVtYmVyID0gMTAyNCAqIDEwMjRcbik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICBmaWxlUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCByZWplY3QpO1xuXG4gICAgY29uc3Qgc2l6ZSA9IGJsb2Iuc2l6ZTtcbiAgICBsZXQgdG90YWxCeXRlc1JlYWQgPSAwO1xuXG4gICAgZnVuY3Rpb24gcmVhZCgpIHtcbiAgICAgIGlmICh0b3RhbEJ5dGVzUmVhZCA+PSBzaXplKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iLnNsaWNlKHRvdGFsQnl0ZXNSZWFkLCBNYXRoLm1pbihzaXplLCB0b3RhbEJ5dGVzUmVhZCArIGNodW5rU2l6ZSkpKTtcbiAgICB9XG5cbiAgICBmaWxlUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gPEFycmF5QnVmZmVyPihldmVudC50YXJnZXQgYXMgYW55KS5yZXN1bHQ7XG4gICAgICBvbkNodW5rKG5ldyBVaW50OEFycmF5KHJlc3VsdCkpO1xuICAgICAgdG90YWxCeXRlc1JlYWQgKz0gcmVzdWx0LmJ5dGVMZW5ndGg7XG4gICAgICAvLyByZWFkIHRoZSBuZXh0IGJsb2NrXG4gICAgICByZWFkKCk7XG4gICAgfSk7XG5cbiAgICAvLyBraWNrIG9mZiB0aGUgcmVhZFxuICAgIHJlYWQoKTtcbiAgfSk7XG59XG4iXX0=","import { fromUtf8 as jsFromUtf8, toUtf8 as jsToUtf8 } from \"./pureJs\";\nimport { fromUtf8 as textEncoderFromUtf8, toUtf8 as textEncoderToUtf8 } from \"./whatwgEncodingApi\";\nexport var fromUtf8 = function (input) {\n    return typeof TextEncoder === \"function\" ? textEncoderFromUtf8(input) : jsFromUtf8(input);\n};\nexport var toUtf8 = function (input) {\n    return typeof TextDecoder === \"function\" ? textEncoderToUtf8(input) : jsToUtf8(input);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsSUFBSSxVQUFVLEVBQUUsTUFBTSxJQUFJLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxJQUFJLG1CQUFtQixFQUFFLE1BQU0sSUFBSSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBS25HLE1BQU0sQ0FBQyxJQUFNLFFBQVEsR0FBRyxVQUFDLEtBQWE7SUFDcEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO0FBQWxGLENBQWtGLENBQUM7QUFFckYsTUFBTSxDQUFDLElBQU0sTUFBTSxHQUFHLFVBQUMsS0FBaUI7SUFDdEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO0FBQTlFLENBQThFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tVXRmOCBhcyBqc0Zyb21VdGY4LCB0b1V0ZjggYXMganNUb1V0ZjggfSBmcm9tIFwiLi9wdXJlSnNcIjtcbmltcG9ydCB7IGZyb21VdGY4IGFzIHRleHRFbmNvZGVyRnJvbVV0ZjgsIHRvVXRmOCBhcyB0ZXh0RW5jb2RlclRvVXRmOCB9IGZyb20gXCIuL3doYXR3Z0VuY29kaW5nQXBpXCI7XG5cbmRlY2xhcmUgY29uc3QgVGV4dERlY29kZXI6IEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBmcm9tVXRmOCA9IChpbnB1dDogc3RyaW5nKTogVWludDhBcnJheSA9PlxuICB0eXBlb2YgVGV4dEVuY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyRnJvbVV0ZjgoaW5wdXQpIDoganNGcm9tVXRmOChpbnB1dCk7XG5cbmV4cG9ydCBjb25zdCB0b1V0ZjggPSAoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcgPT5cbiAgdHlwZW9mIFRleHREZWNvZGVyID09PSBcImZ1bmN0aW9uXCIgPyB0ZXh0RW5jb2RlclRvVXRmOChpbnB1dCkgOiBqc1RvVXRmOChpbnB1dCk7XG4iXX0=","export function fromUtf8(input) {\n    return new TextEncoder().encode(input);\n}\nexport function toUtf8(input) {\n    return new TextDecoder(\"utf-8\").decode(input);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hhdHdnRW5jb2RpbmdBcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvd2hhdHdnRW5jb2RpbmdBcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUNBLE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBYTtJQUNwQyxPQUFPLElBQUksV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLE9BQU8sSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZGVjbGFyYXRpb24gb2YgdGhlIGdsb2JhbCBUZXh0RW5jb2RlciBhbmQgVGV4dERlY29kZXIgY29uc3RydWN0b3JzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9lbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcvXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5uYW1lc3BhY2UgRW5jb2Rpbmcge1xuICBpbnRlcmZhY2UgVGV4dERlY29kZXJPcHRpb25zIHtcbiAgICBmYXRhbD86IGJvb2xlYW47XG4gICAgaWdub3JlQk9NPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlT3B0aW9ucyB7XG4gICAgc3RyZWFtPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlciB7XG4gICAgcmVhZG9ubHkgZW5jb2Rpbmc6IHN0cmluZztcbiAgICByZWFkb25seSBmYXRhbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBpZ25vcmVCT006IGJvb2xlYW47XG4gICAgZGVjb2RlKGlucHV0PzogQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcsIG9wdGlvbnM/OiBUZXh0RGVjb2RlT3B0aW9ucyk6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGV4dERlY29kZXJDb25zdHJ1Y3RvciB7XG4gICAgbmV3IChsYWJlbD86IHN0cmluZywgb3B0aW9ucz86IFRleHREZWNvZGVyT3B0aW9ucyk6IFRleHREZWNvZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIFRleHRFbmNvZGVyIHtcbiAgICByZWFkb25seSBlbmNvZGluZzogXCJ1dGYtOFwiO1xuICAgIGVuY29kZShpbnB1dD86IHN0cmluZyk6IFVpbnQ4QXJyYXk7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRleHRFbmNvZGVyQ29uc3RydWN0b3Ige1xuICAgIG5ldyAoKTogVGV4dEVuY29kZXI7XG4gIH1cbn1cblxuZGVjbGFyZSBjb25zdCBUZXh0RGVjb2RlcjogRW5jb2RpbmcuVGV4dERlY29kZXJDb25zdHJ1Y3RvcjtcblxuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRW5jb2RpbmcuVGV4dEVuY29kZXJDb25zdHJ1Y3RvcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGlucHV0KTtcbn1cbiJdfQ==","/**\n * Converts a JS string from its native UCS-2/UTF-16 representation into a\n * Uint8Array of the bytes used to represent the equivalent characters in UTF-8.\n *\n * Cribbed from the `goog.crypt.stringToUtf8ByteArray` function in the Google\n * Closure library, though updated to use typed arrays.\n */\nexport var fromUtf8 = function (input) {\n    var bytes = [];\n    for (var i = 0, len = input.length; i < len; i++) {\n        var value = input.charCodeAt(i);\n        if (value < 0x80) {\n            bytes.push(value);\n        }\n        else if (value < 0x800) {\n            bytes.push((value >> 6) | 192, (value & 63) | 128);\n        }\n        else if (i + 1 < input.length && (value & 0xfc00) === 0xd800 && (input.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\n            var surrogatePair = 0x10000 + ((value & 1023) << 10) + (input.charCodeAt(++i) & 1023);\n            bytes.push((surrogatePair >> 18) | 240, ((surrogatePair >> 12) & 63) | 128, ((surrogatePair >> 6) & 63) | 128, (surrogatePair & 63) | 128);\n        }\n        else {\n            bytes.push((value >> 12) | 224, ((value >> 6) & 63) | 128, (value & 63) | 128);\n        }\n    }\n    return Uint8Array.from(bytes);\n};\n/**\n * Converts a typed array of bytes containing UTF-8 data into a native JS\n * string.\n *\n * Partly cribbed from the `goog.crypt.utf8ByteArrayToString` function in the\n * Google Closure library, though updated to use typed arrays and to better\n * handle astral plane code points.\n */\nexport var toUtf8 = function (input) {\n    var decoded = \"\";\n    for (var i = 0, len = input.length; i < len; i++) {\n        var byte = input[i];\n        if (byte < 0x80) {\n            decoded += String.fromCharCode(byte);\n        }\n        else if (192 <= byte && byte < 224) {\n            var nextByte = input[++i];\n            decoded += String.fromCharCode(((byte & 31) << 6) | (nextByte & 63));\n        }\n        else if (240 <= byte && byte < 365) {\n            var surrogatePair = [byte, input[++i], input[++i], input[++i]];\n            var encoded = \"%\" + surrogatePair.map(function (byteValue) { return byteValue.toString(16); }).join(\"%\");\n            decoded += decodeURIComponent(encoded);\n        }\n        else {\n            decoded += String.fromCharCode(((byte & 15) << 12) | ((input[++i] & 63) << 6) | (input[++i] & 63));\n        }\n    }\n    return decoded;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZUpzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3B1cmVKcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxRQUFRLEdBQUcsVUFBQyxLQUFhO0lBQ3BDLElBQU0sS0FBSyxHQUFrQixFQUFFLENBQUM7SUFDaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksS0FBSyxHQUFHLElBQUksRUFBRTtZQUNoQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ25CO2FBQU0sSUFBSSxLQUFLLEdBQUcsS0FBSyxFQUFFO1lBQ3hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FBQyxDQUFDO1NBQ3hFO2FBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxFQUFFO1lBQy9HLElBQU0sYUFBYSxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQVksQ0FBQyxDQUFDO1lBQ3hHLEtBQUssQ0FBQyxJQUFJLENBQ1IsQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBVSxFQUNsQyxDQUFDLENBQUMsYUFBYSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFDL0MsQ0FBQyxDQUFDLGFBQWEsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLEVBQzlDLENBQUMsYUFBYSxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FDeEMsQ0FBQztTQUNIO2FBQU07WUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLENBQUMsQ0FBQztTQUNqSDtLQUNGO0lBRUQsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsSUFBTSxNQUFNLEdBQUcsVUFBQyxLQUFpQjtJQUN0QyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDakIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFO1lBQ2YsT0FBTyxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVUsRUFBRTtZQUNsRCxJQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM1QixPQUFPLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEVBQVEsQ0FBQyxDQUFDLENBQUM7U0FDakY7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVcsRUFBRTtZQUNuRCxJQUFNLGFBQWEsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLElBQU0sT0FBTyxHQUFHLEdBQUcsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUMsU0FBUyxJQUFLLE9BQUEsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6RixPQUFPLElBQUksa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNMLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUM1QixDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxDQUNuRixDQUFDO1NBQ0g7S0FDRjtJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKUyBzdHJpbmcgZnJvbSBpdHMgbmF0aXZlIFVDUy0yL1VURi0xNiByZXByZXNlbnRhdGlvbiBpbnRvIGFcbiAqIFVpbnQ4QXJyYXkgb2YgdGhlIGJ5dGVzIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlcXVpdmFsZW50IGNoYXJhY3RlcnMgaW4gVVRGLTguXG4gKlxuICogQ3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXlgIGZ1bmN0aW9uIGluIHRoZSBHb29nbGVcbiAqIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5ID0+IHtcbiAgY29uc3QgYnl0ZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmICh2YWx1ZSA8IDB4ODApIHtcbiAgICAgIGJ5dGVzLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAweDgwMCkge1xuICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gNikgfCAwYjExMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICB9IGVsc2UgaWYgKGkgKyAxIDwgaW5wdXQubGVuZ3RoICYmICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAoaW5wdXQuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSAweDEwMDAwICsgKCh2YWx1ZSAmIDBiMTExMTExMTExMSkgPDwgMTApICsgKGlucHV0LmNoYXJDb2RlQXQoKytpKSAmIDBiMTExMTExMTExMSk7XG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICAoc3Vycm9nYXRlUGFpciA+PiAxOCkgfCAwYjExMTEwMDAwLFxuICAgICAgICAoKHN1cnJvZ2F0ZVBhaXIgPj4gMTIpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKChzdXJyb2dhdGVQYWlyID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKHN1cnJvZ2F0ZVBhaXIgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBieXRlcy5wdXNoKCh2YWx1ZSA+PiAxMikgfCAwYjExMTAwMDAwLCAoKHZhbHVlID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCwgKHZhbHVlICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShieXRlcyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgdHlwZWQgYXJyYXkgb2YgYnl0ZXMgY29udGFpbmluZyBVVEYtOCBkYXRhIGludG8gYSBuYXRpdmUgSlNcbiAqIHN0cmluZy5cbiAqXG4gKiBQYXJ0bHkgY3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC51dGY4Qnl0ZUFycmF5VG9TdHJpbmdgIGZ1bmN0aW9uIGluIHRoZVxuICogR29vZ2xlIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cyBhbmQgdG8gYmV0dGVyXG4gKiBoYW5kbGUgYXN0cmFsIHBsYW5lIGNvZGUgcG9pbnRzLlxuICovXG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0OiBVaW50OEFycmF5KTogc3RyaW5nID0+IHtcbiAgbGV0IGRlY29kZWQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBieXRlID0gaW5wdXRbaV07XG4gICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XG4gICAgfSBlbHNlIGlmICgwYjExMDAwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTExMDAwMDApIHtcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gaW5wdXRbKytpXTtcbiAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGJ5dGUgJiAwYjExMTExKSA8PCA2KSB8IChuZXh0Qnl0ZSAmIDBiMTExMTExKSk7XG4gICAgfSBlbHNlIGlmICgwYjExMTEwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTAxMTAxMTAxKSB7XG4gICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID0gW2J5dGUsIGlucHV0WysraV0sIGlucHV0WysraV0sIGlucHV0WysraV1dO1xuICAgICAgY29uc3QgZW5jb2RlZCA9IFwiJVwiICsgc3Vycm9nYXRlUGFpci5tYXAoKGJ5dGVWYWx1ZSkgPT4gYnl0ZVZhbHVlLnRvU3RyaW5nKDE2KSkuam9pbihcIiVcIik7XG4gICAgICBkZWNvZGVkICs9IGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICAoKGJ5dGUgJiAwYjExMTEpIDw8IDEyKSB8ICgoaW5wdXRbKytpXSAmIDBiMTExMTExKSA8PCA2KSB8IChpbnB1dFsrK2ldICYgMGIxMTExMTEpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWNvZGVkO1xufTtcbiJdfQ==","/**\n * @internal\n */\nexport var BLOCK_SIZE = 64;\n/**\n * @internal\n */\nexport var DIGEST_LENGTH = 16;\n/**\n * @internal\n */\nexport var INIT = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE1BQU0sQ0FBQyxJQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFFN0I7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0FBRWhDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0sSUFBSSxHQUFHLENBQUMsVUFBVSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQkxPQ0tfU0laRSA9IDY0O1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRElHRVNUX0xFTkdUSCA9IDE2O1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSU5JVCA9IFsweDY3NDUyMzAxLCAweGVmY2RhYjg5LCAweDk4YmFkY2ZlLCAweDEwMzI1NDc2XTtcbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { fromUtf8 } from \"@aws-sdk/util-utf8-browser\";\nimport { BLOCK_SIZE, DIGEST_LENGTH, INIT } from \"./constants\";\nvar Md5 = /** @class */ (function () {\n    function Md5() {\n        this.state = Uint32Array.from(INIT);\n        this.buffer = new DataView(new ArrayBuffer(BLOCK_SIZE));\n        this.bufferLength = 0;\n        this.bytesHashed = 0;\n        this.finished = false;\n    }\n    Md5.prototype.update = function (sourceData) {\n        if (isEmptyData(sourceData)) {\n            return;\n        }\n        else if (this.finished) {\n            throw new Error(\"Attempted to update an already finished hash.\");\n        }\n        var data = convertToBuffer(sourceData);\n        var position = 0;\n        var byteLength = data.byteLength;\n        this.bytesHashed += byteLength;\n        while (byteLength > 0) {\n            this.buffer.setUint8(this.bufferLength++, data[position++]);\n            byteLength--;\n            if (this.bufferLength === BLOCK_SIZE) {\n                this.hashBuffer();\n                this.bufferLength = 0;\n            }\n        }\n    };\n    Md5.prototype.digest = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, buffer, undecoratedLength, bytesHashed, bitsHashed, i, i, out, i;\n            return __generator(this, function (_b) {\n                if (!this.finished) {\n                    _a = this, buffer = _a.buffer, undecoratedLength = _a.bufferLength, bytesHashed = _a.bytesHashed;\n                    bitsHashed = bytesHashed * 8;\n                    buffer.setUint8(this.bufferLength++, 128);\n                    // Ensure the final block has enough room for the hashed length\n                    if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n                        for (i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                            buffer.setUint8(i, 0);\n                        }\n                        this.hashBuffer();\n                        this.bufferLength = 0;\n                    }\n                    for (i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n                        buffer.setUint8(i, 0);\n                    }\n                    buffer.setUint32(BLOCK_SIZE - 8, bitsHashed >>> 0, true);\n                    buffer.setUint32(BLOCK_SIZE - 4, Math.floor(bitsHashed / 0x100000000), true);\n                    this.hashBuffer();\n                    this.finished = true;\n                }\n                out = new DataView(new ArrayBuffer(DIGEST_LENGTH));\n                for (i = 0; i < 4; i++) {\n                    out.setUint32(i * 4, this.state[i], true);\n                }\n                return [2 /*return*/, new Uint8Array(out.buffer, out.byteOffset, out.byteLength)];\n            });\n        });\n    };\n    Md5.prototype.hashBuffer = function () {\n        var _a = this, buffer = _a.buffer, state = _a.state;\n        var a = state[0], b = state[1], c = state[2], d = state[3];\n        a = ff(a, b, c, d, buffer.getUint32(0, true), 7, 0xd76aa478);\n        d = ff(d, a, b, c, buffer.getUint32(4, true), 12, 0xe8c7b756);\n        c = ff(c, d, a, b, buffer.getUint32(8, true), 17, 0x242070db);\n        b = ff(b, c, d, a, buffer.getUint32(12, true), 22, 0xc1bdceee);\n        a = ff(a, b, c, d, buffer.getUint32(16, true), 7, 0xf57c0faf);\n        d = ff(d, a, b, c, buffer.getUint32(20, true), 12, 0x4787c62a);\n        c = ff(c, d, a, b, buffer.getUint32(24, true), 17, 0xa8304613);\n        b = ff(b, c, d, a, buffer.getUint32(28, true), 22, 0xfd469501);\n        a = ff(a, b, c, d, buffer.getUint32(32, true), 7, 0x698098d8);\n        d = ff(d, a, b, c, buffer.getUint32(36, true), 12, 0x8b44f7af);\n        c = ff(c, d, a, b, buffer.getUint32(40, true), 17, 0xffff5bb1);\n        b = ff(b, c, d, a, buffer.getUint32(44, true), 22, 0x895cd7be);\n        a = ff(a, b, c, d, buffer.getUint32(48, true), 7, 0x6b901122);\n        d = ff(d, a, b, c, buffer.getUint32(52, true), 12, 0xfd987193);\n        c = ff(c, d, a, b, buffer.getUint32(56, true), 17, 0xa679438e);\n        b = ff(b, c, d, a, buffer.getUint32(60, true), 22, 0x49b40821);\n        a = gg(a, b, c, d, buffer.getUint32(4, true), 5, 0xf61e2562);\n        d = gg(d, a, b, c, buffer.getUint32(24, true), 9, 0xc040b340);\n        c = gg(c, d, a, b, buffer.getUint32(44, true), 14, 0x265e5a51);\n        b = gg(b, c, d, a, buffer.getUint32(0, true), 20, 0xe9b6c7aa);\n        a = gg(a, b, c, d, buffer.getUint32(20, true), 5, 0xd62f105d);\n        d = gg(d, a, b, c, buffer.getUint32(40, true), 9, 0x02441453);\n        c = gg(c, d, a, b, buffer.getUint32(60, true), 14, 0xd8a1e681);\n        b = gg(b, c, d, a, buffer.getUint32(16, true), 20, 0xe7d3fbc8);\n        a = gg(a, b, c, d, buffer.getUint32(36, true), 5, 0x21e1cde6);\n        d = gg(d, a, b, c, buffer.getUint32(56, true), 9, 0xc33707d6);\n        c = gg(c, d, a, b, buffer.getUint32(12, true), 14, 0xf4d50d87);\n        b = gg(b, c, d, a, buffer.getUint32(32, true), 20, 0x455a14ed);\n        a = gg(a, b, c, d, buffer.getUint32(52, true), 5, 0xa9e3e905);\n        d = gg(d, a, b, c, buffer.getUint32(8, true), 9, 0xfcefa3f8);\n        c = gg(c, d, a, b, buffer.getUint32(28, true), 14, 0x676f02d9);\n        b = gg(b, c, d, a, buffer.getUint32(48, true), 20, 0x8d2a4c8a);\n        a = hh(a, b, c, d, buffer.getUint32(20, true), 4, 0xfffa3942);\n        d = hh(d, a, b, c, buffer.getUint32(32, true), 11, 0x8771f681);\n        c = hh(c, d, a, b, buffer.getUint32(44, true), 16, 0x6d9d6122);\n        b = hh(b, c, d, a, buffer.getUint32(56, true), 23, 0xfde5380c);\n        a = hh(a, b, c, d, buffer.getUint32(4, true), 4, 0xa4beea44);\n        d = hh(d, a, b, c, buffer.getUint32(16, true), 11, 0x4bdecfa9);\n        c = hh(c, d, a, b, buffer.getUint32(28, true), 16, 0xf6bb4b60);\n        b = hh(b, c, d, a, buffer.getUint32(40, true), 23, 0xbebfbc70);\n        a = hh(a, b, c, d, buffer.getUint32(52, true), 4, 0x289b7ec6);\n        d = hh(d, a, b, c, buffer.getUint32(0, true), 11, 0xeaa127fa);\n        c = hh(c, d, a, b, buffer.getUint32(12, true), 16, 0xd4ef3085);\n        b = hh(b, c, d, a, buffer.getUint32(24, true), 23, 0x04881d05);\n        a = hh(a, b, c, d, buffer.getUint32(36, true), 4, 0xd9d4d039);\n        d = hh(d, a, b, c, buffer.getUint32(48, true), 11, 0xe6db99e5);\n        c = hh(c, d, a, b, buffer.getUint32(60, true), 16, 0x1fa27cf8);\n        b = hh(b, c, d, a, buffer.getUint32(8, true), 23, 0xc4ac5665);\n        a = ii(a, b, c, d, buffer.getUint32(0, true), 6, 0xf4292244);\n        d = ii(d, a, b, c, buffer.getUint32(28, true), 10, 0x432aff97);\n        c = ii(c, d, a, b, buffer.getUint32(56, true), 15, 0xab9423a7);\n        b = ii(b, c, d, a, buffer.getUint32(20, true), 21, 0xfc93a039);\n        a = ii(a, b, c, d, buffer.getUint32(48, true), 6, 0x655b59c3);\n        d = ii(d, a, b, c, buffer.getUint32(12, true), 10, 0x8f0ccc92);\n        c = ii(c, d, a, b, buffer.getUint32(40, true), 15, 0xffeff47d);\n        b = ii(b, c, d, a, buffer.getUint32(4, true), 21, 0x85845dd1);\n        a = ii(a, b, c, d, buffer.getUint32(32, true), 6, 0x6fa87e4f);\n        d = ii(d, a, b, c, buffer.getUint32(60, true), 10, 0xfe2ce6e0);\n        c = ii(c, d, a, b, buffer.getUint32(24, true), 15, 0xa3014314);\n        b = ii(b, c, d, a, buffer.getUint32(52, true), 21, 0x4e0811a1);\n        a = ii(a, b, c, d, buffer.getUint32(16, true), 6, 0xf7537e82);\n        d = ii(d, a, b, c, buffer.getUint32(44, true), 10, 0xbd3af235);\n        c = ii(c, d, a, b, buffer.getUint32(8, true), 15, 0x2ad7d2bb);\n        b = ii(b, c, d, a, buffer.getUint32(36, true), 21, 0xeb86d391);\n        state[0] = (a + state[0]) & 0xffffffff;\n        state[1] = (b + state[1]) & 0xffffffff;\n        state[2] = (c + state[2]) & 0xffffffff;\n        state[3] = (d + state[3]) & 0xffffffff;\n    };\n    return Md5;\n}());\nexport { Md5 };\nfunction cmn(q, a, b, x, s, t) {\n    a = (((a + q) & 0xffffffff) + ((x + t) & 0xffffffff)) & 0xffffffff;\n    return (((a << s) | (a >>> (32 - s))) + b) & 0xffffffff;\n}\nfunction ff(a, b, c, d, x, s, t) {\n    return cmn((b & c) | (~b & d), a, b, x, s, t);\n}\nfunction gg(a, b, c, d, x, s, t) {\n    return cmn((b & d) | (c & ~d), a, b, x, s, t);\n}\nfunction hh(a, b, c, d, x, s, t) {\n    return cmn(b ^ c ^ d, a, b, x, s, t);\n}\nfunction ii(a, b, c, d, x, s, t) {\n    return cmn(c ^ (b | ~d), a, b, x, s, t);\n}\nfunction isEmptyData(data) {\n    if (typeof data === \"string\") {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\nfunction convertToBuffer(data) {\n    if (typeof data === \"string\") {\n        return fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUV0RCxPQUFPLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFOUQ7SUFBQTtRQUNVLFVBQUssR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9CLFdBQU0sR0FBYSxJQUFJLFFBQVEsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQzdELGlCQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLGdCQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLGFBQVEsR0FBRyxLQUFLLENBQUM7SUE2STNCLENBQUM7SUEzSUMsb0JBQU0sR0FBTixVQUFPLFVBQXNCO1FBQzNCLElBQUksV0FBVyxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQzNCLE9BQU87U0FDUjthQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN4QixNQUFNLElBQUksS0FBSyxDQUFDLCtDQUErQyxDQUFDLENBQUM7U0FDbEU7UUFFRCxJQUFNLElBQUksR0FBRyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFekMsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsSUFBQSxVQUFVLEdBQUssSUFBSSxXQUFULENBQVU7UUFDMUIsSUFBSSxDQUFDLFdBQVcsSUFBSSxVQUFVLENBQUM7UUFFL0IsT0FBTyxVQUFVLEdBQUcsQ0FBQyxFQUFFO1lBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzVELFVBQVUsRUFBRSxDQUFDO1lBRWIsSUFBSSxJQUFJLENBQUMs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QUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM5RCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUUvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDN0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM5RCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM5RCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzdELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFFL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM3RCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBRTlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM3RCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDOUQsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMvRCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM5RCxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0QsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzlELENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUUvRCxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO1FBQ3ZDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7UUFDdkMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQztRQUN2QyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBQ3pDLENBQUM7SUFDSCxVQUFDO0FBQUQsQ0FBQyxBQWxKRCxJQWtKQzs7QUFFRCxTQUFTLEdBQUcsQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7SUFDM0UsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBQ25FLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7QUFDMUQsQ0FBQztBQUVELFNBQVMsRUFBRSxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7SUFDckYsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDaEQsQ0FBQztBQUVELFNBQVMsRUFBRSxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7SUFDckYsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDaEQsQ0FBQztBQUVELFNBQVMsRUFBRSxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7SUFDckYsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3ZDLENBQUM7QUFFRCxTQUFTLEVBQUUsQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTO0lBQ3JGLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMxQyxDQUFDO0FBRUQsU0FBUyxXQUFXLENBQUMsSUFBZ0I7SUFDbkMsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDNUIsT0FBTyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztLQUMxQjtJQUVELE9BQU8sSUFBSSxDQUFDLFVBQVUsS0FBSyxDQUFDLENBQUM7QUFDL0IsQ0FBQztBQUVELFNBQVMsZUFBZSxDQUFDLElBQWdCO0lBQ3ZDLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQzVCLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3ZCO0lBRUQsSUFBSSxXQUFXLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzVCLE9BQU8sSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUM7S0FDckc7SUFFRCxPQUFPLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzlCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIYXNoLCBTb3VyY2VEYXRhIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBmcm9tVXRmOCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXV0ZjgtYnJvd3NlclwiO1xuXG5pbXBvcnQgeyBCTE9DS19TSVpFLCBESUdFU1RfTEVOR1RILCBJTklUIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBNZDUgaW1wbGVtZW50cyBIYXNoIHtcbiAgcHJpdmF0ZSBzdGF0ZSA9IFVpbnQzMkFycmF5LmZyb20oSU5JVCk7XG4gIHByaXZhdGUgYnVmZmVyOiBEYXRhVmlldyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoQkxPQ0tfU0laRSkpO1xuICBwcml2YXRlIGJ1ZmZlckxlbmd0aCA9IDA7XG4gIHByaXZhdGUgYnl0ZXNIYXNoZWQgPSAwO1xuICBwcml2YXRlIGZpbmlzaGVkID0gZmFsc2U7XG5cbiAgdXBkYXRlKHNvdXJjZURhdGE6IFNvdXJjZURhdGEpOiB2b2lkIHtcbiAgICBpZiAoaXNFbXB0eURhdGEoc291cmNlRGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmluaXNoZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byB1cGRhdGUgYW4gYWxyZWFkeSBmaW5pc2hlZCBoYXNoLlwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gY29udmVydFRvQnVmZmVyKHNvdXJjZURhdGEpO1xuXG4gICAgbGV0IHBvc2l0aW9uID0gMDtcbiAgICBsZXQgeyBieXRlTGVuZ3RoIH0gPSBkYXRhO1xuICAgIHRoaXMuYnl0ZXNIYXNoZWQgKz0gYnl0ZUxlbmd0aDtcblxuICAgIHdoaWxlIChieXRlTGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5idWZmZXIuc2V0VWludDgodGhpcy5idWZmZXJMZW5ndGgrKywgZGF0YVtwb3NpdGlvbisrXSk7XG4gICAgICBieXRlTGVuZ3RoLS07XG5cbiAgICAgIGlmICh0aGlzLmJ1ZmZlckxlbmd0aCA9PT0gQkxPQ0tfU0laRSkge1xuICAgICAgICB0aGlzLmhhc2hCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRpZ2VzdCgpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICBpZiAoIXRoaXMuZmluaXNoZWQpIHtcbiAgICAgIGNvbnN0IHsgYnVmZmVyLCBidWZmZXJMZW5ndGg6IHVuZGVjb3JhdGVkTGVuZ3RoLCBieXRlc0hhc2hlZCB9ID0gdGhpcztcbiAgICAgIGNvbnN0IGJpdHNIYXNoZWQgPSBieXRlc0hhc2hlZCAqIDg7XG4gICAgICBidWZmZXIuc2V0VWludDgodGhpcy5idWZmZXJMZW5ndGgrKywgMGIxMDAwMDAwMCk7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgZmluYWwgYmxvY2sgaGFzIGVub3VnaCByb29tIGZvciB0aGUgaGFzaGVkIGxlbmd0aFxuICAgICAgaWYgKHVuZGVjb3JhdGVkTGVuZ3RoICUgQkxPQ0tfU0laRSA+PSBCTE9DS19TSVpFIC0gOCkge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5idWZmZXJMZW5ndGg7IGkgPCBCTE9DS19TSVpFOyBpKyspIHtcbiAgICAgICAgICBidWZmZXIuc2V0VWludDgoaSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNoQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gMDtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IHRoaXMuYnVmZmVyTGVuZ3RoOyBpIDwgQkxPQ0tfU0laRSAtIDg7IGkrKykge1xuICAgICAgICBidWZmZXIuc2V0VWludDgoaSwgMCk7XG4gICAgICB9XG4gICAgICBidWZmZXIuc2V0VWludDMyKEJMT0NLX1NJWkUgLSA4LCBiaXRzSGFzaGVkID4+PiAwLCB0cnVlKTtcbiAgICAgIGJ1ZmZlci5zZXRVaW50MzIoQkxPQ0tfU0laRSAtIDQsIE1hdGguZmxvb3IoYml0c0hhc2hlZCAvIDB4MTAwMDAwMDAwKSwgdHJ1ZSk7XG5cbiAgICAgIHRoaXMuaGFzaEJ1ZmZlcigpO1xuXG4gICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBvdXQgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKERJR0VTVF9MRU5HVEgpKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgb3V0LnNldFVpbnQzMihpICogNCwgdGhpcy5zdGF0ZVtpXSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG91dC5idWZmZXIsIG91dC5ieXRlT2Zmc2V0LCBvdXQuYnl0ZUxlbmd0aCk7XG4gIH1cblxuICBwcml2YXRlIGhhc2hCdWZmZXIoKTogdm9pZCB7XG4gICAgY29uc3QgeyBidWZmZXIsIHN0YXRlIH0gPSB0aGlzO1xuXG4gICAgbGV0IGEgPSBzdGF0ZVswXSxcbiAgICAgIGIgPSBzdGF0ZVsxXSxcbiAgICAgIGMgPSBzdGF0ZVsyXSxcbiAgICAgIGQgPSBzdGF0ZVszXTtcblxuICAgIGEgPSBmZihhLCBiLCBjLCBkLCBidWZmZXIuZ2V0VWludDMyKDAsIHRydWUpLCA3LCAweGQ3NmFhNDc4KTtcbiAgICBkID0gZmYoZCwgYSwgYiwgYywgYnVmZmVyLmdldFVpbnQzMig0LCB0cnVlKSwgMTIsIDB4ZThjN2I3NTYpO1xuICAgIGMgPSBmZihjLCBkLCBhLCBiLCBidWZmZXIuZ2V0VWludDMyKDgsIHRydWUpLCAxNywgMHgyNDIwNzBkYik7XG4gICAgYiA9IGZmKGIsIGMsIGQsIGEsIGJ1ZmZlci5nZXRVaW50MzIoMTIsIHRydWUpLCAyMiwgMHhjMWJkY2VlZSk7XG4gICAgYSA9IGZmKGEsIGIsIGMsIGQsIGJ1ZmZlci5nZXRVaW50MzIoMTYsIHRydWUpLCA3LCAweGY1N2MwZmFmKTtcbiAgICBkID0gZmYoZCwgYSwgYiwgYywgYnVmZmVyLmdldFVpbnQzMigyMCwgdHJ1ZSksIDEyLCAweDQ3ODdjNjJhKTtcbiAgICBjID0gZmYoYywgZCwgYSwgYiwgYnVmZmVyLmdldFVpbnQzMigyNCwgdHJ1ZSksIDE3LCAweGE4MzA0NjEzKTtcbiAgICBiID0gZmYoYiwgYywgZCwgYSwgYnVmZmVyLmdldFVpbnQzMigyOCwgdHJ1ZSksIDIyLCAweGZkNDY5NTAxKTtcbiAgICBhID0gZmYoYSwgYiwgYywgZCwgYnVmZmVyLmdldFVpbnQzMigzMiwgdHJ1ZSksIDcsIDB4Njk4MDk4ZDgpO1xuICAgIGQgPSBmZihkLCBhLCBiLCBjLCBidWZmZXIuZ2V0VWludDMyKDM2LCB0cnVlKSwgMTIsIDB4OGI0NGY3YWYpO1xuICAgIGMgPSBmZihjLCBkLCBhLCBiLCBidWZmZXIuZ2V0VWludDMyKDQwLCB0cnVlKSwgMTcsIDB4ZmZmZjViYjEpO1xuICAgIGIgPSBmZihiLCBjLCBkLCBhLCBidWZmZXIuZ2V0VWludDMyKDQ0LCB0cnVlKSwgMjIsIDB4ODk1Y2Q3YmUpO1xuICAgIGEgPSBmZihhLCBiLCBjLCBkLCBidWZmZXIuZ2V0VWludDMyKDQ4LCB0cnVlKSwgNywgMHg2YjkwMTEyMik7XG4gICAgZCA9IGZmKGQsIGEsIGIsIGMsIGJ1ZmZlci5nZXRVaW50MzIoNTIsIHRydWUpLCAxMiwgMHhmZDk4NzE5Myk7XG4gICAgYyA9IGZmKGMsIGQsIGEsIGIsIGJ1ZmZlci5nZXRVaW50MzIoNTYsIHRydWUpLCAxNywgMHhhNjc5NDM4ZSk7XG4gICAgYiA9IGZmKGIsIGMsIGQsIGEsIGJ1ZmZlci5nZXRVaW50MzIoNjAsIHRydWUpLCAyMiwgMHg0OWI0MDgyMSk7XG5cbiAgICBhID0gZ2coYSwgYiwgYywgZCwgYnVmZmVyLmdldFVpbnQzMig0LCB0cnVlKSwgNSwgMHhmNjFlMjU2Mik7XG4gICAgZCA9IGdnKGQsIGEsIGIsIGMsIGJ1ZmZlci5nZXRVaW50MzIoMjQsIHRydWUpLCA5LCAweGMwNDBiMzQwKTtcbiAgICBjID0gZ2coYywgZCwgYSwgYiwgYnVmZmVyLmdldFVpbnQzMig0NCwgdHJ1ZSksIDE0LCAweDI2NWU1YTUxKTtcbiAgICBiID0gZ2coYiwgYywgZCwgYSwgYnVmZmVyLmdldFVpbnQzMigwLCB0cnVlKSwgMjAsIDB4ZTliNmM3YWEpO1xuICAgIGEgPSBnZyhhLCBiLCBjLCBkLCBidWZmZXIuZ2V0VWludDMyKDIwLCB0cnVlKSwgNSwgMHhkNjJmMTA1ZCk7XG4gICAgZCA9IGdnKGQsIGEsIGIsIGMsIGJ1ZmZlci5nZXRVaW50MzIoNDAsIHRydWUpLCA5LCAweDAyNDQxNDUzKTtcbiAgICBjID0gZ2coYywgZCwgYSwgYiwgYnVmZmVyLmdldFVpbnQzMig2MCwgdHJ1ZSksIDE0LCAweGQ4YTFlNjgxKTtcbiAgICBiID0gZ2coYiwgYywgZCwgYSwgYnVmZmVyLmdldFVpbnQzMigxNiwgdHJ1ZSksIDIwLCAweGU3ZDNmYmM4KTtcbiAgICBhID0gZ2coYSwgYiwgYywgZCwgYnVmZmVyLmdldFVpbnQzMigzNiwgdHJ1ZSksIDUsIDB4MjFlMWNkZTYpO1xuICAgIGQgPSBnZyhkLCBhLCBiLCBjLCBidWZmZXIuZ2V0VWludDMyKDU2LCB0cnVlKSwgOSwgMHhjMzM3MDdkNik7XG4gICAgYyA9IGdnKGMsIGQsIGEsIGIsIGJ1ZmZlci5nZXRVaW50MzIoMTIsIHRydWUpLCAxNCwgMHhmNGQ1MGQ4Nyk7XG4gICAgYiA9IGdnKGIsIGMsIGQsIGEsIGJ1ZmZlci5nZXRVaW50MzIoMzIsIHRydWUpLCAyMCwgMHg0NTVhMTRlZCk7XG4gICAgYSA9IGdnKGEsIGIsIGMsIGQsIGJ1ZmZlci5nZXRVaW50MzIoNTIsIHRydWUpLCA1LCAweGE5ZTNlOTA1KTtcbiAgICBkID0gZ2coZCwgYSwgYiwgYywgYnVmZmVyLmdldFVpbnQzMig4LCB0cnVlKSwgOSwgMHhmY2VmYTNmOCk7XG4gICAgYyA9IGdnKGMsIGQsIGEsIGIsIGJ1ZmZlci5nZXRVaW50MzIoMjgsIHRydWUpLCAxNCwgMHg2NzZmMDJkOSk7XG4gICAgYiA9IGdnKGIsIGMsIGQsIGEsIGJ1ZmZlci5nZXRVaW50MzIoNDgsIHRydWUpLCAyMCwgMHg4ZDJhNGM4YSk7XG5cbiAgICBhID0gaGgoYSwgYiwgYywgZCwgYnVmZmVyLmdldFVpbnQzMigyMCwgdHJ1ZSksIDQsIDB4ZmZmYTM5NDIpO1xuICAgIGQgPSBoaChkLCBhLCBiLCBjLCBidWZmZXIuZ2V0VWludDMyKDMyLCB0cnVlKSwgMTEsIDB4ODc3MWY2ODEpO1xuICAgIGMgPSBoaChjLCBkLCBhLCBiLCBidWZmZXIuZ2V0VWludDMyKDQ0LCB0cnVlKSwgMTYsIDB4NmQ5ZDYxMjIpO1xuICAgIGIgPSBoaChiLCBjLCBkLCBhLCBidWZmZXIuZ2V0VWludDMyKDU2LCB0cnVlKSwgMjMsIDB4ZmRlNTM4MGMpO1xuICAgIGEgPSBoaChhLCBiLCBjLCBkLCBidWZmZXIuZ2V0VWludDMyKDQsIHRydWUpLCA0LCAweGE0YmVlYTQ0KTtcbiAgICBkID0gaGgoZCwgYSwgYiwgYywgYnVmZmVyLmdldFVpbnQzMigxNiwgdHJ1ZSksIDExLCAweDRiZGVjZmE5KTtcbiAgICBjID0gaGgoYywgZCwgYSwgYiwgYnVmZmVyLmdldFVpbnQzMigyOCwgdHJ1ZSksIDE2LCAweGY2YmI0YjYwKTtcbiAgICBiID0gaGgoYiwgYywgZCwgYSwgYnVmZmVyLmdldFVpbnQzMig0MCwgdHJ1ZSksIDIzLCAweGJlYmZiYzcwKTtcbiAgICBhID0gaGgoYSwgYiwgYywgZCwgYnVmZmVyLmdldFVpbnQzMig1MiwgdHJ1ZSksIDQsIDB4Mjg5YjdlYzYpO1xuICAgIGQgPSBoaChkLCBhLCBiLCBjLCBidWZmZXIuZ2V0VWludDMyKDAsIHRydWUpLCAxMSwgMHhlYWExMjdmYSk7XG4gICAgYyA9IGhoKGMsIGQsIGEsIGIsIGJ1ZmZlci5nZXRVaW50MzIoMTIsIHRydWUpLCAxNiwgMHhkNGVmMzA4NSk7XG4gICAgYiA9IGhoKGIsIGMsIGQsIGEsIGJ1ZmZlci5nZXRVaW50MzIoMjQsIHRydWUpLCAyMywgMHgwNDg4MWQwNSk7XG4gICAgYSA9IGhoKGEsIGIsIGMsIGQsIGJ1ZmZlci5nZXRVaW50MzIoMzYsIHRydWUpLCA0LCAweGQ5ZDRkMDM5KTtcbiAgICBkID0gaGgoZCwgYSwgYiwgYywgYnVmZmVyLmdldFVpbnQzMig0OCwgdHJ1ZSksIDExLCAweGU2ZGI5OWU1KTtcbiAgICBjID0gaGgoYywgZCwgYSwgYiwgYnVmZmVyLmdldFVpbnQzMig2MCwgdHJ1ZSksIDE2LCAweDFmYTI3Y2Y4KTtcbiAgICBiID0gaGgoYiwgYywgZCwgYSwgYnVmZmVyLmdldFVpbnQzMig4LCB0cnVlKSwgMjMsIDB4YzRhYzU2NjUpO1xuXG4gICAgYSA9IGlpKGEsIGIsIGMsIGQsIGJ1ZmZlci5nZXRVaW50MzIoMCwgdHJ1ZSksIDYsIDB4ZjQyOTIyNDQpO1xuICAgIGQgPSBpaShkLCBhLCBiLCBjLCBidWZmZXIuZ2V0VWludDMyKDI4LCB0cnVlKSwgMTAsIDB4NDMyYWZmOTcpO1xuICAgIGMgPSBpaShjLCBkLCBhLCBiLCBidWZmZXIuZ2V0VWludDMyKDU2LCB0cnVlKSwgMTUsIDB4YWI5NDIzYTcpO1xuICAgIGIgPSBpaShiLCBjLCBkLCBhLCBidWZmZXIuZ2V0VWludDMyKDIwLCB0cnVlKSwgMjEsIDB4ZmM5M2EwMzkpO1xuICAgIGEgPSBpaShhLCBiLCBjLCBkLCBidWZmZXIuZ2V0VWludDMyKDQ4LCB0cnVlKSwgNiwgMHg2NTViNTljMyk7XG4gICAgZCA9IGlpKGQsIGEsIGIsIGMsIGJ1ZmZlci5nZXRVaW50MzIoMTIsIHRydWUpLCAxMCwgMHg4ZjBjY2M5Mik7XG4gICAgYyA9IGlpKGMsIGQsIGEsIGIsIGJ1ZmZlci5nZXRVaW50MzIoNDAsIHRydWUpLCAxNSwgMHhmZmVmZjQ3ZCk7XG4gICAgYiA9IGlpKGIsIGMsIGQsIGEsIGJ1ZmZlci5nZXRVaW50MzIoNCwgdHJ1ZSksIDIxLCAweDg1ODQ1ZGQxKTtcbiAgICBhID0gaWkoYSwgYiwgYywgZCwgYnVmZmVyLmdldFVpbnQzMigzMiwgdHJ1ZSksIDYsIDB4NmZhODdlNGYpO1xuICAgIGQgPSBpaShkLCBhLCBiLCBjLCBidWZmZXIuZ2V0VWludDMyKDYwLCB0cnVlKSwgMTAsIDB4ZmUyY2U2ZTApO1xuICAgIGMgPSBpaShjLCBkLCBhLCBiLCBidWZmZXIuZ2V0VWludDMyKDI0LCB0cnVlKSwgMTUsIDB4YTMwMTQzMTQpO1xuICAgIGIgPSBpaShiLCBjLCBkLCBhLCBidWZmZXIuZ2V0VWludDMyKDUyLCB0cnVlKSwgMjEsIDB4NGUwODExYTEpO1xuICAgIGEgPSBpaShhLCBiLCBjLCBkLCBidWZmZXIuZ2V0VWludDMyKDE2LCB0cnVlKSwgNiwgMHhmNzUzN2U4Mik7XG4gICAgZCA9IGlpKGQsIGEsIGIsIGMsIGJ1ZmZlci5nZXRVaW50MzIoNDQsIHRydWUpLCAxMCwgMHhiZDNhZjIzNSk7XG4gICAgYyA9IGlpKGMsIGQsIGEsIGIsIGJ1ZmZlci5nZXRVaW50MzIoOCwgdHJ1ZSksIDE1LCAweDJhZDdkMmJiKTtcbiAgICBiID0gaWkoYiwgYywgZCwgYSwgYnVmZmVyLmdldFVpbnQzMigzNiwgdHJ1ZSksIDIxLCAweGViODZkMzkxKTtcblxuICAgIHN0YXRlWzBdID0gKGEgKyBzdGF0ZVswXSkgJiAweGZmZmZmZmZmO1xuICAgIHN0YXRlWzFdID0gKGIgKyBzdGF0ZVsxXSkgJiAweGZmZmZmZmZmO1xuICAgIHN0YXRlWzJdID0gKGMgKyBzdGF0ZVsyXSkgJiAweGZmZmZmZmZmO1xuICAgIHN0YXRlWzNdID0gKGQgKyBzdGF0ZVszXSkgJiAweGZmZmZmZmZmO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNtbihxOiBudW1iZXIsIGE6IG51bWJlciwgYjogbnVtYmVyLCB4OiBudW1iZXIsIHM6IG51bWJlciwgdDogbnVtYmVyKSB7XG4gIGEgPSAoKChhICsgcSkgJiAweGZmZmZmZmZmKSArICgoeCArIHQpICYgMHhmZmZmZmZmZikpICYgMHhmZmZmZmZmZjtcbiAgcmV0dXJuICgoKGEgPDwgcykgfCAoYSA+Pj4gKDMyIC0gcykpKSArIGIpICYgMHhmZmZmZmZmZjtcbn1cblxuZnVuY3Rpb24gZmYoYTogbnVtYmVyLCBiOiBudW1iZXIsIGM6IG51bWJlciwgZDogbnVtYmVyLCB4OiBudW1iZXIsIHM6IG51bWJlciwgdDogbnVtYmVyKSB7XG4gIHJldHVybiBjbW4oKGIgJiBjKSB8ICh+YiAmIGQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gZ2coYTogbnVtYmVyLCBiOiBudW1iZXIsIGM6IG51bWJlciwgZDogbnVtYmVyLCB4OiBudW1iZXIsIHM6IG51bWJlciwgdDogbnVtYmVyKSB7XG4gIHJldHVybiBjbW4oKGIgJiBkKSB8IChjICYgfmQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gaGgoYTogbnVtYmVyLCBiOiBudW1iZXIsIGM6IG51bWJlciwgZDogbnVtYmVyLCB4OiBudW1iZXIsIHM6IG51bWJlciwgdDogbnVtYmVyKSB7XG4gIHJldHVybiBjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gaWkoYTogbnVtYmVyLCBiOiBudW1iZXIsIGM6IG51bWJlciwgZDogbnVtYmVyLCB4OiBudW1iZXIsIHM6IG51bWJlciwgdDogbnVtYmVyKSB7XG4gIHJldHVybiBjbW4oYyBeIChiIHwgfmQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gaXNFbXB0eURhdGEoZGF0YTogU291cmNlRGF0YSk6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZGF0YS5sZW5ndGggPT09IDA7XG4gIH1cblxuICByZXR1cm4gZGF0YS5ieXRlTGVuZ3RoID09PSAwO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VG9CdWZmZXIoZGF0YTogU291cmNlRGF0YSk6IFVpbnQ4QXJyYXkge1xuICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZnJvbVV0ZjgoZGF0YSk7XG4gIH1cblxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCAvIFVpbnQ4QXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEpO1xufVxuIl19","import { __awaiter, __generator, __read, __spread } from \"tslib\";\nexport var retryMiddleware = function (options) { return function (next, context) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        if ((_a = options === null || options === void 0 ? void 0 : options.retryStrategy) === null || _a === void 0 ? void 0 : _a.mode)\n            context.userAgent = __spread((context.userAgent || []), [[\"cfg/retry-mode\", options.retryStrategy.mode]]);\n        return [2 /*return*/, options.retryStrategy.retry(next, args)];\n    });\n}); }; }; };\nexport var retryMiddlewareOptions = {\n    name: \"retryMiddleware\",\n    tags: [\"RETRY\"],\n    step: \"finalizeRequest\",\n    priority: \"high\",\n    override: true,\n};\nexport var getRetryPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(retryMiddleware(options), retryMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0cnlNaWRkbGV3YXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JldHJ5TWlkZGxld2FyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBYUEsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLFVBQUMsT0FBNEIsSUFBSyxPQUFBLFVBQy9ELElBQWtDLEVBQ2xDLE9BQWdDLElBQ0MsT0FBQSxVQUNqQyxJQUFtQzs7O1FBRW5DLFVBQUksT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLGFBQWEsMENBQUUsSUFBSTtZQUM5QixPQUFPLENBQUMsU0FBUyxZQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUMsR0FBRSxDQUFDLGdCQUFnQixFQUFFLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQztRQUNyRyxzQkFBTyxPQUFPLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUM7O0tBQ2hELEVBTmtDLENBTWxDLEVBVGdFLENBU2hFLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBcUQ7SUFDdEYsSUFBSSxFQUFFLGlCQUFpQjtJQUN2QixJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUM7SUFDZixJQUFJLEVBQUUsaUJBQWlCO0lBQ3ZCLFFBQVEsRUFBRSxNQUFNO0lBQ2hCLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLGNBQWMsR0FBRyxVQUFDLE9BQTRCLElBQTBCLE9BQUEsQ0FBQztJQUNwRixZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxFQUFFLHNCQUFzQixDQUFDLENBQUM7SUFDcEUsQ0FBQztDQUNGLENBQUMsRUFKbUYsQ0FJbkYsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFic29sdXRlTG9jYXRpb24sXG4gIEZpbmFsaXplSGFuZGxlcixcbiAgRmluYWxpemVIYW5kbGVyQXJndW1lbnRzLFxuICBGaW5hbGl6ZUhhbmRsZXJPdXRwdXQsXG4gIEZpbmFsaXplUmVxdWVzdEhhbmRsZXJPcHRpb25zLFxuICBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIFBsdWdnYWJsZSxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmltcG9ydCB7IFJldHJ5UmVzb2x2ZWRDb25maWcgfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uc1wiO1xuXG5leHBvcnQgY29uc3QgcmV0cnlNaWRkbGV3YXJlID0gKG9wdGlvbnM6IFJldHJ5UmVzb2x2ZWRDb25maWcpID0+IDxPdXRwdXQgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlciA9IE1ldGFkYXRhQmVhcmVyPihcbiAgbmV4dDogRmluYWxpemVIYW5kbGVyPGFueSwgT3V0cHV0PixcbiAgY29udGV4dDogSGFuZGxlckV4ZWN1dGlvbkNvbnRleHRcbik6IEZpbmFsaXplSGFuZGxlcjxhbnksIE91dHB1dD4gPT4gYXN5bmMgKFxuICBhcmdzOiBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHM8YW55PlxuKTogUHJvbWlzZTxGaW5hbGl6ZUhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4gPT4ge1xuICBpZiAob3B0aW9ucz8ucmV0cnlTdHJhdGVneT8ubW9kZSlcbiAgICBjb250ZXh0LnVzZXJBZ2VudCA9IFsuLi4oY29udGV4dC51c2VyQWdlbnQgfHwgW10pLCBbXCJjZmcvcmV0cnktbW9kZVwiLCBvcHRpb25zLnJldHJ5U3RyYXRlZ3kubW9kZV1dO1xuICByZXR1cm4gb3B0aW9ucy5yZXRyeVN0cmF0ZWd5LnJldHJ5KG5leHQsIGFyZ3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJldHJ5TWlkZGxld2FyZU9wdGlvbnM6IEZpbmFsaXplUmVxdWVzdEhhbmRsZXJPcHRpb25zICYgQWJzb2x1dGVMb2NhdGlvbiA9IHtcbiAgbmFtZTogXCJyZXRyeU1pZGRsZXdhcmVcIixcbiAgdGFnczogW1wiUkVUUllcIl0sXG4gIHN0ZXA6IFwiZmluYWxpemVSZXF1ZXN0XCIsXG4gIHByaW9yaXR5OiBcImhpZ2hcIixcbiAgb3ZlcnJpZGU6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UmV0cnlQbHVnaW4gPSAob3B0aW9uczogUmV0cnlSZXNvbHZlZENvbmZpZyk6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQocmV0cnlNaWRkbGV3YXJlKG9wdGlvbnMpLCByZXRyeU1pZGRsZXdhcmVPcHRpb25zKTtcbiAgfSxcbn0pO1xuIl19","/**\n * Errors encountered when the client clock and server clock cannot agree on the\n * current time.\n *\n * These errors are retryable, assuming the SDK has enabled clock skew\n * correction.\n */\nexport var CLOCK_SKEW_ERROR_CODES = [\n    \"AuthFailure\",\n    \"InvalidSignatureException\",\n    \"RequestExpired\",\n    \"RequestInTheFuture\",\n    \"RequestTimeTooSkewed\",\n    \"SignatureDoesNotMatch\",\n];\n/**\n * Errors that indicate the SDK is being throttled.\n *\n * These errors are always retryable.\n */\nexport var THROTTLING_ERROR_CODES = [\n    \"BandwidthLimitExceeded\",\n    \"EC2ThrottledException\",\n    \"LimitExceededException\",\n    \"PriorRequestNotComplete\",\n    \"ProvisionedThroughputExceededException\",\n    \"RequestLimitExceeded\",\n    \"RequestThrottled\",\n    \"RequestThrottledException\",\n    \"SlowDown\",\n    \"ThrottledException\",\n    \"Throttling\",\n    \"ThrottlingException\",\n    \"TooManyRequestsException\",\n    \"TransactionInProgressException\",\n];\n/**\n * Error codes that indicate transient issues\n */\nexport var TRANSIENT_ERROR_CODES = [\"AbortError\", \"TimeoutError\", \"RequestTimeout\", \"RequestTimeoutException\"];\n/**\n * Error codes that indicate transient issues\n */\nexport var TRANSIENT_ERROR_STATUS_CODES = [500, 502, 503, 504];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRztJQUNwQyxhQUFhO0lBQ2IsMkJBQTJCO0lBQzNCLGdCQUFnQjtJQUNoQixvQkFBb0I7SUFDcEIsc0JBQXNCO0lBQ3RCLHVCQUF1QjtDQUN4QixDQUFDO0FBRUY7Ozs7R0FJRztBQUNILE1BQU0sQ0FBQyxJQUFNLHNCQUFzQixHQUFHO0lBQ3BDLHdCQUF3QjtJQUN4Qix1QkFBdUI7SUFDdkIsd0JBQXdCO0lBQ3hCLHlCQUF5QjtJQUN6Qix3Q0FBd0M7SUFDeEMsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQiwyQkFBMkI7SUFDM0IsVUFBVTtJQUNWLG9CQUFvQjtJQUNwQixZQUFZO0lBQ1oscUJBQXFCO0lBQ3JCLDBCQUEwQjtJQUMxQixnQ0FBZ0M7Q0FDakMsQ0FBQztBQUVGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0scUJBQXFCLEdBQUcsQ0FBQyxZQUFZLEVBQUUsY0FBYyxFQUFFLGdCQUFnQixFQUFFLHlCQUF5QixDQUFDLENBQUM7QUFFakg7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSw0QkFBNEIsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFcnJvcnMgZW5jb3VudGVyZWQgd2hlbiB0aGUgY2xpZW50IGNsb2NrIGFuZCBzZXJ2ZXIgY2xvY2sgY2Fubm90IGFncmVlIG9uIHRoZVxuICogY3VycmVudCB0aW1lLlxuICpcbiAqIFRoZXNlIGVycm9ycyBhcmUgcmV0cnlhYmxlLCBhc3N1bWluZyB0aGUgU0RLIGhhcyBlbmFibGVkIGNsb2NrIHNrZXdcbiAqIGNvcnJlY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBDTE9DS19TS0VXX0VSUk9SX0NPREVTID0gW1xuICBcIkF1dGhGYWlsdXJlXCIsXG4gIFwiSW52YWxpZFNpZ25hdHVyZUV4Y2VwdGlvblwiLFxuICBcIlJlcXVlc3RFeHBpcmVkXCIsXG4gIFwiUmVxdWVzdEluVGhlRnV0dXJlXCIsXG4gIFwiUmVxdWVzdFRpbWVUb29Ta2V3ZWRcIixcbiAgXCJTaWduYXR1cmVEb2VzTm90TWF0Y2hcIixcbl07XG5cbi8qKlxuICogRXJyb3JzIHRoYXQgaW5kaWNhdGUgdGhlIFNESyBpcyBiZWluZyB0aHJvdHRsZWQuXG4gKlxuICogVGhlc2UgZXJyb3JzIGFyZSBhbHdheXMgcmV0cnlhYmxlLlxuICovXG5leHBvcnQgY29uc3QgVEhST1RUTElOR19FUlJPUl9DT0RFUyA9IFtcbiAgXCJCYW5kd2lkdGhMaW1pdEV4Y2VlZGVkXCIsXG4gIFwiRUMyVGhyb3R0bGVkRXhjZXB0aW9uXCIsXG4gIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICBcIlByaW9yUmVxdWVzdE5vdENvbXBsZXRlXCIsXG4gIFwiUHJvdmlzaW9uZWRUaHJvdWdocHV0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgXCJSZXF1ZXN0TGltaXRFeGNlZWRlZFwiLFxuICBcIlJlcXVlc3RUaHJvdHRsZWRcIixcbiAgXCJSZXF1ZXN0VGhyb3R0bGVkRXhjZXB0aW9uXCIsXG4gIFwiU2xvd0Rvd25cIixcbiAgXCJUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgXCJUaHJvdHRsaW5nXCIsXG4gIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiLFxuICBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiLFxuICBcIlRyYW5zYWN0aW9uSW5Qcm9ncmVzc0V4Y2VwdGlvblwiLCAvLyBEeW5hbW9EQlxuXTtcblxuLyoqXG4gKiBFcnJvciBjb2RlcyB0aGF0IGluZGljYXRlIHRyYW5zaWVudCBpc3N1ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IFRSQU5TSUVOVF9FUlJPUl9DT0RFUyA9IFtcIkFib3J0RXJyb3JcIiwgXCJUaW1lb3V0RXJyb3JcIiwgXCJSZXF1ZXN0VGltZW91dFwiLCBcIlJlcXVlc3RUaW1lb3V0RXhjZXB0aW9uXCJdO1xuXG4vKipcbiAqIEVycm9yIGNvZGVzIHRoYXQgaW5kaWNhdGUgdHJhbnNpZW50IGlzc3Vlc1xuICovXG5leHBvcnQgY29uc3QgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUyA9IFs1MDAsIDUwMiwgNTAzLCA1MDRdO1xuIl19","import { CLOCK_SKEW_ERROR_CODES, THROTTLING_ERROR_CODES, TRANSIENT_ERROR_CODES, TRANSIENT_ERROR_STATUS_CODES, } from \"./constants\";\nexport var isRetryableByTrait = function (error) { return error.$retryable !== undefined; };\nexport var isClockSkewError = function (error) { return CLOCK_SKEW_ERROR_CODES.includes(error.name); };\nexport var isThrottlingError = function (error) {\n    var _a, _b;\n    return ((_a = error.$metadata) === null || _a === void 0 ? void 0 : _a.httpStatusCode) === 429 ||\n        THROTTLING_ERROR_CODES.includes(error.name) ||\n        ((_b = error.$retryable) === null || _b === void 0 ? void 0 : _b.throttling) == true;\n};\nexport var isTransientError = function (error) {\n    var _a;\n    return TRANSIENT_ERROR_CODES.includes(error.name) ||\n        TRANSIENT_ERROR_STATUS_CODES.includes(((_a = error.$metadata) === null || _a === void 0 ? void 0 : _a.httpStatusCode) || 0);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUNMLHNCQUFzQixFQUN0QixzQkFBc0IsRUFDdEIscUJBQXFCLEVBQ3JCLDRCQUE0QixHQUM3QixNQUFNLGFBQWEsQ0FBQztBQUVyQixNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FBRyxVQUFDLEtBQWUsSUFBSyxPQUFBLEtBQUssQ0FBQyxVQUFVLEtBQUssU0FBUyxFQUE5QixDQUE4QixDQUFDO0FBRXRGLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLFVBQUMsS0FBZSxJQUFLLE9BQUEsc0JBQXNCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBM0MsQ0FBMkMsQ0FBQztBQUVqRyxNQUFNLENBQUMsSUFBTSxpQkFBaUIsR0FBRyxVQUFDLEtBQWU7O0lBQy9DLE9BQUEsT0FBQSxLQUFLLENBQUMsU0FBUywwQ0FBRSxjQUFjLE1BQUssR0FBRztRQUN2QyxzQkFBc0IsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztRQUMzQyxPQUFBLEtBQUssQ0FBQyxVQUFVLDBDQUFFLFVBQVUsS0FBSSxJQUFJLENBQUE7Q0FBQSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLFVBQUMsS0FBZTs7SUFDOUMsT0FBQSxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztRQUMxQyw0QkFBNEIsQ0FBQyxRQUFRLENBQUMsT0FBQSxLQUFLLENBQUMsU0FBUywwQ0FBRSxjQUFjLEtBQUksQ0FBQyxDQUFDLENBQUE7Q0FBQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2RrRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuXG5pbXBvcnQge1xuICBDTE9DS19TS0VXX0VSUk9SX0NPREVTLFxuICBUSFJPVFRMSU5HX0VSUk9SX0NPREVTLFxuICBUUkFOU0lFTlRfRVJST1JfQ09ERVMsXG4gIFRSQU5TSUVOVF9FUlJPUl9TVEFUVVNfQ09ERVMsXG59IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgY29uc3QgaXNSZXRyeWFibGVCeVRyYWl0ID0gKGVycm9yOiBTZGtFcnJvcikgPT4gZXJyb3IuJHJldHJ5YWJsZSAhPT0gdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgaXNDbG9ja1NrZXdFcnJvciA9IChlcnJvcjogU2RrRXJyb3IpID0+IENMT0NLX1NLRVdfRVJST1JfQ09ERVMuaW5jbHVkZXMoZXJyb3IubmFtZSk7XG5cbmV4cG9ydCBjb25zdCBpc1Rocm90dGxpbmdFcnJvciA9IChlcnJvcjogU2RrRXJyb3IpID0+XG4gIGVycm9yLiRtZXRhZGF0YT8uaHR0cFN0YXR1c0NvZGUgPT09IDQyOSB8fFxuICBUSFJPVFRMSU5HX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yLm5hbWUpIHx8XG4gIGVycm9yLiRyZXRyeWFibGU/LnRocm90dGxpbmcgPT0gdHJ1ZTtcblxuZXhwb3J0IGNvbnN0IGlzVHJhbnNpZW50RXJyb3IgPSAoZXJyb3I6IFNka0Vycm9yKSA9PlxuICBUUkFOU0lFTlRfRVJST1JfQ09ERVMuaW5jbHVkZXMoZXJyb3IubmFtZSkgfHxcbiAgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUy5pbmNsdWRlcyhlcnJvci4kbWV0YWRhdGE/Lmh0dHBTdGF0dXNDb2RlIHx8IDApO1xuIl19","import { MAXIMUM_RETRY_DELAY } from \"./constants\";\n/**\n * Calculate a capped, fully-jittered exponential backoff time.\n */\nexport var defaultDelayDecider = function (delayBase, attempts) {\n    return Math.floor(Math.min(MAXIMUM_RETRY_DELAY, Math.random() * Math.pow(2, attempts) * delayBase));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsYXlEZWNpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2RlbGF5RGVjaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFbEQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRyxVQUFDLFNBQWlCLEVBQUUsUUFBZ0I7SUFDckUsT0FBQSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLFNBQUEsQ0FBQyxFQUFJLFFBQVEsQ0FBQSxHQUFHLFNBQVMsQ0FBQyxDQUFDO0FBQXBGLENBQW9GLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNQVhJTVVNX1JFVFJZX0RFTEFZIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgY2FwcGVkLCBmdWxseS1qaXR0ZXJlZCBleHBvbmVudGlhbCBiYWNrb2ZmIHRpbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0RGVsYXlEZWNpZGVyID0gKGRlbGF5QmFzZTogbnVtYmVyLCBhdHRlbXB0czogbnVtYmVyKSA9PlxuICBNYXRoLmZsb29yKE1hdGgubWluKE1BWElNVU1fUkVUUllfREVMQVksIE1hdGgucmFuZG9tKCkgKiAyICoqIGF0dGVtcHRzICogZGVsYXlCYXNlKSk7XG4iXX0=","/**\n * The base number of milliseconds to use in calculating a suitable cool-down\n * time when a retryable error is encountered.\n */\nexport var DEFAULT_RETRY_DELAY_BASE = 100;\n/**\n * The maximum amount of time (in milliseconds) that will be used as a delay\n * between retry attempts.\n */\nexport var MAXIMUM_RETRY_DELAY = 20 * 1000;\n/**\n * The retry delay base (in milliseconds) to use when a throttling error is\n * encountered.\n */\nexport var THROTTLING_RETRY_DELAY_BASE = 500;\n/**\n * Initial number of retry tokens in Retry Quota\n */\nexport var INITIAL_RETRY_TOKENS = 500;\n/**\n * The total amount of retry tokens to be decremented from retry token balance.\n */\nexport var RETRY_COST = 5;\n/**\n * The total amount of retry tokens to be decremented from retry token balance\n * when a throttling error is encountered.\n */\nexport var TIMEOUT_RETRY_COST = 10;\n/**\n * The total amount of retry token to be incremented from retry token balance\n * if an SDK operation invocation succeeds without requiring a retry request.\n */\nexport var NO_RETRY_INCREMENT = 1;\n/**\n * Header name for SDK invocation ID\n */\nexport var INVOCATION_ID_HEADER = \"amz-sdk-invocation-id\";\n/**\n * Header name for request retry information.\n */\nexport var REQUEST_HEADER = \"amz-sdk-request\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSx3QkFBd0IsR0FBRyxHQUFHLENBQUM7QUFFNUM7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQztBQUU3Qzs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSwyQkFBMkIsR0FBRyxHQUFHLENBQUM7QUFFL0M7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxHQUFHLENBQUM7QUFFeEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBRTVCOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLEVBQUUsQ0FBQztBQUVyQzs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FBRyxDQUFDLENBQUM7QUFFcEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyx1QkFBdUIsQ0FBQztBQUU1RDs7R0FFRztBQUNILE1BQU0sQ0FBQyxJQUFNLGNBQWMsR0FBRyxpQkFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIGJhc2UgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB1c2UgaW4gY2FsY3VsYXRpbmcgYSBzdWl0YWJsZSBjb29sLWRvd25cbiAqIHRpbWUgd2hlbiBhIHJldHJ5YWJsZSBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUkVUUllfREVMQVlfQkFTRSA9IDEwMDtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGF0IHdpbGwgYmUgdXNlZCBhcyBhIGRlbGF5XG4gKiBiZXR3ZWVuIHJldHJ5IGF0dGVtcHRzLlxuICovXG5leHBvcnQgY29uc3QgTUFYSU1VTV9SRVRSWV9ERUxBWSA9IDIwICogMTAwMDtcblxuLyoqXG4gKiBUaGUgcmV0cnkgZGVsYXkgYmFzZSAoaW4gbWlsbGlzZWNvbmRzKSB0byB1c2Ugd2hlbiBhIHRocm90dGxpbmcgZXJyb3IgaXNcbiAqIGVuY291bnRlcmVkLlxuICovXG5leHBvcnQgY29uc3QgVEhST1RUTElOR19SRVRSWV9ERUxBWV9CQVNFID0gNTAwO1xuXG4vKipcbiAqIEluaXRpYWwgbnVtYmVyIG9mIHJldHJ5IHRva2VucyBpbiBSZXRyeSBRdW90YVxuICovXG5leHBvcnQgY29uc3QgSU5JVElBTF9SRVRSWV9UT0tFTlMgPSA1MDA7XG5cbi8qKlxuICogVGhlIHRvdGFsIGFtb3VudCBvZiByZXRyeSB0b2tlbnMgdG8gYmUgZGVjcmVtZW50ZWQgZnJvbSByZXRyeSB0b2tlbiBiYWxhbmNlLlxuICovXG5leHBvcnQgY29uc3QgUkVUUllfQ09TVCA9IDU7XG5cbi8qKlxuICogVGhlIHRvdGFsIGFtb3VudCBvZiByZXRyeSB0b2tlbnMgdG8gYmUgZGVjcmVtZW50ZWQgZnJvbSByZXRyeSB0b2tlbiBiYWxhbmNlXG4gKiB3aGVuIGEgdGhyb3R0bGluZyBlcnJvciBpcyBlbmNvdW50ZXJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFRJTUVPVVRfUkVUUllfQ09TVCA9IDEwO1xuXG4vKipcbiAqIFRoZSB0b3RhbCBhbW91bnQgb2YgcmV0cnkgdG9rZW4gdG8gYmUgaW5jcmVtZW50ZWQgZnJvbSByZXRyeSB0b2tlbiBiYWxhbmNlXG4gKiBpZiBhbiBTREsgb3BlcmF0aW9uIGludm9jYXRpb24gc3VjY2VlZHMgd2l0aG91dCByZXF1aXJpbmcgYSByZXRyeSByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgTk9fUkVUUllfSU5DUkVNRU5UID0gMTtcblxuLyoqXG4gKiBIZWFkZXIgbmFtZSBmb3IgU0RLIGludm9jYXRpb24gSURcbiAqL1xuZXhwb3J0IGNvbnN0IElOVk9DQVRJT05fSURfSEVBREVSID0gXCJhbXotc2RrLWludm9jYXRpb24taWRcIjtcblxuLyoqXG4gKiBIZWFkZXIgbmFtZSBmb3IgcmVxdWVzdCByZXRyeSBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFJFUVVFU1RfSEVBREVSID0gXCJhbXotc2RrLXJlcXVlc3RcIjtcbiJdfQ==","import { isClockSkewError, isRetryableByTrait, isThrottlingError, isTransientError, } from \"@aws-sdk/service-error-classification\";\nexport var defaultRetryDecider = function (error) {\n    if (!error) {\n        return false;\n    }\n    return isRetryableByTrait(error) || isClockSkewError(error) || isThrottlingError(error) || isTransientError(error);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0cnlEZWNpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JldHJ5RGVjaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixpQkFBaUIsRUFDakIsZ0JBQWdCLEdBQ2pCLE1BQU0sdUNBQXVDLENBQUM7QUFHL0MsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsVUFBQyxLQUFlO0lBQ2pELElBQUksQ0FBQyxLQUFLLEVBQUU7UUFDVixPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsT0FBTyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNySCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc0Nsb2NrU2tld0Vycm9yLFxuICBpc1JldHJ5YWJsZUJ5VHJhaXQsXG4gIGlzVGhyb3R0bGluZ0Vycm9yLFxuICBpc1RyYW5zaWVudEVycm9yLFxufSBmcm9tIFwiQGF3cy1zZGsvc2VydmljZS1lcnJvci1jbGFzc2lmaWNhdGlvblwiO1xuaW1wb3J0IHsgU2RrRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdFJldHJ5RGVjaWRlciA9IChlcnJvcjogU2RrRXJyb3IpID0+IHtcbiAgaWYgKCFlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc1JldHJ5YWJsZUJ5VHJhaXQoZXJyb3IpIHx8IGlzQ2xvY2tTa2V3RXJyb3IoZXJyb3IpIHx8IGlzVGhyb3R0bGluZ0Vycm9yKGVycm9yKSB8fCBpc1RyYW5zaWVudEVycm9yKGVycm9yKTtcbn07XG4iXX0=","import { __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { isThrottlingError } from \"@aws-sdk/service-error-classification\";\nimport { v4 } from \"uuid\";\nimport { DEFAULT_RETRY_DELAY_BASE, INITIAL_RETRY_TOKENS, INVOCATION_ID_HEADER, REQUEST_HEADER, THROTTLING_RETRY_DELAY_BASE, } from \"./constants\";\nimport { getDefaultRetryQuota } from \"./defaultRetryQuota\";\nimport { defaultDelayDecider } from \"./delayDecider\";\nimport { defaultRetryDecider } from \"./retryDecider\";\n/**\n * The default value for how many HTTP requests an SDK should make for a\n * single SDK operation invocation before giving up\n */\nexport var DEFAULT_MAX_ATTEMPTS = 3;\n/**\n * The default retry algorithm to use.\n */\nexport var DEFAULT_RETRY_MODE = \"standard\";\nvar StandardRetryStrategy = /** @class */ (function () {\n    function StandardRetryStrategy(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = DEFAULT_RETRY_MODE;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null && _a !== void 0 ? _a : defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null && _b !== void 0 ? _b : defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null && _c !== void 0 ? _c : getDefaultRetryQuota(INITIAL_RETRY_TOKENS);\n    }\n    StandardRetryStrategy.prototype.shouldRetry = function (error, attempts, maxAttempts) {\n        return attempts < maxAttempts && this.retryDecider(error) && this.retryQuota.hasRetryTokens(error);\n    };\n    StandardRetryStrategy.prototype.getMaxAttempts = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var maxAttempts, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.maxAttemptsProvider()];\n                    case 1:\n                        maxAttempts = _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _a.sent();\n                        maxAttempts = DEFAULT_MAX_ATTEMPTS;\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/, maxAttempts];\n                }\n            });\n        });\n    };\n    StandardRetryStrategy.prototype.retry = function (next, args) {\n        return __awaiter(this, void 0, void 0, function () {\n            var retryTokenAmount, attempts, totalDelay, maxAttempts, request, _loop_1, this_1, state_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        attempts = 0;\n                        totalDelay = 0;\n                        return [4 /*yield*/, this.getMaxAttempts()];\n                    case 1:\n                        maxAttempts = _a.sent();\n                        request = args.request;\n                        if (HttpRequest.isInstance(request)) {\n                            request.headers[INVOCATION_ID_HEADER] = v4();\n                        }\n                        _loop_1 = function () {\n                            var _a, response, output, err_1, delay_1;\n                            return __generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        _b.trys.push([0, 2, , 5]);\n                                        if (HttpRequest.isInstance(request)) {\n                                            request.headers[REQUEST_HEADER] = \"attempt=\" + (attempts + 1) + \"; max=\" + maxAttempts;\n                                        }\n                                        return [4 /*yield*/, next(args)];\n                                    case 1:\n                                        _a = _b.sent(), response = _a.response, output = _a.output;\n                                        this_1.retryQuota.releaseRetryTokens(retryTokenAmount);\n                                        output.$metadata.attempts = attempts + 1;\n                                        output.$metadata.totalRetryDelay = totalDelay;\n                                        return [2 /*return*/, { value: { response: response, output: output } }];\n                                    case 2:\n                                        err_1 = _b.sent();\n                                        attempts++;\n                                        if (!this_1.shouldRetry(err_1, attempts, maxAttempts)) return [3 /*break*/, 4];\n                                        retryTokenAmount = this_1.retryQuota.retrieveRetryTokens(err_1);\n                                        delay_1 = this_1.delayDecider(isThrottlingError(err_1) ? THROTTLING_RETRY_DELAY_BASE : DEFAULT_RETRY_DELAY_BASE, attempts);\n                                        totalDelay += delay_1;\n                                        return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, delay_1); })];\n                                    case 3:\n                                        _b.sent();\n                                        return [2 /*return*/, \"continue\"];\n                                    case 4:\n                                        if (!err_1.$metadata) {\n                                            err_1.$metadata = {};\n                                        }\n                                        err_1.$metadata.attempts = attempts;\n                                        err_1.$metadata.totalRetryDelay = totalDelay;\n                                        throw err_1;\n                                    case 5: return [2 /*return*/];\n                                }\n                            });\n                        };\n                        this_1 = this;\n                        _a.label = 2;\n                    case 2:\n                        if (!true) return [3 /*break*/, 4];\n                        return [5 /*yield**/, _loop_1()];\n                    case 3:\n                        state_1 = _a.sent();\n                        if (typeof state_1 === \"object\")\n                            return [2 /*return*/, state_1.value];\n                        return [3 /*break*/, 2];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return StandardRetryStrategy;\n}());\nexport { StandardRetryStrategy };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2RlZmF1bHRTdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3JELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRzFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFMUIsT0FBTyxFQUNMLHdCQUF3QixFQUN4QixvQkFBb0IsRUFDcEIsb0JBQW9CLEVBQ3BCLGNBQWMsRUFDZCwyQkFBMkIsR0FDNUIsTUFBTSxhQUFhLENBQUM7QUFDckIsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDM0QsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDckQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFckQ7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLElBQU0sb0JBQW9CLEdBQUcsQ0FBQyxDQUFDO0FBRXRDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0sa0JBQWtCLEdBQUcsVUFBVSxDQUFDO0FBb0Q3QztJQU1FLCtCQUE2QixtQkFBcUMsRUFBRSxPQUFzQzs7UUFBN0Usd0JBQW1CLEdBQW5CLG1CQUFtQixDQUFrQjtRQUZsRCxTQUFJLEdBQUcsa0JBQWtCLENBQUM7UUFHeEMsSUFBSSxDQUFDLFlBQVksU0FBRyxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsWUFBWSxtQ0FBSSxtQkFBbUIsQ0FBQztRQUNqRSxJQUFJLENBQUMsWUFBWSxTQUFHLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxZQUFZLG1DQUFJLG1CQUFtQixDQUFDO1FBQ2pFLElBQUksQ0FBQyxVQUFVLFNBQUcsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxD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IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IGlzVGhyb3R0bGluZ0Vycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3NlcnZpY2UtZXJyb3ItY2xhc3NpZmljYXRpb25cIjtcbmltcG9ydCB7IFNka0Vycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IEZpbmFsaXplSGFuZGxlciwgRmluYWxpemVIYW5kbGVyQXJndW1lbnRzLCBNZXRhZGF0YUJlYXJlciwgUHJvdmlkZXIsIFJldHJ5U3RyYXRlZ3kgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcblxuaW1wb3J0IHtcbiAgREVGQVVMVF9SRVRSWV9ERUxBWV9CQVNFLFxuICBJTklUSUFMX1JFVFJZX1RPS0VOUyxcbiAgSU5WT0NBVElPTl9JRF9IRUFERVIsXG4gIFJFUVVFU1RfSEVBREVSLFxuICBUSFJPVFRMSU5HX1JFVFJZX0RFTEFZX0JBU0UsXG59IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFJldHJ5UXVvdGEgfSBmcm9tIFwiLi9kZWZhdWx0UmV0cnlRdW90YVwiO1xuaW1wb3J0IHsgZGVmYXVsdERlbGF5RGVjaWRlciB9IGZyb20gXCIuL2RlbGF5RGVjaWRlclwiO1xuaW1wb3J0IHsgZGVmYXVsdFJldHJ5RGVjaWRlciB9IGZyb20gXCIuL3JldHJ5RGVjaWRlclwiO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHZhbHVlIGZvciBob3cgbWFueSBIVFRQIHJlcXVlc3RzIGFuIFNESyBzaG91bGQgbWFrZSBmb3IgYVxuICogc2luZ2xlIFNESyBvcGVyYXRpb24gaW52b2NhdGlvbiBiZWZvcmUgZ2l2aW5nIHVwXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX01BWF9BVFRFTVBUUyA9IDM7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgcmV0cnkgYWxnb3JpdGhtIHRvIHVzZS5cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUkVUUllfTU9ERSA9IFwic3RhbmRhcmRcIjtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYW4gZXJyb3IgaXMgcmV0cnlhYmxlIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgcmV0cmllc1xuICogYWxyZWFkeSBhdHRlbXB0ZWQsIHRoZSBIVFRQIHN0YXR1cyBjb2RlLCBhbmQgdGhlIGVycm9yIHJlY2VpdmVkIChpZiBhbnkpLlxuICpcbiAqIEBwYXJhbSBlcnJvciAgICAgICAgIFRoZSBlcnJvciBlbmNvdW50ZXJlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXRyeURlY2lkZXIge1xuICAoZXJyb3I6IFNka0Vycm9yKTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHJldHJ5aW5nIGFuIGFjdGlvbi5cbiAqXG4gKiBAcGFyYW0gZGVsYXlCYXNlIFRoZSBiYXNlIGRlbGF5IChpbiBtaWxsaXNlY29uZHMpLlxuICogQHBhcmFtIGF0dGVtcHRzICBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBhY3Rpb24gaGFzIGFscmVhZHkgYmVlbiB0cmllZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWxheURlY2lkZXIge1xuICAoZGVsYXlCYXNlOiBudW1iZXIsIGF0dGVtcHRzOiBudW1iZXIpOiBudW1iZXI7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIHRoYXQgc3BlY2lmaWVzIHRoZSByZXRyeSBxdW90YSBiZWhhdmlvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXRyeVF1b3RhIHtcbiAgLyoqXG4gICAqIHJldHVybnMgdHJ1ZSBpZiByZXRyeSB0b2tlbnMgYXJlIGF2YWlsYWJsZSBmcm9tIHRoZSByZXRyeSBxdW90YSBidWNrZXQuXG4gICAqL1xuICBoYXNSZXRyeVRva2VuczogKGVycm9yOiBTZGtFcnJvcikgPT4gYm9vbGVhbjtcblxuICAvKipcbiAgICogcmV0dXJucyB0b2tlbiBhbW91bnQgZnJvbSB0aGUgcmV0cnkgcXVvdGEgYnVja2V0LlxuICAgKiB0aHJvd3MgZXJyb3IgaXMgcmV0cnkgdG9rZW5zIGFyZSBub3QgYXZhaWxhYmxlLlxuICAgKi9cbiAgcmV0cmlldmVSZXRyeVRva2VuczogKGVycm9yOiBTZGtFcnJvcikgPT4gbnVtYmVyO1xuXG4gIC8qKlxuICAgKiByZWxlYXNlcyB0b2tlbnMgYmFjayB0byB0aGUgcmV0cnkgcXVvdGEuXG4gICAqL1xuICByZWxlYXNlUmV0cnlUb2tlbnM6IChyZWxlYXNlQ2FwYWNpdHlBbW91bnQ/OiBudW1iZXIpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogU3RyYXRlZ3kgb3B0aW9ucyB0byBiZSBwYXNzZWQgdG8gU3RhbmRhcmRSZXRyeVN0cmF0ZWd5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5T3B0aW9ucyB7XG4gIHJldHJ5RGVjaWRlcj86IFJldHJ5RGVjaWRlcjtcbiAgZGVsYXlEZWNpZGVyPzogRGVsYXlEZWNpZGVyO1xuICByZXRyeVF1b3RhPzogUmV0cnlRdW90YTtcbn1cblxuZXhwb3J0IGNsYXNzIFN0YW5kYXJkUmV0cnlTdHJhdGVneSBpbXBsZW1lbnRzIFJldHJ5U3RyYXRlZ3kge1xuICBwcml2YXRlIHJldHJ5RGVjaWRlcjogUmV0cnlEZWNpZGVyO1xuICBwcml2YXRlIGRlbGF5RGVjaWRlcjogRGVsYXlEZWNpZGVyO1xuICBwcml2YXRlIHJldHJ5UXVvdGE6IFJldHJ5UXVvdGE7XG4gIHB1YmxpYyByZWFkb25seSBtb2RlID0gREVGQVVMVF9SRVRSWV9NT0RFO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgbWF4QXR0ZW1wdHNQcm92aWRlcjogUHJvdmlkZXI8bnVtYmVyPiwgb3B0aW9ucz86IFN0YW5kYXJkUmV0cnlTdHJhdGVneU9wdGlvbnMpIHtcbiAgICB0aGlzLnJldHJ5RGVjaWRlciA9IG9wdGlvbnM/LnJldHJ5RGVjaWRlciA/PyBkZWZhdWx0UmV0cnlEZWNpZGVyO1xuICAgIHRoaXMuZGVsYXlEZWNpZGVyID0gb3B0aW9ucz8uZGVsYXlEZWNpZGVyID8/IGRlZmF1bHREZWxheURlY2lkZXI7XG4gICAgdGhpcy5yZXRyeVF1b3RhID0gb3B0aW9ucz8ucmV0cnlRdW90YSA/PyBnZXREZWZhdWx0UmV0cnlRdW90YShJTklUSUFMX1JFVFJZX1RPS0VOUyk7XG4gIH1cblxuICBwcml2YXRlIHNob3VsZFJldHJ5KGVycm9yOiBTZGtFcnJvciwgYXR0ZW1wdHM6IG51bWJlciwgbWF4QXR0ZW1wdHM6IG51bWJlcikge1xuICAgIHJldHVybiBhdHRlbXB0cyA8IG1heEF0dGVtcHRzICYmIHRoaXMucmV0cnlEZWNpZGVyKGVycm9yKSAmJiB0aGlzLnJldHJ5UXVvdGEuaGFzUmV0cnlUb2tlbnMoZXJyb3IpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRNYXhBdHRlbXB0cygpIHtcbiAgICBsZXQgbWF4QXR0ZW1wdHM6IG51bWJlcjtcbiAgICB0cnkge1xuICAgICAgbWF4QXR0ZW1wdHMgPSBhd2FpdCB0aGlzLm1heEF0dGVtcHRzUHJvdmlkZXIoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbWF4QXR0ZW1wdHMgPSBERUZBVUxUX01BWF9BVFRFTVBUUztcbiAgICB9XG4gICAgcmV0dXJuIG1heEF0dGVtcHRzO1xuICB9XG5cbiAgYXN5bmMgcmV0cnk8SW5wdXQgZXh0ZW5kcyBvYmplY3QsIE91cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXI+KFxuICAgIG5leHQ6IEZpbmFsaXplSGFuZGxlcjxJbnB1dCwgT3VwdXQ+LFxuICAgIGFyZ3M6IEZpbmFsaXplSGFuZGxlckFyZ3VtZW50czxJbnB1dD5cbiAgKSB7XG4gICAgbGV0IHJldHJ5VG9rZW5BbW91bnQ7XG4gICAgbGV0IGF0dGVtcHRzID0gMDtcbiAgICBsZXQgdG90YWxEZWxheSA9IDA7XG5cbiAgICBjb25zdCBtYXhBdHRlbXB0cyA9IGF3YWl0IHRoaXMuZ2V0TWF4QXR0ZW1wdHMoKTtcblxuICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgcmVxdWVzdC5oZWFkZXJzW0lOVk9DQVRJT05fSURfSEVBREVSXSA9IHY0KCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChIdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpKSB7XG4gICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1JFUVVFU1RfSEVBREVSXSA9IGBhdHRlbXB0PSR7YXR0ZW1wdHMgKyAxfTsgbWF4PSR7bWF4QXR0ZW1wdHN9YDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHJlc3BvbnNlLCBvdXRwdXQgfSA9IGF3YWl0IG5leHQoYXJncyk7XG5cbiAgICAgICAgdGhpcy5yZXRyeVF1b3RhLnJlbGVhc2VSZXRyeVRva2VucyhyZXRyeVRva2VuQW1vdW50KTtcbiAgICAgICAgb3V0cHV0LiRtZXRhZGF0YS5hdHRlbXB0cyA9IGF0dGVtcHRzICsgMTtcbiAgICAgICAgb3V0cHV0LiRtZXRhZGF0YS50b3RhbFJldHJ5RGVsYXkgPSB0b3RhbERlbGF5O1xuXG4gICAgICAgIHJldHVybiB7IHJlc3BvbnNlLCBvdXRwdXQgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBhdHRlbXB0cysrO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRSZXRyeShlcnIgYXMgU2RrRXJyb3IsIGF0dGVtcHRzLCBtYXhBdHRlbXB0cykpIHtcbiAgICAgICAgICByZXRyeVRva2VuQW1vdW50ID0gdGhpcy5yZXRyeVF1b3RhLnJldHJpZXZlUmV0cnlUb2tlbnMoZXJyKTtcbiAgICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuZGVsYXlEZWNpZGVyKFxuICAgICAgICAgICAgaXNUaHJvdHRsaW5nRXJyb3IoZXJyKSA/IFRIUk9UVExJTkdfUkVUUllfREVMQVlfQkFTRSA6IERFRkFVTFRfUkVUUllfREVMQVlfQkFTRSxcbiAgICAgICAgICAgIGF0dGVtcHRzXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0b3RhbERlbGF5ICs9IGRlbGF5O1xuXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZXJyLiRtZXRhZGF0YSkge1xuICAgICAgICAgIGVyci4kbWV0YWRhdGEgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVyci4kbWV0YWRhdGEuYXR0ZW1wdHMgPSBhdHRlbXB0cztcbiAgICAgICAgZXJyLiRtZXRhZGF0YS50b3RhbFJldHJ5RGVsYXkgPSB0b3RhbERlbGF5O1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=","import { NO_RETRY_INCREMENT, RETRY_COST, TIMEOUT_RETRY_COST } from \"./constants\";\nexport var getDefaultRetryQuota = function (initialRetryTokens) {\n    var MAX_CAPACITY = initialRetryTokens;\n    var availableCapacity = initialRetryTokens;\n    var getCapacityAmount = function (error) { return (error.name === \"TimeoutError\" ? TIMEOUT_RETRY_COST : RETRY_COST); };\n    var hasRetryTokens = function (error) { return getCapacityAmount(error) <= availableCapacity; };\n    var retrieveRetryTokens = function (error) {\n        if (!hasRetryTokens(error)) {\n            // retryStrategy should stop retrying, and return last error\n            throw new Error(\"No retry token available\");\n        }\n        var capacityAmount = getCapacityAmount(error);\n        availableCapacity -= capacityAmount;\n        return capacityAmount;\n    };\n    var releaseRetryTokens = function (capacityReleaseAmount) {\n        availableCapacity += capacityReleaseAmount !== null && capacityReleaseAmount !== void 0 ? capacityReleaseAmount : NO_RETRY_INCREMENT;\n        availableCapacity = Math.min(availableCapacity, MAX_CAPACITY);\n    };\n    return Object.freeze({\n        hasRetryTokens: hasRetryTokens,\n        retrieveRetryTokens: retrieveRetryTokens,\n        releaseRetryTokens: releaseRetryTokens,\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFJldHJ5UXVvdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGVmYXVsdFJldHJ5UXVvdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFVBQVUsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUdqRixNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxVQUFDLGtCQUEwQjtJQUM3RCxJQUFNLFlBQVksR0FBRyxrQkFBa0IsQ0FBQztJQUN4QyxJQUFJLGlCQUFpQixHQUFHLGtCQUFrQixDQUFDO0lBRTNDLElBQU0saUJBQWlCLEdBQUcsVUFBQyxLQUFlLElBQUssT0FBQSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssY0FBYyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQWpFLENBQWlFLENBQUM7SUFFakgsSUFBTSxjQUFjLEdBQUcsVUFBQyxLQUFlLElBQUssT0FBQSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxpQkFBaUIsRUFBN0MsQ0FBNkMsQ0FBQztJQUUxRixJQUFNLG1CQUFtQixHQUFHLFVBQUMsS0FBZTtRQUMxQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQzFCLDREQUE0RDtZQUM1RCxNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7U0FDN0M7UUFDRCxJQUFNLGNBQWMsR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRCxpQkFBaUIsSUFBSSxjQUFjLENBQUM7UUFDcEMsT0FBTyxjQUFjLENBQUM7SUFDeEIsQ0FBQyxDQUFDO0lBRUYsSUFBTSxrQkFBa0IsR0FBRyxVQUFDLHFCQUE4QjtRQUN4RCxpQkFBaUIsSUFBSSxxQkFBcUIsYUFBckIscUJBQXFCLGNBQXJCLHFCQUFxQixHQUFJLGtCQUFrQixDQUFDO1FBQ2pFLGlCQUFpQixHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDaEUsQ0FBQyxDQUFDO0lBRUYsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ25CLGNBQWMsZ0JBQUE7UUFDZCxtQkFBbUIscUJBQUE7UUFDbkIsa0JBQWtCLG9CQUFBO0tBQ25CLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNka0Vycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcblxuaW1wb3J0IHsgTk9fUkVUUllfSU5DUkVNRU5ULCBSRVRSWV9DT1NULCBUSU1FT1VUX1JFVFJZX0NPU1QgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IFJldHJ5UXVvdGEgfSBmcm9tIFwiLi9kZWZhdWx0U3RyYXRlZ3lcIjtcblxuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRSZXRyeVF1b3RhID0gKGluaXRpYWxSZXRyeVRva2VuczogbnVtYmVyKTogUmV0cnlRdW90YSA9PiB7XG4gIGNvbnN0IE1BWF9DQVBBQ0lUWSA9IGluaXRpYWxSZXRyeVRva2VucztcbiAgbGV0IGF2YWlsYWJsZUNhcGFjaXR5ID0gaW5pdGlhbFJldHJ5VG9rZW5zO1xuXG4gIGNvbnN0IGdldENhcGFjaXR5QW1vdW50ID0gKGVycm9yOiBTZGtFcnJvcikgPT4gKGVycm9yLm5hbWUgPT09IFwiVGltZW91dEVycm9yXCIgPyBUSU1FT1VUX1JFVFJZX0NPU1QgOiBSRVRSWV9DT1NUKTtcblxuICBjb25zdCBoYXNSZXRyeVRva2VucyA9IChlcnJvcjogU2RrRXJyb3IpID0+IGdldENhcGFjaXR5QW1vdW50KGVycm9yKSA8PSBhdmFpbGFibGVDYXBhY2l0eTtcblxuICBjb25zdCByZXRyaWV2ZVJldHJ5VG9rZW5zID0gKGVycm9yOiBTZGtFcnJvcikgPT4ge1xuICAgIGlmICghaGFzUmV0cnlUb2tlbnMoZXJyb3IpKSB7XG4gICAgICAvLyByZXRyeVN0cmF0ZWd5IHNob3VsZCBzdG9wIHJldHJ5aW5nLCBhbmQgcmV0dXJuIGxhc3QgZXJyb3JcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHJldHJ5IHRva2VuIGF2YWlsYWJsZVwiKTtcbiAgICB9XG4gICAgY29uc3QgY2FwYWNpdHlBbW91bnQgPSBnZXRDYXBhY2l0eUFtb3VudChlcnJvcik7XG4gICAgYXZhaWxhYmxlQ2FwYWNpdHkgLT0gY2FwYWNpdHlBbW91bnQ7XG4gICAgcmV0dXJuIGNhcGFjaXR5QW1vdW50O1xuICB9O1xuXG4gIGNvbnN0IHJlbGVhc2VSZXRyeVRva2VucyA9IChjYXBhY2l0eVJlbGVhc2VBbW91bnQ/OiBudW1iZXIpID0+IHtcbiAgICBhdmFpbGFibGVDYXBhY2l0eSArPSBjYXBhY2l0eVJlbGVhc2VBbW91bnQgPz8gTk9fUkVUUllfSU5DUkVNRU5UO1xuICAgIGF2YWlsYWJsZUNhcGFjaXR5ID0gTWF0aC5taW4oYXZhaWxhYmxlQ2FwYWNpdHksIE1BWF9DQVBBQ0lUWSk7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIGhhc1JldHJ5VG9rZW5zLFxuICAgIHJldHJpZXZlUmV0cnlUb2tlbnMsXG4gICAgcmVsZWFzZVJldHJ5VG9rZW5zLFxuICB9KTtcbn07XG4iXX0=","import { __assign } from \"tslib\";\nimport { DEFAULT_MAX_ATTEMPTS, DEFAULT_RETRY_MODE, StandardRetryStrategy } from \"./defaultStrategy\";\nexport var ENV_MAX_ATTEMPTS = \"AWS_MAX_ATTEMPTS\";\nexport var CONFIG_MAX_ATTEMPTS = \"max_attempts\";\nexport var NODE_MAX_ATTEMPT_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) {\n        var value = env[ENV_MAX_ATTEMPTS];\n        if (!value)\n            return undefined;\n        var maxAttempt = parseInt(value);\n        if (Number.isNaN(maxAttempt)) {\n            throw new Error(\"Environment variable \" + ENV_MAX_ATTEMPTS + \" mast be a number, got \\\"\" + value + \"\\\"\");\n        }\n        return maxAttempt;\n    },\n    configFileSelector: function (profile) {\n        var value = profile[CONFIG_MAX_ATTEMPTS];\n        if (!value)\n            return undefined;\n        var maxAttempt = parseInt(value);\n        if (Number.isNaN(maxAttempt)) {\n            throw new Error(\"Shared config file entry \" + CONFIG_MAX_ATTEMPTS + \" mast be a number, got \\\"\" + value + \"\\\"\");\n        }\n        return maxAttempt;\n    },\n    default: DEFAULT_MAX_ATTEMPTS,\n};\nexport var resolveRetryConfig = function (input) {\n    var maxAttempts = normalizeMaxAttempts(input.maxAttempts);\n    return __assign(__assign({}, input), { maxAttempts: maxAttempts, retryStrategy: input.retryStrategy || new StandardRetryStrategy(maxAttempts) });\n};\nvar normalizeMaxAttempts = function (maxAttempts) {\n    if (maxAttempts === void 0) { maxAttempts = DEFAULT_MAX_ATTEMPTS; }\n    if (typeof maxAttempts === \"number\") {\n        var promisified_1 = Promise.resolve(maxAttempts);\n        return function () { return promisified_1; };\n    }\n    return maxAttempts;\n};\nexport var ENV_RETRY_MODE = \"AWS_RETRY_MODE\";\nexport var CONFIG_RETRY_MODE = \"retry_mode\";\nexport var NODE_RETRY_MODE_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) { return env[ENV_RETRY_MODE]; },\n    configFileSelector: function (profile) { return profile[CONFIG_RETRY_MODE]; },\n    default: DEFAULT_RETRY_MODE,\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUdBLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxrQkFBa0IsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRXBHLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLGtCQUFrQixDQUFDO0FBQ25ELE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLGNBQWMsQ0FBQztBQUVsRCxNQUFNLENBQUMsSUFBTSwrQkFBK0IsR0FBa0M7SUFDNUUsMkJBQTJCLEVBQUUsVUFBQyxHQUFHO1FBQy9CLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDN0IsSUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUF3QixnQkFBZ0IsaUNBQTJCLEtBQUssT0FBRyxDQUFDLENBQUM7U0FDOUY7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBQ0Qsa0JBQWtCLEVBQUUsVUFBQyxPQUFPO1FBQzFCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDN0IsSUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLDhCQUE0QixtQkFBbUIsaUNBQTJCLEtBQUssT0FBRyxDQUFDLENBQUM7U0FDckc7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBQ0QsT0FBTyxFQUFFLG9CQUFvQjtDQUM5QixDQUFDO0FBbUJGLE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLFVBQUksS0FBZ0Q7SUFDcEYsSUFBTSxXQUFXLEdBQUcsb0JBQW9CLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzVELDZCQUNLLEtBQUssS0FDUixXQUFXLGFBQUEsRUFDWCxhQUFhLEVBQUUsS0FBSyxDQUFDLGFBQWEsSUFBSSxJQUFJLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxJQUM1RTtBQUNKLENBQUMsQ0FBQztBQUVGLElBQU0sb0JBQW9CLEdBQUcsVUFBQyxXQUE2RDtJQUE3RCw0QkFBQSxFQUFBLGtDQUE2RDtJQUN6RixJQUFJLE9BQU8sV0FBVyxLQUFLLFFBQVEsRUFBRTtRQUNuQyxJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7SUFDRCxPQUFPLFdBQVcsQ0FBQztBQUNyQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSxjQUFjLEdBQUcsZ0JBQWdCLENBQUM7QUFDL0MsTUFBTSxDQUFDLElBQU0saUJBQWlCLEdBQUcsWUFBWSxDQUFDO0FBRTlDLE1BQU0sQ0FBQyxJQUFNLDhCQUE4QixHQUFrQztJQUMzRSwyQkFBMkIsRUFBRSxVQUFDLEdBQUcsSUFBSyxPQUFBLEdBQUcsQ0FBQyxjQUFjLENBQUMsRUFBbkIsQ0FBbUI7SUFDekQsa0JBQWtCLEVBQUUsVUFBQyxPQUFPLElBQUssT0FBQSxPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFBMUIsQ0FBMEI7SUFDM0QsT0FBTyxFQUFFLGtCQUFrQjtDQUM1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9hZGVkQ29uZmlnU2VsZWN0b3JzIH0gZnJvbSBcIkBhd3Mtc2RrL25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBQcm92aWRlciwgUmV0cnlTdHJhdGVneSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBERUZBVUxUX01BWF9BVFRFTVBUUywgREVGQVVMVF9SRVRSWV9NT0RFLCBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kgfSBmcm9tIFwiLi9kZWZhdWx0U3RyYXRlZ3lcIjtcblxuZXhwb3J0IGNvbnN0IEVOVl9NQVhfQVRURU1QVFMgPSBcIkFXU19NQVhfQVRURU1QVFNcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfTUFYX0FUVEVNUFRTID0gXCJtYXhfYXR0ZW1wdHNcIjtcblxuZXhwb3J0IGNvbnN0IE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlM6IExvYWRlZENvbmZpZ1NlbGVjdG9yczxudW1iZXI+ID0ge1xuICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGVudltFTlZfTUFYX0FUVEVNUFRTXTtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1heEF0dGVtcHQgPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgaWYgKE51bWJlci5pc05hTihtYXhBdHRlbXB0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbnZpcm9ubWVudCB2YXJpYWJsZSAke0VOVl9NQVhfQVRURU1QVFN9IG1hc3QgYmUgYSBudW1iZXIsIGdvdCBcIiR7dmFsdWV9XCJgKTtcbiAgICB9XG4gICAgcmV0dXJuIG1heEF0dGVtcHQ7XG4gIH0sXG4gIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHByb2ZpbGVbQ09ORklHX01BWF9BVFRFTVBUU107XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBtYXhBdHRlbXB0ID0gcGFyc2VJbnQodmFsdWUpO1xuICAgIGlmIChOdW1iZXIuaXNOYU4obWF4QXR0ZW1wdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU2hhcmVkIGNvbmZpZyBmaWxlIGVudHJ5ICR7Q09ORklHX01BWF9BVFRFTVBUU30gbWFzdCBiZSBhIG51bWJlciwgZ290IFwiJHt2YWx1ZX1cImApO1xuICAgIH1cbiAgICByZXR1cm4gbWF4QXR0ZW1wdDtcbiAgfSxcbiAgZGVmYXVsdDogREVGQVVMVF9NQVhfQVRURU1QVFMsXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5SW5wdXRDb25maWcge1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHJlcXVlc3RzIHRoYXQgZW5jb3VudGVyIHJldHJ5YWJsZSBmYWlsdXJlcyBzaG91bGQgYmUgYXR0ZW1wdGVkLlxuICAgKi9cbiAgbWF4QXR0ZW1wdHM/OiBudW1iZXIgfCBQcm92aWRlcjxudW1iZXI+O1xuICAvKipcbiAgICogVGhlIHN0cmF0ZWd5IHRvIHJldHJ5IHRoZSByZXF1ZXN0LiBVc2luZyBidWlsdC1pbiBleHBvbmVudGlhbCBiYWNrb2ZmIHN0cmF0ZWd5IGJ5IGRlZmF1bHQuXG4gICAqL1xuICByZXRyeVN0cmF0ZWd5PzogUmV0cnlTdHJhdGVneTtcbn1cblxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7fVxuZXhwb3J0IGludGVyZmFjZSBSZXRyeVJlc29sdmVkQ29uZmlnIHtcbiAgbWF4QXR0ZW1wdHM6IFByb3ZpZGVyPG51bWJlcj47XG4gIHJldHJ5U3RyYXRlZ3k6IFJldHJ5U3RyYXRlZ3k7XG59XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlUmV0cnlDb25maWcgPSA8VD4oaW5wdXQ6IFQgJiBQcmV2aW91c2x5UmVzb2x2ZWQgJiBSZXRyeUlucHV0Q29uZmlnKTogVCAmIFJldHJ5UmVzb2x2ZWRDb25maWcgPT4ge1xuICBjb25zdCBtYXhBdHRlbXB0cyA9IG5vcm1hbGl6ZU1heEF0dGVtcHRzKGlucHV0Lm1heEF0dGVtcHRzKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5pbnB1dCxcbiAgICBtYXhBdHRlbXB0cyxcbiAgICByZXRyeVN0cmF0ZWd5OiBpbnB1dC5yZXRyeVN0cmF0ZWd5IHx8IG5ldyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpLFxuICB9O1xufTtcblxuY29uc3Qgbm9ybWFsaXplTWF4QXR0ZW1wdHMgPSAobWF4QXR0ZW1wdHM6IG51bWJlciB8IFByb3ZpZGVyPG51bWJlcj4gPSBERUZBVUxUX01BWF9BVFRFTVBUUyk6IFByb3ZpZGVyPG51bWJlcj4gPT4ge1xuICBpZiAodHlwZW9mIG1heEF0dGVtcHRzID09PSBcIm51bWJlclwiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUobWF4QXR0ZW1wdHMpO1xuICAgIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbiAgfVxuICByZXR1cm4gbWF4QXR0ZW1wdHM7XG59O1xuXG5leHBvcnQgY29uc3QgRU5WX1JFVFJZX01PREUgPSBcIkFXU19SRVRSWV9NT0RFXCI7XG5leHBvcnQgY29uc3QgQ09ORklHX1JFVFJZX01PREUgPSBcInJldHJ5X21vZGVcIjtcblxuZXhwb3J0IGNvbnN0IE5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUzogTG9hZGVkQ29uZmlnU2VsZWN0b3JzPHN0cmluZz4gPSB7XG4gIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gZW52W0VOVl9SRVRSWV9NT0RFXSxcbiAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gcHJvZmlsZVtDT05GSUdfUkVUUllfTU9ERV0sXG4gIGRlZmF1bHQ6IERFRkFVTFRfUkVUUllfTU9ERSxcbn07XG4iXX0=","import { __assign } from \"tslib\";\n// Partition default templates\nvar AWS_TEMPLATE = \"s3.{region}.amazonaws.com\";\nvar AWS_CN_TEMPLATE = \"s3.{region}.amazonaws.com.cn\";\nvar AWS_ISO_TEMPLATE = \"s3.{region}.c2s.ic.gov\";\nvar AWS_ISO_B_TEMPLATE = \"s3.{region}.sc2s.sgov.gov\";\nvar AWS_US_GOV_TEMPLATE = \"s3.{region}.amazonaws.com\";\n// Partition regions\nvar AWS_REGIONS = new Set([\n    \"af-south-1\",\n    \"ap-east-1\",\n    \"ap-northeast-1\",\n    \"ap-northeast-2\",\n    \"ap-south-1\",\n    \"ap-southeast-1\",\n    \"ap-southeast-2\",\n    \"ca-central-1\",\n    \"eu-central-1\",\n    \"eu-north-1\",\n    \"eu-south-1\",\n    \"eu-west-1\",\n    \"eu-west-2\",\n    \"eu-west-3\",\n    \"me-south-1\",\n    \"sa-east-1\",\n    \"us-east-1\",\n    \"us-east-2\",\n    \"us-west-1\",\n    \"us-west-2\",\n]);\nvar AWS_CN_REGIONS = new Set([\"cn-north-1\", \"cn-northwest-1\"]);\nvar AWS_ISO_REGIONS = new Set([\"us-iso-east-1\"]);\nvar AWS_ISO_B_REGIONS = new Set([\"us-isob-east-1\"]);\nvar AWS_US_GOV_REGIONS = new Set([\"us-gov-east-1\", \"us-gov-west-1\"]);\nexport var defaultRegionInfoProvider = function (region, options) {\n    var regionInfo = undefined;\n    switch (region) {\n        // First, try to match exact region names.\n        case \"af-south-1\":\n            regionInfo = {\n                hostname: \"s3.af-south-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"ap-east-1\":\n            regionInfo = {\n                hostname: \"s3.ap-east-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"ap-northeast-1\":\n            regionInfo = {\n                hostname: \"s3.ap-northeast-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"ap-northeast-2\":\n            regionInfo = {\n                hostname: \"s3.ap-northeast-2.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"ap-south-1\":\n            regionInfo = {\n                hostname: \"s3.ap-south-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"ap-southeast-1\":\n            regionInfo = {\n                hostname: \"s3.ap-southeast-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"ap-southeast-2\":\n            regionInfo = {\n                hostname: \"s3.ap-southeast-2.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"aws-global\":\n            regionInfo = {\n                hostname: \"s3.amazonaws.com\",\n                partition: \"aws\",\n                signingRegion: \"us-east-1\",\n            };\n            break;\n        case \"ca-central-1\":\n            regionInfo = {\n                hostname: \"s3.ca-central-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"cn-north-1\":\n            regionInfo = {\n                hostname: \"s3.cn-north-1.amazonaws.com.cn\",\n                partition: \"aws-cn\",\n            };\n            break;\n        case \"cn-northwest-1\":\n            regionInfo = {\n                hostname: \"s3.cn-northwest-1.amazonaws.com.cn\",\n                partition: \"aws-cn\",\n            };\n            break;\n        case \"eu-central-1\":\n            regionInfo = {\n                hostname: \"s3.eu-central-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"eu-north-1\":\n            regionInfo = {\n                hostname: \"s3.eu-north-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"eu-south-1\":\n            regionInfo = {\n                hostname: \"s3.eu-south-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"eu-west-1\":\n            regionInfo = {\n                hostname: \"s3.eu-west-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"eu-west-2\":\n            regionInfo = {\n                hostname: \"s3.eu-west-2.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"eu-west-3\":\n            regionInfo = {\n                hostname: \"s3.eu-west-3.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"fips-us-gov-west-1\":\n            regionInfo = {\n                hostname: \"s3-fips.us-gov-west-1.amazonaws.com\",\n                partition: \"aws-us-gov\",\n                signingRegion: \"us-gov-west-1\",\n            };\n            break;\n        case \"me-south-1\":\n            regionInfo = {\n                hostname: \"s3.me-south-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"s3-external-1\":\n            regionInfo = {\n                hostname: \"s3-external-1.amazonaws.com\",\n                partition: \"aws\",\n                signingRegion: \"us-east-1\",\n            };\n            break;\n        case \"sa-east-1\":\n            regionInfo = {\n                hostname: \"s3.sa-east-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"us-east-1\":\n            regionInfo = {\n                hostname: \"s3.us-east-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"us-east-2\":\n            regionInfo = {\n                hostname: \"s3.us-east-2.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"us-gov-east-1\":\n            regionInfo = {\n                hostname: \"s3.us-gov-east-1.amazonaws.com\",\n                partition: \"aws-us-gov\",\n            };\n            break;\n        case \"us-gov-west-1\":\n            regionInfo = {\n                hostname: \"s3.us-gov-west-1.amazonaws.com\",\n                partition: \"aws-us-gov\",\n            };\n            break;\n        case \"us-iso-east-1\":\n            regionInfo = {\n                hostname: \"s3.us-iso-east-1.c2s.ic.gov\",\n                partition: \"aws-iso\",\n            };\n            break;\n        case \"us-isob-east-1\":\n            regionInfo = {\n                hostname: \"s3.us-isob-east-1.sc2s.sgov.gov\",\n                partition: \"aws-iso-b\",\n            };\n            break;\n        case \"us-west-1\":\n            regionInfo = {\n                hostname: \"s3.us-west-1.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        case \"us-west-2\":\n            regionInfo = {\n                hostname: \"s3.us-west-2.amazonaws.com\",\n                partition: \"aws\",\n            };\n            break;\n        // Next, try to match partition endpoints.\n        default:\n            if (AWS_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws\",\n                };\n            }\n            if (AWS_CN_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_CN_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-cn\",\n                };\n            }\n            if (AWS_ISO_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-iso\",\n                };\n            }\n            if (AWS_ISO_B_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_B_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-iso-b\",\n                };\n            }\n            if (AWS_US_GOV_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_US_GOV_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-us-gov\",\n                };\n            }\n            // Finally, assume it's an AWS partition endpoint.\n            if (regionInfo === undefined) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws\",\n                };\n            }\n    }\n    return Promise.resolve(__assign({ signingService: \"s3\" }, regionInfo));\n};\n//# sourceMappingURL=endpoints.js.map","import { parseQueryString } from \"@aws-sdk/querystring-parser\";\nexport var parseUrl = function (url) {\n    var _a = new URL(url), hostname = _a.hostname, pathname = _a.pathname, port = _a.port, protocol = _a.protocol, search = _a.search;\n    var query;\n    if (search) {\n        query = parseQueryString(search);\n    }\n    return {\n        hostname: hostname,\n        port: port ? parseInt(port) : undefined,\n        protocol: protocol,\n        path: pathname,\n        query: query,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFHL0QsTUFBTSxDQUFDLElBQU0sUUFBUSxHQUFjLFVBQUMsR0FBVztJQUN2QyxJQUFBLEtBQWlELElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUEzRCxRQUFRLGNBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxNQUFNLFlBQWlCLENBQUM7SUFFcEUsSUFBSSxLQUFvQyxDQUFDO0lBQ3pDLElBQUksTUFBTSxFQUFFO1FBQ1YsS0FBSyxHQUFHLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQ2xDO0lBRUQsT0FBTztRQUNMLFFBQVEsVUFBQTtRQUNSLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUztRQUN2QyxRQUFRLFVBQUE7UUFDUixJQUFJLEVBQUUsUUFBUTtRQUNkLEtBQUssT0FBQTtLQUNOLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZVF1ZXJ5U3RyaW5nIH0gZnJvbSBcIkBhd3Mtc2RrL3F1ZXJ5c3RyaW5nLXBhcnNlclwiO1xuaW1wb3J0IHsgRW5kcG9pbnQsIFF1ZXJ5UGFyYW1ldGVyQmFnLCBVcmxQYXJzZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IHBhcnNlVXJsOiBVcmxQYXJzZXIgPSAodXJsOiBzdHJpbmcpOiBFbmRwb2ludCA9PiB7XG4gIGNvbnN0IHsgaG9zdG5hbWUsIHBhdGhuYW1lLCBwb3J0LCBwcm90b2NvbCwgc2VhcmNoIH0gPSBuZXcgVVJMKHVybCk7XG5cbiAgbGV0IHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZyB8IHVuZGVmaW5lZDtcbiAgaWYgKHNlYXJjaCkge1xuICAgIHF1ZXJ5ID0gcGFyc2VRdWVyeVN0cmluZyhzZWFyY2gpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBob3N0bmFtZSxcbiAgICBwb3J0OiBwb3J0ID8gcGFyc2VJbnQocG9ydCkgOiB1bmRlZmluZWQsXG4gICAgcHJvdG9jb2wsXG4gICAgcGF0aDogcGF0aG5hbWUsXG4gICAgcXVlcnksXG4gIH07XG59O1xuIl19","export var invalidProvider = function (message) { return function () { return Promise.reject(message); }; };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW52YWxpZFByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2ludmFsaWRQcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQXVDLFVBQUMsT0FBZSxJQUFLLE9BQUEsY0FBTSxPQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQXZCLENBQXVCLEVBQTdCLENBQTZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuZXhwb3J0IGNvbnN0IGludmFsaWRQcm92aWRlcjogKG1lc3NhZ2U6IHN0cmluZykgPT4gUHJvdmlkZXI8YW55PiA9IChtZXNzYWdlOiBzdHJpbmcpID0+ICgpID0+IFByb21pc2UucmVqZWN0KG1lc3NhZ2UpO1xuIl19","import { __awaiter, __generator } from \"tslib\";\nimport bowser from \"bowser\";\n/**\n * Default provider to the user agent in browsers. It's a best effort to infer\n * the device information. It uses bowser library to detect the browser and virsion\n */\nexport var defaultUserAgent = function (_a) {\n    var serviceId = _a.serviceId, clientVersion = _a.clientVersion;\n    return function () { return __awaiter(void 0, void 0, void 0, function () {\n        var parsedUA, sections;\n        var _a, _b, _c, _d, _e, _f, _g;\n        return __generator(this, function (_h) {\n            parsedUA = ((_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) ? bowser.parse(window.navigator.userAgent) : undefined;\n            sections = [\n                // sdk-metadata\n                [\"aws-sdk-js\", clientVersion],\n                // os-metadata\n                [\"os/\" + (((_b = parsedUA === null || parsedUA === void 0 ? void 0 : parsedUA.os) === null || _b === void 0 ? void 0 : _b.name) || \"other\"), (_c = parsedUA === null || parsedUA === void 0 ? void 0 : parsedUA.os) === null || _c === void 0 ? void 0 : _c.version],\n                // language-metadata\n                // ECMAScript edition doesn't matter in JS.\n                [\"lang/js\"],\n                // browser vendor and version.\n                [\"md/browser\", ((_e = (_d = parsedUA === null || parsedUA === void 0 ? void 0 : parsedUA.browser) === null || _d === void 0 ? void 0 : _d.name) !== null && _e !== void 0 ? _e : \"unknown\") + \"_\" + ((_g = (_f = parsedUA === null || parsedUA === void 0 ? void 0 : parsedUA.browser) === null || _f === void 0 ? void 0 : _f.version) !== null && _g !== void 0 ? _g : \"unknown\")],\n            ];\n            if (serviceId) {\n                // api-metadata\n                // service Id may not appear in non-AWS clients\n                sections.push([\"api/\" + serviceId, clientVersion]);\n            }\n            return [2 /*return*/, sections];\n        });\n    }); };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sTUFBTSxNQUFNLFFBQVEsQ0FBQztBQUk1Qjs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyxVQUFDLEVBR1A7UUFGeEIsU0FBUyxlQUFBLEVBQ1QsYUFBYSxtQkFBQTtJQUNxQyxPQUFBOzs7O1lBQzVDLFFBQVEsR0FBRyxPQUFBLE1BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxTQUFTLDBDQUFFLFNBQVMsRUFBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7WUFDL0YsUUFBUSxHQUFjO2dCQUMxQixlQUFlO2dCQUNmLENBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQztnQkFDN0IsY0FBYztnQkFDZCxDQUFDLFNBQU0sT0FBQSxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsRUFBRSwwQ0FBRSxJQUFJLEtBQUksT0FBTyxDQUFFLFFBQUUsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLEVBQUUsMENBQUUsT0FBTyxDQUFDO2dCQUM5RCxvQkFBb0I7Z0JBQ3BCLDJDQUEyQztnQkFDM0MsQ0FBQyxTQUFTLENBQUM7Z0JBQ1gsOEJBQThCO2dCQUM5QixDQUFDLFlBQVksRUFBRSxhQUFHLFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxPQUFPLDBDQUFFLElBQUksbUNBQUksU0FBUyx1QkFBSSxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsT0FBTywwQ0FBRSxPQUFPLG1DQUFJLFNBQVMsQ0FBRSxDQUFDO2FBQ3JHLENBQUM7WUFFRixJQUFJLFNBQVMsRUFBRTtnQkFDYixlQUFlO2dCQUNmLCtDQUErQztnQkFDL0MsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQU8sU0FBVyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUM7YUFDcEQ7WUFFRCxzQkFBTyxRQUFRLEVBQUM7O1NBQ2pCO0FBckJtRCxDQXFCbkQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3ZpZGVyLCBVc2VyQWdlbnQgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCBib3dzZXIgZnJvbSBcImJvd3NlclwiO1xuXG5pbXBvcnQgeyBEZWZhdWx0VXNlckFnZW50T3B0aW9ucyB9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25zXCI7XG5cbi8qKlxuICogRGVmYXVsdCBwcm92aWRlciB0byB0aGUgdXNlciBhZ2VudCBpbiBicm93c2Vycy4gSXQncyBhIGJlc3QgZWZmb3J0IHRvIGluZmVyXG4gKiB0aGUgZGV2aWNlIGluZm9ybWF0aW9uLiBJdCB1c2VzIGJvd3NlciBsaWJyYXJ5IHRvIGRldGVjdCB0aGUgYnJvd3NlciBhbmQgdmlyc2lvblxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFVzZXJBZ2VudCA9ICh7XG4gIHNlcnZpY2VJZCxcbiAgY2xpZW50VmVyc2lvbixcbn06IERlZmF1bHRVc2VyQWdlbnRPcHRpb25zKTogUHJvdmlkZXI8VXNlckFnZW50PiA9PiBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHBhcnNlZFVBID0gd2luZG93Py5uYXZpZ2F0b3I/LnVzZXJBZ2VudCA/IGJvd3Nlci5wYXJzZSh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IHNlY3Rpb25zOiBVc2VyQWdlbnQgPSBbXG4gICAgLy8gc2RrLW1ldGFkYXRhXG4gICAgW1wiYXdzLXNkay1qc1wiLCBjbGllbnRWZXJzaW9uXSxcbiAgICAvLyBvcy1tZXRhZGF0YVxuICAgIFtgb3MvJHtwYXJzZWRVQT8ub3M/Lm5hbWUgfHwgXCJvdGhlclwifWAsIHBhcnNlZFVBPy5vcz8udmVyc2lvbl0sXG4gICAgLy8gbGFuZ3VhZ2UtbWV0YWRhdGFcbiAgICAvLyBFQ01BU2NyaXB0IGVkaXRpb24gZG9lc24ndCBtYXR0ZXIgaW4gSlMuXG4gICAgW1wibGFuZy9qc1wiXSxcbiAgICAvLyBicm93c2VyIHZlbmRvciBhbmQgdmVyc2lvbi5cbiAgICBbXCJtZC9icm93c2VyXCIsIGAke3BhcnNlZFVBPy5icm93c2VyPy5uYW1lID8/IFwidW5rbm93blwifV8ke3BhcnNlZFVBPy5icm93c2VyPy52ZXJzaW9uID8/IFwidW5rbm93blwifWBdLFxuICBdO1xuXG4gIGlmIChzZXJ2aWNlSWQpIHtcbiAgICAvLyBhcGktbWV0YWRhdGFcbiAgICAvLyBzZXJ2aWNlIElkIG1heSBub3QgYXBwZWFyIGluIG5vbi1BV1MgY2xpZW50c1xuICAgIHNlY3Rpb25zLnB1c2goW2BhcGkvJHtzZXJ2aWNlSWR9YCwgY2xpZW50VmVyc2lvbl0pO1xuICB9XG5cbiAgcmV0dXJuIHNlY3Rpb25zO1xufTtcbiJdfQ==","import { defaultRegionInfoProvider } from \"./endpoints\";\nimport { parseUrl } from \"@aws-sdk/url-parser\";\n/**\n * @internal\n */\nexport var ClientSharedValues = {\n    apiVersion: \"2006-03-01\",\n    disableHostPrefix: false,\n    logger: {},\n    regionInfoProvider: defaultRegionInfoProvider,\n    serviceId: \"S3\",\n    signingEscapePath: false,\n    urlParser: parseUrl,\n    useArnRegion: false,\n};\n//# sourceMappingURL=runtimeConfig.shared.js.map","import { __read, __values } from \"tslib\";\nexport function parseQueryString(querystring) {\n    var e_1, _a;\n    var query = {};\n    querystring = querystring.replace(/^\\?/, \"\");\n    if (querystring) {\n        try {\n            for (var _b = __values(querystring.split(\"&\")), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var pair = _c.value;\n                var _d = __read(pair.split(\"=\"), 2), key = _d[0], _e = _d[1], value = _e === void 0 ? null : _e;\n                key = decodeURIComponent(key);\n                if (value) {\n                    value = decodeURIComponent(value);\n                }\n                if (!(key in query)) {\n                    query[key] = value;\n                }\n                else if (Array.isArray(query[key])) {\n                    query[key].push(value);\n                }\n                else {\n                    query[key] = [query[key], value];\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    return query;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLE1BQU0sVUFBVSxnQkFBZ0IsQ0FBQyxXQUFtQjs7SUFDbEQsSUFBTSxLQUFLLEdBQXNCLEVBQUUsQ0FBQztJQUNwQyxXQUFXLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFN0MsSUFBSSxXQUFXLEVBQUU7O1lBQ2YsS0FBbUIsSUFBQSxLQUFBLFNBQUEsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtnQkFBdEMsSUFBTSxJQUFJLFdBQUE7Z0JBQ1QsSUFBQSxLQUFBLE9BQXNCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUEsRUFBcEMsR0FBRyxRQUFBLEVBQUUsVUFBWSxFQUFaLEtBQUssbUJBQUcsSUFBSSxLQUFtQixDQUFDO2dCQUMxQyxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzlCLElBQUksS0FBSyxFQUFFO29CQUNULEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDbkM7Z0JBQ0QsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxFQUFFO29CQUNuQixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO2lCQUNwQjtxQkFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7b0JBQ25DLEtBQUssQ0FBQyxHQUFHLENBQW1CLENBQUMsSUFBSSxDQUFDLEtBQWUsQ0FBQyxDQUFDO2lCQUNyRDtxQkFBTTtvQkFDTCxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFXLEVBQUUsS0FBZSxDQUFDLENBQUM7aUJBQ3REO2FBQ0Y7Ozs7Ozs7OztLQUNGO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlQYXJhbWV0ZXJCYWcgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmcocXVlcnlzdHJpbmc6IHN0cmluZyk6IFF1ZXJ5UGFyYW1ldGVyQmFnIHtcbiAgY29uc3QgcXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnID0ge307XG4gIHF1ZXJ5c3RyaW5nID0gcXVlcnlzdHJpbmcucmVwbGFjZSgvXlxcPy8sIFwiXCIpO1xuXG4gIGlmIChxdWVyeXN0cmluZykge1xuICAgIGZvciAoY29uc3QgcGFpciBvZiBxdWVyeXN0cmluZy5zcGxpdChcIiZcIikpIHtcbiAgICAgIGxldCBba2V5LCB2YWx1ZSA9IG51bGxdID0gcGFpci5zcGxpdChcIj1cIik7XG4gICAgICBrZXkgPSBkZWNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoIShrZXkgaW4gcXVlcnkpKSB7XG4gICAgICAgIHF1ZXJ5W2tleV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShxdWVyeVtrZXldKSkge1xuICAgICAgICAocXVlcnlba2V5XSBhcyBBcnJheTxzdHJpbmc+KS5wdXNoKHZhbHVlIGFzIHN0cmluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeVtrZXldID0gW3F1ZXJ5W2tleV0gYXMgc3RyaW5nLCB2YWx1ZSBhcyBzdHJpbmddO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBxdWVyeTtcbn1cbiJdfQ==","import { __assign } from \"tslib\";\nimport packageInfo from \"./package.json\";\nimport { Sha256 } from \"@aws-crypto/sha256-browser\";\nimport { eventStreamSerdeProvider } from \"@aws-sdk/eventstream-serde-browser\";\nimport { FetchHttpHandler, streamCollector } from \"@aws-sdk/fetch-http-handler\";\nimport { blobHasher as streamHasher } from \"@aws-sdk/hash-blob-browser\";\nimport { invalidProvider } from \"@aws-sdk/invalid-dependency\";\nimport { Md5 } from \"@aws-sdk/md5-js\";\nimport { DEFAULT_MAX_ATTEMPTS } from \"@aws-sdk/middleware-retry\";\nimport { fromBase64, toBase64 } from \"@aws-sdk/util-base64-browser\";\nimport { calculateBodyLength } from \"@aws-sdk/util-body-length-browser\";\nimport { defaultUserAgent } from \"@aws-sdk/util-user-agent-browser\";\nimport { fromUtf8, toUtf8 } from \"@aws-sdk/util-utf8-browser\";\nimport { ClientSharedValues } from \"./runtimeConfig.shared\";\n/**\n * @internal\n */\nexport var ClientDefaultValues = __assign(__assign({}, ClientSharedValues), { runtime: \"browser\", base64Decoder: fromBase64, base64Encoder: toBase64, bodyLengthChecker: calculateBodyLength, credentialDefaultProvider: function (_) { return function () { return Promise.reject(new Error(\"Credential is missing\")); }; }, defaultUserAgentProvider: defaultUserAgent({\n        serviceId: ClientSharedValues.serviceId,\n        clientVersion: packageInfo.version,\n    }), eventStreamSerdeProvider: eventStreamSerdeProvider, maxAttempts: DEFAULT_MAX_ATTEMPTS, md5: Md5, region: invalidProvider(\"Region is missing\"), requestHandler: new FetchHttpHandler(), sha256: Sha256, streamCollector: streamCollector,\n    streamHasher: streamHasher, utf8Decoder: fromUtf8, utf8Encoder: toUtf8 });\n//# sourceMappingURL=runtimeConfig.browser.js.map","export function calculateBodyLength(body) {\n    if (typeof body === \"string\") {\n        var len = body.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var code = body.charCodeAt(i);\n            if (code > 0x7f && code <= 0x7ff)\n                len++;\n            else if (code > 0x7ff && code <= 0xffff)\n                len += 2;\n        }\n        return len;\n    }\n    else if (typeof body.byteLength === \"number\") {\n        // handles Uint8Array, ArrayBuffer, Buffer, and ArrayBufferView\n        return body.byteLength;\n    }\n    else if (typeof body.size === \"number\") {\n        // handles browser File object\n        return body.size;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLG1CQUFtQixDQUFDLElBQVM7SUFDM0MsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDNUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUV0QixLQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSztnQkFBRSxHQUFHLEVBQUUsQ0FBQztpQkFDbkMsSUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksSUFBSSxNQUFNO2dCQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDbkQ7UUFFRCxPQUFPLEdBQUcsQ0FBQztLQUNaO1NBQU0sSUFBSSxPQUFPLElBQUksQ0FBQyxVQUFVLEtBQUssUUFBUSxFQUFFO1FBQzlDLCtEQUErRDtRQUMvRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7S0FDeEI7U0FBTSxJQUFJLE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDeEMsOEJBQThCO1FBQzlCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztLQUNsQjtBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQm9keUxlbmd0aChib2R5OiBhbnkpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsZXQgbGVuID0gYm9keS5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBib2R5LmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZiAoY29kZSA+IDB4N2YgJiYgY29kZSA8PSAweDdmZikgbGVuKys7XG4gICAgICBlbHNlIGlmIChjb2RlID4gMHg3ZmYgJiYgY29kZSA8PSAweGZmZmYpIGxlbiArPSAyO1xuICAgIH1cblxuICAgIHJldHVybiBsZW47XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkuYnl0ZUxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIGhhbmRsZXMgVWludDhBcnJheSwgQXJyYXlCdWZmZXIsIEJ1ZmZlciwgYW5kIEFycmF5QnVmZmVyVmlld1xuICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkuc2l6ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIGhhbmRsZXMgYnJvd3NlciBGaWxlIG9iamVjdFxuICAgIHJldHVybiBib2R5LnNpemU7XG4gIH1cbn1cbiJdfQ==","import { EventStreamMarshaller } from \"./EventStreamMarshaller\";\n/** browser event stream serde utils provider */\nexport var eventStreamSerdeProvider = function (options) { return new EventStreamMarshaller(options); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcHJvdmlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFFaEUsZ0RBQWdEO0FBQ2hELE1BQU0sQ0FBQyxJQUFNLHdCQUF3QixHQUE2QixVQUFDLE9BSWxFLElBQUssT0FBQSxJQUFJLHFCQUFxQixDQUFDLE9BQU8sQ0FBQyxFQUFsQyxDQUFrQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVjb2RlciwgRW5jb2RlciwgRXZlbnRTaWduZXIsIEV2ZW50U3RyZWFtU2VyZGVQcm92aWRlciwgUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgRXZlbnRTdHJlYW1NYXJzaGFsbGVyIH0gZnJvbSBcIi4vRXZlbnRTdHJlYW1NYXJzaGFsbGVyXCI7XG5cbi8qKiBicm93c2VyIGV2ZW50IHN0cmVhbSBzZXJkZSB1dGlscyBwcm92aWRlciAqL1xuZXhwb3J0IGNvbnN0IGV2ZW50U3RyZWFtU2VyZGVQcm92aWRlcjogRXZlbnRTdHJlYW1TZXJkZVByb3ZpZGVyID0gKG9wdGlvbnM6IHtcbiAgdXRmOEVuY29kZXI6IEVuY29kZXI7XG4gIHV0ZjhEZWNvZGVyOiBEZWNvZGVyO1xuICBldmVudFNpZ25lcjogRXZlbnRTaWduZXIgfCBQcm92aWRlcjxFdmVudFNpZ25lcj47XG59KSA9PiBuZXcgRXZlbnRTdHJlYW1NYXJzaGFsbGVyKG9wdGlvbnMpO1xuIl19","import { __awaiter, __generator } from \"tslib\";\nimport { blobReader } from \"@aws-sdk/chunked-blob-reader\";\nexport var blobHasher = function blobHasher(hashCtor, blob) {\n    return __awaiter(this, void 0, void 0, function () {\n        var hash;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    hash = new hashCtor();\n                    return [4 /*yield*/, blobReader(blob, function (chunk) {\n                            hash.update(chunk);\n                        })];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/, hash.digest()];\n            }\n        });\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUcxRCxNQUFNLENBQUMsSUFBTSxVQUFVLEdBQXVCLFNBQWUsVUFBVSxDQUNyRSxRQUF5QixFQUN6QixJQUFVOzs7Ozs7b0JBRUosSUFBSSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7b0JBRTVCLHFCQUFNLFVBQVUsQ0FBQyxJQUFJLEVBQUUsVUFBQyxLQUFLOzRCQUMzQixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNyQixDQUFDLENBQUMsRUFBQTs7b0JBRkYsU0FFRSxDQUFDO29CQUVILHNCQUFPLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBQzs7OztDQUN0QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmxvYlJlYWRlciB9IGZyb20gXCJAYXdzLXNkay9jaHVua2VkLWJsb2ItcmVhZGVyXCI7XG5pbXBvcnQgeyBIYXNoQ29uc3RydWN0b3IsIFN0cmVhbUhhc2hlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgYmxvYkhhc2hlcjogU3RyZWFtSGFzaGVyPEJsb2I+ID0gYXN5bmMgZnVuY3Rpb24gYmxvYkhhc2hlcihcbiAgaGFzaEN0b3I6IEhhc2hDb25zdHJ1Y3RvcixcbiAgYmxvYjogQmxvYlxuKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gIGNvbnN0IGhhc2ggPSBuZXcgaGFzaEN0b3IoKTtcblxuICBhd2FpdCBibG9iUmVhZGVyKGJsb2IsIChjaHVuaykgPT4ge1xuICAgIGhhc2gudXBkYXRlKGNodW5rKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2guZGlnZXN0KCk7XG59O1xuIl19","import { __assign, __awaiter, __generator } from \"tslib\";\nexport var resolveEndpointsConfig = function (input) {\n    var _a;\n    return (__assign(__assign({}, input), { tls: (_a = input.tls) !== null && _a !== void 0 ? _a : true, endpoint: input.endpoint ? normalizeEndpoint(input) : function () { return getEndPointFromRegion(input); }, isCustomEndpoint: input.endpoint ? true : false }));\n};\nvar normalizeEndpoint = function (input) {\n    var endpoint = input.endpoint, urlParser = input.urlParser;\n    if (typeof endpoint === \"string\") {\n        var promisified_1 = Promise.resolve(urlParser(endpoint));\n        return function () { return promisified_1; };\n    }\n    else if (typeof endpoint === \"object\") {\n        var promisified_2 = Promise.resolve(endpoint);\n        return function () { return promisified_2; };\n    }\n    return endpoint;\n};\nvar getEndPointFromRegion = function (input) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, tls, region, dnsHostRegex, hostname;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = input.tls, tls = _a === void 0 ? true : _a;\n                return [4 /*yield*/, input.region()];\n            case 1:\n                region = _c.sent();\n                dnsHostRegex = new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);\n                if (!dnsHostRegex.test(region)) {\n                    throw new Error(\"Invalid region in client config\");\n                }\n                return [4 /*yield*/, input.regionInfoProvider(region)];\n            case 2:\n                hostname = ((_b = (_c.sent())) !== null && _b !== void 0 ? _b : {}).hostname;\n                if (!hostname) {\n                    throw new Error(\"Cannot resolve hostname from client config\");\n                }\n                return [2 /*return*/, input.urlParser((tls ? \"https:\" : \"http:\") + \"//\" + hostname)];\n        }\n    });\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW5kcG9pbnRzQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0VuZHBvaW50c0NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBeUJBLE1BQU0sQ0FBQyxJQUFNLHNCQUFzQixHQUFHLFVBQ3BDLEtBQW9EOztJQUNwQixPQUFBLHVCQUM3QixLQUFLLEtBQ1IsR0FBRyxRQUFFLEtBQUssQ0FBQyxHQUFHLG1DQUFJLElBQUksRUFDdEIsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFNLE9BQUEscUJBQXFCLENBQUMsS0FBSyxDQUFDLEVBQTVCLENBQTRCLEVBQ3hGLGdCQUFnQixFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUMvQyxDQUFBO0NBQUEsQ0FBQztBQUVILElBQU0saUJBQWlCLEdBQUcsVUFBQyxLQUFnRDtJQUNqRSxJQUFBLFFBQVEsR0FBZ0IsS0FBSyxTQUFyQixFQUFFLFNBQVMsR0FBSyxLQUFLLFVBQVYsQ0FBVztJQUN0QyxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRTtRQUNoQyxJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ3pELE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7U0FBTSxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRTtRQUN2QyxJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzlDLE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7SUFDRCxPQUFPLFFBQVMsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFRixJQUFNLHFCQUFxQixHQUFHLFVBQU8sS0FBZ0Q7Ozs7OztnQkFDM0UsS0FBZSxLQUFLLElBQVYsRUFBVixHQUFHLG1CQUFHLElBQUksS0FBQSxDQUFXO2dCQUNkLHFCQUFNLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBQTs7Z0JBQTdCLE1BQU0sR0FBRyxTQUFvQjtnQkFFN0IsWUFBWSxHQUFHLElBQUksTUFBTSxDQUFDLDBEQUEwRCxDQUFDLENBQUM7Z0JBQzVGLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO29CQUM5QixNQUFNLElBQUksS0FBSyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7aUJBQ3BEO2dCQUVxQixxQkFBTSxLQUFLLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLEVBQUE7O2dCQUFwRCxRQUFRLFVBQUssQ0FBQyxTQUFzQyxDQUFDLG1DQUFJLEVBQUUsVUFBbkQ7Z0JBQ2hCLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyw0Q0FBNEMsQ0FBQyxDQUFDO2lCQUMvRDtnQkFFRCxzQkFBTyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE9BQU8sV0FBSyxRQUFVLENBQUMsRUFBQzs7O0tBQ3BFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbmRwb2ludCwgUHJvdmlkZXIsIFJlZ2lvbkluZm9Qcm92aWRlciwgVXJsUGFyc2VyIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW5kcG9pbnRzSW5wdXRDb25maWcge1xuICAvKipcbiAgICogVGhlIGZ1bGx5IHF1YWxpZmllZCBlbmRwb2ludCBvZiB0aGUgd2Vic2VydmljZS4gVGhpcyBpcyBvbmx5IHJlcXVpcmVkIHdoZW4gdXNpbmcgYSBjdXN0b20gZW5kcG9pbnQgKGZvciBleGFtcGxlLCB3aGVuIHVzaW5nIGEgbG9jYWwgdmVyc2lvbiBvZiBTMykuXG4gICAqL1xuICBlbmRwb2ludD86IHN0cmluZyB8IEVuZHBvaW50IHwgUHJvdmlkZXI8RW5kcG9pbnQ+O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIFRMUyBpcyBlbmFibGVkIGZvciByZXF1ZXN0cy5cbiAgICovXG4gIHRscz86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBQcmV2aW91c2x5UmVzb2x2ZWQge1xuICByZWdpb25JbmZvUHJvdmlkZXI6IFJlZ2lvbkluZm9Qcm92aWRlcjtcbiAgdXJsUGFyc2VyOiBVcmxQYXJzZXI7XG4gIHJlZ2lvbjogUHJvdmlkZXI8c3RyaW5nPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbmRwb2ludHNSZXNvbHZlZENvbmZpZyBleHRlbmRzIFJlcXVpcmVkPEVuZHBvaW50c0lucHV0Q29uZmlnPiB7XG4gIGVuZHBvaW50OiBQcm92aWRlcjxFbmRwb2ludD47XG4gIGlzQ3VzdG9tRW5kcG9pbnQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlRW5kcG9pbnRzQ29uZmlnID0gPFQ+KFxuICBpbnB1dDogVCAmIEVuZHBvaW50c0lucHV0Q29uZmlnICYgUHJldmlvdXNseVJlc29sdmVkXG4pOiBUICYgRW5kcG9pbnRzUmVzb2x2ZWRDb25maWcgPT4gKHtcbiAgLi4uaW5wdXQsXG4gIHRsczogaW5wdXQudGxzID8/IHRydWUsXG4gIGVuZHBvaW50OiBpbnB1dC5lbmRwb2ludCA/IG5vcm1hbGl6ZUVuZHBvaW50KGlucHV0KSA6ICgpID0+IGdldEVuZFBvaW50RnJvbVJlZ2lvbihpbnB1dCksXG4gIGlzQ3VzdG9tRW5kcG9pbnQ6IGlucHV0LmVuZHBvaW50ID8gdHJ1ZSA6IGZhbHNlLFxufSk7XG5cbmNvbnN0IG5vcm1hbGl6ZUVuZHBvaW50ID0gKGlucHV0OiBFbmRwb2ludHNJbnB1dENvbmZpZyAmIFByZXZpb3VzbHlSZXNvbHZlZCk6IFByb3ZpZGVyPEVuZHBvaW50PiA9PiB7XG4gIGNvbnN0IHsgZW5kcG9pbnQsIHVybFBhcnNlciB9ID0gaW5wdXQ7XG4gIGlmICh0eXBlb2YgZW5kcG9pbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCBwcm9taXNpZmllZCA9IFByb21pc2UucmVzb2x2ZSh1cmxQYXJzZXIoZW5kcG9pbnQpKTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuZHBvaW50ID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUoZW5kcG9pbnQpO1xuICAgIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbiAgfVxuICByZXR1cm4gZW5kcG9pbnQhO1xufTtcblxuY29uc3QgZ2V0RW5kUG9pbnRGcm9tUmVnaW9uID0gYXN5bmMgKGlucHV0OiBFbmRwb2ludHNJbnB1dENvbmZpZyAmIFByZXZpb3VzbHlSZXNvbHZlZCkgPT4ge1xuICBjb25zdCB7IHRscyA9IHRydWUgfSA9IGlucHV0O1xuICBjb25zdCByZWdpb24gPSBhd2FpdCBpbnB1dC5yZWdpb24oKTtcblxuICBjb25zdCBkbnNIb3N0UmVnZXggPSBuZXcgUmVnRXhwKC9eKFthLXpBLVowLTldfFthLXpBLVowLTldW2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pJC8pO1xuICBpZiAoIWRuc0hvc3RSZWdleC50ZXN0KHJlZ2lvbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlZ2lvbiBpbiBjbGllbnQgY29uZmlnXCIpO1xuICB9XG5cbiAgY29uc3QgeyBob3N0bmFtZSB9ID0gKGF3YWl0IGlucHV0LnJlZ2lvbkluZm9Qcm92aWRlcihyZWdpb24pKSA/PyB7fTtcbiAgaWYgKCFob3N0bmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXNvbHZlIGhvc3RuYW1lIGZyb20gY2xpZW50IGNvbmZpZ1wiKTtcbiAgfVxuXG4gIHJldHVybiBpbnB1dC51cmxQYXJzZXIoYCR7dGxzID8gXCJodHRwczpcIiA6IFwiaHR0cDpcIn0vLyR7aG9zdG5hbWV9YCk7XG59O1xuIl19","import { __assign } from \"tslib\";\nexport var REGION_ENV_NAME = \"AWS_REGION\";\nexport var REGION_INI_NAME = \"region\";\nexport var NODE_REGION_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) { return env[REGION_ENV_NAME]; },\n    configFileSelector: function (profile) { return profile[REGION_INI_NAME]; },\n    default: function () {\n        throw new Error(\"Region is missing\");\n    },\n};\nexport var NODE_REGION_CONFIG_FILE_OPTIONS = {\n    preferredFile: \"credentials\",\n};\nexport var resolveRegionConfig = function (input) {\n    if (!input.region) {\n        throw new Error(\"Region is missing\");\n    }\n    return __assign(__assign({}, input), { region: normalizeRegion(input.region) });\n};\nvar normalizeRegion = function (region) {\n    if (typeof region === \"string\") {\n        var promisified_1 = Promise.resolve(region);\n        return function () { return promisified_1; };\n    }\n    return region;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVnaW9uQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL1JlZ2lvbkNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBR0EsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLFlBQVksQ0FBQztBQUM1QyxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDO0FBRXhDLE1BQU0sQ0FBQyxJQUFNLDBCQUEwQixHQUFrQztJQUN2RSwyQkFBMkIsRUFBRSxVQUFDLEdBQUcsSUFBSyxPQUFBLEdBQUcsQ0FBQyxlQUFlLENBQUMsRUFBcEIsQ0FBb0I7SUFDMUQsa0JBQWtCLEVBQUUsVUFBQyxPQUFPLElBQUssT0FBQSxPQUFPLENBQUMsZUFBZSxDQUFDLEVBQXhCLENBQXdCO0lBQ3pELE9BQU8sRUFBRTtRQUNQLE1BQU0sSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLCtCQUErQixHQUF1QjtJQUNqRSxhQUFhLEVBQUUsYUFBYTtDQUM3QixDQUFDO0FBZUYsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsVUFBSSxLQUFpRDtJQUN0RixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtRQUNqQixNQUFNLElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7S0FDdEM7SUFDRCw2QkFDSyxLQUFLLEtBQ1IsTUFBTSxFQUFFLGVBQWUsQ0FBQyxLQUFLLENBQUMsTUFBTyxDQUFDLElBQ3RDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsSUFBTSxlQUFlLEdBQUcsVUFBQyxNQUFpQztJQUN4RCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTtRQUM5QixJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7SUFDRCxPQUFPLE1BQTBCLENBQUM7QUFDcEMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9hZGVkQ29uZmlnU2VsZWN0b3JzLCBMb2NhbENvbmZpZ09wdGlvbnMgfSBmcm9tIFwiQGF3cy1zZGsvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBSRUdJT05fRU5WX05BTUUgPSBcIkFXU19SRUdJT05cIjtcbmV4cG9ydCBjb25zdCBSRUdJT05fSU5JX05BTUUgPSBcInJlZ2lvblwiO1xuXG5leHBvcnQgY29uc3QgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlM6IExvYWRlZENvbmZpZ1NlbGVjdG9yczxzdHJpbmc+ID0ge1xuICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltSRUdJT05fRU5WX05BTUVdLFxuICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW1JFR0lPTl9JTklfTkFNRV0sXG4gIGRlZmF1bHQ6ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWdpb24gaXMgbWlzc2luZ1wiKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TOiBMb2NhbENvbmZpZ09wdGlvbnMgPSB7XG4gIHByZWZlcnJlZEZpbGU6IFwiY3JlZGVudGlhbHNcIixcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVnaW9uSW5wdXRDb25maWcge1xuICAvKipcbiAgICogVGhlIEFXUyByZWdpb24gdG8gd2hpY2ggdGhpcyBjbGllbnQgd2lsbCBzZW5kIHJlcXVlc3RzXG4gICAqL1xuICByZWdpb24/OiBzdHJpbmcgfCBQcm92aWRlcjxzdHJpbmc+O1xufVxuXG5pbnRlcmZhY2UgUHJldmlvdXNseVJlc29sdmVkIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVnaW9uUmVzb2x2ZWRDb25maWcge1xuICByZWdpb246IFByb3ZpZGVyPHN0cmluZz47XG59XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlUmVnaW9uQ29uZmlnID0gPFQ+KGlucHV0OiBUICYgUmVnaW9uSW5wdXRDb25maWcgJiBQcmV2aW91c2x5UmVzb2x2ZWQpOiBUICYgUmVnaW9uUmVzb2x2ZWRDb25maWcgPT4ge1xuICBpZiAoIWlucHV0LnJlZ2lvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlJlZ2lvbiBpcyBtaXNzaW5nXCIpO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4uaW5wdXQsXG4gICAgcmVnaW9uOiBub3JtYWxpemVSZWdpb24oaW5wdXQucmVnaW9uISksXG4gIH07XG59O1xuXG5jb25zdCBub3JtYWxpemVSZWdpb24gPSAocmVnaW9uOiBzdHJpbmcgfCBQcm92aWRlcjxzdHJpbmc+KTogUHJvdmlkZXI8c3RyaW5nPiA9PiB7XG4gIGlmICh0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUocmVnaW9uKTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH1cbiAgcmV0dXJuIHJlZ2lvbiBhcyBQcm92aWRlcjxzdHJpbmc+O1xufTtcbiJdfQ==","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nvar CONTENT_LENGTH_HEADER = \"content-length\";\nexport function contentLengthMiddleware(bodyLengthChecker) {\n    var _this = this;\n    return function (next) { return function (args) { return __awaiter(_this, void 0, void 0, function () {\n        var request, body, headers, length;\n        var _a;\n        return __generator(this, function (_b) {\n            request = args.request;\n            if (HttpRequest.isInstance(request)) {\n                body = request.body, headers = request.headers;\n                if (body &&\n                    Object.keys(headers)\n                        .map(function (str) { return str.toLowerCase(); })\n                        .indexOf(CONTENT_LENGTH_HEADER) === -1) {\n                    length = bodyLengthChecker(body);\n                    if (length !== undefined) {\n                        request.headers = __assign(__assign({}, request.headers), (_a = {}, _a[CONTENT_LENGTH_HEADER] = String(length), _a));\n                    }\n                }\n            }\n            return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n        });\n    }); }; };\n}\nexport var contentLengthMiddlewareOptions = {\n    step: \"build\",\n    tags: [\"SET_CONTENT_LENGTH\", \"CONTENT_LENGTH\"],\n    name: \"contentLengthMiddleware\",\n    override: true,\n};\nexport var getContentLengthPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVlyRCxJQUFNLHFCQUFxQixHQUFHLGdCQUFnQixDQUFDO0FBRS9DLE1BQU0sVUFBVSx1QkFBdUIsQ0FBQyxpQkFBdUM7SUFBL0UsaUJBNEJDO0lBM0JDLE9BQU8sVUFBZ0MsSUFBK0IsSUFBZ0MsT0FBQSxVQUNwRyxJQUFnQzs7OztZQUUxQixPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUM3QixJQUFJLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQzNCLElBQUksR0FBYyxPQUFPLEtBQXJCLEVBQUUsT0FBTyxHQUFLLE9BQU8sUUFBWixDQUFhO2dCQUNsQyxJQUNFLElBQUk7b0JBQ0osTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7eUJBQ2pCLEdBQUcsQ0FBQyxVQUFDLEdBQUcsSUFBSyxPQUFBLEdBQUcsQ0FBQyxXQUFXLEVBQUUsRUFBakIsQ0FBaUIsQ0FBQzt5QkFDL0IsT0FBTyxDQUFDLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQ3hDO29CQUNNLE1BQU0sR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdkMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO3dCQUN4QixPQUFPLENBQUMsT0FBTyx5QkFDVixPQUFPLENBQUMsT0FBTyxnQkFDakIscUJBQXFCLElBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUN4QyxDQUFDO3FCQUNIO2lCQUNGO2FBQ0Y7WUFFRCxzQkFBTyxJQUFJLHVCQUNOLElBQUksS0FDUCxPQUFPLFNBQUEsSUFDUCxFQUFDOztTQUNKLEVBMUJxRyxDQTBCckcsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsSUFBTSw4QkFBOEIsR0FBd0I7SUFDakUsSUFBSSxFQUFFLE9BQU87SUFDYixJQUFJLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxnQkFBZ0IsQ0FBQztJQUM5QyxJQUFJLEVBQUUseUJBQXlCO0lBQy9CLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLHNCQUFzQixHQUFHLFVBQUMsT0FBb0QsSUFBMEIsT0FBQSxDQUFDO0lBQ3BILFlBQVksRUFBRSxVQUFDLFdBQVc7UUFDeEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFBRSw4QkFBOEIsQ0FBQyxDQUFDO0lBQ3RHLENBQUM7Q0FDRixDQUFDLEVBSm1ILENBSW5ILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQge1xuICBCb2R5TGVuZ3RoQ2FsY3VsYXRvcixcbiAgQnVpbGRIYW5kbGVyLFxuICBCdWlsZEhhbmRsZXJBcmd1bWVudHMsXG4gIEJ1aWxkSGFuZGxlck9wdGlvbnMsXG4gIEJ1aWxkSGFuZGxlck91dHB1dCxcbiAgQnVpbGRNaWRkbGV3YXJlLFxuICBNZXRhZGF0YUJlYXJlcixcbiAgUGx1Z2dhYmxlLFxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuY29uc3QgQ09OVEVOVF9MRU5HVEhfSEVBREVSID0gXCJjb250ZW50LWxlbmd0aFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udGVudExlbmd0aE1pZGRsZXdhcmUoYm9keUxlbmd0aENoZWNrZXI6IEJvZHlMZW5ndGhDYWxjdWxhdG9yKTogQnVpbGRNaWRkbGV3YXJlPGFueSwgYW55PiB7XG4gIHJldHVybiA8T3V0cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXI+KG5leHQ6IEJ1aWxkSGFuZGxlcjxhbnksIE91dHB1dD4pOiBCdWlsZEhhbmRsZXI8YW55LCBPdXRwdXQ+ID0+IGFzeW5jIChcbiAgICBhcmdzOiBCdWlsZEhhbmRsZXJBcmd1bWVudHM8YW55PlxuICApOiBQcm9taXNlPEJ1aWxkSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGFyZ3MucmVxdWVzdDtcbiAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgY29uc3QgeyBib2R5LCBoZWFkZXJzIH0gPSByZXF1ZXN0O1xuICAgICAgaWYgKFxuICAgICAgICBib2R5ICYmXG4gICAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpXG4gICAgICAgICAgLm1hcCgoc3RyKSA9PiBzdHIudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAuaW5kZXhPZihDT05URU5UX0xFTkdUSF9IRUFERVIpID09PSAtMVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGJvZHlMZW5ndGhDaGVja2VyKGJvZHkpO1xuICAgICAgICBpZiAobGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAuLi5yZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICBbQ09OVEVOVF9MRU5HVEhfSEVBREVSXTogU3RyaW5nKGxlbmd0aCksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXh0KHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICByZXF1ZXN0LFxuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgY29uc3QgY29udGVudExlbmd0aE1pZGRsZXdhcmVPcHRpb25zOiBCdWlsZEhhbmRsZXJPcHRpb25zID0ge1xuICBzdGVwOiBcImJ1aWxkXCIsXG4gIHRhZ3M6IFtcIlNFVF9DT05URU5UX0xFTkdUSFwiLCBcIkNPTlRFTlRfTEVOR1RIXCJdLFxuICBuYW1lOiBcImNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlXCIsXG4gIG92ZXJyaWRlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gPSAob3B0aW9uczogeyBib2R5TGVuZ3RoQ2hlY2tlcjogQm9keUxlbmd0aENhbGN1bGF0b3IgfSk6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQoY29udGVudExlbmd0aE1pZGRsZXdhcmUob3B0aW9ucy5ib2R5TGVuZ3RoQ2hlY2tlciksIGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nexport function addExpectContinueMiddleware(options) {\n    var _this = this;\n    return function (next) { return function (args) { return __awaiter(_this, void 0, void 0, function () {\n        var request;\n        return __generator(this, function (_a) {\n            request = args.request;\n            if (HttpRequest.isInstance(request) && request.body && options.runtime === \"node\") {\n                request.headers = __assign(__assign({}, request.headers), { Expect: \"100-continue\" });\n            }\n            return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n        });\n    }); }; };\n}\nexport var addExpectContinueMiddlewareOptions = {\n    step: \"build\",\n    tags: [\"SET_EXPECT_HEADER\", \"EXPECT_HEADER\"],\n    name: \"addExpectContinueMiddleware\",\n    override: true,\n};\nexport var getAddExpectContinuePlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(addExpectContinueMiddleware(options), addExpectContinueMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQWVyRCxNQUFNLFVBQVUsMkJBQTJCLENBQUMsT0FBMkI7SUFBdkUsaUJBZ0JDO0lBZkMsT0FBTyxVQUFnQyxJQUErQixJQUFnQyxPQUFBLFVBQ3BHLElBQWdDOzs7WUFFeEIsT0FBTyxHQUFLLElBQUksUUFBVCxDQUFVO1lBQ3pCLElBQUksV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxPQUFPLEtBQUssTUFBTSxFQUFFO2dCQUNqRixPQUFPLENBQUMsT0FBTyx5QkFDVixPQUFPLENBQUMsT0FBTyxLQUNsQixNQUFNLEVBQUUsY0FBYyxHQUN2QixDQUFDO2FBQ0g7WUFDRCxzQkFBTyxJQUFJLHVCQUNOLElBQUksS0FDUCxPQUFPLFNBQUEsSUFDUCxFQUFDOztTQUNKLEVBZHFHLENBY3JHLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxDQUFDLElBQU0sa0NBQWtDLEdBQXdCO0lBQ3JFLElBQUksRUFBRSxPQUFPO0lBQ2IsSUFBSSxFQUFFLENBQUMsbUJBQW1CLEVBQUUsZUFBZSxDQUFDO0lBQzVDLElBQUksRUFBRSw2QkFBNkI7SUFDbkMsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sMEJBQTBCLEdBQUcsVUFBQyxPQUEyQixJQUEwQixPQUFBLENBQUM7SUFDL0YsWUFBWSxFQUFFLFVBQUMsV0FBVztRQUN4QixXQUFXLENBQUMsR0FBRyxDQUFDLDJCQUEyQixDQUFDLE9BQU8sQ0FBQyxFQUFFLGtDQUFrQyxDQUFDLENBQUM7SUFDNUYsQ0FBQztDQUNGLENBQUMsRUFKOEYsQ0FJOUYsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7XG4gIEJ1aWxkSGFuZGxlcixcbiAgQnVpbGRIYW5kbGVyQXJndW1lbnRzLFxuICBCdWlsZEhhbmRsZXJPcHRpb25zLFxuICBCdWlsZEhhbmRsZXJPdXRwdXQsXG4gIEJ1aWxkTWlkZGxld2FyZSxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIFBsdWdnYWJsZSxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmludGVyZmFjZSBQcmV2aW91c2x5UmVzb2x2ZWQge1xuICBydW50aW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFeHBlY3RDb250aW51ZU1pZGRsZXdhcmUob3B0aW9uczogUHJldmlvdXNseVJlc29sdmVkKTogQnVpbGRNaWRkbGV3YXJlPGFueSwgYW55PiB7XG4gIHJldHVybiA8T3V0cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXI+KG5leHQ6IEJ1aWxkSGFuZGxlcjxhbnksIE91dHB1dD4pOiBCdWlsZEhhbmRsZXI8YW55LCBPdXRwdXQ+ID0+IGFzeW5jIChcbiAgICBhcmdzOiBCdWlsZEhhbmRsZXJBcmd1bWVudHM8YW55PlxuICApOiBQcm9taXNlPEJ1aWxkSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gICAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICAgIGlmIChIdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpICYmIHJlcXVlc3QuYm9keSAmJiBvcHRpb25zLnJ1bnRpbWUgPT09IFwibm9kZVwiKSB7XG4gICAgICByZXF1ZXN0LmhlYWRlcnMgPSB7XG4gICAgICAgIC4uLnJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgRXhwZWN0OiBcIjEwMC1jb250aW51ZVwiLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQoe1xuICAgICAgLi4uYXJncyxcbiAgICAgIHJlcXVlc3QsXG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBhZGRFeHBlY3RDb250aW51ZU1pZGRsZXdhcmVPcHRpb25zOiBCdWlsZEhhbmRsZXJPcHRpb25zID0ge1xuICBzdGVwOiBcImJ1aWxkXCIsXG4gIHRhZ3M6IFtcIlNFVF9FWFBFQ1RfSEVBREVSXCIsIFwiRVhQRUNUX0hFQURFUlwiXSxcbiAgbmFtZTogXCJhZGRFeHBlY3RDb250aW51ZU1pZGRsZXdhcmVcIixcbiAgb3ZlcnJpZGU6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QWRkRXhwZWN0Q29udGludWVQbHVnaW4gPSAob3B0aW9uczogUHJldmlvdXNseVJlc29sdmVkKTogUGx1Z2dhYmxlPGFueSwgYW55PiA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZChhZGRFeHBlY3RDb250aW51ZU1pZGRsZXdhcmUob3B0aW9ucyksIGFkZEV4cGVjdENvbnRpbnVlTWlkZGxld2FyZU9wdGlvbnMpO1xuICB9LFxufSk7XG4iXX0=","var SHORT_TO_HEX = {};\nvar HEX_TO_SHORT = {};\nfor (var i = 0; i < 256; i++) {\n    var encodedByte = i.toString(16).toLowerCase();\n    if (encodedByte.length === 1) {\n        encodedByte = \"0\" + encodedByte;\n    }\n    SHORT_TO_HEX[i] = encodedByte;\n    HEX_TO_SHORT[encodedByte] = i;\n}\n/**\n * Converts a hexadecimal encoded string to a Uint8Array of bytes.\n *\n * @param encoded The hexadecimal encoded string\n */\nexport function fromHex(encoded) {\n    if (encoded.length % 2 !== 0) {\n        throw new Error(\"Hex encoded strings must have an even number length\");\n    }\n    var out = new Uint8Array(encoded.length / 2);\n    for (var i = 0; i < encoded.length; i += 2) {\n        var encodedByte = encoded.substr(i, 2).toLowerCase();\n        if (encodedByte in HEX_TO_SHORT) {\n            out[i / 2] = HEX_TO_SHORT[encodedByte];\n        }\n        else {\n            throw new Error(\"Cannot decode unrecognized sequence \" + encodedByte + \" as hexadecimal\");\n        }\n    }\n    return out;\n}\n/**\n * Converts a Uint8Array of binary data to a hexadecimal encoded string.\n *\n * @param bytes The binary data to encode\n */\nexport function toHex(bytes) {\n    var out = \"\";\n    for (var i = 0; i < bytes.byteLength; i++) {\n        out += SHORT_TO_HEX[bytes[i]];\n    }\n    return out;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxZQUFZLEdBQThCLEVBQUUsQ0FBQztBQUNuRCxJQUFNLFlBQVksR0FBOEIsRUFBRSxDQUFDO0FBRW5ELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDNUIsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMvQyxJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQzVCLFdBQVcsR0FBRyxNQUFJLFdBQWEsQ0FBQztLQUNqQztJQUVELFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUM7SUFDOUIsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUMvQjtBQUVEOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsT0FBTyxDQUFDLE9BQWU7SUFDckMsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDNUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxREFBcUQsQ0FBQyxDQUFDO0tBQ3hFO0lBRUQsSUFBTSxHQUFHLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMvQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFDLElBQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3ZELElBQUksV0FBVyxJQUFJLFlBQVksRUFBRTtZQUMvQixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0wsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBdUMsV0FBVyxvQkFBaUIsQ0FBQyxDQUFDO1NBQ3RGO0tBQ0Y7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTSxVQUFVLEtBQUssQ0FBQyxLQUFpQjtJQUNyQyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDYixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN6QyxHQUFHLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQy9CO0lBRUQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU0hPUlRfVE9fSEVYOiB7IFtrZXk6IG51bWJlcl06IHN0cmluZyB9ID0ge307XG5jb25zdCBIRVhfVE9fU0hPUlQ6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICBsZXQgZW5jb2RlZEJ5dGUgPSBpLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoZW5jb2RlZEJ5dGUubGVuZ3RoID09PSAxKSB7XG4gICAgZW5jb2RlZEJ5dGUgPSBgMCR7ZW5jb2RlZEJ5dGV9YDtcbiAgfVxuXG4gIFNIT1JUX1RPX0hFWFtpXSA9IGVuY29kZWRCeXRlO1xuICBIRVhfVE9fU0hPUlRbZW5jb2RlZEJ5dGVdID0gaTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGVuY29kZWQgc3RyaW5nIHRvIGEgVWludDhBcnJheSBvZiBieXRlcy5cbiAqXG4gKiBAcGFyYW0gZW5jb2RlZCBUaGUgaGV4YWRlY2ltYWwgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21IZXgoZW5jb2RlZDogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIGlmIChlbmNvZGVkLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZXggZW5jb2RlZCBzdHJpbmdzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBsZW5ndGhcIik7XG4gIH1cblxuICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShlbmNvZGVkLmxlbmd0aCAvIDIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBjb25zdCBlbmNvZGVkQnl0ZSA9IGVuY29kZWQuc3Vic3RyKGksIDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGVuY29kZWRCeXRlIGluIEhFWF9UT19TSE9SVCkge1xuICAgICAgb3V0W2kgLyAyXSA9IEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRlY29kZSB1bnJlY29nbml6ZWQgc2VxdWVuY2UgJHtlbmNvZGVkQnl0ZX0gYXMgaGV4YWRlY2ltYWxgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgVWludDhBcnJheSBvZiBiaW5hcnkgZGF0YSB0byBhIGhleGFkZWNpbWFsIGVuY29kZWQgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSBieXRlcyBUaGUgYmluYXJ5IGRhdGEgdG8gZW5jb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0hleChieXRlczogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBvdXQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgIG91dCArPSBTSE9SVF9UT19IRVhbYnl0ZXNbaV1dO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nexport function resolveHostHeaderConfig(input) {\n    return input;\n}\nexport var hostHeaderMiddleware = function (options) { return function (next) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var request, _a, handlerProtocol;\n    return __generator(this, function (_b) {\n        if (!HttpRequest.isInstance(args.request))\n            return [2 /*return*/, next(args)];\n        request = args.request;\n        _a = (options.requestHandler.metadata || {}).handlerProtocol, handlerProtocol = _a === void 0 ? \"\" : _a;\n        //For H2 request, remove 'host' header and use ':authority' header instead\n        //reference: https://nodejs.org/dist/latest-v13.x/docs/api/errors.html#ERR_HTTP2_INVALID_CONNECTION_HEADERS\n        if (handlerProtocol.indexOf(\"h2\") >= 0 && !request.headers[\":authority\"]) {\n            delete request.headers[\"host\"];\n            request.headers[\":authority\"] = \"\";\n            //non-H2 request and 'host' header is not set, set the 'host' header to request's hostname.\n        }\n        else if (!request.headers[\"host\"]) {\n            request.headers[\"host\"] = request.hostname;\n        }\n        return [2 /*return*/, next(args)];\n    });\n}); }; }; };\nexport var hostHeaderMiddlewareOptions = {\n    name: \"hostHeaderMiddleware\",\n    step: \"build\",\n    priority: \"low\",\n    tags: [\"HOST\"],\n    override: true,\n};\nexport var getHostHeaderPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(hostHeaderMiddleware(options), hostHeaderMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVVyRCxNQUFNLFVBQVUsdUJBQXVCLENBQ3JDLEtBQXFEO0lBRXJELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELE1BQU0sQ0FBQyxJQUFNLG9CQUFvQixHQUFHLFVBQ2xDLE9BQWlDLElBQ0UsT0FBQSxVQUFDLElBQUksSUFBSyxPQUFBLFVBQU8sSUFBSTs7O1FBQ3hELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7WUFBRSxzQkFBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUM7UUFDckQsT0FBTyxHQUFLLElBQUksUUFBVCxDQUFVO1FBQ2pCLEtBQXlCLENBQUEsT0FBTyxDQUFDLGNBQWMsQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFBLGdCQUExQyxFQUFwQixlQUFlLG1CQUFHLEVBQUUsS0FBQSxDQUEyQztRQUN2RSwwRUFBMEU7UUFDMUUsMkdBQTJHO1FBQzNHLElBQUksZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQ3hFLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvQixPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNuQywyRkFBMkY7U0FDNUY7YUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNuQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7U0FDNUM7UUFDRCxzQkFBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUM7O0tBQ25CLEVBZDhDLENBYzlDLEVBZG9DLENBY3BDLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSwyQkFBMkIsR0FBMkM7SUFDakYsSUFBSSxFQUFFLHNCQUFzQjtJQUM1QixJQUFJLEVBQUUsT0FBTztJQUNiLFFBQVEsRUFBRSxLQUFLO0lBQ2YsSUFBSSxFQUFFLENBQUMsTUFBTSxDQUFDO0lBQ2QsUUFBUSxFQUFFLElBQUk7Q0FDZixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsVUFBQyxPQUFpQyxJQUEwQixPQUFBLENBQUM7SUFDOUYsWUFBWSxFQUFFLFVBQUMsV0FBVztRQUN4QixXQUFXLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxFQUFFLDJCQUEyQixDQUFDLENBQUM7SUFDOUUsQ0FBQztDQUNGLENBQUMsRUFKNkYsQ0FJN0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IEFic29sdXRlTG9jYXRpb24sIEJ1aWxkSGFuZGxlck9wdGlvbnMsIEJ1aWxkTWlkZGxld2FyZSwgUGx1Z2dhYmxlLCBSZXF1ZXN0SGFuZGxlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhvc3RIZWFkZXJJbnB1dENvbmZpZyB7fVxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIHJlcXVlc3RIYW5kbGVyOiBSZXF1ZXN0SGFuZGxlcjxhbnksIGFueT47XG59XG5leHBvcnQgaW50ZXJmYWNlIEhvc3RIZWFkZXJSZXNvbHZlZENvbmZpZyB7XG4gIHJlcXVlc3RIYW5kbGVyOiBSZXF1ZXN0SGFuZGxlcjxhbnksIGFueT47XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUhvc3RIZWFkZXJDb25maWc8VD4oXG4gIGlucHV0OiBUICYgUHJldmlvdXNseVJlc29sdmVkICYgSG9zdEhlYWRlcklucHV0Q29uZmlnXG4pOiBUICYgSG9zdEhlYWRlclJlc29sdmVkQ29uZmlnIHtcbiAgcmV0dXJuIGlucHV0O1xufVxuXG5leHBvcnQgY29uc3QgaG9zdEhlYWRlck1pZGRsZXdhcmUgPSA8SW5wdXQgZXh0ZW5kcyBvYmplY3QsIE91dHB1dCBleHRlbmRzIG9iamVjdD4oXG4gIG9wdGlvbnM6IEhvc3RIZWFkZXJSZXNvbHZlZENvbmZpZ1xuKTogQnVpbGRNaWRkbGV3YXJlPElucHV0LCBPdXRwdXQ+ID0+IChuZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICBpZiAoIUh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UoYXJncy5yZXF1ZXN0KSkgcmV0dXJuIG5leHQoYXJncyk7XG4gIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgY29uc3QgeyBoYW5kbGVyUHJvdG9jb2wgPSBcIlwiIH0gPSBvcHRpb25zLnJlcXVlc3RIYW5kbGVyLm1ldGFkYXRhIHx8IHt9O1xuICAvL0ZvciBIMiByZXF1ZXN0LCByZW1vdmUgJ2hvc3QnIGhlYWRlciBhbmQgdXNlICc6YXV0aG9yaXR5JyBoZWFkZXIgaW5zdGVhZFxuICAvL3JlZmVyZW5jZTogaHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvbGF0ZXN0LXYxMy54L2RvY3MvYXBpL2Vycm9ycy5odG1sI0VSUl9IVFRQMl9JTlZBTElEX0NPTk5FQ1RJT05fSEVBREVSU1xuICBpZiAoaGFuZGxlclByb3RvY29sLmluZGV4T2YoXCJoMlwiKSA+PSAwICYmICFyZXF1ZXN0LmhlYWRlcnNbXCI6YXV0aG9yaXR5XCJdKSB7XG4gICAgZGVsZXRlIHJlcXVlc3QuaGVhZGVyc1tcImhvc3RcIl07XG4gICAgcmVxdWVzdC5oZWFkZXJzW1wiOmF1dGhvcml0eVwiXSA9IFwiXCI7XG4gICAgLy9ub24tSDIgcmVxdWVzdCBhbmQgJ2hvc3QnIGhlYWRlciBpcyBub3Qgc2V0LCBzZXQgdGhlICdob3N0JyBoZWFkZXIgdG8gcmVxdWVzdCdzIGhvc3RuYW1lLlxuICB9IGVsc2UgaWYgKCFyZXF1ZXN0LmhlYWRlcnNbXCJob3N0XCJdKSB7XG4gICAgcmVxdWVzdC5oZWFkZXJzW1wiaG9zdFwiXSA9IHJlcXVlc3QuaG9zdG5hbWU7XG4gIH1cbiAgcmV0dXJuIG5leHQoYXJncyk7XG59O1xuXG5leHBvcnQgY29uc3QgaG9zdEhlYWRlck1pZGRsZXdhcmVPcHRpb25zOiBCdWlsZEhhbmRsZXJPcHRpb25zICYgQWJzb2x1dGVMb2NhdGlvbiA9IHtcbiAgbmFtZTogXCJob3N0SGVhZGVyTWlkZGxld2FyZVwiLFxuICBzdGVwOiBcImJ1aWxkXCIsXG4gIHByaW9yaXR5OiBcImxvd1wiLFxuICB0YWdzOiBbXCJIT1NUXCJdLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRIb3N0SGVhZGVyUGx1Z2luID0gKG9wdGlvbnM6IEhvc3RIZWFkZXJSZXNvbHZlZENvbmZpZyk6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQoaG9zdEhlYWRlck1pZGRsZXdhcmUob3B0aW9ucyksIGhvc3RIZWFkZXJNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","import { __awaiter, __generator, __rest } from \"tslib\";\nexport var loggerMiddleware = function () { return function (next, context) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var clientName, commandName, inputFilterSensitiveLog, logger, outputFilterSensitiveLog, response, _a, $metadata, outputWithoutMetadata;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                clientName = context.clientName, commandName = context.commandName, inputFilterSensitiveLog = context.inputFilterSensitiveLog, logger = context.logger, outputFilterSensitiveLog = context.outputFilterSensitiveLog;\n                return [4 /*yield*/, next(args)];\n            case 1:\n                response = _b.sent();\n                if (!logger) {\n                    return [2 /*return*/, response];\n                }\n                if (typeof logger.info === \"function\") {\n                    _a = response.output, $metadata = _a.$metadata, outputWithoutMetadata = __rest(_a, [\"$metadata\"]);\n                    logger.info({\n                        clientName: clientName,\n                        commandName: commandName,\n                        input: inputFilterSensitiveLog(args.input),\n                        output: outputFilterSensitiveLog(outputWithoutMetadata),\n                        metadata: $metadata,\n                    });\n                }\n                return [2 /*return*/, response];\n        }\n    });\n}); }; }; };\nexport var loggerMiddlewareOptions = {\n    name: \"loggerMiddleware\",\n    tags: [\"LOGGER\"],\n    step: \"initialize\",\n    override: true,\n};\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport var getLoggerPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyTWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sb2dnZXJNaWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFZQSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyxjQUFNLE9BQUEsVUFDcEMsSUFBb0MsRUFDcEMsT0FBZ0MsSUFDRyxPQUFBLFVBQ25DLElBQXFDOzs7OztnQkFFN0IsVUFBVSxHQUE2RSxPQUFPLFdBQXBGLEVBQUUsV0FBVyxHQUFnRSxPQUFPLFlBQXZFLEVBQUUsdUJBQXVCLEdBQXVDLE9BQU8sd0JBQTlDLEVBQUUsTUFBTSxHQUErQixPQUFPLE9BQXRDLEVBQUUsd0JBQXdCLEdBQUssT0FBTyx5QkFBWixDQUFhO2dCQUV0RixxQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUE7O2dCQUEzQixRQUFRLEdBQUcsU0FBZ0I7Z0JBRWpDLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ1gsc0JBQU8sUUFBUSxFQUFDO2lCQUNqQjtnQkFFRCxJQUFJLE9BQU8sTUFBTSxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7b0JBQy9CLEtBQTBDLFFBQVEsQ0FBQyxNQUFNLEVBQXZELFNBQVMsZUFBQSxFQUFLLHFCQUFxQixjQUFyQyxhQUF1QyxDQUFGLENBQXFCO29CQUNoRSxNQUFNLENBQUMsSUFBSSxDQUFDO3dCQUNWLFVBQVUsWUFBQTt3QkFDVixXQUFXLGFBQUE7d0JBQ1gsS0FBSyxFQUFFLHVCQUF1QixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7d0JBQzFDLE1BQU0sRUFBRSx3QkFBd0IsQ0FBQyxxQkFBcUIsQ0FBQzt3QkFDdkQsUUFBUSxFQUFFLFNBQVM7cUJBQ3BCLENBQUMsQ0FBQztpQkFDSjtnQkFFRCxzQkFBTyxRQUFRLEVBQUM7OztLQUNqQixFQXZCb0MsQ0F1QnBDLEVBMUJxQyxDQTBCckMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLHVCQUF1QixHQUFnRDtJQUNsRixJQUFJLEVBQUUsa0JBQWtCO0lBQ3hCLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQztJQUNoQixJQUFJLEVBQUUsWUFBWTtJQUNsQixRQUFRLEVBQUUsSUFBSTtDQUNmLENBQUM7QUFFRiw2REFBNkQ7QUFDN0QsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLFVBQUMsT0FBWSxJQUEwQixPQUFBLENBQUM7SUFDckUsWUFBWSxFQUFFLFVBQUMsV0FBVztRQUN4QixXQUFXLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztJQUMvRCxDQUFDO0NBQ0YsQ0FBQyxFQUpvRSxDQUlwRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlc3BvbnNlIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7XG4gIEFic29sdXRlTG9jYXRpb24sXG4gIEhhbmRsZXJFeGVjdXRpb25Db250ZXh0LFxuICBJbml0aWFsaXplSGFuZGxlcixcbiAgSW5pdGlhbGl6ZUhhbmRsZXJBcmd1bWVudHMsXG4gIEluaXRpYWxpemVIYW5kbGVyT3B0aW9ucyxcbiAgSW5pdGlhbGl6ZUhhbmRsZXJPdXRwdXQsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBQbHVnZ2FibGUsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyTWlkZGxld2FyZSA9ICgpID0+IDxPdXRwdXQgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlciA9IE1ldGFkYXRhQmVhcmVyPihcbiAgbmV4dDogSW5pdGlhbGl6ZUhhbmRsZXI8YW55LCBPdXRwdXQ+LFxuICBjb250ZXh0OiBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dFxuKTogSW5pdGlhbGl6ZUhhbmRsZXI8YW55LCBPdXRwdXQ+ID0+IGFzeW5jIChcbiAgYXJnczogSW5pdGlhbGl6ZUhhbmRsZXJBcmd1bWVudHM8YW55PlxuKTogUHJvbWlzZTxJbml0aWFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gIGNvbnN0IHsgY2xpZW50TmFtZSwgY29tbWFuZE5hbWUsIGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nLCBsb2dnZXIsIG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZyB9ID0gY29udGV4dDtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5leHQoYXJncyk7XG5cbiAgaWYgKCFsb2dnZXIpIHtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICBpZiAodHlwZW9mIGxvZ2dlci5pbmZvID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25zdCB7ICRtZXRhZGF0YSwgLi4ub3V0cHV0V2l0aG91dE1ldGFkYXRhIH0gPSByZXNwb25zZS5vdXRwdXQ7XG4gICAgbG9nZ2VyLmluZm8oe1xuICAgICAgY2xpZW50TmFtZSxcbiAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgaW5wdXQ6IGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nKGFyZ3MuaW5wdXQpLFxuICAgICAgb3V0cHV0OiBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2cob3V0cHV0V2l0aG91dE1ldGFkYXRhKSxcbiAgICAgIG1ldGFkYXRhOiAkbWV0YWRhdGEsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyTWlkZGxld2FyZU9wdGlvbnM6IEluaXRpYWxpemVIYW5kbGVyT3B0aW9ucyAmIEFic29sdXRlTG9jYXRpb24gPSB7XG4gIG5hbWU6IFwibG9nZ2VyTWlkZGxld2FyZVwiLFxuICB0YWdzOiBbXCJMT0dHRVJcIl0sXG4gIHN0ZXA6IFwiaW5pdGlhbGl6ZVwiLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmV4cG9ydCBjb25zdCBnZXRMb2dnZXJQbHVnaW4gPSAob3B0aW9uczogYW55KTogUGx1Z2dhYmxlPGFueSwgYW55PiA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZChsb2dnZXJNaWRkbGV3YXJlKCksIGxvZ2dlck1pZGRsZXdhcmVPcHRpb25zKTtcbiAgfSxcbn0pO1xuIl19","export var ALGORITHM_QUERY_PARAM = \"X-Amz-Algorithm\";\nexport var CREDENTIAL_QUERY_PARAM = \"X-Amz-Credential\";\nexport var AMZ_DATE_QUERY_PARAM = \"X-Amz-Date\";\nexport var SIGNED_HEADERS_QUERY_PARAM = \"X-Amz-SignedHeaders\";\nexport var EXPIRES_QUERY_PARAM = \"X-Amz-Expires\";\nexport var SIGNATURE_QUERY_PARAM = \"X-Amz-Signature\";\nexport var TOKEN_QUERY_PARAM = \"X-Amz-Security-Token\";\nexport var AUTH_HEADER = \"authorization\";\nexport var AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nexport var DATE_HEADER = \"date\";\nexport var GENERATED_HEADERS = [AUTH_HEADER, AMZ_DATE_HEADER, DATE_HEADER];\nexport var SIGNATURE_HEADER = SIGNATURE_QUERY_PARAM.toLowerCase();\nexport var SHA256_HEADER = \"x-amz-content-sha256\";\nexport var TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\nexport var HOST_HEADER = \"host\";\nexport var ALWAYS_UNSIGNABLE_HEADERS = {\n    authorization: true,\n    \"cache-control\": true,\n    connection: true,\n    expect: true,\n    from: true,\n    \"keep-alive\": true,\n    \"max-forwards\": true,\n    pragma: true,\n    referer: true,\n    te: true,\n    trailer: true,\n    \"transfer-encoding\": true,\n    upgrade: true,\n    \"user-agent\": true,\n    \"x-amzn-trace-id\": true,\n};\nexport var PROXY_HEADER_PATTERN = /^proxy-/;\nexport var SEC_HEADER_PATTERN = /^sec-/;\nexport var UNSIGNABLE_PATTERNS = [/^proxy-/i, /^sec-/i];\nexport var ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256\";\nexport var EVENT_ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256-PAYLOAD\";\nexport var UNSIGNED_PAYLOAD = \"UNSIGNED-PAYLOAD\";\nexport var MAX_CACHE_SIZE = 50;\nexport var KEY_TYPE_IDENTIFIER = \"aws4_request\";\nexport var MAX_PRESIGNED_TTL = 60 * 60 * 24 * 7;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxxQkFBcUIsR0FBRyxpQkFBaUIsQ0FBQztBQUN2RCxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRyxrQkFBa0IsQ0FBQztBQUN6RCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxZQUFZLENBQUM7QUFDakQsTUFBTSxDQUFDLElBQU0sMEJBQTBCLEdBQUcscUJBQXFCLENBQUM7QUFDaEUsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsZUFBZSxDQUFDO0FBQ25ELE1BQU0sQ0FBQyxJQUFNLHFCQUFxQixHQUFHLGlCQUFpQixDQUFDO0FBQ3ZELE1BQU0sQ0FBQyxJQUFNLGlCQUFpQixHQUFHLHNCQUFzQixDQUFDO0FBRXhELE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRyxlQUFlLENBQUM7QUFDM0MsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ2xFLE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRyxNQUFNLENBQUM7QUFDbEMsTUFBTSxDQUFDLElBQU0saUJBQWlCLEdBQUcsQ0FBQyxXQUFXLEVBQUUsZUFBZSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzdFLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3BFLE1BQU0sQ0FBQyxJQUFNLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQztBQUNwRCxNQUFNLENBQUMsSUFBTSxZQUFZLEdBQUcsaUJBQWlCLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDNUQsTUFBTSxDQUFDLElBQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQztBQUVsQyxNQUFNLENBQUMsSUFBTSx5QkFBeUIsR0FBRztJQUN2QyxhQUFhLEVBQUUsSUFBSTtJQUNuQixlQUFlLEVBQUUsSUFBSTtJQUNyQixVQUFVLEVBQUUsSUFBSTtJQUNoQixNQUFNLEVBQUUsSUFBSTtJQUNaLElBQUksRUFBRSxJQUFJO0lBQ1YsWUFBWSxFQUFFLElBQUk7SUFDbEIsY0FBYyxFQUFFLElBQUk7SUFDcEIsTUFBTSxFQUFFLElBQUk7SUFDWixPQUFPLEVBQUUsSUFBSTtJQUNiLEVBQUUsRUFBRSxJQUFJO0lBQ1IsT0FBTyxFQUFFLElBQUk7SUFDYixtQkFBbUIsRUFBRSxJQUFJO0lBQ3pCLE9BQU8sRUFBRSxJQUFJO0lBQ2IsWUFBWSxFQUFFLElBQUk7SUFDbEIsaUJBQWlCLEVBQUUsSUFBSTtDQUN4QixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sb0JBQW9CLEdBQUcsU0FBUyxDQUFDO0FBRTlDLE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLE9BQU8sQ0FBQztBQUUxQyxNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRyxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUUxRCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxrQkFBa0IsQ0FBQztBQUV2RCxNQUFNLENBQUMsSUFBTSwwQkFBMEIsR0FBRywwQkFBMEIsQ0FBQztBQUVyRSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyxrQkFBa0IsQ0FBQztBQUVuRCxNQUFNLENBQUMsSUFBTSxjQUFjLEdBQUcsRUFBRSxDQUFDO0FBQ2pDLE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLGNBQWMsQ0FBQztBQUVsRCxNQUFNLENBQUMsSUFBTSxpQkFBaUIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQUxHT1JJVEhNX1FVRVJZX1BBUkFNID0gXCJYLUFtei1BbGdvcml0aG1cIjtcbmV4cG9ydCBjb25zdCBDUkVERU5USUFMX1FVRVJZX1BBUkFNID0gXCJYLUFtei1DcmVkZW50aWFsXCI7XG5leHBvcnQgY29uc3QgQU1aX0RBVEVfUVVFUllfUEFSQU0gPSBcIlgtQW16LURhdGVcIjtcbmV4cG9ydCBjb25zdCBTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTSA9IFwiWC1BbXotU2lnbmVkSGVhZGVyc1wiO1xuZXhwb3J0IGNvbnN0IEVYUElSRVNfUVVFUllfUEFSQU0gPSBcIlgtQW16LUV4cGlyZXNcIjtcbmV4cG9ydCBjb25zdCBTSUdOQVRVUkVfUVVFUllfUEFSQU0gPSBcIlgtQW16LVNpZ25hdHVyZVwiO1xuZXhwb3J0IGNvbnN0IFRPS0VOX1FVRVJZX1BBUkFNID0gXCJYLUFtei1TZWN1cml0eS1Ub2tlblwiO1xuXG5leHBvcnQgY29uc3QgQVVUSF9IRUFERVIgPSBcImF1dGhvcml6YXRpb25cIjtcbmV4cG9ydCBjb25zdCBBTVpfREFURV9IRUFERVIgPSBBTVpfREFURV9RVUVSWV9QQVJBTS50b0xvd2VyQ2FzZSgpO1xuZXhwb3J0IGNvbnN0IERBVEVfSEVBREVSID0gXCJkYXRlXCI7XG5leHBvcnQgY29uc3QgR0VORVJBVEVEX0hFQURFUlMgPSBbQVVUSF9IRUFERVIsIEFNWl9EQVRFX0hFQURFUiwgREFURV9IRUFERVJdO1xuZXhwb3J0IGNvbnN0IFNJR05BVFVSRV9IRUFERVIgPSBTSUdOQVRVUkVfUVVFUllfUEFSQU0udG9Mb3dlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBTSEEyNTZfSEVBREVSID0gXCJ4LWFtei1jb250ZW50LXNoYTI1NlwiO1xuZXhwb3J0IGNvbnN0IFRPS0VOX0hFQURFUiA9IFRPS0VOX1FVRVJZX1BBUkFNLnRvTG93ZXJDYXNlKCk7XG5leHBvcnQgY29uc3QgSE9TVF9IRUFERVIgPSBcImhvc3RcIjtcblxuZXhwb3J0IGNvbnN0IEFMV0FZU19VTlNJR05BQkxFX0hFQURFUlMgPSB7XG4gIGF1dGhvcml6YXRpb246IHRydWUsXG4gIFwiY2FjaGUtY29udHJvbFwiOiB0cnVlLFxuICBjb25uZWN0aW9uOiB0cnVlLFxuICBleHBlY3Q6IHRydWUsXG4gIGZyb206IHRydWUsXG4gIFwia2VlcC1hbGl2ZVwiOiB0cnVlLFxuICBcIm1heC1mb3J3YXJkc1wiOiB0cnVlLFxuICBwcmFnbWE6IHRydWUsXG4gIHJlZmVyZXI6IHRydWUsXG4gIHRlOiB0cnVlLFxuICB0cmFpbGVyOiB0cnVlLFxuICBcInRyYW5zZmVyLWVuY29kaW5nXCI6IHRydWUsXG4gIHVwZ3JhZGU6IHRydWUsXG4gIFwidXNlci1hZ2VudFwiOiB0cnVlLFxuICBcIngtYW16bi10cmFjZS1pZFwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IFBST1hZX0hFQURFUl9QQVRURVJOID0gL15wcm94eS0vO1xuXG5leHBvcnQgY29uc3QgU0VDX0hFQURFUl9QQVRURVJOID0gL15zZWMtLztcblxuZXhwb3J0IGNvbnN0IFVOU0lHTkFCTEVfUEFUVEVSTlMgPSBbL15wcm94eS0vaSwgL15zZWMtL2ldO1xuXG5leHBvcnQgY29uc3QgQUxHT1JJVEhNX0lERU5USUZJRVIgPSBcIkFXUzQtSE1BQy1TSEEyNTZcIjtcblxuZXhwb3J0IGNvbnN0IEVWRU5UX0FMR09SSVRITV9JREVOVElGSUVSID0gXCJBV1M0LUhNQUMtU0hBMjU2LVBBWUxPQURcIjtcblxuZXhwb3J0IGNvbnN0IFVOU0lHTkVEX1BBWUxPQUQgPSBcIlVOU0lHTkVELVBBWUxPQURcIjtcblxuZXhwb3J0IGNvbnN0IE1BWF9DQUNIRV9TSVpFID0gNTA7XG5leHBvcnQgY29uc3QgS0VZX1RZUEVfSURFTlRJRklFUiA9IFwiYXdzNF9yZXF1ZXN0XCI7XG5cbmV4cG9ydCBjb25zdCBNQVhfUFJFU0lHTkVEX1RUTCA9IDYwICogNjAgKiAyNCAqIDc7XG4iXX0=","import { __awaiter, __generator, __values } from \"tslib\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { KEY_TYPE_IDENTIFIER, MAX_CACHE_SIZE } from \"./constants\";\nvar signingKeyCache = {};\nvar cacheQueue = [];\n/**\n * Create a string describing the scope of credentials used to sign a request.\n *\n * @param shortDate The current calendar date in the form YYYYMMDD.\n * @param region    The AWS region in which the service resides.\n * @param service   The service to which the signed request is being sent.\n */\nexport function createScope(shortDate, region, service) {\n    return shortDate + \"/\" + region + \"/\" + service + \"/\" + KEY_TYPE_IDENTIFIER;\n}\n/**\n * Derive a signing key from its composite parts\n *\n * @param sha256Constructor A constructor function that can instantiate SHA-256\n *                          hash objects.\n * @param credentials       The credentials with which the request will be\n *                          signed.\n * @param shortDate         The current calendar date in the form YYYYMMDD.\n * @param region            The AWS region in which the service resides.\n * @param service           The service to which the signed request is being\n *                          sent.\n */\nexport var getSigningKey = function (sha256Constructor, credentials, shortDate, region, service) { return __awaiter(void 0, void 0, void 0, function () {\n    var credsHash, cacheKey, key, _a, _b, signable, e_1_1;\n    var e_1, _c;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0: return [4 /*yield*/, hmac(sha256Constructor, credentials.secretAccessKey, credentials.accessKeyId)];\n            case 1:\n                credsHash = _d.sent();\n                cacheKey = shortDate + \":\" + region + \":\" + service + \":\" + toHex(credsHash) + \":\" + credentials.sessionToken;\n                if (cacheKey in signingKeyCache) {\n                    return [2 /*return*/, signingKeyCache[cacheKey]];\n                }\n                cacheQueue.push(cacheKey);\n                while (cacheQueue.length > MAX_CACHE_SIZE) {\n                    delete signingKeyCache[cacheQueue.shift()];\n                }\n                key = \"AWS4\" + credentials.secretAccessKey;\n                _d.label = 2;\n            case 2:\n                _d.trys.push([2, 7, 8, 9]);\n                _a = __values([shortDate, region, service, KEY_TYPE_IDENTIFIER]), _b = _a.next();\n                _d.label = 3;\n            case 3:\n                if (!!_b.done) return [3 /*break*/, 6];\n                signable = _b.value;\n                return [4 /*yield*/, hmac(sha256Constructor, key, signable)];\n            case 4:\n                key = _d.sent();\n                _d.label = 5;\n            case 5:\n                _b = _a.next();\n                return [3 /*break*/, 3];\n            case 6: return [3 /*break*/, 9];\n            case 7:\n                e_1_1 = _d.sent();\n                e_1 = { error: e_1_1 };\n                return [3 /*break*/, 9];\n            case 8:\n                try {\n                    if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                }\n                finally { if (e_1) throw e_1.error; }\n                return [7 /*endfinally*/];\n            case 9: return [2 /*return*/, (signingKeyCache[cacheKey] = key)];\n        }\n    });\n}); };\n/**\n * @internal\n */\nexport function clearCredentialCache() {\n    cacheQueue.length = 0;\n    Object.keys(signingKeyCache).forEach(function (cacheKey) {\n        delete signingKeyCache[cacheKey];\n    });\n}\nfunction hmac(ctor, secret, data) {\n    var hash = new ctor(secret);\n    hash.update(data);\n    return hash.digest();\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlZGVudGlhbERlcml2YXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY3JlZGVudGlhbERlcml2YXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUVuRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsY0FBYyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRWxFLElBQU0sZUFBZSxHQUFrQyxFQUFFLENBQUM7QUFDMUQsSUFBTSxVQUFVLEdBQWtCLEVBQUUsQ0FBQztBQUVyQzs7Ozs7O0dBTUc7QUFDSCxNQUFNLFVBQVUsV0FBVyxDQUFDLFNBQWlCLEVBQUUsTUFBYyxFQUFFLE9BQWU7SUFDNUUsT0FBVSxTQUFTLFNBQUksTUFBTSxTQUFJLE9BQU8sU0FBSSxtQkFBcUIsQ0FBQztBQUNwRSxDQUFDO0FBRUQ7Ozs7Ozs7Ozs7O0dBV0c7QUFDSCxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQUcsVUFDM0IsaUJBQWtDLEVBQ2xDLFdBQXdCLEVBQ3hCLFNBQWlCLEVBQ2pCLE1BQWMsRUFDZCxPQUFlOzs7OztvQkFFRyxxQkFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsV0FBVyxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUE7O2dCQUEvRixTQUFTLEdBQUcsU0FBbUY7Z0JBQy9GLFFBQVEsR0FBTSxTQUFTLFNBQUksTUFBTSxTQUFJLE9BQU8sU0FBSSxLQUFLLENBQUMsU0FBUyxDQUFDLFNBQUksV0FBVyxDQUFDLFlBQWMsQ0FBQztnQkFDckcsSUFBSSxRQUFRLElBQUksZUFBZSxFQUFFO29CQUMvQixzQkFBTyxlQUFlLENBQUMsUUFBUSxDQUFDLEVBQUM7aUJBQ2xDO2dCQUVELFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzFCLE9BQU8sVUFBVSxDQUFDLE1BQU0sR0FBRyxjQUFjLEVBQUU7b0JBQ3pDLE9BQU8sZUFBZSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQVksQ0FBQyxDQUFDO2lCQUN0RDtnQkFFRyxHQUFHLEdBQWUsU0FBTyxXQUFXLENBQUMsZUFBaUIsQ0FBQzs7OztnQkFDcEMsS0FBQSxTQUFBLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsbUJBQW1CLENBQUMsQ0FBQTs7OztnQkFBN0QsUUFBUTtnQkFDWCxxQkFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxFQUFBOztnQkFBbEQsR0FBRyxHQUFHLFNBQTRDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBRXJELHNCQUFPLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQWlCLENBQUMsRUFBQzs7O0tBQ3hELENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sVUFBVSxvQkFBb0I7SUFDbEMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxRQUFRO1FBQzVDLE9BQU8sZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ25DLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsSUFBSSxDQUFDLElBQXFCLEVBQUUsTUFBa0IsRUFBRSxJQUFnQjtJQUN2RSxJQUFNLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3ZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDcmVkZW50aWFscywgSGFzaENvbnN0cnVjdG9yLCBTb3VyY2VEYXRhIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5pbXBvcnQgeyBLRVlfVFlQRV9JREVOVElGSUVSLCBNQVhfQ0FDSEVfU0laRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5jb25zdCBzaWduaW5nS2V5Q2FjaGU6IHsgW2tleTogc3RyaW5nXTogVWludDhBcnJheSB9ID0ge307XG5jb25zdCBjYWNoZVF1ZXVlOiBBcnJheTxzdHJpbmc+ID0gW107XG5cbi8qKlxuICogQ3JlYXRlIGEgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIHNjb3BlIG9mIGNyZWRlbnRpYWxzIHVzZWQgdG8gc2lnbiBhIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIHNob3J0RGF0ZSBUaGUgY3VycmVudCBjYWxlbmRhciBkYXRlIGluIHRoZSBmb3JtIFlZWVlNTURELlxuICogQHBhcmFtIHJlZ2lvbiAgICBUaGUgQVdTIHJlZ2lvbiBpbiB3aGljaCB0aGUgc2VydmljZSByZXNpZGVzLlxuICogQHBhcmFtIHNlcnZpY2UgICBUaGUgc2VydmljZSB0byB3aGljaCB0aGUgc2lnbmVkIHJlcXVlc3QgaXMgYmVpbmcgc2VudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNjb3BlKHNob3J0RGF0ZTogc3RyaW5nLCByZWdpb246IHN0cmluZywgc2VydmljZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke3Nob3J0RGF0ZX0vJHtyZWdpb259LyR7c2VydmljZX0vJHtLRVlfVFlQRV9JREVOVElGSUVSfWA7XG59XG5cbi8qKlxuICogRGVyaXZlIGEgc2lnbmluZyBrZXkgZnJvbSBpdHMgY29tcG9zaXRlIHBhcnRzXG4gKlxuICogQHBhcmFtIHNoYTI1NkNvbnN0cnVjdG9yIEEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBjYW4gaW5zdGFudGlhdGUgU0hBLTI1NlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2ggb2JqZWN0cy5cbiAqIEBwYXJhbSBjcmVkZW50aWFscyAgICAgICBUaGUgY3JlZGVudGlhbHMgd2l0aCB3aGljaCB0aGUgcmVxdWVzdCB3aWxsIGJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmVkLlxuICogQHBhcmFtIHNob3J0RGF0ZSAgICAgICAgIFRoZSBjdXJyZW50IGNhbGVuZGFyIGRhdGUgaW4gdGhlIGZvcm0gWVlZWU1NREQuXG4gKiBAcGFyYW0gcmVnaW9uICAgICAgICAgICAgVGhlIEFXUyByZWdpb24gaW4gd2hpY2ggdGhlIHNlcnZpY2UgcmVzaWRlcy5cbiAqIEBwYXJhbSBzZXJ2aWNlICAgICAgICAgICBUaGUgc2VydmljZSB0byB3aGljaCB0aGUgc2lnbmVkIHJlcXVlc3QgaXMgYmVpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBzZW50LlxuICovXG5leHBvcnQgY29uc3QgZ2V0U2lnbmluZ0tleSA9IGFzeW5jIChcbiAgc2hhMjU2Q29uc3RydWN0b3I6IEhhc2hDb25zdHJ1Y3RvcixcbiAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzLFxuICBzaG9ydERhdGU6IHN0cmluZyxcbiAgcmVnaW9uOiBzdHJpbmcsXG4gIHNlcnZpY2U6IHN0cmluZ1xuKTogUHJvbWlzZTxVaW50OEFycmF5PiA9PiB7XG4gIGNvbnN0IGNyZWRzSGFzaCA9IGF3YWl0IGhtYWMoc2hhMjU2Q29uc3RydWN0b3IsIGNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleSwgY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQpO1xuICBjb25zdCBjYWNoZUtleSA9IGAke3Nob3J0RGF0ZX06JHtyZWdpb259OiR7c2VydmljZX06JHt0b0hleChjcmVkc0hhc2gpfToke2NyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbn1gO1xuICBpZiAoY2FjaGVLZXkgaW4gc2lnbmluZ0tleUNhY2hlKSB7XG4gICAgcmV0dXJuIHNpZ25pbmdLZXlDYWNoZVtjYWNoZUtleV07XG4gIH1cblxuICBjYWNoZVF1ZXVlLnB1c2goY2FjaGVLZXkpO1xuICB3aGlsZSAoY2FjaGVRdWV1ZS5sZW5ndGggPiBNQVhfQ0FDSEVfU0laRSkge1xuICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVRdWV1ZS5zaGlmdCgpIGFzIHN0cmluZ107XG4gIH1cblxuICBsZXQga2V5OiBTb3VyY2VEYXRhID0gYEFXUzQke2NyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleX1gO1xuICBmb3IgKGNvbnN0IHNpZ25hYmxlIG9mIFtzaG9ydERhdGUsIHJlZ2lvbiwgc2VydmljZSwgS0VZX1RZUEVfSURFTlRJRklFUl0pIHtcbiAgICBrZXkgPSBhd2FpdCBobWFjKHNoYTI1NkNvbnN0cnVjdG9yLCBrZXksIHNpZ25hYmxlKTtcbiAgfVxuICByZXR1cm4gKHNpZ25pbmdLZXlDYWNoZVtjYWNoZUtleV0gPSBrZXkgYXMgVWludDhBcnJheSk7XG59O1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDcmVkZW50aWFsQ2FjaGUoKTogdm9pZCB7XG4gIGNhY2hlUXVldWUubGVuZ3RoID0gMDtcbiAgT2JqZWN0LmtleXMoc2lnbmluZ0tleUNhY2hlKS5mb3JFYWNoKChjYWNoZUtleSkgPT4ge1xuICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVLZXldO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaG1hYyhjdG9yOiBIYXNoQ29uc3RydWN0b3IsIHNlY3JldDogU291cmNlRGF0YSwgZGF0YTogU291cmNlRGF0YSk6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBoYXNoID0gbmV3IGN0b3Ioc2VjcmV0KTtcbiAgaGFzaC51cGRhdGUoZGF0YSk7XG4gIHJldHVybiBoYXNoLmRpZ2VzdCgpO1xufVxuIl19","import { __values } from \"tslib\";\nimport { ALWAYS_UNSIGNABLE_HEADERS, PROXY_HEADER_PATTERN, SEC_HEADER_PATTERN } from \"./constants\";\n/**\n * @internal\n */\nexport function getCanonicalHeaders(_a, unsignableHeaders, signableHeaders) {\n    var e_1, _b;\n    var headers = _a.headers;\n    var canonical = {};\n    try {\n        for (var _c = __values(Object.keys(headers).sort()), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var headerName = _d.value;\n            var canonicalHeaderName = headerName.toLowerCase();\n            if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS || (unsignableHeaders === null || unsignableHeaders === void 0 ? void 0 : unsignableHeaders.has(canonicalHeaderName)) ||\n                PROXY_HEADER_PATTERN.test(canonicalHeaderName) ||\n                SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n                if (!signableHeaders || (signableHeaders && !signableHeaders.has(canonicalHeaderName))) {\n                    continue;\n                }\n            }\n            canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\\s+/g, \" \");\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return canonical;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2Fub25pY2FsSGVhZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9nZXRDYW5vbmljYWxIZWFkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxPQUFPLEVBQUUseUJBQXlCLEVBQUUsb0JBQW9CLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFbEc7O0dBRUc7QUFDSCxNQUFNLFVBQVUsbUJBQW1CLENBQ2pDLEVBQXdCLEVBQ3hCLGlCQUErQixFQUMvQixlQUE2Qjs7UUFGM0IsT0FBTyxhQUFBO0lBSVQsSUFBTSxTQUFTLEdBQWMsRUFBRSxDQUFDOztRQUNoQyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBLGdCQUFBLDRCQUFFO1lBQWpELElBQU0sVUFBVSxXQUFBO1lBQ25CLElBQU0sbUJBQW1CLEdBQUcsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3JELElBQ0UsbUJBQW1CLElBQUkseUJBQXlCLEtBQ2hELGlCQUFpQixhQUFqQixpQkFBaUIsdUJBQWpCLGlCQUFpQixDQUFFLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQztnQkFDM0Msb0JBQW9CLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDO2dCQUM5QyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsRUFDNUM7Z0JBQ0EsSUFBSSxDQUFDLGVBQWUsSUFBSSxDQUFDLGVBQWUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxFQUFFO29CQUN0RixTQUFTO2lCQUNWO2FBQ0Y7WUFFRCxTQUFTLENBQUMsbUJBQW1CLENBQUMsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztTQUNsRjs7Ozs7Ozs7O0lBRUQsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhlYWRlckJhZywgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgQUxXQVlTX1VOU0lHTkFCTEVfSEVBREVSUywgUFJPWFlfSEVBREVSX1BBVFRFUk4sIFNFQ19IRUFERVJfUEFUVEVSTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2Fub25pY2FsSGVhZGVycyhcbiAgeyBoZWFkZXJzIH06IEh0dHBSZXF1ZXN0LFxuICB1bnNpZ25hYmxlSGVhZGVycz86IFNldDxzdHJpbmc+LFxuICBzaWduYWJsZUhlYWRlcnM/OiBTZXQ8c3RyaW5nPlxuKTogSGVhZGVyQmFnIHtcbiAgY29uc3QgY2Fub25pY2FsOiBIZWFkZXJCYWcgPSB7fTtcbiAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpLnNvcnQoKSkge1xuICAgIGNvbnN0IGNhbm9uaWNhbEhlYWRlck5hbWUgPSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKFxuICAgICAgY2Fub25pY2FsSGVhZGVyTmFtZSBpbiBBTFdBWVNfVU5TSUdOQUJMRV9IRUFERVJTIHx8XG4gICAgICB1bnNpZ25hYmxlSGVhZGVycz8uaGFzKGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICBQUk9YWV9IRUFERVJfUEFUVEVSTi50ZXN0KGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICBTRUNfSEVBREVSX1BBVFRFUk4udGVzdChjYW5vbmljYWxIZWFkZXJOYW1lKVxuICAgICkge1xuICAgICAgaWYgKCFzaWduYWJsZUhlYWRlcnMgfHwgKHNpZ25hYmxlSGVhZGVycyAmJiAhc2lnbmFibGVIZWFkZXJzLmhhcyhjYW5vbmljYWxIZWFkZXJOYW1lKSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2Fub25pY2FsW2Nhbm9uaWNhbEhlYWRlck5hbWVdID0gaGVhZGVyc1toZWFkZXJOYW1lXS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7XG4gIH1cblxuICByZXR1cm4gY2Fub25pY2FsO1xufVxuIl19","export var escapeUri = function (uri) {\n    // AWS percent-encodes some extra non-standard characters in a URI\n    return encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\n};\nvar hexEncode = function (c) { return \"%\" + c.charCodeAt(0).toString(16).toUpperCase(); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLXVyaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lc2NhcGUtdXJpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxJQUFNLFNBQVMsR0FBRyxVQUFDLEdBQVc7SUFDbkMsa0VBQWtFO0lBQ2xFLE9BQUEsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUM7QUFBdEQsQ0FBc0QsQ0FBQztBQUV6RCxJQUFNLFNBQVMsR0FBRyxVQUFDLENBQVMsSUFBSyxPQUFBLE1BQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFJLEVBQWhELENBQWdELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZXNjYXBlVXJpID0gKHVyaTogc3RyaW5nKTogc3RyaW5nID0+XG4gIC8vIEFXUyBwZXJjZW50LWVuY29kZXMgc29tZSBleHRyYSBub24tc3RhbmRhcmQgY2hhcmFjdGVycyBpbiBhIFVSSVxuICBlbmNvZGVVUklDb21wb25lbnQodXJpKS5yZXBsYWNlKC9bIScoKSpdL2csIGhleEVuY29kZSk7XG5cbmNvbnN0IGhleEVuY29kZSA9IChjOiBzdHJpbmcpID0+IGAlJHtjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YDtcbiJdfQ==","import { __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\n/**\n * @internal\n */\nexport function getPayloadHash(_a, hashConstructor) {\n    var headers = _a.headers, body = _a.body;\n    return __awaiter(this, void 0, void 0, function () {\n        var _b, _c, headerName, hashCtor, _d;\n        var e_1, _e;\n        return __generator(this, function (_f) {\n            switch (_f.label) {\n                case 0:\n                    try {\n                        for (_b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                            headerName = _c.value;\n                            if (headerName.toLowerCase() === SHA256_HEADER) {\n                                return [2 /*return*/, headers[headerName]];\n                            }\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_c && !_c.done && (_e = _b.return)) _e.call(_b);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                    if (!(body == undefined)) return [3 /*break*/, 1];\n                    return [2 /*return*/, \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"];\n                case 1:\n                    if (!(typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body))) return [3 /*break*/, 3];\n                    hashCtor = new hashConstructor();\n                    hashCtor.update(body);\n                    _d = toHex;\n                    return [4 /*yield*/, hashCtor.digest()];\n                case 2: return [2 /*return*/, _d.apply(void 0, [_f.sent()])];\n                case 3: \n                // As any defined body that is not a string or binary data is a stream, this\n                // body is unsignable. Attempt to send the request with an unsigned payload,\n                // which may or may not be accepted by the service.\n                return [2 /*return*/, UNSIGNED_PAYLOAD];\n            }\n        });\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0UGF5bG9hZEhhc2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZ2V0UGF5bG9hZEhhc2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUV6RCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFbkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUU5RDs7R0FFRztBQUNILE1BQU0sVUFBZ0IsY0FBYyxDQUNsQyxFQUE4QixFQUM5QixlQUFnQztRQUQ5QixPQUFPLGFBQUEsRUFBRSxJQUFJLFVBQUE7Ozs7Ozs7O3dCQUdmLEtBQXlCLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLDRDQUFFOzRCQUFwQyxVQUFVOzRCQUNuQixJQUFJLFVBQVUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxhQUFhLEVBQUU7Z0NBQzlDLHNCQUFPLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBQzs2QkFDNUI7eUJBQ0Y7Ozs7Ozs7Ozt5QkFFRyxDQUFBLElBQUksSUFBSSxTQUFTLENBQUEsRUFBakIsd0JBQWlCO29CQUNuQixzQkFBTyxrRUFBa0UsRUFBQzs7eUJBQ2pFLENBQUEsT0FBTyxJQUFJLEtBQUssUUFBUSxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFBLEVBQTNFLHdCQUEyRTtvQkFDOUUsUUFBUSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7b0JBQ3ZDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ2YsS0FBQSxLQUFLLENBQUE7b0JBQUMscUJBQU0sUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFBO3dCQUFwQyxzQkFBTyxrQkFBTSxTQUF1QixFQUFDLEVBQUM7O2dCQUd4Qyw0RUFBNEU7Z0JBQzVFLDRFQUE0RTtnQkFDNUUsbURBQW1EO2dCQUNuRCxzQkFBTyxnQkFBZ0IsRUFBQzs7OztDQUN6QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXlCdWZmZXIgfSBmcm9tIFwiQGF3cy1zZGsvaXMtYXJyYXktYnVmZmVyXCI7XG5pbXBvcnQgeyBIYXNoQ29uc3RydWN0b3IsIEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5pbXBvcnQgeyBTSEEyNTZfSEVBREVSLCBVTlNJR05FRF9QQVlMT0FEIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYXlsb2FkSGFzaChcbiAgeyBoZWFkZXJzLCBib2R5IH06IEh0dHBSZXF1ZXN0LFxuICBoYXNoQ29uc3RydWN0b3I6IEhhc2hDb25zdHJ1Y3RvclxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgaWYgKGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSA9PT0gU0hBMjU2X0hFQURFUikge1xuICAgICAgcmV0dXJuIGhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgfVxuICB9XG5cbiAgaWYgKGJvZHkgPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIFwiZTNiMGM0NDI5OGZjMWMxNDlhZmJmNGM4OTk2ZmI5MjQyN2FlNDFlNDY0OWI5MzRjYTQ5NTk5MWI3ODUyYjg1NVwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiIHx8IEFycmF5QnVmZmVyLmlzVmlldyhib2R5KSB8fCBpc0FycmF5QnVmZmVyKGJvZHkpKSB7XG4gICAgY29uc3QgaGFzaEN0b3IgPSBuZXcgaGFzaENvbnN0cnVjdG9yKCk7XG4gICAgaGFzaEN0b3IudXBkYXRlKGJvZHkpO1xuICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoQ3Rvci5kaWdlc3QoKSk7XG4gIH1cblxuICAvLyBBcyBhbnkgZGVmaW5lZCBib2R5IHRoYXQgaXMgbm90IGEgc3RyaW5nIG9yIGJpbmFyeSBkYXRhIGlzIGEgc3RyZWFtLCB0aGlzXG4gIC8vIGJvZHkgaXMgdW5zaWduYWJsZS4gQXR0ZW1wdCB0byBzZW5kIHRoZSByZXF1ZXN0IHdpdGggYW4gdW5zaWduZWQgcGF5bG9hZCxcbiAgLy8gd2hpY2ggbWF5IG9yIG1heSBub3QgYmUgYWNjZXB0ZWQgYnkgdGhlIHNlcnZpY2UuXG4gIHJldHVybiBVTlNJR05FRF9QQVlMT0FEO1xufVxuIl19","export var isArrayBuffer = function (arg) {\n    return (typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer) ||\n        Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\";\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLElBQU0sYUFBYSxHQUFHLFVBQUMsR0FBUTtJQUNwQyxPQUFBLENBQUMsT0FBTyxXQUFXLEtBQUssVUFBVSxJQUFJLEdBQUcsWUFBWSxXQUFXLENBQUM7UUFDakUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLHNCQUFzQjtBQUQ5RCxDQUM4RCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGlzQXJyYXlCdWZmZXIgPSAoYXJnOiBhbnkpOiBhcmcgaXMgQXJyYXlCdWZmZXIgPT5cbiAgKHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIGFyZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiO1xuIl19","import { __assign, __read, __rest, __spread } from \"tslib\";\n/**\n * @internal\n */\nexport function cloneRequest(_a) {\n    var headers = _a.headers, query = _a.query, rest = __rest(_a, [\"headers\", \"query\"]);\n    return __assign(__assign({}, rest), { headers: __assign({}, headers), query: query ? cloneQuery(query) : undefined });\n}\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce(function (carry, paramName) {\n        var _a;\n        var param = query[paramName];\n        return __assign(__assign({}, carry), (_a = {}, _a[paramName] = Array.isArray(param) ? __spread(param) : param, _a));\n    }, {});\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xvbmVSZXF1ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Nsb25lUmVxdWVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUE7O0dBRUc7QUFDSCxNQUFNLFVBQVUsWUFBWSxDQUFDLEVBQXdDO0lBQXRDLElBQUEsT0FBTyxhQUFBLEVBQUUsS0FBSyxXQUFBLEVBQUssSUFBSSxjQUF6QixvQkFBMkIsQ0FBRjtJQUNwRCw2QkFDSyxJQUFJLEtBQ1AsT0FBTyxlQUFPLE9BQU8sR0FDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLElBQzVDO0FBQ0osQ0FBQztBQUVELFNBQVMsVUFBVSxDQUFDLEtBQXdCO0lBQzFDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQyxLQUF3QixFQUFFLFNBQWlCOztRQUMzRSxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0IsNkJBQ0ssS0FBSyxnQkFDUCxTQUFTLElBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFVBQUssS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLE9BQ3REO0lBQ0osQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0LCBRdWVyeVBhcmFtZXRlckJhZyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVSZXF1ZXN0KHsgaGVhZGVycywgcXVlcnksIC4uLnJlc3QgfTogSHR0cFJlcXVlc3QpOiBIdHRwUmVxdWVzdCB7XG4gIHJldHVybiB7XG4gICAgLi4ucmVzdCxcbiAgICBoZWFkZXJzOiB7IC4uLmhlYWRlcnMgfSxcbiAgICBxdWVyeTogcXVlcnkgPyBjbG9uZVF1ZXJ5KHF1ZXJ5KSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xvbmVRdWVyeShxdWVyeTogUXVlcnlQYXJhbWV0ZXJCYWcpOiBRdWVyeVBhcmFtZXRlckJhZyB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeSkucmVkdWNlKChjYXJyeTogUXVlcnlQYXJhbWV0ZXJCYWcsIHBhcmFtTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcGFyYW0gPSBxdWVyeVtwYXJhbU5hbWVdO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jYXJyeSxcbiAgICAgIFtwYXJhbU5hbWVdOiBBcnJheS5pc0FycmF5KHBhcmFtKSA/IFsuLi5wYXJhbV0gOiBwYXJhbSxcbiAgICB9O1xuICB9LCB7fSk7XG59XG4iXX0=","import { __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\nimport { GENERATED_HEADERS } from \"./constants\";\n/**\n * @internal\n */\nexport function prepareRequest(request) {\n    var e_1, _a;\n    // Create a clone of the request object that does not clone the body\n    request = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request);\n    try {\n        for (var _b = __values(Object.keys(request.headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var headerName = _c.value;\n            if (GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {\n                delete request.headers[headerName];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return request;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlcGFyZVJlcXVlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcHJlcGFyZVJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFaEQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsY0FBYyxDQUFDLE9BQW9COztJQUNqRCxvRUFBb0U7SUFDcEUsT0FBTyxHQUFHLE9BQVEsT0FBZSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFFLE9BQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDOztRQUUxRyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtZQUFsRCxJQUFNLFVBQVUsV0FBQTtZQUNuQixJQUFJLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtnQkFDNUQsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2FBQ3BDO1NBQ0Y7Ozs7Ozs7OztJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBjbG9uZVJlcXVlc3QgfSBmcm9tIFwiLi9jbG9uZVJlcXVlc3RcIjtcbmltcG9ydCB7IEdFTkVSQVRFRF9IRUFERVJTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlUmVxdWVzdChyZXF1ZXN0OiBIdHRwUmVxdWVzdCk6IEh0dHBSZXF1ZXN0IHtcbiAgLy8gQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIHJlcXVlc3Qgb2JqZWN0IHRoYXQgZG9lcyBub3QgY2xvbmUgdGhlIGJvZHlcbiAgcmVxdWVzdCA9IHR5cGVvZiAocmVxdWVzdCBhcyBhbnkpLmNsb25lID09PSBcImZ1bmN0aW9uXCIgPyAocmVxdWVzdCBhcyBhbnkpLmNsb25lKCkgOiBjbG9uZVJlcXVlc3QocmVxdWVzdCk7XG5cbiAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKHJlcXVlc3QuaGVhZGVycykpIHtcbiAgICBpZiAoR0VORVJBVEVEX0hFQURFUlMuaW5kZXhPZihoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0LmhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcXVlc3Q7XG59XG4iXX0=","export function iso8601(time) {\n    return toDate(time)\n        .toISOString()\n        .replace(/\\.\\d{3}Z$/, \"Z\");\n}\nexport function toDate(time) {\n    if (typeof time === \"number\") {\n        return new Date(time * 1000);\n    }\n    if (typeof time === \"string\") {\n        if (Number(time)) {\n            return new Date(Number(time) * 1000);\n        }\n        return new Date(time);\n    }\n    return time;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbERhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbERhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLE9BQU8sQ0FBQyxJQUE0QjtJQUNsRCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUM7U0FDaEIsV0FBVyxFQUFFO1NBQ2IsT0FBTyxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUMvQixDQUFDO0FBRUQsTUFBTSxVQUFVLE1BQU0sQ0FBQyxJQUE0QjtJQUNqRCxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtRQUM1QixPQUFPLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztLQUM5QjtJQUVELElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE9BQU8sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1NBQ3RDO1FBQ0QsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN2QjtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc284NjAxKHRpbWU6IG51bWJlciB8IHN0cmluZyB8IERhdGUpOiBzdHJpbmcge1xuICByZXR1cm4gdG9EYXRlKHRpbWUpXG4gICAgLnRvSVNPU3RyaW5nKClcbiAgICAucmVwbGFjZSgvXFwuXFxkezN9WiQvLCBcIlpcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0RhdGUodGltZTogbnVtYmVyIHwgc3RyaW5nIHwgRGF0ZSk6IERhdGUge1xuICBpZiAodHlwZW9mIHRpbWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodGltZSAqIDEwMDApO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0aW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKE51bWJlcih0aW1lKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE51bWJlcih0aW1lKSAqIDEwMDApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUodGltZSk7XG4gIH1cblxuICByZXR1cm4gdGltZTtcbn1cbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { ALGORITHM_IDENTIFIER, ALGORITHM_QUERY_PARAM, AMZ_DATE_HEADER, AMZ_DATE_QUERY_PARAM, AUTH_HEADER, CREDENTIAL_QUERY_PARAM, EVENT_ALGORITHM_IDENTIFIER, EXPIRES_QUERY_PARAM, MAX_PRESIGNED_TTL, SHA256_HEADER, SIGNATURE_QUERY_PARAM, SIGNED_HEADERS_QUERY_PARAM, TOKEN_HEADER, TOKEN_QUERY_PARAM, } from \"./constants\";\nimport { createScope, getSigningKey } from \"./credentialDerivation\";\nimport { getCanonicalHeaders } from \"./getCanonicalHeaders\";\nimport { getCanonicalQuery } from \"./getCanonicalQuery\";\nimport { getPayloadHash } from \"./getPayloadHash\";\nimport { hasHeader } from \"./hasHeader\";\nimport { moveHeadersToQuery } from \"./moveHeadersToQuery\";\nimport { prepareRequest } from \"./prepareRequest\";\nimport { iso8601 } from \"./utilDate\";\nvar SignatureV4 = /** @class */ (function () {\n    function SignatureV4(_a) {\n        var applyChecksum = _a.applyChecksum, credentials = _a.credentials, region = _a.region, service = _a.service, sha256 = _a.sha256, _b = _a.uriEscapePath, uriEscapePath = _b === void 0 ? true : _b;\n        this.service = service;\n        this.sha256 = sha256;\n        this.uriEscapePath = uriEscapePath;\n        // default to true if applyChecksum isn't set\n        this.applyChecksum = typeof applyChecksum === \"boolean\" ? applyChecksum : true;\n        this.regionProvider = normalizeRegionProvider(region);\n        this.credentialProvider = normalizeCredentialsProvider(credentials);\n    }\n    SignatureV4.prototype.presign = function (originalRequest, options) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, signingDate, _b, expiresIn, unsignableHeaders, unhoistableHeaders, signableHeaders, signingRegion, signingService, credentials, region, _c, _d, longDate, shortDate, scope, request, canonicalHeaders, _e, _f, _g, _h, _j, _k;\n            return __generator(this, function (_l) {\n                switch (_l.label) {\n                    case 0:\n                        _a = options.signingDate, signingDate = _a === void 0 ? new Date() : _a, _b = options.expiresIn, expiresIn = _b === void 0 ? 3600 : _b, unsignableHeaders = options.unsignableHeaders, unhoistableHeaders = options.unhoistableHeaders, signableHeaders = options.signableHeaders, signingRegion = options.signingRegion, signingService = options.signingService;\n                        return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _l.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _c = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _c = (_l.sent());\n                        _l.label = 4;\n                    case 4:\n                        region = _c;\n                        _d = formatDate(signingDate), longDate = _d.longDate, shortDate = _d.shortDate;\n                        if (expiresIn > MAX_PRESIGNED_TTL) {\n                            return [2 /*return*/, Promise.reject(\"Signature version 4 presigned URLs\" + \" must have an expiration date less than one week in\" + \" the future\")];\n                        }\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        request = moveHeadersToQuery(prepareRequest(originalRequest), { unhoistableHeaders: unhoistableHeaders });\n                        if (credentials.sessionToken) {\n                            request.query[TOKEN_QUERY_PARAM] = credentials.sessionToken;\n                        }\n                        request.query[ALGORITHM_QUERY_PARAM] = ALGORITHM_IDENTIFIER;\n                        request.query[CREDENTIAL_QUERY_PARAM] = credentials.accessKeyId + \"/\" + scope;\n                        request.query[AMZ_DATE_QUERY_PARAM] = longDate;\n                        request.query[EXPIRES_QUERY_PARAM] = expiresIn.toString(10);\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        request.query[SIGNED_HEADERS_QUERY_PARAM] = getCanonicalHeaderList(canonicalHeaders);\n                        _e = request.query;\n                        _f = SIGNATURE_QUERY_PARAM;\n                        _g = this.getSignature;\n                        _h = [longDate,\n                            scope,\n                            this.getSigningKey(credentials, region, shortDate, signingService)];\n                        _j = this.createCanonicalRequest;\n                        _k = [request, canonicalHeaders];\n                        return [4 /*yield*/, getPayloadHash(originalRequest, this.sha256)];\n                    case 5: return [4 /*yield*/, _g.apply(this, _h.concat([_j.apply(this, _k.concat([_l.sent()]))]))];\n                    case 6:\n                        _e[_f] = _l.sent();\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.sign = function (toSign, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (typeof toSign === \"string\") {\n                    return [2 /*return*/, this.signString(toSign, options)];\n                }\n                else if (toSign.headers && toSign.payload) {\n                    return [2 /*return*/, this.signEvent(toSign, options)];\n                }\n                else {\n                    return [2 /*return*/, this.signRequest(toSign, options)];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    SignatureV4.prototype.signEvent = function (_a, _b) {\n        var headers = _a.headers, payload = _a.payload;\n        var _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, priorSignature = _b.priorSignature, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var region, _d, _e, shortDate, longDate, scope, hashedPayload, hash, hashedHeaders, _f, stringToSign;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0:\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 1];\n                        _d = signingRegion;\n                        return [3 /*break*/, 3];\n                    case 1: return [4 /*yield*/, this.regionProvider()];\n                    case 2:\n                        _d = (_g.sent());\n                        _g.label = 3;\n                    case 3:\n                        region = _d;\n                        _e = formatDate(signingDate), shortDate = _e.shortDate, longDate = _e.longDate;\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        return [4 /*yield*/, getPayloadHash({ headers: {}, body: payload }, this.sha256)];\n                    case 4:\n                        hashedPayload = _g.sent();\n                        hash = new this.sha256();\n                        hash.update(headers);\n                        _f = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 5:\n                        hashedHeaders = _f.apply(void 0, [_g.sent()]);\n                        stringToSign = [\n                            EVENT_ALGORITHM_IDENTIFIER,\n                            longDate,\n                            scope,\n                            priorSignature,\n                            hashedHeaders,\n                            hashedPayload,\n                        ].join(\"\\n\");\n                        return [2 /*return*/, this.signString(stringToSign, { signingDate: signingDate, signingRegion: region, signingService: signingService })];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signString = function (stringToSign, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, region, _d, shortDate, hash, _e, _f, _g;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0: return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _h.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _d = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _d = (_h.sent());\n                        _h.label = 4;\n                    case 4:\n                        region = _d;\n                        shortDate = formatDate(signingDate).shortDate;\n                        _f = (_e = this.sha256).bind;\n                        return [4 /*yield*/, this.getSigningKey(credentials, region, shortDate, signingService)];\n                    case 5:\n                        hash = new (_f.apply(_e, [void 0, _h.sent()]))();\n                        hash.update(stringToSign);\n                        _g = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 6: return [2 /*return*/, _g.apply(void 0, [_h.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signRequest = function (requestToSign, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, signableHeaders = _b.signableHeaders, unsignableHeaders = _b.unsignableHeaders, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, region, _d, request, _e, longDate, shortDate, scope, payloadHash, canonicalHeaders, signature;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0: return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _f.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _d = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _d = (_f.sent());\n                        _f.label = 4;\n                    case 4:\n                        region = _d;\n                        request = prepareRequest(requestToSign);\n                        _e = formatDate(signingDate), longDate = _e.longDate, shortDate = _e.shortDate;\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        request.headers[AMZ_DATE_HEADER] = longDate;\n                        if (credentials.sessionToken) {\n                            request.headers[TOKEN_HEADER] = credentials.sessionToken;\n                        }\n                        return [4 /*yield*/, getPayloadHash(request, this.sha256)];\n                    case 5:\n                        payloadHash = _f.sent();\n                        if (!hasHeader(SHA256_HEADER, request.headers) && this.applyChecksum) {\n                            request.headers[SHA256_HEADER] = payloadHash;\n                        }\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        return [4 /*yield*/, this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, payloadHash))];\n                    case 6:\n                        signature = _f.sent();\n                        request.headers[AUTH_HEADER] =\n                            ALGORITHM_IDENTIFIER + \" \" +\n                                (\"Credential=\" + credentials.accessKeyId + \"/\" + scope + \", \") +\n                                (\"SignedHeaders=\" + getCanonicalHeaderList(canonicalHeaders) + \", \") +\n                                (\"Signature=\" + signature);\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.createCanonicalRequest = function (request, canonicalHeaders, payloadHash) {\n        var sortedHeaders = Object.keys(canonicalHeaders).sort();\n        return request.method + \"\\n\" + this.getCanonicalPath(request) + \"\\n\" + getCanonicalQuery(request) + \"\\n\" + sortedHeaders.map(function (name) { return name + \":\" + canonicalHeaders[name]; }).join(\"\\n\") + \"\\n\\n\" + sortedHeaders.join(\";\") + \"\\n\" + payloadHash;\n    };\n    SignatureV4.prototype.createStringToSign = function (longDate, credentialScope, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var hash, hashedRequest;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        hash = new this.sha256();\n                        hash.update(canonicalRequest);\n                        return [4 /*yield*/, hash.digest()];\n                    case 1:\n                        hashedRequest = _a.sent();\n                        return [2 /*return*/, ALGORITHM_IDENTIFIER + \"\\n\" + longDate + \"\\n\" + credentialScope + \"\\n\" + toHex(hashedRequest)];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getCanonicalPath = function (_a) {\n        var path = _a.path;\n        if (this.uriEscapePath) {\n            var doubleEncoded = encodeURIComponent(path.replace(/^\\//, \"\"));\n            return \"/\" + doubleEncoded.replace(/%2F/g, \"/\");\n        }\n        return path;\n    };\n    SignatureV4.prototype.getSignature = function (longDate, credentialScope, keyPromise, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var stringToSign, hash, _a, _b, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0: return [4 /*yield*/, this.createStringToSign(longDate, credentialScope, canonicalRequest)];\n                    case 1:\n                        stringToSign = _d.sent();\n                        _b = (_a = this.sha256).bind;\n                        return [4 /*yield*/, keyPromise];\n                    case 2:\n                        hash = new (_b.apply(_a, [void 0, _d.sent()]))();\n                        hash.update(stringToSign);\n                        _c = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 3: return [2 /*return*/, _c.apply(void 0, [_d.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getSigningKey = function (credentials, region, shortDate, service) {\n        return getSigningKey(this.sha256, credentials, shortDate, region, service || this.service);\n    };\n    return SignatureV4;\n}());\nexport { SignatureV4 };\nvar formatDate = function (now) {\n    var longDate = iso8601(now).replace(/[\\-:]/g, \"\");\n    return {\n        longDate: longDate,\n        shortDate: longDate.substr(0, 8),\n    };\n};\nvar getCanonicalHeaderList = function (headers) { return Object.keys(headers).sort().join(\";\"); };\nvar normalizeRegionProvider = function (region) {\n    if (typeof region === \"string\") {\n        var promisified_1 = Promise.resolve(region);\n        return function () { return promisified_1; };\n    }\n    else {\n        return region;\n    }\n};\nvar normalizeCredentialsProvider = function (credentials) {\n    if (typeof credentials === \"object\") {\n        var promisified_2 = Promise.resolve(credentials);\n        return function () { return promisified_2; };\n    }\n    else {\n        return credentials;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2lnbmF0dXJlVjQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvU2lnbmF0dXJlVjQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQWlCQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFbkQsT0FBTyxFQUNMLG9CQUFvQixFQUNwQixxQkFBcUIsRUFDckIsZUFBZSxFQUNmLG9CQUFvQixFQUNwQixXQUFXLEVBQ1gsc0JBQXNCLEVBQ3RCLDBCQUEwQixFQUMxQixtQkFBbUIsRUFDbkIsaUJBQWlCLEVBQ2pCLGFBQWEsRUFDYixxQkFBcUIsRUFDckIsMEJBQTBCLEVBQzFCLFlBQVksRUFDWixpQkFBaUIsR0FDbEIsTUFBTSxhQUFhLENBQUM7QUFDckIsT0FBTyxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN4QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQztBQWtEckM7SUFRRSxxQkFBWSxFQU84QjtZQU54QyxhQUFhLG1CQUFBLEVBQ2IsV0FBVyxpQkFBQSxFQUNYLE1BQU0sWUFBQSxFQUNOLE9BQU8sYUFBQSxFQUNQLE1BQU0sWUFBQSxFQUNOLHFCQUFvQixFQUFwQixhQUFhLG1CQUFHLElBQUksS0FBQTtRQUVwQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJ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YztJQUNoQyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNwRCxPQUFPO1FBQ0wsUUFBUSxVQUFBO1FBQ1IsU0FBUyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUNqQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsSUFBTSxzQkFBc0IsR0FBRyxVQUFDLE9BQWUsSUFBYSxPQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFyQyxDQUFxQyxDQUFDO0FBRWxHLElBQU0sdUJBQXVCLEdBQUcsVUFBQyxNQUFpQztJQUNoRSxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTtRQUM5QixJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7U0FBTTtRQUNMLE9BQU8sTUFBTSxDQUFDO0tBQ2Y7QUFDSCxDQUFDLENBQUM7QUFFRixJQUFNLDRCQUE0QixHQUFHLFVBQUMsV0FBZ0Q7SUFDcEYsSUFBSSxPQUFPLFdBQVcsS0FBSyxRQUFRLEVBQUU7UUFDbkMsSUFBTSxhQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRCxPQUFPLGNBQU0sT0FBQSxhQUFXLEVBQVgsQ0FBVyxDQUFDO0tBQzFCO1NBQU07UUFDTCxPQUFPLFdBQVcsQ0FBQztLQUNwQjtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENyZWRlbnRpYWxzLFxuICBEYXRlSW5wdXQsXG4gIEV2ZW50U2lnbmVyLFxuICBFdmVudFNpZ25pbmdBcmd1bWVudHMsXG4gIEZvcm1hdHRlZEV2ZW50LFxuICBIYXNoQ29uc3RydWN0b3IsXG4gIEhlYWRlckJhZyxcbiAgSHR0cFJlcXVlc3QsXG4gIFByb3ZpZGVyLFxuICBSZXF1ZXN0UHJlc2lnbmVyLFxuICBSZXF1ZXN0UHJlc2lnbmluZ0FyZ3VtZW50cyxcbiAgUmVxdWVzdFNpZ25lcixcbiAgUmVxdWVzdFNpZ25pbmdBcmd1bWVudHMsXG4gIFNpZ25pbmdBcmd1bWVudHMsXG4gIFN0cmluZ1NpZ25lcixcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5pbXBvcnQge1xuICBBTEdPUklUSE1fSURFTlRJRklFUixcbiAgQUxHT1JJVEhNX1FVRVJZX1BBUkFNLFxuICBBTVpfREFURV9IRUFERVIsXG4gIEFNWl9EQVRFX1FVRVJZX1BBUkFNLFxuICBBVVRIX0hFQURFUixcbiAgQ1JFREVOVElBTF9RVUVSWV9QQVJBTSxcbiAgRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIsXG4gIEVYUElSRVNfUVVFUllfUEFSQU0sXG4gIE1BWF9QUkVTSUdORURfVFRMLFxuICBTSEEyNTZfSEVBREVSLFxuICBTSUdOQVRVUkVfUVVFUllfUEFSQU0sXG4gIFNJR05FRF9IRUFERVJTX1FVRVJZX1BBUkFNLFxuICBUT0tFTl9IRUFERVIsXG4gIFRPS0VOX1FVRVJZX1BBUkFNLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBnZXRTaWduaW5nS2V5IH0gZnJvbSBcIi4vY3JlZGVudGlhbERlcml2YXRpb25cIjtcbmltcG9ydCB7IGdldENhbm9uaWNhbEhlYWRlcnMgfSBmcm9tIFwiLi9nZXRDYW5vbmljYWxIZWFkZXJzXCI7XG5pbXBvcnQgeyBnZXRDYW5vbmljYWxRdWVyeSB9IGZyb20gXCIuL2dldENhbm9uaWNhbFF1ZXJ5XCI7XG5pbXBvcnQgeyBnZXRQYXlsb2FkSGFzaCB9IGZyb20gXCIuL2dldFBheWxvYWRIYXNoXCI7XG5pbXBvcnQgeyBoYXNIZWFkZXIgfSBmcm9tIFwiLi9oYXNIZWFkZXJcIjtcbmltcG9ydCB7IG1vdmVIZWFkZXJzVG9RdWVyeSB9IGZyb20gXCIuL21vdmVIZWFkZXJzVG9RdWVyeVwiO1xuaW1wb3J0IHsgcHJlcGFyZVJlcXVlc3QgfSBmcm9tIFwiLi9wcmVwYXJlUmVxdWVzdFwiO1xuaW1wb3J0IHsgaXNvODYwMSB9IGZyb20gXCIuL3V0aWxEYXRlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmF0dXJlVjRJbml0IHtcbiAgLyoqXG4gICAqIFRoZSBzZXJ2aWNlIHNpZ25pbmcgbmFtZS5cbiAgICovXG4gIHNlcnZpY2U6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHJlZ2lvbiBuYW1lIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVcbiAgICogcmVzb2x2ZWQgd2l0aCB0aGUgcmVnaW9uIG5hbWUuXG4gICAqL1xuICByZWdpb246IHN0cmluZyB8IFByb3ZpZGVyPHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFRoZSBjcmVkZW50aWFscyB3aXRoIHdoaWNoIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBzaWduZWQgb3IgYSBmdW5jdGlvblxuICAgKiB0aGF0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIGNyZWRlbnRpYWxzLlxuICAgKi9cbiAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzIHwgUHJvdmlkZXI8Q3JlZGVudGlhbHM+O1xuXG4gIC8qKlxuICAgKiBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciBhIGhhc2ggb2JqZWN0IHRoYXQgd2lsbCBjYWxjdWxhdGUgU0hBLTI1NiBITUFDXG4gICAqIGNoZWNrc3Vtcy5cbiAgICovXG4gIHNoYTI1Nj86IEhhc2hDb25zdHJ1Y3RvcjtcblxuICAvKipcbiAgICogV2hldGhlciB0byB1cmktZXNjYXBlIHRoZSByZXF1ZXN0IFVSSSBwYXRoIGFzIHBhcnQgb2YgY29tcHV0aW5nIHRoZVxuICAgKiBjYW5vbmljYWwgcmVxdWVzdCBzdHJpbmcuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIGV2ZXJ5IEFXUyBzZXJ2aWNlLCBleGNlcHRcbiAgICogQW1hem9uIFMzLCBhcyBvZiBsYXRlIDIwMTcuXG4gICAqXG4gICAqIEBkZWZhdWx0IFt0cnVlXVxuICAgKi9cbiAgdXJpRXNjYXBlUGF0aD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gY2FsY3VsYXRlIGEgY2hlY2tzdW0gb2YgdGhlIHJlcXVlc3QgYm9keSBhbmQgaW5jbHVkZSBpdCBhc1xuICAgKiBlaXRoZXIgYSByZXF1ZXN0IGhlYWRlciAod2hlbiBzaWduaW5nKSBvciBhcyBhIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJcbiAgICogKHdoZW4gcHJlc2lnbmluZykuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIEFXUyBHbGFjaWVyIGFuZCBBbWF6b24gUzMgYW5kIG9wdGlvbmFsIGZvclxuICAgKiBldmVyeSBvdGhlciBBV1Mgc2VydmljZSBhcyBvZiBsYXRlIDIwMTcuXG4gICAqXG4gICAqIEBkZWZhdWx0IFt0cnVlXVxuICAgKi9cbiAgYXBwbHlDaGVja3N1bT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmF0dXJlVjRDcnlwdG9Jbml0IHtcbiAgc2hhMjU2OiBIYXNoQ29uc3RydWN0b3I7XG59XG5cbmV4cG9ydCBjbGFzcyBTaWduYXR1cmVWNCBpbXBsZW1lbnRzIFJlcXVlc3RQcmVzaWduZXIsIFJlcXVlc3RTaWduZXIsIFN0cmluZ1NpZ25lciwgRXZlbnRTaWduZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IHNlcnZpY2U6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSByZWdpb25Qcm92aWRlcjogUHJvdmlkZXI8c3RyaW5nPjtcbiAgcHJpdmF0ZSByZWFkb25seSBjcmVkZW50aWFsUHJvdmlkZXI6IFByb3ZpZGVyPENyZWRlbnRpYWxzPjtcbiAgcHJpdmF0ZSByZWFkb25seSBzaGEyNTY6IEhhc2hDb25zdHJ1Y3RvcjtcbiAgcHJpdmF0ZSByZWFkb25seSB1cmlFc2NhcGVQYXRoOiBib29sZWFuO1xuICBwcml2YXRlIHJlYWRvbmx5IGFwcGx5Q2hlY2tzdW06IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGFwcGx5Q2hlY2tzdW0sXG4gICAgY3JlZGVudGlhbHMsXG4gICAgcmVnaW9uLFxuICAgIHNlcnZpY2UsXG4gICAgc2hhMjU2LFxuICAgIHVyaUVzY2FwZVBhdGggPSB0cnVlLFxuICB9OiBTaWduYXR1cmVWNEluaXQgJiBTaWduYXR1cmVWNENyeXB0b0luaXQpIHtcbiAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgIHRoaXMuc2hhMjU2ID0gc2hhMjU2O1xuICAgIHRoaXMudXJpRXNjYXBlUGF0aCA9IHVyaUVzY2FwZVBhdGg7XG4gICAgLy8gZGVmYXVsdCB0byB0cnVlIGlmIGFwcGx5Q2hlY2tzdW0gaXNuJ3Qgc2V0XG4gICAgdGhpcy5hcHBseUNoZWNrc3VtID0gdHlwZW9mIGFwcGx5Q2hlY2tzdW0gPT09IFwiYm9vbGVhblwiID8gYXBwbHlDaGVja3N1bSA6IHRydWU7XG4gICAgdGhpcy5yZWdpb25Qcm92aWRlciA9IG5vcm1hbGl6ZVJlZ2lvblByb3ZpZGVyKHJlZ2lvbik7XG4gICAgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIgPSBub3JtYWxpemVDcmVkZW50aWFsc1Byb3ZpZGVyKGNyZWRlbnRpYWxzKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBwcmVzaWduKG9yaWdpbmFsUmVxdWVzdDogSHR0cFJlcXVlc3QsIG9wdGlvbnM6IFJlcXVlc3RQcmVzaWduaW5nQXJndW1lbnRzID0ge30pOiBQcm9taXNlPEh0dHBSZXF1ZXN0PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgZXhwaXJlc0luID0gMzYwMCxcbiAgICAgIHVuc2lnbmFibGVIZWFkZXJzLFxuICAgICAgdW5ob2lzdGFibGVIZWFkZXJzLFxuICAgICAgc2lnbmFibGVIZWFkZXJzLFxuICAgICAgc2lnbmluZ1JlZ2lvbixcbiAgICAgIHNpZ25pbmdTZXJ2aWNlLFxuICAgIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIoKTtcbiAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuXG4gICAgY29uc3QgeyBsb25nRGF0ZSwgc2hvcnREYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcbiAgICBpZiAoZXhwaXJlc0luID4gTUFYX1BSRVNJR05FRF9UVEwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgXCJTaWduYXR1cmUgdmVyc2lvbiA0IHByZXNpZ25lZCBVUkxzXCIgKyBcIiBtdXN0IGhhdmUgYW4gZXhwaXJhdGlvbiBkYXRlIGxlc3MgdGhhbiBvbmUgd2VlayBpblwiICsgXCIgdGhlIGZ1dHVyZVwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHNjb3BlID0gY3JlYXRlU2NvcGUoc2hvcnREYXRlLCByZWdpb24sIHNpZ25pbmdTZXJ2aWNlID8/IHRoaXMuc2VydmljZSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IG1vdmVIZWFkZXJzVG9RdWVyeShwcmVwYXJlUmVxdWVzdChvcmlnaW5hbFJlcXVlc3QpLCB7IHVuaG9pc3RhYmxlSGVhZGVycyB9KTtcblxuICAgIGlmIChjcmVkZW50aWFscy5zZXNzaW9uVG9rZW4pIHtcbiAgICAgIHJlcXVlc3QucXVlcnlbVE9LRU5fUVVFUllfUEFSQU1dID0gY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuO1xuICAgIH1cbiAgICByZXF1ZXN0LnF1ZXJ5W0FMR09SSVRITV9RVUVSWV9QQVJBTV0gPSBBTEdPUklUSE1fSURFTlRJRklFUjtcbiAgICByZXF1ZXN0LnF1ZXJ5W0NSRURFTlRJQUxfUVVFUllfUEFSQU1dID0gYCR7Y3JlZGVudGlhbHMuYWNjZXNzS2V5SWR9LyR7c2NvcGV9YDtcbiAgICByZXF1ZXN0LnF1ZXJ5W0FNWl9EQVRFX1FVRVJZX1BBUkFNXSA9IGxvbmdEYXRlO1xuICAgIHJlcXVlc3QucXVlcnlbRVhQSVJFU19RVUVSWV9QQVJBTV0gPSBleHBpcmVzSW4udG9TdHJpbmcoMTApO1xuXG4gICAgY29uc3QgY2Fub25pY2FsSGVhZGVycyA9IGdldENhbm9uaWNhbEhlYWRlcnMocmVxdWVzdCwgdW5zaWduYWJsZUhlYWRlcnMsIHNpZ25hYmxlSGVhZGVycyk7XG4gICAgcmVxdWVzdC5xdWVyeVtTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTV0gPSBnZXRDYW5vbmljYWxIZWFkZXJMaXN0KGNhbm9uaWNhbEhlYWRlcnMpO1xuXG4gICAgcmVxdWVzdC5xdWVyeVtTSUdOQVRVUkVfUVVFUllfUEFSQU1dID0gYXdhaXQgdGhpcy5nZXRTaWduYXR1cmUoXG4gICAgICBsb25nRGF0ZSxcbiAgICAgIHNjb3BlLFxuICAgICAgdGhpcy5nZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2lnbmluZ1NlcnZpY2UpLFxuICAgICAgdGhpcy5jcmVhdGVDYW5vbmljYWxSZXF1ZXN0KHJlcXVlc3QsIGNhbm9uaWNhbEhlYWRlcnMsIGF3YWl0IGdldFBheWxvYWRIYXNoKG9yaWdpbmFsUmVxdWVzdCwgdGhpcy5zaGEyNTYpKVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzaWduKHN0cmluZ1RvU2lnbjogc3RyaW5nLCBvcHRpb25zPzogU2lnbmluZ0FyZ3VtZW50cyk6IFByb21pc2U8c3RyaW5nPjtcbiAgcHVibGljIGFzeW5jIHNpZ24oZXZlbnQ6IEZvcm1hdHRlZEV2ZW50LCBvcHRpb25zOiBFdmVudFNpZ25pbmdBcmd1bWVudHMpOiBQcm9taXNlPHN0cmluZz47XG4gIHB1YmxpYyBhc3luYyBzaWduKHJlcXVlc3RUb1NpZ246IEh0dHBSZXF1ZXN0LCBvcHRpb25zPzogUmVxdWVzdFNpZ25pbmdBcmd1bWVudHMpOiBQcm9taXNlPEh0dHBSZXF1ZXN0PjtcbiAgcHVibGljIGFzeW5jIHNpZ24odG9TaWduOiBhbnksIG9wdGlvbnM6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgaWYgKHR5cGVvZiB0b1NpZ24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpZ25TdHJpbmcodG9TaWduLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHRvU2lnbi5oZWFkZXJzICYmIHRvU2lnbi5wYXlsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaWduRXZlbnQodG9TaWduLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuc2lnblJlcXVlc3QodG9TaWduLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNpZ25FdmVudChcbiAgICB7IGhlYWRlcnMsIHBheWxvYWQgfTogRm9ybWF0dGVkRXZlbnQsXG4gICAgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHByaW9yU2lnbmF0dXJlLCBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSB9OiBFdmVudFNpZ25pbmdBcmd1bWVudHNcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgIGNvbnN0IHsgc2hvcnREYXRlLCBsb25nRGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShzaG9ydERhdGUsIHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPz8gdGhpcy5zZXJ2aWNlKTtcbiAgICBjb25zdCBoYXNoZWRQYXlsb2FkID0gYXdhaXQgZ2V0UGF5bG9hZEhhc2goeyBoZWFkZXJzOiB7fSwgYm9keTogcGF5bG9hZCB9IGFzIGFueSwgdGhpcy5zaGEyNTYpO1xuICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoKTtcbiAgICBoYXNoLnVwZGF0ZShoZWFkZXJzKTtcbiAgICBjb25zdCBoYXNoZWRIZWFkZXJzID0gdG9IZXgoYXdhaXQgaGFzaC5kaWdlc3QoKSk7XG4gICAgY29uc3Qgc3RyaW5nVG9TaWduID0gW1xuICAgICAgRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIsXG4gICAgICBsb25nRGF0ZSxcbiAgICAgIHNjb3BlLFxuICAgICAgcHJpb3JTaWduYXR1cmUsXG4gICAgICBoYXNoZWRIZWFkZXJzLFxuICAgICAgaGFzaGVkUGF5bG9hZCxcbiAgICBdLmpvaW4oXCJcXG5cIik7XG4gICAgcmV0dXJuIHRoaXMuc2lnblN0cmluZyhzdHJpbmdUb1NpZ24sIHsgc2lnbmluZ0RhdGUsIHNpZ25pbmdSZWdpb246IHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNpZ25TdHJpbmcoXG4gICAgc3RyaW5nVG9TaWduOiBzdHJpbmcsXG4gICAgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH06IFNpZ25pbmdBcmd1bWVudHMgPSB7fVxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIoKTtcbiAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgIGNvbnN0IHsgc2hvcnREYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcblxuICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoYXdhaXQgdGhpcy5nZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2lnbmluZ1NlcnZpY2UpKTtcbiAgICBoYXNoLnVwZGF0ZShzdHJpbmdUb1NpZ24pO1xuICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoLmRpZ2VzdCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2lnblJlcXVlc3QoXG4gICAgcmVxdWVzdFRvU2lnbjogSHR0cFJlcXVlc3QsXG4gICAge1xuICAgICAgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgc2lnbmFibGVIZWFkZXJzLFxuICAgICAgdW5zaWduYWJsZUhlYWRlcnMsXG4gICAgICBzaWduaW5nUmVnaW9uLFxuICAgICAgc2lnbmluZ1NlcnZpY2UsXG4gICAgfTogUmVxdWVzdFNpZ25pbmdBcmd1bWVudHMgPSB7fVxuICApOiBQcm9taXNlPEh0dHBSZXF1ZXN0PiB7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBhd2FpdCB0aGlzLmNyZWRlbnRpYWxQcm92aWRlcigpO1xuICAgIGNvbnN0IHJlZ2lvbiA9IHNpZ25pbmdSZWdpb24gPz8gKGF3YWl0IHRoaXMucmVnaW9uUHJvdmlkZXIoKSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IHByZXBhcmVSZXF1ZXN0KHJlcXVlc3RUb1NpZ24pO1xuICAgIGNvbnN0IHsgbG9uZ0RhdGUsIHNob3J0RGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShzaG9ydERhdGUsIHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPz8gdGhpcy5zZXJ2aWNlKTtcblxuICAgIHJlcXVlc3QuaGVhZGVyc1tBTVpfREFURV9IRUFERVJdID0gbG9uZ0RhdGU7XG4gICAgaWYgKGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbikge1xuICAgICAgcmVxdWVzdC5oZWFkZXJzW1RPS0VOX0hFQURFUl0gPSBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW47XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bG9hZEhhc2ggPSBhd2FpdCBnZXRQYXlsb2FkSGFzaChyZXF1ZXN0LCB0aGlzLnNoYTI1Nik7XG4gICAgaWYgKCFoYXNIZWFkZXIoU0hBMjU2X0hFQURFUiwgcmVxdWVzdC5oZWFkZXJzKSAmJiB0aGlzLmFwcGx5Q2hlY2tzdW0pIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVyc1tTSEEyNTZfSEVBREVSXSA9IHBheWxvYWRIYXNoO1xuICAgIH1cblxuICAgIGNvbnN0IGNhbm9uaWNhbEhlYWRlcnMgPSBnZXRDYW5vbmljYWxIZWFkZXJzKHJlcXVlc3QsIHVuc2lnbmFibGVIZWFkZXJzLCBzaWduYWJsZUhlYWRlcnMpO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IHRoaXMuZ2V0U2lnbmF0dXJlKFxuICAgICAgbG9uZ0RhdGUsXG4gICAgICBzY29wZSxcbiAgICAgIHRoaXMuZ2V0U2lnbmluZ0tleShjcmVkZW50aWFscywgcmVnaW9uLCBzaG9ydERhdGUsIHNpZ25pbmdTZXJ2aWNlKSxcbiAgICAgIHRoaXMuY3JlYXRlQ2Fub25pY2FsUmVxdWVzdChyZXF1ZXN0LCBjYW5vbmljYWxIZWFkZXJzLCBwYXlsb2FkSGFzaClcbiAgICApO1xuXG4gICAgcmVxdWVzdC5oZWFkZXJzW0FVVEhfSEVBREVSXSA9XG4gICAgICBgJHtBTEdPUklUSE1fSURFTlRJRklFUn0gYCArXG4gICAgICBgQ3JlZGVudGlhbD0ke2NyZWRlbnRpYWxzLmFjY2Vzc0tleUlkfS8ke3Njb3BlfSwgYCArXG4gICAgICBgU2lnbmVkSGVhZGVycz0ke2dldENhbm9uaWNhbEhlYWRlckxpc3QoY2Fub25pY2FsSGVhZGVycyl9LCBgICtcbiAgICAgIGBTaWduYXR1cmU9JHtzaWduYXR1cmV9YDtcblxuICAgIHJldHVybiByZXF1ZXN0O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDYW5vbmljYWxSZXF1ZXN0KHJlcXVlc3Q6IEh0dHBSZXF1ZXN0LCBjYW5vbmljYWxIZWFkZXJzOiBIZWFkZXJCYWcsIHBheWxvYWRIYXNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNvcnRlZEhlYWRlcnMgPSBPYmplY3Qua2V5cyhjYW5vbmljYWxIZWFkZXJzKS5zb3J0KCk7XG4gICAgcmV0dXJuIGAke3JlcXVlc3QubWV0aG9kfVxuJHt0aGlzLmdldENhbm9uaWNhbFBhdGgocmVxdWVzdCl9XG4ke2dldENhbm9uaWNhbFF1ZXJ5KHJlcXVlc3QpfVxuJHtzb3J0ZWRIZWFkZXJzLm1hcCgobmFtZSkgPT4gYCR7bmFtZX06JHtjYW5vbmljYWxIZWFkZXJzW25hbWVdfWApLmpvaW4oXCJcXG5cIil9XG5cbiR7c29ydGVkSGVhZGVycy5qb2luKFwiO1wiKX1cbiR7cGF5bG9hZEhhc2h9YDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlU3RyaW5nVG9TaWduKFxuICAgIGxvbmdEYXRlOiBzdHJpbmcsXG4gICAgY3JlZGVudGlhbFNjb3BlOiBzdHJpbmcsXG4gICAgY2Fub25pY2FsUmVxdWVzdDogc3RyaW5nXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1NigpO1xuICAgIGhhc2gudXBkYXRlKGNhbm9uaWNhbFJlcXVlc3QpO1xuICAgIGNvbnN0IGhhc2hlZFJlcXVlc3QgPSBhd2FpdCBoYXNoLmRpZ2VzdCgpO1xuXG4gICAgcmV0dXJuIGAke0FMR09SSVRITV9JREVOVElGSUVSfVxuJHtsb25nRGF0ZX1cbiR7Y3JlZGVudGlhbFNjb3BlfVxuJHt0b0hleChoYXNoZWRSZXF1ZXN0KX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDYW5vbmljYWxQYXRoKHsgcGF0aCB9OiBIdHRwUmVxdWVzdCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMudXJpRXNjYXBlUGF0aCkge1xuICAgICAgY29uc3QgZG91YmxlRW5jb2RlZCA9IGVuY29kZVVSSUNvbXBvbmVudChwYXRoLnJlcGxhY2UoL15cXC8vLCBcIlwiKSk7XG4gICAgICByZXR1cm4gYC8ke2RvdWJsZUVuY29kZWQucmVwbGFjZSgvJTJGL2csIFwiL1wiKX1gO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRTaWduYXR1cmUoXG4gICAgbG9uZ0RhdGU6IHN0cmluZyxcbiAgICBjcmVkZW50aWFsU2NvcGU6IHN0cmluZyxcbiAgICBrZXlQcm9taXNlOiBQcm9taXNlPFVpbnQ4QXJyYXk+LFxuICAgIGNhbm9uaWNhbFJlcXVlc3Q6IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IHN0cmluZ1RvU2lnbiA9IGF3YWl0IHRoaXMuY3JlYXRlU3RyaW5nVG9TaWduKGxvbmdEYXRlLCBjcmVkZW50aWFsU2NvcGUsIGNhbm9uaWNhbFJlcXVlc3QpO1xuXG4gICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1Nihhd2FpdCBrZXlQcm9taXNlKTtcbiAgICBoYXNoLnVwZGF0ZShzdHJpbmdUb1NpZ24pO1xuICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoLmRpZ2VzdCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2lnbmluZ0tleShcbiAgICBjcmVkZW50aWFsczogQ3JlZGVudGlhbHMsXG4gICAgcmVnaW9uOiBzdHJpbmcsXG4gICAgc2hvcnREYXRlOiBzdHJpbmcsXG4gICAgc2VydmljZT86IHN0cmluZ1xuICApOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICByZXR1cm4gZ2V0U2lnbmluZ0tleSh0aGlzLnNoYTI1NiwgY3JlZGVudGlhbHMsIHNob3J0RGF0ZSwgcmVnaW9uLCBzZXJ2aWNlIHx8IHRoaXMuc2VydmljZSk7XG4gIH1cbn1cblxuY29uc3QgZm9ybWF0RGF0ZSA9IChub3c6IERhdGVJbnB1dCk6IHsgbG9uZ0RhdGU6IHN0cmluZzsgc2hvcnREYXRlOiBzdHJpbmcgfSA9PiB7XG4gIGNvbnN0IGxvbmdEYXRlID0gaXNvODYwMShub3cpLnJlcGxhY2UoL1tcXC06XS9nLCBcIlwiKTtcbiAgcmV0dXJuIHtcbiAgICBsb25nRGF0ZSxcbiAgICBzaG9ydERhdGU6IGxvbmdEYXRlLnN1YnN0cigwLCA4KSxcbiAgfTtcbn07XG5cbmNvbnN0IGdldENhbm9uaWNhbEhlYWRlckxpc3QgPSAoaGVhZGVyczogb2JqZWN0KTogc3RyaW5nID0+IE9iamVjdC5rZXlzKGhlYWRlcnMpLnNvcnQoKS5qb2luKFwiO1wiKTtcblxuY29uc3Qgbm9ybWFsaXplUmVnaW9uUHJvdmlkZXIgPSAocmVnaW9uOiBzdHJpbmcgfCBQcm92aWRlcjxzdHJpbmc+KTogUHJvdmlkZXI8c3RyaW5nPiA9PiB7XG4gIGlmICh0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUocmVnaW9uKTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlZ2lvbjtcbiAgfVxufTtcblxuY29uc3Qgbm9ybWFsaXplQ3JlZGVudGlhbHNQcm92aWRlciA9IChjcmVkZW50aWFsczogQ3JlZGVudGlhbHMgfCBQcm92aWRlcjxDcmVkZW50aWFscz4pOiBQcm92aWRlcjxDcmVkZW50aWFscz4gPT4ge1xuICBpZiAodHlwZW9mIGNyZWRlbnRpYWxzID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUoY3JlZGVudGlhbHMpO1xuICAgIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlZGVudGlhbHM7XG4gIH1cbn07XG4iXX0=","import { __assign, __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\n/**\n * @internal\n */\nexport function moveHeadersToQuery(request, options) {\n    var e_1, _a;\n    var _b;\n    if (options === void 0) { options = {}; }\n    var _c = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request), headers = _c.headers, _d = _c.query, query = _d === void 0 ? {} : _d;\n    try {\n        for (var _e = __values(Object.keys(headers)), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var name = _f.value;\n            var lname = name.toLowerCase();\n            if (lname.substr(0, 6) === \"x-amz-\" && !((_b = options.unhoistableHeaders) === null || _b === void 0 ? void 0 : _b.has(lname))) {\n                query[name] = headers[name];\n                delete headers[name];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return __assign(__assign({}, request), { headers: headers,\n        query: query });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW92ZUhlYWRlcnNUb1F1ZXJ5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vdmVIZWFkZXJzVG9RdWVyeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTlDOztHQUVHO0FBQ0gsTUFBTSxVQUFVLGtCQUFrQixDQUNoQyxPQUFvQixFQUNwQixPQUFrRDs7O0lBQWxELHdCQUFBLEVBQUEsWUFBa0Q7SUFFNUMsSUFBQSxLQUNKLE9BQVEsT0FBZSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFFLE9BQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUR6RixPQUFPLGFBQUEsRUFBRSxhQUErQixFQUEvQixLQUFLLG1CQUFHLEVBQXVCLEtBQ2lELENBQUM7O1FBQ2xHLEtBQW1CLElBQUEsS0FBQSxTQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUEsZ0JBQUEsNEJBQUU7WUFBcEMsSUFBTSxJQUFJLFdBQUE7WUFDYixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDakMsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxRQUFRLElBQUksUUFBQyxPQUFPLENBQUMsa0JBQWtCLDBDQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUMsRUFBRTtnQkFDOUUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDNUIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDdEI7U0FDRjs7Ozs7Ozs7O0lBRUQsNkJBQ0ssT0FBTyxLQUNWLE9BQU8sU0FBQTtRQUNQLEtBQUssT0FBQSxJQUNMO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0LCBRdWVyeVBhcmFtZXRlckJhZyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBjbG9uZVJlcXVlc3QgfSBmcm9tIFwiLi9jbG9uZVJlcXVlc3RcIjtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVIZWFkZXJzVG9RdWVyeShcbiAgcmVxdWVzdDogSHR0cFJlcXVlc3QsXG4gIG9wdGlvbnM6IHsgdW5ob2lzdGFibGVIZWFkZXJzPzogU2V0PHN0cmluZz4gfSA9IHt9XG4pOiBIdHRwUmVxdWVzdCAmIHsgcXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnIH0ge1xuICBjb25zdCB7IGhlYWRlcnMsIHF1ZXJ5ID0ge30gYXMgUXVlcnlQYXJhbWV0ZXJCYWcgfSA9XG4gICAgdHlwZW9mIChyZXF1ZXN0IGFzIGFueSkuY2xvbmUgPT09IFwiZnVuY3Rpb25cIiA/IChyZXF1ZXN0IGFzIGFueSkuY2xvbmUoKSA6IGNsb25lUmVxdWVzdChyZXF1ZXN0KTtcbiAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgY29uc3QgbG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxuYW1lLnN1YnN0cigwLCA2KSA9PT0gXCJ4LWFtei1cIiAmJiAhb3B0aW9ucy51bmhvaXN0YWJsZUhlYWRlcnM/LmhhcyhsbmFtZSkpIHtcbiAgICAgIHF1ZXJ5W25hbWVdID0gaGVhZGVyc1tuYW1lXTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4ucmVxdWVzdCxcbiAgICBoZWFkZXJzLFxuICAgIHF1ZXJ5LFxuICB9O1xufVxuIl19","import { __values } from \"tslib\";\nexport function hasHeader(soughtHeader, headers) {\n    var e_1, _a;\n    soughtHeader = soughtHeader.toLowerCase();\n    try {\n        for (var _b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var headerName = _c.value;\n            if (soughtHeader === headerName.toLowerCase()) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzSGVhZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hhc0hlYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsTUFBTSxVQUFVLFNBQVMsQ0FBQyxZQUFvQixFQUFFLE9BQWtCOztJQUNoRSxZQUFZLEdBQUcsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDOztRQUMxQyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLGdCQUFBLDRCQUFFO1lBQTFDLElBQU0sVUFBVSxXQUFBO1lBQ25CLElBQUksWUFBWSxLQUFLLFVBQVUsQ0FBQyxXQUFXLEVBQUUsRUFBRTtnQkFDN0MsT0FBTyxJQUFJLENBQUM7YUFDYjtTQUNGOzs7Ozs7Ozs7SUFFRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWFkZXJCYWcgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0hlYWRlcihzb3VnaHRIZWFkZXI6IHN0cmluZywgaGVhZGVyczogSGVhZGVyQmFnKTogYm9vbGVhbiB7XG4gIHNvdWdodEhlYWRlciA9IHNvdWdodEhlYWRlci50b0xvd2VyQ2FzZSgpO1xuICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICBpZiAoc291Z2h0SGVhZGVyID09PSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbiJdfQ==","import { __values } from \"tslib\";\nimport { escapeUri } from \"@aws-sdk/util-uri-escape\";\nimport { SIGNATURE_HEADER } from \"./constants\";\n/**\n * @internal\n */\nexport function getCanonicalQuery(_a) {\n    var e_1, _b;\n    var _c = _a.query, query = _c === void 0 ? {} : _c;\n    var keys = [];\n    var serialized = {};\n    var _loop_1 = function (key) {\n        if (key.toLowerCase() === SIGNATURE_HEADER) {\n            return \"continue\";\n        }\n        keys.push(key);\n        var value = query[key];\n        if (typeof value === \"string\") {\n            serialized[key] = escapeUri(key) + \"=\" + escapeUri(value);\n        }\n        else if (Array.isArray(value)) {\n            serialized[key] = value\n                .slice(0)\n                .sort()\n                .reduce(function (encoded, value) { return encoded.concat([escapeUri(key) + \"=\" + escapeUri(value)]); }, [])\n                .join(\"&\");\n        }\n    };\n    try {\n        for (var _d = __values(Object.keys(query).sort()), _e = _d.next(); !_e.done; _e = _d.next()) {\n            var key = _e.value;\n            _loop_1(key);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return keys\n        .map(function (key) { return serialized[key]; })\n        .filter(function (serialized) { return serialized; }) // omit any falsy values\n        .join(\"&\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2Fub25pY2FsUXVlcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZ2V0Q2Fub25pY2FsUXVlcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVyRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFL0M7O0dBRUc7QUFDSCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsRUFBMkI7O1FBQXpCLGFBQVUsRUFBVixLQUFLLG1CQUFHLEVBQUUsS0FBQTtJQUM1QyxJQUFNLElBQUksR0FBa0IsRUFBRSxDQUFDO0lBQy9CLElBQU0sVUFBVSxHQUE4QixFQUFFLENBQUM7NEJBQ3RDLEdBQUc7UUFDWixJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUUsS0FBSyxnQkFBZ0IsRUFBRTs7U0FFM0M7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQzdCLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBTSxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBRyxDQUFDO1NBQzNEO2FBQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQy9CLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLO2lCQUNwQixLQUFLLENBQUMsQ0FBQyxDQUFDO2lCQUNSLElBQUksRUFBRTtpQkFDTixNQUFNLENBQ0wsVUFBQyxPQUFzQixFQUFFLEtBQWEsSUFBSyxPQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBSSxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBRyxDQUFDLENBQUMsRUFBekQsQ0FBeUQsRUFDcEcsRUFBRSxDQUNIO2lCQUNBLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNkOzs7UUFsQkgsS0FBa0IsSUFBQSxLQUFBLFNBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxnQkFBQTtZQUF0QyxJQUFNLEdBQUcsV0FBQTtvQkFBSCxHQUFHO1NBbUJiOzs7Ozs7Ozs7SUFFRCxPQUFPLElBQUk7U0FDUixHQUFHLENBQUMsVUFBQyxHQUFHLElBQUssT0FBQSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQWYsQ0FBZSxDQUFDO1NBQzdCLE1BQU0sQ0FBQyxVQUFDLFVBQVUsSUFBSyxPQUFBLFVBQVUsRUFBVixDQUFVLENBQUMsQ0FBQyx3QkFBd0I7U0FDM0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5cbmltcG9ydCB7IFNJR05BVFVSRV9IRUFERVIgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENhbm9uaWNhbFF1ZXJ5KHsgcXVlcnkgPSB7fSB9OiBIdHRwUmVxdWVzdCk6IHN0cmluZyB7XG4gIGNvbnN0IGtleXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgY29uc3Qgc2VyaWFsaXplZDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhxdWVyeSkuc29ydCgpKSB7XG4gICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBTSUdOQVRVUkVfSEVBREVSKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gYCR7ZXNjYXBlVXJpKGtleSl9PSR7ZXNjYXBlVXJpKHZhbHVlKX1gO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbHVlXG4gICAgICAgIC5zbGljZSgwKVxuICAgICAgICAuc29ydCgpXG4gICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgKGVuY29kZWQ6IEFycmF5PHN0cmluZz4sIHZhbHVlOiBzdHJpbmcpID0+IGVuY29kZWQuY29uY2F0KFtgJHtlc2NhcGVVcmkoa2V5KX09JHtlc2NhcGVVcmkodmFsdWUpfWBdKSxcbiAgICAgICAgICBbXVxuICAgICAgICApXG4gICAgICAgIC5qb2luKFwiJlwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ga2V5c1xuICAgIC5tYXAoKGtleSkgPT4gc2VyaWFsaXplZFtrZXldKVxuICAgIC5maWx0ZXIoKHNlcmlhbGl6ZWQpID0+IHNlcmlhbGl6ZWQpIC8vIG9taXQgYW55IGZhbHN5IHZhbHVlc1xuICAgIC5qb2luKFwiJlwiKTtcbn1cbiJdfQ==","import { __assign, __awaiter, __generator, __read } from \"tslib\";\nimport { SignatureV4 } from \"@aws-sdk/signature-v4\";\nexport function resolveAwsAuthConfig(input) {\n    var _this = this;\n    var credentials = input.credentials || input.credentialDefaultProvider(input);\n    var normalizedCreds = normalizeProvider(credentials);\n    var _a = input.signingEscapePath, signingEscapePath = _a === void 0 ? true : _a, _b = input.systemClockOffset, systemClockOffset = _b === void 0 ? input.systemClockOffset || 0 : _b, sha256 = input.sha256;\n    var signer;\n    if (input.signer) {\n        //if signer is supplied by user, normalize it to a function returning a promise for signer.\n        signer = normalizeProvider(input.signer);\n    }\n    else {\n        //construct a provider inferring signing from region.\n        signer = function () {\n            return normalizeProvider(input.region)()\n                .then(function (region) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, input.regionInfoProvider(region)];\n                    case 1: return [2 /*return*/, [(_a.sent()) || {}, region]];\n                }\n            }); }); })\n                .then(function (_a) {\n                var _b = __read(_a, 2), regionInfo = _b[0], region = _b[1];\n                var signingRegion = regionInfo.signingRegion, signingService = regionInfo.signingService;\n                //update client's singing region and signing service config if they are resolved.\n                //signing region resolving order: user supplied signingRegion -> endpoints.json inferred region -> client region\n                input.signingRegion = input.signingRegion || signingRegion || region;\n                //signing name resolving order:\n                //user supplied signingName -> endpoints.json inferred (credential scope -> model arnNamespace) -> model service id\n                input.signingName = input.signingName || signingService || input.serviceId;\n                return new SignatureV4({\n                    credentials: normalizedCreds,\n                    region: input.signingRegion,\n                    service: input.signingName,\n                    sha256: sha256,\n                    uriEscapePath: signingEscapePath,\n                });\n            });\n        };\n    }\n    return __assign(__assign({}, input), { systemClockOffset: systemClockOffset,\n        signingEscapePath: signingEscapePath, credentials: normalizedCreds, signer: signer });\n}\nfunction normalizeProvider(input) {\n    if (typeof input === \"object\") {\n        var promisified_1 = Promise.resolve(input);\n        return function () { return promisified_1; };\n    }\n    return input;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQTRDcEQsTUFBTSxVQUFVLG9CQUFvQixDQUFJLEtBQWtEO0lBQTFGLGlCQXVDQztJQXRDQyxJQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxLQUFZLENBQUMsQ0FBQztJQUN2RixJQUFNLGVBQWUsR0FBRyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMvQyxJQUFBLEtBQXVGLEtBQUssa0JBQXBFLEVBQXhCLGlCQUFpQixtQkFBRyxJQUFJLEtBQUEsRUFBRSxLQUE2RCxLQUFLLGtCQUFsQixFQUFoRCxpQkFBaUIsbUJBQUcsS0FBSyxDQUFDLGlCQUFpQixJQUFJLENBQUMsS0FBQSxFQUFFLE1BQU0sR0FBSyxLQUFLLE9BQVYsQ0FBVztJQUNyRyxJQUFJLE1BQStCLENBQUM7SUFDcEMsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1FBQ2hCLDJGQUEyRjtRQUMzRixNQUFNLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQzFDO1NBQU07UUFDTCxxREFBcUQ7UUFDckQsTUFBTSxHQUFHO1lBQ1AsT0FBQSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7aUJBQzlCLElBQUksQ0FBQyxVQUFPLE1BQU07OzRCQUFPLHFCQUFNLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsRUFBQTs0QkFBeEMsc0JBQUEsQ0FBQyxDQUFDLFNBQXNDLENBQUMsSUFBSSxFQUFFLEVBQUUsTUFBTSxDQUF5QixFQUFBOztxQkFBQSxDQUFDO2lCQUN4RyxJQUFJLENBQUMsVUFBQyxFQUFvQjtvQkFBcEIsS0FBQSxhQUFvQixFQUFuQixVQUFVLFFBQUEsRUFBRSxNQUFNLFFBQUE7Z0JBQ2hCLElBQUEsYUFBYSxHQUFxQixVQUFVLGNBQS9CLEVBQUUsY0FBYyxHQUFLLFVBQVUsZUFBZixDQUFnQjtnQkFDckQsaUZBQWlGO2dCQUNqRixnSEFBZ0g7Z0JBQ2hILEtBQUssQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDLGFBQWEsSUFBSSxhQUFhLElBQUksTUFBTSxDQUFDO2dCQUNyRSwrQkFBK0I7Z0JBQy9CLG1IQUFtSDtnQkFDbkgsS0FBSyxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsV0FBVyxJQUFJLGNBQWMsSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDO2dCQUUzRSxPQUFPLElBQUksV0FBVyxDQUFDO29CQUNyQixXQUFXLEVBQUUsZUFBZTtvQkFDNUIsTUFBTSxFQUFFLEtBQUssQ0FBQyxhQUFhO29CQUMzQixPQUFPLEVBQUUsS0FBSyxDQUFDLFdBQVc7b0JBQzFCLE1BQU0sUUFBQTtvQkFDTixhQUFhLEVBQUUsaUJBQWlCO2lCQUNqQyxDQUFDLENBQUM7WUFDTCxDQUFDLENBQUM7UUFsQkosQ0FrQkksQ0FBQztLQUNSO0lBRUQsNkJBQ0ssS0FBSyxLQUNSLGlCQUFpQixtQkFBQTtRQUNqQixpQkFBaUIsbUJBQUEsRUFDakIsV0FBVyxFQUFFLGVBQWUsRUFDNUIsTUFBTSxRQUFBLElBQ047QUFDSixDQUFDO0FBRUQsU0FBUyxpQkFBaUIsQ0FBSSxLQUFzQjtJQUNsRCxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtRQUM3QixJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNDLE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7SUFDRCxPQUFPLEtBQW9CLENBQUM7QUFDOUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNpZ25hdHVyZVY0IH0gZnJvbSBcIkBhd3Mtc2RrL3NpZ25hdHVyZS12NFwiO1xuaW1wb3J0IHsgQ3JlZGVudGlhbHMsIEhhc2hDb25zdHJ1Y3RvciwgUHJvdmlkZXIsIFJlZ2lvbkluZm8sIFJlZ2lvbkluZm9Qcm92aWRlciwgUmVxdWVzdFNpZ25lciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF3c0F1dGhJbnB1dENvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgY3JlZGVudGlhbHMgdXNlZCB0byBzaWduIHJlcXVlc3RzLlxuICAgKi9cbiAgY3JlZGVudGlhbHM/OiBDcmVkZW50aWFscyB8IFByb3ZpZGVyPENyZWRlbnRpYWxzPjtcblxuICAvKipcbiAgICogVGhlIHNpZ25lciB0byB1c2Ugd2hlbiBzaWduaW5nIHJlcXVlc3RzLlxuICAgKi9cbiAgc2lnbmVyPzogUmVxdWVzdFNpZ25lciB8IFByb3ZpZGVyPFJlcXVlc3RTaWduZXI+O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGVzY2FwZSByZXF1ZXN0IHBhdGggd2hlbiBzaWduaW5nIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgc2lnbmluZ0VzY2FwZVBhdGg/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBbiBvZmZzZXQgdmFsdWUgaW4gbWlsbGlzZWNvbmRzIHRvIGFwcGx5IHRvIGFsbCBzaWduaW5nIHRpbWVzLlxuICAgKi9cbiAgc3lzdGVtQ2xvY2tPZmZzZXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSByZWdpb24gd2hlcmUgeW91IHdhbnQgdG8gc2lnbiB5b3VyIHJlcXVlc3QgYWdhaW5zdC4gVGhpc1xuICAgKiBjYW4gYmUgZGlmZmVyZW50IHRvIHRoZSByZWdpb24gaW4gdGhlIGVuZHBvaW50LlxuICAgKi9cbiAgc2lnbmluZ1JlZ2lvbj86IHN0cmluZztcbn1cbmludGVyZmFjZSBQcmV2aW91c2x5UmVzb2x2ZWQge1xuICBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyOiAoaW5wdXQ6IGFueSkgPT4gUHJvdmlkZXI8Q3JlZGVudGlhbHM+O1xuICByZWdpb246IHN0cmluZyB8IFByb3ZpZGVyPHN0cmluZz47XG4gIHJlZ2lvbkluZm9Qcm92aWRlcjogUmVnaW9uSW5mb1Byb3ZpZGVyO1xuICBzaWduaW5nTmFtZT86IHN0cmluZztcbiAgc2VydmljZUlkOiBzdHJpbmc7XG4gIHNoYTI1NjogSGFzaENvbnN0cnVjdG9yO1xufVxuZXhwb3J0IGludGVyZmFjZSBBd3NBdXRoUmVzb2x2ZWRDb25maWcge1xuICBjcmVkZW50aWFsczogUHJvdmlkZXI8Q3JlZGVudGlhbHM+O1xuICBzaWduZXI6IFByb3ZpZGVyPFJlcXVlc3RTaWduZXI+O1xuICBzaWduaW5nRXNjYXBlUGF0aDogYm9vbGVhbjtcbiAgc3lzdGVtQ2xvY2tPZmZzZXQ6IG51bWJlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXdzQXV0aENvbmZpZzxUPihpbnB1dDogVCAmIEF3c0F1dGhJbnB1dENvbmZpZyAmIFByZXZpb3VzbHlSZXNvbHZlZCk6IFQgJiBBd3NBdXRoUmVzb2x2ZWRDb25maWcge1xuICBjb25zdCBjcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzIHx8IGlucHV0LmNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIoaW5wdXQgYXMgYW55KTtcbiAgY29uc3Qgbm9ybWFsaXplZENyZWRzID0gbm9ybWFsaXplUHJvdmlkZXIoY3JlZGVudGlhbHMpO1xuICBjb25zdCB7IHNpZ25pbmdFc2NhcGVQYXRoID0gdHJ1ZSwgc3lzdGVtQ2xvY2tPZmZzZXQgPSBpbnB1dC5zeXN0ZW1DbG9ja09mZnNldCB8fCAwLCBzaGEyNTYgfSA9IGlucHV0O1xuICBsZXQgc2lnbmVyOiBQcm92aWRlcjxSZXF1ZXN0U2lnbmVyPjtcbiAgaWYgKGlucHV0LnNpZ25lcikge1xuICAgIC8vaWYgc2lnbmVyIGlzIHN1cHBsaWVkIGJ5IHVzZXIsIG5vcm1hbGl6ZSBpdCB0byBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHByb21pc2UgZm9yIHNpZ25lci5cbiAgICBzaWduZXIgPSBub3JtYWxpemVQcm92aWRlcihpbnB1dC5zaWduZXIpO1xuICB9IGVsc2Uge1xuICAgIC8vY29uc3RydWN0IGEgcHJvdmlkZXIgaW5mZXJyaW5nIHNpZ25pbmcgZnJvbSByZWdpb24uXG4gICAgc2lnbmVyID0gKCkgPT5cbiAgICAgIG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnJlZ2lvbikoKVxuICAgICAgICAudGhlbihhc3luYyAocmVnaW9uKSA9PiBbKGF3YWl0IGlucHV0LnJlZ2lvbkluZm9Qcm92aWRlcihyZWdpb24pKSB8fCB7fSwgcmVnaW9uXSBhcyBbUmVnaW9uSW5mbywgc3RyaW5nXSlcbiAgICAgICAgLnRoZW4oKFtyZWdpb25JbmZvLCByZWdpb25dKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSB9ID0gcmVnaW9uSW5mbztcbiAgICAgICAgICAvL3VwZGF0ZSBjbGllbnQncyBzaW5naW5nIHJlZ2lvbiBhbmQgc2lnbmluZyBzZXJ2aWNlIGNvbmZpZyBpZiB0aGV5IGFyZSByZXNvbHZlZC5cbiAgICAgICAgICAvL3NpZ25pbmcgcmVnaW9uIHJlc29sdmluZyBvcmRlcjogdXNlciBzdXBwbGllZCBzaWduaW5nUmVnaW9uIC0+IGVuZHBvaW50cy5qc29uIGluZmVycmVkIHJlZ2lvbiAtPiBjbGllbnQgcmVnaW9uXG4gICAgICAgICAgaW5wdXQuc2lnbmluZ1JlZ2lvbiA9IGlucHV0LnNpZ25pbmdSZWdpb24gfHwgc2lnbmluZ1JlZ2lvbiB8fCByZWdpb247XG4gICAgICAgICAgLy9zaWduaW5nIG5hbWUgcmVzb2x2aW5nIG9yZGVyOlxuICAgICAgICAgIC8vdXNlciBzdXBwbGllZCBzaWduaW5nTmFtZSAtPiBlbmRwb2ludHMuanNvbiBpbmZlcnJlZCAoY3JlZGVudGlhbCBzY29wZSAtPiBtb2RlbCBhcm5OYW1lc3BhY2UpIC0+IG1vZGVsIHNlcnZpY2UgaWRcbiAgICAgICAgICBpbnB1dC5zaWduaW5nTmFtZSA9IGlucHV0LnNpZ25pbmdOYW1lIHx8IHNpZ25pbmdTZXJ2aWNlIHx8IGlucHV0LnNlcnZpY2VJZDtcblxuICAgICAgICAgIHJldHVybiBuZXcgU2lnbmF0dXJlVjQoe1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICAgICAgICAgIHJlZ2lvbjogaW5wdXQuc2lnbmluZ1JlZ2lvbixcbiAgICAgICAgICAgIHNlcnZpY2U6IGlucHV0LnNpZ25pbmdOYW1lLFxuICAgICAgICAgICAgc2hhMjU2LFxuICAgICAgICAgICAgdXJpRXNjYXBlUGF0aDogc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5pbnB1dCxcbiAgICBzeXN0ZW1DbG9ja09mZnNldCxcbiAgICBzaWduaW5nRXNjYXBlUGF0aCxcbiAgICBjcmVkZW50aWFsczogbm9ybWFsaXplZENyZWRzLFxuICAgIHNpZ25lcixcbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUHJvdmlkZXI8VD4oaW5wdXQ6IFQgfCBQcm92aWRlcjxUPik6IFByb3ZpZGVyPFQ+IHtcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHByb21pc2lmaWVkID0gUHJvbWlzZS5yZXNvbHZlKGlucHV0KTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH1cbiAgcmV0dXJuIGlucHV0IGFzIFByb3ZpZGVyPFQ+O1xufVxuIl19","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nvar isClockSkewed = function (newServerTime, systemClockOffset) {\n    return Math.abs(getSkewCorrectedDate(systemClockOffset).getTime() - newServerTime) >= 300000;\n};\nvar getSkewCorrectedDate = function (systemClockOffset) { return new Date(Date.now() + systemClockOffset); };\nexport function awsAuthMiddleware(options) {\n    return function (next, context) {\n        return function (args) {\n            return __awaiter(this, void 0, void 0, function () {\n                var signer, _a, output, _b, _c, headers, dateHeader, serverTime;\n                var _d;\n                return __generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0:\n                            if (!HttpRequest.isInstance(args.request))\n                                return [2 /*return*/, next(args)];\n                            if (!(typeof options.signer === \"function\")) return [3 /*break*/, 2];\n                            return [4 /*yield*/, options.signer()];\n                        case 1:\n                            _a = _e.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            _a = options.signer;\n                            _e.label = 3;\n                        case 3:\n                            signer = _a;\n                            _b = next;\n                            _c = [__assign({}, args)];\n                            _d = {};\n                            return [4 /*yield*/, signer.sign(args.request, {\n                                    signingDate: new Date(Date.now() + options.systemClockOffset),\n                                    signingRegion: context[\"signing_region\"],\n                                    signingService: context[\"signing_service\"],\n                                })];\n                        case 4: return [4 /*yield*/, _b.apply(void 0, [__assign.apply(void 0, _c.concat([(_d.request = _e.sent(), _d)]))])];\n                        case 5:\n                            output = _e.sent();\n                            headers = output.response.headers;\n                            dateHeader = headers && (headers.date || headers.Date);\n                            if (dateHeader) {\n                                serverTime = Date.parse(dateHeader);\n                                if (isClockSkewed(serverTime, options.systemClockOffset)) {\n                                    options.systemClockOffset = serverTime - Date.now();\n                                }\n                            }\n                            return [2 /*return*/, output];\n                    }\n                });\n            });\n        };\n    };\n}\nexport var awsAuthMiddlewareOptions = {\n    name: \"awsAuthMiddleware\",\n    tags: [\"SIGNATURE\", \"AWSAUTH\"],\n    relation: \"after\",\n    toMiddleware: \"retryMiddleware\",\n    override: true,\n};\nexport var getAwsAuthPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.addRelativeTo(awsAuthMiddleware(options), awsAuthMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFhckQsSUFBTSxhQUFhLEdBQUcsVUFBQyxhQUFxQixFQUFFLGlCQUF5QjtJQUNyRSxPQUFBLElBQUksQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxhQUFhLENBQUMsSUFBSSxNQUFNO0FBQXJGLENBQXFGLENBQUM7QUFFeEYsSUFBTSxvQkFBb0IsR0FBRyxVQUFDLGlCQUF5QixJQUFLLE9BQUEsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEVBQXhDLENBQXdDLENBQUM7QUFFckcsTUFBTSxVQUFVLGlCQUFpQixDQUMvQixPQUE4QjtJQUU5QixPQUFPLFVBQUMsSUFBb0MsRUFBRSxPQUFnQztRQUM1RSxPQUFBLFVBQWdCLElBQXFDOzs7Ozs7OzRCQUNuRCxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO2dDQUFFLHNCQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztpQ0FDOUMsQ0FBQSxPQUFPLE9BQU8sQ0FBQyxNQUFNLEtBQUssVUFBVSxDQUFBLEVBQXBDLHdCQUFvQzs0QkFBRyxxQkFBTSxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUE7OzRCQUF0QixLQUFBLFNBQXNCLENBQUE7Ozs0QkFBRyxLQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUE7Ozs0QkFBdkYsTUFBTSxLQUFpRjs0QkFDeEUsS0FBQSxJQUFJLENBQUE7K0NBQ3BCLElBQUk7OzRCQUNFLHFCQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtvQ0FDdkMsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUM7b0NBQzdELGFBQWEsRUFBRSxPQUFPLENBQUMsZ0JBQWdCLENBQUM7b0NBQ3hDLGNBQWMsRUFBRSxPQUFPLENBQUMsaUJBQWlCLENBQUM7aUNBQzNDLENBQUMsRUFBQTtnQ0FOVyxxQkFBTSxxREFFbkIsVUFBTyxHQUFFLFNBSVAsVUFDRixFQUFBOzs0QkFQSSxNQUFNLEdBQUcsU0FPYjs0QkFFTSxPQUFPLEdBQUssTUFBTSxDQUFDLFFBQWUsUUFBM0IsQ0FBNEI7NEJBQ3JDLFVBQVUsR0FBRyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzs0QkFDN0QsSUFBSSxVQUFVLEVBQUU7Z0NBQ1IsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7Z0NBQzFDLElBQUksYUFBYSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFBRTtvQ0FDeEQsT0FBTyxDQUFDLGlCQUFpQixHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7aUNBQ3JEOzZCQUNGOzRCQUVELHNCQUFPLE1BQU0sRUFBQzs7OztTQUNmO0lBdEJELENBc0JDLENBQUM7QUFDTixDQUFDO0FBRUQsTUFBTSxDQUFDLElBQU0sd0JBQXdCLEdBQThCO0lBQ2pFLElBQUksRUFBRSxtQkFBbUI7SUFDekIsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQztJQUM5QixRQUFRLEVBQUUsT0FBTztJQUNqQixZQUFZLEVBQUUsaUJBQWlCO0lBQy9CLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLFVBQUMsT0FBOEIsSUFBMEIsT0FBQSxDQUFDO0lBQ3hGLFlBQVksRUFBRSxVQUFDLFdBQVc7UUFDeEIsV0FBVyxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7Q0FDRixDQUFDLEVBSnVGLENBSXZGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQge1xuICBGaW5hbGl6ZUhhbmRsZXIsXG4gIEZpbmFsaXplSGFuZGxlckFyZ3VtZW50cyxcbiAgRmluYWxpemVIYW5kbGVyT3V0cHV0LFxuICBGaW5hbGl6ZVJlcXVlc3RNaWRkbGV3YXJlLFxuICBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCxcbiAgUGx1Z2dhYmxlLFxuICBSZWxhdGl2ZU1pZGRsZXdhcmVPcHRpb25zLFxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgQXdzQXV0aFJlc29sdmVkQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnNcIjtcblxuY29uc3QgaXNDbG9ja1NrZXdlZCA9IChuZXdTZXJ2ZXJUaW1lOiBudW1iZXIsIHN5c3RlbUNsb2NrT2Zmc2V0OiBudW1iZXIpID0+XG4gIE1hdGguYWJzKGdldFNrZXdDb3JyZWN0ZWREYXRlKHN5c3RlbUNsb2NrT2Zmc2V0KS5nZXRUaW1lKCkgLSBuZXdTZXJ2ZXJUaW1lKSA+PSAzMDAwMDA7XG5cbmNvbnN0IGdldFNrZXdDb3JyZWN0ZWREYXRlID0gKHN5c3RlbUNsb2NrT2Zmc2V0OiBudW1iZXIpID0+IG5ldyBEYXRlKERhdGUubm93KCkgKyBzeXN0ZW1DbG9ja09mZnNldCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhd3NBdXRoTWlkZGxld2FyZTxJbnB1dCBleHRlbmRzIG9iamVjdCwgT3V0cHV0IGV4dGVuZHMgb2JqZWN0PihcbiAgb3B0aW9uczogQXdzQXV0aFJlc29sdmVkQ29uZmlnXG4pOiBGaW5hbGl6ZVJlcXVlc3RNaWRkbGV3YXJlPElucHV0LCBPdXRwdXQ+IHtcbiAgcmV0dXJuIChuZXh0OiBGaW5hbGl6ZUhhbmRsZXI8SW5wdXQsIE91dHB1dD4sIGNvbnRleHQ6IEhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTogRmluYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQ+ID0+XG4gICAgYXN5bmMgZnVuY3Rpb24gKGFyZ3M6IEZpbmFsaXplSGFuZGxlckFyZ3VtZW50czxJbnB1dD4pOiBQcm9taXNlPEZpbmFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiB7XG4gICAgICBpZiAoIUh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UoYXJncy5yZXF1ZXN0KSkgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICBjb25zdCBzaWduZXIgPSB0eXBlb2Ygb3B0aW9ucy5zaWduZXIgPT09IFwiZnVuY3Rpb25cIiA/IGF3YWl0IG9wdGlvbnMuc2lnbmVyKCkgOiBvcHRpb25zLnNpZ25lcjtcbiAgICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IG5leHQoe1xuICAgICAgICAuLi5hcmdzLFxuICAgICAgICByZXF1ZXN0OiBhd2FpdCBzaWduZXIuc2lnbihhcmdzLnJlcXVlc3QsIHtcbiAgICAgICAgICBzaWduaW5nRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIG9wdGlvbnMuc3lzdGVtQ2xvY2tPZmZzZXQpLFxuICAgICAgICAgIHNpZ25pbmdSZWdpb246IGNvbnRleHRbXCJzaWduaW5nX3JlZ2lvblwiXSxcbiAgICAgICAgICBzaWduaW5nU2VydmljZTogY29udGV4dFtcInNpZ25pbmdfc2VydmljZVwiXSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyBoZWFkZXJzIH0gPSBvdXRwdXQucmVzcG9uc2UgYXMgYW55O1xuICAgICAgY29uc3QgZGF0ZUhlYWRlciA9IGhlYWRlcnMgJiYgKGhlYWRlcnMuZGF0ZSB8fCBoZWFkZXJzLkRhdGUpO1xuICAgICAgaWYgKGRhdGVIZWFkZXIpIHtcbiAgICAgICAgY29uc3Qgc2VydmVyVGltZSA9IERhdGUucGFyc2UoZGF0ZUhlYWRlcik7XG4gICAgICAgIGlmIChpc0Nsb2NrU2tld2VkKHNlcnZlclRpbWUsIG9wdGlvbnMuc3lzdGVtQ2xvY2tPZmZzZXQpKSB7XG4gICAgICAgICAgb3B0aW9ucy5zeXN0ZW1DbG9ja09mZnNldCA9IHNlcnZlclRpbWUgLSBEYXRlLm5vdygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGF3c0F1dGhNaWRkbGV3YXJlT3B0aW9uczogUmVsYXRpdmVNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgbmFtZTogXCJhd3NBdXRoTWlkZGxld2FyZVwiLFxuICB0YWdzOiBbXCJTSUdOQVRVUkVcIiwgXCJBV1NBVVRIXCJdLFxuICByZWxhdGlvbjogXCJhZnRlclwiLFxuICB0b01pZGRsZXdhcmU6IFwicmV0cnlNaWRkbGV3YXJlXCIsXG4gIG92ZXJyaWRlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldEF3c0F1dGhQbHVnaW4gPSAob3B0aW9uczogQXdzQXV0aFJlc29sdmVkQ29uZmlnKTogUGx1Z2dhYmxlPGFueSwgYW55PiA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oYXdzQXV0aE1pZGRsZXdhcmUob3B0aW9ucyksIGF3c0F1dGhNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","export var USER_AGENT = \"user-agent\";\nexport var X_AMZ_USER_AGENT = \"x-amz-user-agent\";\nexport var SPACE = \" \";\nexport var UA_ESCAPE_REGEX = /[^\\!\\#\\$\\%\\&\\'\\*\\+\\-\\.\\^\\_\\`\\|\\~\\d\\w]/g;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLGtCQUFrQixDQUFDO0FBRW5ELE1BQU0sQ0FBQyxJQUFNLEtBQUssR0FBRyxHQUFHLENBQUM7QUFFekIsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLHdDQUF3QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFVTRVJfQUdFTlQgPSBcInVzZXItYWdlbnRcIjtcblxuZXhwb3J0IGNvbnN0IFhfQU1aX1VTRVJfQUdFTlQgPSBcIngtYW16LXVzZXItYWdlbnRcIjtcblxuZXhwb3J0IGNvbnN0IFNQQUNFID0gXCIgXCI7XG5cbmV4cG9ydCBjb25zdCBVQV9FU0NBUEVfUkVHRVggPSAvW15cXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC1cXC5cXF5cXF9cXGBcXHxcXH5cXGRcXHddL2c7XG4iXX0=","import { __assign, __awaiter, __generator, __read, __spread } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { SPACE, UA_ESCAPE_REGEX, USER_AGENT, X_AMZ_USER_AGENT } from \"./constants\";\n/**\n * Build user agent header sections from:\n * 1. runtime-specific default user agent provider;\n * 2. custom user agent from `customUserAgent` client config;\n * 3. handler execution context set by internal SDK components;\n * The built user agent will be set to `x-amz-user-agent` header for ALL the\n * runtimes.\n * Please note that any override to the `user-agent` or `x-amz-user-agent` header\n * in the HTTP request is discouraged. Please use `customUserAgent` client\n * config or middleware setting the `userAgent` context to generate desired user\n * agent.\n */\nexport var userAgentMiddleware = function (options) { return function (next, context) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var request, headers, userAgent, defaultUserAgent, customUserAgent, normalUAValue;\n    var _a, _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                request = args.request;\n                if (!HttpRequest.isInstance(request))\n                    return [2 /*return*/, next(args)];\n                headers = request.headers;\n                userAgent = ((_a = context === null || context === void 0 ? void 0 : context.userAgent) === null || _a === void 0 ? void 0 : _a.map(escapeUserAgent)) || [];\n                return [4 /*yield*/, options.defaultUserAgentProvider()];\n            case 1:\n                defaultUserAgent = (_c.sent()).map(escapeUserAgent);\n                customUserAgent = ((_b = options === null || options === void 0 ? void 0 : options.customUserAgent) === null || _b === void 0 ? void 0 : _b.map(escapeUserAgent)) || [];\n                // Set value to AWS-specific user agent header\n                headers[X_AMZ_USER_AGENT] = __spread(defaultUserAgent, userAgent, customUserAgent).join(SPACE);\n                normalUAValue = __spread(defaultUserAgent.filter(function (section) { return section.startsWith(\"aws-sdk-\"); }), customUserAgent).join(SPACE);\n                if (options.runtime !== \"browser\" && normalUAValue) {\n                    headers[USER_AGENT] = headers[USER_AGENT] ? headers[USER_AGENT] + \" \" + normalUAValue : normalUAValue;\n                }\n                return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n        }\n    });\n}); }; }; };\n/**\n * Escape the each pair according to https://tools.ietf.org/html/rfc5234 and join the pair with pattern `name/version`.\n * User agent name may include prefix like `md/`, `api/`, `os/` etc., we should not escape the `/` after the prefix.\n * @private\n */\nvar escapeUserAgent = function (_a) {\n    var _b = __read(_a, 2), name = _b[0], version = _b[1];\n    var prefixSeparatorIndex = name.indexOf(\"/\");\n    var prefix = name.substring(0, prefixSeparatorIndex); // If no prefix, prefix is just \"\"\n    var uaName = name.substring(prefixSeparatorIndex + 1);\n    if (prefix === \"api\") {\n        uaName = uaName.toLowerCase();\n    }\n    return [prefix, uaName, version]\n        .filter(function (item) { return item && item.length > 0; })\n        .map(function (item) { return item === null || item === void 0 ? void 0 : item.replace(UA_ESCAPE_REGEX, \"_\"); })\n        .join(\"/\");\n};\nexport var getUserAgentMiddlewareOptions = {\n    name: \"getUserAgentMiddleware\",\n    step: \"build\",\n    priority: \"low\",\n    tags: [\"SET_USER_AGENT\", \"USER_AGENT\"],\n    override: true,\n};\nexport var getUserAgentPlugin = function (config) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(userAgentMiddleware(config), getUserAgentMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1hZ2VudC1taWRkbGV3YXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3VzZXItYWdlbnQtbWlkZGxld2FyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBY3JELE9BQU8sRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUVuRjs7Ozs7Ozs7Ozs7R0FXRztBQUNILE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLFVBQUMsT0FBZ0MsSUFBSyxPQUFBLFVBQ3ZFLElBQTRCLEVBQzVCLE9BQWdDLElBQ0wsT0FBQSxVQUFPLElBQWdDOzs7Ozs7Z0JBQzFELE9BQU8sR0FBSyxJQUFJLFFBQVQsQ0FBVTtnQkFDekIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDO29CQUFFLHNCQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztnQkFDaEQsT0FBTyxHQUFLLE9BQU8sUUFBWixDQUFhO2dCQUN0QixTQUFTLEdBQUcsT0FBQSxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsU0FBUywwQ0FBRSxHQUFHLENBQUMsZUFBZSxNQUFLLEVBQUUsQ0FBQztnQkFDdkMscUJBQU0sT0FBTyxDQUFDLHdCQUF3QixFQUFFLEVBQUE7O2dCQUE1RCxnQkFBZ0IsR0FBRyxDQUFDLFNBQXdDLENBQUMsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDO2dCQUNsRixlQUFlLEdBQUcsT0FBQSxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsZUFBZSwwQ0FBRSxHQUFHLENBQUMsZUFBZSxNQUFLLEVBQUUsQ0FBQztnQkFDN0UsOENBQThDO2dCQUM5QyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxTQUFJLGdCQUFnQixFQUFLLFNBQVMsRUFBSyxlQUFlLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUUxRixhQUFhLEdBQUcsU0FDakIsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLFVBQUMsT0FBTyxJQUFLLE9BQUEsT0FBTyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBOUIsQ0FBOEIsQ0FBQyxFQUNwRSxlQUFlLEVBQ2xCLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDZCxJQUFJLE9BQU8sQ0FBQyxPQUFPLEtBQUssU0FBUyxJQUFJLGFBQWEsRUFBRTtvQkFDbEQsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxTQUFJLGFBQWUsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDO2lCQUN2RztnQkFFRCxzQkFBTyxJQUFJLHVCQUNOLElBQUksS0FDUCxPQUFPLFNBQUEsSUFDUCxFQUFDOzs7S0FDSixFQXRCNEIsQ0FzQjVCLEVBekJ3RSxDQXlCeEUsQ0FBQztBQUVGOzs7O0dBSUc7QUFDSCxJQUFNLGVBQWUsR0FBRyxVQUFDLEVBQThCO1FBQTlCLEtBQUEsYUFBOEIsRUFBN0IsSUFBSSxRQUFBLEVBQUUsT0FBTyxRQUFBO0lBQ3JDLElBQU0sb0JBQW9CLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQyxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsa0NBQWtDO0lBQzFGLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsb0JBQW9CLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDdEQsSUFBSSxNQUFNLEtBQUssS0FBSyxFQUFFO1FBQ3BCLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7S0FDL0I7SUFDRCxPQUFPLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUM7U0FDN0IsTUFBTSxDQUFDLFVBQUMsSUFBSSxJQUFLLE9BQUEsSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUF2QixDQUF1QixDQUFDO1NBQ3pDLEdBQUcsQ0FBQyxVQUFDLElBQUksV0FBSyxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsT0FBTyxDQUFDLGVBQWUsRUFBRSxHQUFHLElBQUMsQ0FBQztTQUNsRCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSw2QkFBNkIsR0FBMkM7SUFDbkYsSUFBSSxFQUFFLHdCQUF3QjtJQUM5QixJQUFJLEVBQUUsT0FBTztJQUNiLFFBQVEsRUFBRSxLQUFLO0lBQ2YsSUFBSSxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsWUFBWSxDQUFDO0lBQ3RDLFFBQVEsRUFBRSxJQUFJO0NBQ2YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLFVBQUMsTUFBK0IsSUFBMEIsT0FBQSxDQUFDO0lBQzNGLFlBQVksRUFBRSxVQUFDLFdBQVc7UUFDeEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO0lBQzlFLENBQUM7Q0FDRixDQUFDLEVBSjBGLENBSTFGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQge1xuICBBYnNvbHV0ZUxvY2F0aW9uLFxuICBCdWlsZEhhbmRsZXIsXG4gIEJ1aWxkSGFuZGxlckFyZ3VtZW50cyxcbiAgQnVpbGRIYW5kbGVyT3B0aW9ucyxcbiAgQnVpbGRIYW5kbGVyT3V0cHV0LFxuICBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIFBsdWdnYWJsZSxcbiAgVXNlckFnZW50UGFpcixcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmltcG9ydCB7IFVzZXJBZ2VudFJlc29sdmVkQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnNcIjtcbmltcG9ydCB7IFNQQUNFLCBVQV9FU0NBUEVfUkVHRVgsIFVTRVJfQUdFTlQsIFhfQU1aX1VTRVJfQUdFTlQgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuLyoqXG4gKiBCdWlsZCB1c2VyIGFnZW50IGhlYWRlciBzZWN0aW9ucyBmcm9tOlxuICogMS4gcnVudGltZS1zcGVjaWZpYyBkZWZhdWx0IHVzZXIgYWdlbnQgcHJvdmlkZXI7XG4gKiAyLiBjdXN0b20gdXNlciBhZ2VudCBmcm9tIGBjdXN0b21Vc2VyQWdlbnRgIGNsaWVudCBjb25maWc7XG4gKiAzLiBoYW5kbGVyIGV4ZWN1dGlvbiBjb250ZXh0IHNldCBieSBpbnRlcm5hbCBTREsgY29tcG9uZW50cztcbiAqIFRoZSBidWlsdCB1c2VyIGFnZW50IHdpbGwgYmUgc2V0IHRvIGB4LWFtei11c2VyLWFnZW50YCBoZWFkZXIgZm9yIEFMTCB0aGVcbiAqIHJ1bnRpbWVzLlxuICogUGxlYXNlIG5vdGUgdGhhdCBhbnkgb3ZlcnJpZGUgdG8gdGhlIGB1c2VyLWFnZW50YCBvciBgeC1hbXotdXNlci1hZ2VudGAgaGVhZGVyXG4gKiBpbiB0aGUgSFRUUCByZXF1ZXN0IGlzIGRpc2NvdXJhZ2VkLiBQbGVhc2UgdXNlIGBjdXN0b21Vc2VyQWdlbnRgIGNsaWVudFxuICogY29uZmlnIG9yIG1pZGRsZXdhcmUgc2V0dGluZyB0aGUgYHVzZXJBZ2VudGAgY29udGV4dCB0byBnZW5lcmF0ZSBkZXNpcmVkIHVzZXJcbiAqIGFnZW50LlxuICovXG5leHBvcnQgY29uc3QgdXNlckFnZW50TWlkZGxld2FyZSA9IChvcHRpb25zOiBVc2VyQWdlbnRSZXNvbHZlZENvbmZpZykgPT4gPE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyPihcbiAgbmV4dDogQnVpbGRIYW5kbGVyPGFueSwgYW55PixcbiAgY29udGV4dDogSGFuZGxlckV4ZWN1dGlvbkNvbnRleHRcbik6IEJ1aWxkSGFuZGxlcjxhbnksIGFueT4gPT4gYXN5bmMgKGFyZ3M6IEJ1aWxkSGFuZGxlckFyZ3VtZW50czxhbnk+KTogUHJvbWlzZTxCdWlsZEhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4gPT4ge1xuICBjb25zdCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gIGlmICghSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkgcmV0dXJuIG5leHQoYXJncyk7XG4gIGNvbnN0IHsgaGVhZGVycyB9ID0gcmVxdWVzdDtcbiAgY29uc3QgdXNlckFnZW50ID0gY29udGV4dD8udXNlckFnZW50Py5tYXAoZXNjYXBlVXNlckFnZW50KSB8fCBbXTtcbiAgY29uc3QgZGVmYXVsdFVzZXJBZ2VudCA9IChhd2FpdCBvcHRpb25zLmRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcigpKS5tYXAoZXNjYXBlVXNlckFnZW50KTtcbiAgY29uc3QgY3VzdG9tVXNlckFnZW50ID0gb3B0aW9ucz8uY3VzdG9tVXNlckFnZW50Py5tYXAoZXNjYXBlVXNlckFnZW50KSB8fCBbXTtcbiAgLy8gU2V0IHZhbHVlIHRvIEFXUy1zcGVjaWZpYyB1c2VyIGFnZW50IGhlYWRlclxuICBoZWFkZXJzW1hfQU1aX1VTRVJfQUdFTlRdID0gWy4uLmRlZmF1bHRVc2VyQWdlbnQsIC4uLnVzZXJBZ2VudCwgLi4uY3VzdG9tVXNlckFnZW50XS5qb2luKFNQQUNFKTtcbiAgLy8gR2V0IHZhbHVlIHRvIGJlIHNlbnQgd2l0aCBub24tQVdTLXNwZWNpZmljIHVzZXIgYWdlbnQgaGVhZGVyLlxuICBjb25zdCBub3JtYWxVQVZhbHVlID0gW1xuICAgIC4uLmRlZmF1bHRVc2VyQWdlbnQuZmlsdGVyKChzZWN0aW9uKSA9PiBzZWN0aW9uLnN0YXJ0c1dpdGgoXCJhd3Mtc2RrLVwiKSksXG4gICAgLi4uY3VzdG9tVXNlckFnZW50LFxuICBdLmpvaW4oU1BBQ0UpO1xuICBpZiAob3B0aW9ucy5ydW50aW1lICE9PSBcImJyb3dzZXJcIiAmJiBub3JtYWxVQVZhbHVlKSB7XG4gICAgaGVhZGVyc1tVU0VSX0FHRU5UXSA9IGhlYWRlcnNbVVNFUl9BR0VOVF0gPyBgJHtoZWFkZXJzW1VTRVJfQUdFTlRdfSAke25vcm1hbFVBVmFsdWV9YCA6IG5vcm1hbFVBVmFsdWU7XG4gIH1cblxuICByZXR1cm4gbmV4dCh7XG4gICAgLi4uYXJncyxcbiAgICByZXF1ZXN0LFxuICB9KTtcbn07XG5cbi8qKlxuICogRXNjYXBlIHRoZSBlYWNoIHBhaXIgYWNjb3JkaW5nIHRvIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM1MjM0IGFuZCBqb2luIHRoZSBwYWlyIHdpdGggcGF0dGVybiBgbmFtZS92ZXJzaW9uYC5cbiAqIFVzZXIgYWdlbnQgbmFtZSBtYXkgaW5jbHVkZSBwcmVmaXggbGlrZSBgbWQvYCwgYGFwaS9gLCBgb3MvYCBldGMuLCB3ZSBzaG91bGQgbm90IGVzY2FwZSB0aGUgYC9gIGFmdGVyIHRoZSBwcmVmaXguXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBlc2NhcGVVc2VyQWdlbnQgPSAoW25hbWUsIHZlcnNpb25dOiBVc2VyQWdlbnRQYWlyKTogc3RyaW5nID0+IHtcbiAgY29uc3QgcHJlZml4U2VwYXJhdG9ySW5kZXggPSBuYW1lLmluZGV4T2YoXCIvXCIpO1xuICBjb25zdCBwcmVmaXggPSBuYW1lLnN1YnN0cmluZygwLCBwcmVmaXhTZXBhcmF0b3JJbmRleCk7IC8vIElmIG5vIHByZWZpeCwgcHJlZml4IGlzIGp1c3QgXCJcIlxuICBsZXQgdWFOYW1lID0gbmFtZS5zdWJzdHJpbmcocHJlZml4U2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgaWYgKHByZWZpeCA9PT0gXCJhcGlcIikge1xuICAgIHVhTmFtZSA9IHVhTmFtZS50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIHJldHVybiBbcHJlZml4LCB1YU5hbWUsIHZlcnNpb25dXG4gICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAmJiBpdGVtLmxlbmd0aCA+IDApXG4gICAgLm1hcCgoaXRlbSkgPT4gaXRlbT8ucmVwbGFjZShVQV9FU0NBUEVfUkVHRVgsIFwiX1wiKSlcbiAgICAuam9pbihcIi9cIik7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50TWlkZGxld2FyZU9wdGlvbnM6IEJ1aWxkSGFuZGxlck9wdGlvbnMgJiBBYnNvbHV0ZUxvY2F0aW9uID0ge1xuICBuYW1lOiBcImdldFVzZXJBZ2VudE1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJidWlsZFwiLFxuICBwcmlvcml0eTogXCJsb3dcIixcbiAgdGFnczogW1wiU0VUX1VTRVJfQUdFTlRcIiwgXCJVU0VSX0FHRU5UXCJdLFxuICBvdmVycmlkZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyQWdlbnRQbHVnaW4gPSAoY29uZmlnOiBVc2VyQWdlbnRSZXNvbHZlZENvbmZpZyk6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQodXNlckFnZW50TWlkZGxld2FyZShjb25maWcpLCBnZXRVc2VyQWdlbnRNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","import { __assign, __extends } from \"tslib\";\nimport { ClientDefaultValues as __ClientDefaultValues } from \"./runtimeConfig\";\nimport { resolveEndpointsConfig, resolveRegionConfig, } from \"@aws-sdk/config-resolver\";\nimport { resolveEventStreamSerdeConfig, } from \"@aws-sdk/eventstream-serde-config-resolver\";\nimport { resolveBucketEndpointConfig, } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getContentLengthPlugin } from \"@aws-sdk/middleware-content-length\";\nimport { getAddExpectContinuePlugin } from \"@aws-sdk/middleware-expect-continue\";\nimport { getHostHeaderPlugin, resolveHostHeaderConfig, } from \"@aws-sdk/middleware-host-header\";\nimport { getLoggerPlugin } from \"@aws-sdk/middleware-logger\";\nimport { getRetryPlugin, resolveRetryConfig } from \"@aws-sdk/middleware-retry\";\nimport { getUseRegionalEndpointPlugin, getValidateBucketNamePlugin } from \"@aws-sdk/middleware-sdk-s3\";\nimport { getAwsAuthPlugin, resolveAwsAuthConfig, } from \"@aws-sdk/middleware-signing\";\nimport { getUserAgentPlugin, resolveUserAgentConfig, } from \"@aws-sdk/middleware-user-agent\";\nimport { Client as __Client, } from \"@aws-sdk/smithy-client\";\n/**\n * <p></p>\n */\nvar S3Client = /** @class */ (function (_super) {\n    __extends(S3Client, _super);\n    function S3Client(configuration) {\n        var _this = this;\n        var _config_0 = __assign(__assign({}, __ClientDefaultValues), configuration);\n        var _config_1 = resolveRegionConfig(_config_0);\n        var _config_2 = resolveEndpointsConfig(_config_1);\n        var _config_3 = resolveAwsAuthConfig(_config_2);\n        var _config_4 = resolveRetryConfig(_config_3);\n        var _config_5 = resolveHostHeaderConfig(_config_4);\n        var _config_6 = resolveBucketEndpointConfig(_config_5);\n        var _config_7 = resolveUserAgentConfig(_config_6);\n        var _config_8 = resolveEventStreamSerdeConfig(_config_7);\n        _this = _super.call(this, _config_8) || this;\n        _this.config = _config_8;\n        _this.middlewareStack.use(getAwsAuthPlugin(_this.config));\n        _this.middlewareStack.use(getRetryPlugin(_this.config));\n        _this.middlewareStack.use(getContentLengthPlugin(_this.config));\n        _this.middlewareStack.use(getHostHeaderPlugin(_this.config));\n        _this.middlewareStack.use(getLoggerPlugin(_this.config));\n        _this.middlewareStack.use(getValidateBucketNamePlugin(_this.config));\n        _this.middlewareStack.use(getUseRegionalEndpointPlugin(_this.config));\n        _this.middlewareStack.use(getAddExpectContinuePlugin(_this.config));\n        _this.middlewareStack.use(getUserAgentPlugin(_this.config));\n        return _this;\n    }\n    S3Client.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return S3Client;\n}(__Client));\nexport { S3Client };\n//# sourceMappingURL=S3Client.js.map","import { __assign } from \"tslib\";\nexport var resolveEventStreamSerdeConfig = function (input) { return (__assign(__assign({}, input), { eventStreamMarshaller: input.eventStreamSerdeProvider(input) })); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXZlbnRTdHJlYW1TZXJkZUNvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9FdmVudFN0cmVhbVNlcmRlQ29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFZQSxNQUFNLENBQUMsSUFBTSw2QkFBNkIsR0FBRyxVQUMzQyxLQUEyRCxJQUNwQixPQUFBLHVCQUNwQyxLQUFLLEtBQ1IscUJBQXFCLEVBQUUsS0FBSyxDQUFDLHdCQUF3QixDQUFDLEtBQUssQ0FBQyxJQUM1RCxFQUh1QyxDQUd2QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRTdHJlYW1NYXJzaGFsbGVyLCBFdmVudFN0cmVhbVNlcmRlUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFdmVudFN0cmVhbVNlcmRlSW5wdXRDb25maWcge31cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudFN0cmVhbVNlcmRlUmVzb2x2ZWRDb25maWcge1xuICBldmVudFN0cmVhbU1hcnNoYWxsZXI6IEV2ZW50U3RyZWFtTWFyc2hhbGxlcjtcbn1cblxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIGV2ZW50U3RyZWFtU2VyZGVQcm92aWRlcjogRXZlbnRTdHJlYW1TZXJkZVByb3ZpZGVyO1xufVxuXG5leHBvcnQgY29uc3QgcmVzb2x2ZUV2ZW50U3RyZWFtU2VyZGVDb25maWcgPSA8VD4oXG4gIGlucHV0OiBUICYgUHJldmlvdXNseVJlc29sdmVkICYgRXZlbnRTdHJlYW1TZXJkZUlucHV0Q29uZmlnXG4pOiBUICYgRXZlbnRTdHJlYW1TZXJkZVJlc29sdmVkQ29uZmlnID0+ICh7XG4gIC4uLmlucHV0LFxuICBldmVudFN0cmVhbU1hcnNoYWxsZXI6IGlucHV0LmV2ZW50U3RyZWFtU2VyZGVQcm92aWRlcihpbnB1dCksXG59KTtcbiJdfQ==","import { __assign } from \"tslib\";\nexport function resolveUserAgentConfig(input) {\n    return __assign(__assign({}, input), { customUserAgent: typeof input.customUserAgent === \"string\" ? [[input.customUserAgent]] : input.customUserAgent });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQWdCQSxNQUFNLFVBQVUsc0JBQXNCLENBQ3BDLEtBQW9EO0lBRXBELDZCQUNLLEtBQUssS0FDUixlQUFlLEVBQUUsT0FBTyxLQUFLLENBQUMsZUFBZSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsZUFBZSxJQUM5RztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciwgVXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5leHBvcnQgaW50ZXJmYWNlIFVzZXJBZ2VudElucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBjdXN0b20gdXNlciBhZ2VudCBoZWFkZXIgdGhhdCB3b3VsZCBiZSBhcHBlbmRlZCB0byBkZWZhdWx0IG9uZVxuICAgKi9cbiAgY3VzdG9tVXNlckFnZW50Pzogc3RyaW5nIHwgVXNlckFnZW50O1xufVxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogUHJvdmlkZXI8VXNlckFnZW50PjtcbiAgcnVudGltZTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBVc2VyQWdlbnRSZXNvbHZlZENvbmZpZyB7XG4gIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogUHJvdmlkZXI8VXNlckFnZW50PjtcbiAgY3VzdG9tVXNlckFnZW50PzogVXNlckFnZW50O1xuICBydW50aW1lOiBzdHJpbmc7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZzxUPihcbiAgaW5wdXQ6IFQgJiBQcmV2aW91c2x5UmVzb2x2ZWQgJiBVc2VyQWdlbnRJbnB1dENvbmZpZ1xuKTogVCAmIFVzZXJBZ2VudFJlc29sdmVkQ29uZmlnIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5pbnB1dCxcbiAgICBjdXN0b21Vc2VyQWdlbnQ6IHR5cGVvZiBpbnB1dC5jdXN0b21Vc2VyQWdlbnQgPT09IFwic3RyaW5nXCIgPyBbW2lucHV0LmN1c3RvbVVzZXJBZ2VudF1dIDogaW5wdXQuY3VzdG9tVXNlckFnZW50LFxuICB9O1xufVxuIl19","import { __assign } from \"tslib\";\nexport function resolveBucketEndpointConfig(input) {\n    var _a = input.bucketEndpoint, bucketEndpoint = _a === void 0 ? false : _a, _b = input.forcePathStyle, forcePathStyle = _b === void 0 ? false : _b, _c = input.useAccelerateEndpoint, useAccelerateEndpoint = _c === void 0 ? false : _c, _d = input.useDualstackEndpoint, useDualstackEndpoint = _d === void 0 ? false : _d, _e = input.useArnRegion, useArnRegion = _e === void 0 ? false : _e;\n    return __assign(__assign({}, input), { bucketEndpoint: bucketEndpoint,\n        forcePathStyle: forcePathStyle,\n        useAccelerateEndpoint: useAccelerateEndpoint,\n        useDualstackEndpoint: useDualstackEndpoint, useArnRegion: typeof useArnRegion === \"function\" ? useArnRegion : function () { return Promise.resolve(useArnRegion); } });\n}\nexport var NODE_USE_ARN_REGION_ENV_NAME = \"AWS_S3_USE_ARN_REGION\";\nexport var NODE_USE_ARN_REGION_INI_NAME = \"s3_use_arn_region\";\n/**\n * Config to load useArnRegion from environment variables and shared INI files\n *\n * @api private\n */\nexport var NODE_USE_ARN_REGION_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) {\n        if (!Object.prototype.hasOwnProperty.call(env, NODE_USE_ARN_REGION_ENV_NAME))\n            return undefined;\n        if (env[NODE_USE_ARN_REGION_ENV_NAME] === \"true\")\n            return true;\n        if (env[NODE_USE_ARN_REGION_ENV_NAME] === \"false\")\n            return false;\n        throw new Error(\"Cannot load env \" + NODE_USE_ARN_REGION_ENV_NAME + \". Expected \\\"true\\\" or \\\"false\\\", got \" + env[NODE_USE_ARN_REGION_ENV_NAME] + \".\");\n    },\n    configFileSelector: function (profile) {\n        if (!Object.prototype.hasOwnProperty.call(profile, NODE_USE_ARN_REGION_INI_NAME))\n            return undefined;\n        if (profile[NODE_USE_ARN_REGION_INI_NAME] === \"true\")\n            return true;\n        if (profile[NODE_USE_ARN_REGION_INI_NAME] === \"false\")\n            return false;\n        throw new Error(\"Cannot load shared config entry \" + NODE_USE_ARN_REGION_INI_NAME + \". Expected \\\"true\\\" or \\\"false\\\", got \" + profile[NODE_USE_ARN_REGION_INI_NAME] + \".\");\n    },\n    default: false,\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQTJDQSxNQUFNLFVBQVUsMkJBQTJCLENBQ3pDLEtBQXlEO0lBR3ZELElBQUEsS0FLRSxLQUFLLGVBTGUsRUFBdEIsY0FBYyxtQkFBRyxLQUFLLEtBQUEsRUFDdEIsS0FJRSxLQUFLLGVBSmUsRUFBdEIsY0FBYyxtQkFBRyxLQUFLLEtBQUEsRUFDdEIsS0FHRSxLQUFLLHNCQUhzQixFQUE3QixxQkFBcUIsbUJBQUcsS0FBSyxLQUFBLEVBQzdCLEtBRUUsS0FBSyxxQkFGcUIsRUFBNUIsb0JBQW9CLG1CQUFHLEtBQUssS0FBQSxFQUM1QixLQUNFLEtBQUssYUFEYSxFQUFwQixZQUFZLG1CQUFHLEtBQUssS0FBQSxDQUNaO0lBQ1YsNkJBQ0ssS0FBSyxLQUNSLGNBQWMsZ0JBQUE7UUFDZCxjQUFjLGdCQUFBO1FBQ2QscUJBQXFCLHVCQUFBO1FBQ3JCLG9CQUFvQixzQkFBQSxFQUNwQixZQUFZLEVBQUUsT0FBTyxZQUFZLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLGNBQU0sT0FBQSxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUE3QixDQUE2QixJQUNyRztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsSUFBTSw0QkFBNEIsR0FBRyx1QkFBdUIsQ0FBQztBQUNwRSxNQUFNLENBQUMsSUFBTSw0QkFBNEIsR0FBRyxtQkFBbUIsQ0FBQztBQUVoRTs7OztHQUlHO0FBQ0gsTUFBTSxDQUFDLElBQU0sa0NBQWtDLEdBQW1DO0lBQ2hGLDJCQUEyQixFQUFFLFVBQUMsR0FBc0I7UUFDbEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsNEJBQTRCLENBQUM7WUFBRSxPQUFPLFNBQVMsQ0FBQztRQUMvRixJQUFJLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxLQUFLLE1BQU07WUFBRSxPQUFPLElBQUksQ0FBQztRQUM5RCxJQUFJLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxLQUFLLE9BQU87WUFBRSxPQUFPLEtBQUssQ0FBQztRQUNoRSxNQUFNLElBQUksS0FBSyxDQUNiLHFCQUFtQiw0QkFBNEIsOENBQXFDLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxNQUFHLENBQ3pILENBQUM7SUFDSixDQUFDO0lBQ0Qsa0JBQWtCLEVBQUUsVUFBQyxPQUFPO1FBQzFCLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLDRCQUE0QixDQUFDO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDbkcsSUFBSSxPQUFPLENBQUMsNEJBQTRCLENBQUMsS0FBSyxNQUFNO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDbEUsSUFBSSxPQUFPLENBQUMsNEJBQTRCLENBQUMsS0FBSyxPQUFPO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDcEUsTUFBTSxJQUFJLEtBQUssQ0FDYixxQ0FBbUMsNEJBQTRCLDhDQUFxQyxPQUFPLENBQUMsNEJBQTRCLENBQUMsTUFBRyxDQUM3SSxDQUFDO0lBQ0osQ0FBQztJQUNELE9BQU8sRUFBRSxLQUFLO0NBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvYWRlZENvbmZpZ1NlbGVjdG9ycyB9IGZyb20gXCJAYXdzLXNkay9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgUHJvdmlkZXIsIFJlZ2lvbkluZm9Qcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJ1Y2tldEVuZHBvaW50SW5wdXRDb25maWcge1xuICAvKipcbiAgICogV2hldGhlciB0aGUgcHJvdmlkZWQgZW5kcG9pbnQgYWRkcmVzc2VzIGFuIGluZGl2aWR1YWwgYnVja2V0LlxuICAgKi9cbiAgYnVja2V0RW5kcG9pbnQ/OiBib29sZWFuO1xuICAvKipcbiAgICogV2hldGhlciB0byBmb3JjZSBwYXRoIHN0eWxlIFVSTHMgZm9yIFMzIG9iamVjdHMgKGUuZy4sIGh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS88YnVja2V0TmFtZT4vPGtleT4gaW5zdGVhZCBvZiBodHRwczovLzxidWNrZXROYW1lPi5zMy5hbWF6b25hd3MuY29tLzxrZXk+XG4gICAqL1xuICBmb3JjZVBhdGhTdHlsZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSB0aGUgUzMgVHJhbnNmZXIgQWNjZWxlcmF0aW9uIGVuZHBvaW50IGJ5IGRlZmF1bHRcbiAgICovXG4gIHVzZUFjY2VsZXJhdGVFbmRwb2ludD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBFbmFibGVzIElQdjYvSVB2NCBkdWFsc3RhY2sgZW5kcG9pbnQuIFdoZW4gYSBETlMgbG9va3VwIGlzIHBlcmZvcm1lZCBvbiBhbiBlbmRwb2ludCBvZiB0aGlzIHR5cGUsIGl0IHJldHVybnMgYW4g4oCcQeKAnSByZWNvcmQgd2l0aCBhbiBJUHY0IGFkZHJlc3MgYW5kIGFuIOKAnEFBQUHigJ0gcmVjb3JkIHdpdGggYW4gSVB2NiBhZGRyZXNzLiBJbiBtb3N0IGNhc2VzIHRoZSBuZXR3b3JrIHN0YWNrIGluIHRoZSBjbGllbnQgZW52aXJvbm1lbnQgd2lsbCBhdXRvbWF0aWNhbGx5IHByZWZlciB0aGUgQUFBQSByZWNvcmQgYW5kIG1ha2UgYSBjb25uZWN0aW9uIHVzaW5nIHRoZSBJUHY2IGFkZHJlc3MuIE5vdGUsIGhvd2V2ZXIsIHRoYXQgY3VycmVudGx5IG9uIFdpbmRvd3MsIHRoZSBJUHY0IGFkZHJlc3Mgd2lsbCBiZSBwcmVmZXJyZWQuXG4gICAqL1xuICB1c2VEdWFsc3RhY2tFbmRwb2ludD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIG92ZXJyaWRlIHRoZSByZXF1ZXN0IHJlZ2lvbiB3aXRoIHRoZSByZWdpb24gaW5mZXJyZWQgZnJvbSByZXF1ZXN0ZWQgcmVzb3VyY2UncyBBUk4uIERlZmF1bHRzIHRvIGZhbHNlXG4gICAqL1xuICB1c2VBcm5SZWdpb24/OiBib29sZWFuIHwgUHJvdmlkZXI8Ym9vbGVhbj47XG59XG5cbmludGVyZmFjZSBQcmV2aW91c2x5UmVzb2x2ZWQge1xuICBpc0N1c3RvbUVuZHBvaW50OiBib29sZWFuO1xuICByZWdpb246IFByb3ZpZGVyPHN0cmluZz47XG4gIHJlZ2lvbkluZm9Qcm92aWRlcjogUmVnaW9uSW5mb1Byb3ZpZGVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1Y2tldEVuZHBvaW50UmVzb2x2ZWRDb25maWcge1xuICBpc0N1c3RvbUVuZHBvaW50OiBib29sZWFuO1xuICBidWNrZXRFbmRwb2ludDogYm9vbGVhbjtcbiAgZm9yY2VQYXRoU3R5bGU6IGJvb2xlYW47XG4gIHVzZUFjY2VsZXJhdGVFbmRwb2ludDogYm9vbGVhbjtcbiAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGJvb2xlYW47XG4gIHVzZUFyblJlZ2lvbjogUHJvdmlkZXI8Ym9vbGVhbj47XG4gIHJlZ2lvbjogUHJvdmlkZXI8c3RyaW5nPjtcbiAgcmVnaW9uSW5mb1Byb3ZpZGVyOiBSZWdpb25JbmZvUHJvdmlkZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQnVja2V0RW5kcG9pbnRDb25maWc8VD4oXG4gIGlucHV0OiBUICYgUHJldmlvdXNseVJlc29sdmVkICYgQnVja2V0RW5kcG9pbnRJbnB1dENvbmZpZ1xuKTogVCAmIEJ1Y2tldEVuZHBvaW50UmVzb2x2ZWRDb25maWcge1xuICBjb25zdCB7XG4gICAgYnVja2V0RW5kcG9pbnQgPSBmYWxzZSxcbiAgICBmb3JjZVBhdGhTdHlsZSA9IGZhbHNlLFxuICAgIHVzZUFjY2VsZXJhdGVFbmRwb2ludCA9IGZhbHNlLFxuICAgIHVzZUR1YWxzdGFja0VuZHBvaW50ID0gZmFsc2UsXG4gICAgdXNlQXJuUmVnaW9uID0gZmFsc2UsXG4gIH0gPSBpbnB1dDtcbiAgcmV0dXJuIHtcbiAgICAuLi5pbnB1dCxcbiAgICBidWNrZXRFbmRwb2ludCxcbiAgICBmb3JjZVBhdGhTdHlsZSxcbiAgICB1c2VBY2NlbGVyYXRlRW5kcG9pbnQsXG4gICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQsXG4gICAgdXNlQXJuUmVnaW9uOiB0eXBlb2YgdXNlQXJuUmVnaW9uID09PSBcImZ1bmN0aW9uXCIgPyB1c2VBcm5SZWdpb24gOiAoKSA9PiBQcm9taXNlLnJlc29sdmUodXNlQXJuUmVnaW9uKSxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IE5PREVfVVNFX0FSTl9SRUdJT05fRU5WX05BTUUgPSBcIkFXU19TM19VU0VfQVJOX1JFR0lPTlwiO1xuZXhwb3J0IGNvbnN0IE5PREVfVVNFX0FSTl9SRUdJT05fSU5JX05BTUUgPSBcInMzX3VzZV9hcm5fcmVnaW9uXCI7XG5cbi8qKlxuICogQ29uZmlnIHRvIGxvYWQgdXNlQXJuUmVnaW9uIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzIGFuZCBzaGFyZWQgSU5JIGZpbGVzXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBOT0RFX1VTRV9BUk5fUkVHSU9OX0NPTkZJR19PUFRJT05TOiBMb2FkZWRDb25maWdTZWxlY3RvcnM8Ym9vbGVhbj4gPSB7XG4gIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudjogTm9kZUpTLlByb2Nlc3NFbnYpID0+IHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlbnYsIE5PREVfVVNFX0FSTl9SRUdJT05fRU5WX05BTUUpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGlmIChlbnZbTk9ERV9VU0VfQVJOX1JFR0lPTl9FTlZfTkFNRV0gPT09IFwidHJ1ZVwiKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZW52W05PREVfVVNFX0FSTl9SRUdJT05fRU5WX05BTUVdID09PSBcImZhbHNlXCIpIHJldHVybiBmYWxzZTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ2Fubm90IGxvYWQgZW52ICR7Tk9ERV9VU0VfQVJOX1JFR0lPTl9FTlZfTkFNRX0uIEV4cGVjdGVkIFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiwgZ290ICR7ZW52W05PREVfVVNFX0FSTl9SRUdJT05fRU5WX05BTUVdfS5gXG4gICAgKTtcbiAgfSxcbiAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4ge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb2ZpbGUsIE5PREVfVVNFX0FSTl9SRUdJT05fSU5JX05BTUUpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGlmIChwcm9maWxlW05PREVfVVNFX0FSTl9SRUdJT05fSU5JX05BTUVdID09PSBcInRydWVcIikgcmV0dXJuIHRydWU7XG4gICAgaWYgKHByb2ZpbGVbTk9ERV9VU0VfQVJOX1JFR0lPTl9JTklfTkFNRV0gPT09IFwiZmFsc2VcIikgcmV0dXJuIGZhbHNlO1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDYW5ub3QgbG9hZCBzaGFyZWQgY29uZmlnIGVudHJ5ICR7Tk9ERV9VU0VfQVJOX1JFR0lPTl9JTklfTkFNRX0uIEV4cGVjdGVkIFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiwgZ290ICR7cHJvZmlsZVtOT0RFX1VTRV9BUk5fUkVHSU9OX0lOSV9OQU1FXX0uYFxuICAgICk7XG4gIH0sXG4gIGRlZmF1bHQ6IGZhbHNlLFxufTtcbiJdfQ==","export var escapeUri = function (uri) {\n    // AWS percent-encodes some extra non-standard characters in a URI\n    return encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\n};\nvar hexEncode = function (c) { return \"%\" + c.charCodeAt(0).toString(16).toUpperCase(); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLXVyaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lc2NhcGUtdXJpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxJQUFNLFNBQVMsR0FBRyxVQUFDLEdBQVc7SUFDbkMsa0VBQWtFO0lBQ2xFLE9BQUEsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUM7QUFBdEQsQ0FBc0QsQ0FBQztBQUV6RCxJQUFNLFNBQVMsR0FBRyxVQUFDLENBQVMsSUFBSyxPQUFBLE1BQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFJLEVBQWhELENBQWdELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZXNjYXBlVXJpID0gKHVyaTogc3RyaW5nKTogc3RyaW5nID0+XG4gIC8vIEFXUyBwZXJjZW50LWVuY29kZXMgc29tZSBleHRyYSBub24tc3RhbmRhcmQgY2hhcmFjdGVycyBpbiBhIFVSSVxuICBlbmNvZGVVUklDb21wb25lbnQodXJpKS5yZXBsYWNlKC9bIScoKSpdL2csIGhleEVuY29kZSk7XG5cbmNvbnN0IGhleEVuY29kZSA9IChjOiBzdHJpbmcpID0+IGAlJHtjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YDtcbiJdfQ==","import { __values } from \"tslib\";\nimport { escapeUri } from \"@aws-sdk/util-uri-escape\";\nexport function buildQueryString(query) {\n    var e_1, _a;\n    var parts = [];\n    try {\n        for (var _b = __values(Object.keys(query).sort()), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var key = _c.value;\n            var value = query[key];\n            key = escapeUri(key);\n            if (Array.isArray(value)) {\n                for (var i = 0, iLen = value.length; i < iLen; i++) {\n                    parts.push(key + \"=\" + escapeUri(value[i]));\n                }\n            }\n            else {\n                var qsEntry = key;\n                if (value || typeof value === \"string\") {\n                    qsEntry += \"=\" + escapeUri(value);\n                }\n                parts.push(qsEntry);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return parts.join(\"&\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVyRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsS0FBd0I7O0lBQ3ZELElBQU0sS0FBSyxHQUFhLEVBQUUsQ0FBQzs7UUFDM0IsS0FBZ0IsSUFBQSxLQUFBLFNBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxnQkFBQSw0QkFBRTtZQUF0QyxJQUFJLEdBQUcsV0FBQTtZQUNWLElBQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6QixHQUFHLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3JCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDbEQsS0FBSyxDQUFDLElBQUksQ0FBSSxHQUFHLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBRyxDQUFDLENBQUM7aUJBQzdDO2FBQ0Y7aUJBQU07Z0JBQ0wsSUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDO2dCQUNsQixJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7b0JBQ3RDLE9BQU8sSUFBSSxNQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUcsQ0FBQztpQkFDbkM7Z0JBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNyQjtTQUNGOzs7Ozs7Ozs7SUFFRCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1ZXJ5UGFyYW1ldGVyQmFnIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFF1ZXJ5U3RyaW5nKHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZyk6IHN0cmluZyB7XG4gIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocXVlcnkpLnNvcnQoKSkge1xuICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICBrZXkgPSBlc2NhcGVVcmkoa2V5KTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpTGVuID0gdmFsdWUubGVuZ3RoOyBpIDwgaUxlbjsgaSsrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYCR7a2V5fT0ke2VzY2FwZVVyaSh2YWx1ZVtpXSl9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBxc0VudHJ5ID0ga2V5O1xuICAgICAgaWYgKHZhbHVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBxc0VudHJ5ICs9IGA9JHtlc2NhcGVVcmkodmFsdWUpfWA7XG4gICAgICB9XG4gICAgICBwYXJ0cy5wdXNoKHFzRW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKFwiJlwiKTtcbn1cbiJdfQ==","import { buildQueryString } from \"@aws-sdk/querystring-builder\";\nexport function formatUrl(request) {\n    var port = request.port, query = request.query;\n    var protocol = request.protocol, path = request.path, hostname = request.hostname;\n    if (protocol && protocol.substr(-1) !== \":\") {\n        protocol += \":\";\n    }\n    if (port) {\n        hostname += \":\" + port;\n    }\n    if (path && path.charAt(0) !== \"/\") {\n        path = \"/\" + path;\n    }\n    var queryString = query ? buildQueryString(query) : \"\";\n    if (queryString && queryString[0] !== \"?\") {\n        queryString = \"?\" + queryString;\n    }\n    return protocol + \"//\" + hostname + path + queryString;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFHaEUsTUFBTSxVQUFVLFNBQVMsQ0FBQyxPQUFnRDtJQUNoRSxJQUFBLElBQUksR0FBWSxPQUFPLEtBQW5CLEVBQUUsS0FBSyxHQUFLLE9BQU8sTUFBWixDQUFhO0lBQzFCLElBQUEsUUFBUSxHQUFxQixPQUFPLFNBQTVCLEVBQUUsSUFBSSxHQUFlLE9BQU8sS0FBdEIsRUFBRSxRQUFRLEdBQUssT0FBTyxTQUFaLENBQWE7SUFDM0MsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtRQUMzQyxRQUFRLElBQUksR0FBRyxDQUFDO0tBQ2pCO0lBQ0QsSUFBSSxJQUFJLEVBQUU7UUFDUixRQUFRLElBQUksTUFBSSxJQUFNLENBQUM7S0FDeEI7SUFDRCxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtRQUNsQyxJQUFJLEdBQUcsTUFBSSxJQUFNLENBQUM7S0FDbkI7SUFDRCxJQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDdkQsSUFBSSxXQUFXLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtRQUN6QyxXQUFXLEdBQUcsTUFBSSxXQUFhLENBQUM7S0FDakM7SUFDRCxPQUFVLFFBQVEsVUFBSyxRQUFRLEdBQUcsSUFBSSxHQUFHLFdBQWEsQ0FBQztBQUN6RCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRRdWVyeVN0cmluZyB9IGZyb20gXCJAYXdzLXNkay9xdWVyeXN0cmluZy1idWlsZGVyXCI7XG5pbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0VXJsKHJlcXVlc3Q6IE9taXQ8SHR0cFJlcXVlc3QsIFwiaGVhZGVyc1wiIHwgXCJtZXRob2RcIj4pOiBzdHJpbmcge1xuICBjb25zdCB7IHBvcnQsIHF1ZXJ5IH0gPSByZXF1ZXN0O1xuICBsZXQgeyBwcm90b2NvbCwgcGF0aCwgaG9zdG5hbWUgfSA9IHJlcXVlc3Q7XG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSBcIjpcIikge1xuICAgIHByb3RvY29sICs9IFwiOlwiO1xuICB9XG4gIGlmIChwb3J0KSB7XG4gICAgaG9zdG5hbWUgKz0gYDoke3BvcnR9YDtcbiAgfVxuICBpZiAocGF0aCAmJiBwYXRoLmNoYXJBdCgwKSAhPT0gXCIvXCIpIHtcbiAgICBwYXRoID0gYC8ke3BhdGh9YDtcbiAgfVxuICBsZXQgcXVlcnlTdHJpbmcgPSBxdWVyeSA/IGJ1aWxkUXVlcnlTdHJpbmcocXVlcnkpIDogXCJcIjtcbiAgaWYgKHF1ZXJ5U3RyaW5nICYmIHF1ZXJ5U3RyaW5nWzBdICE9PSBcIj9cIikge1xuICAgIHF1ZXJ5U3RyaW5nID0gYD8ke3F1ZXJ5U3RyaW5nfWA7XG4gIH1cbiAgcmV0dXJuIGAke3Byb3RvY29sfS8vJHtob3N0bmFtZX0ke3BhdGh9JHtxdWVyeVN0cmluZ31gO1xufVxuIl19","import { __awaiter, __generator } from \"tslib\";\nexport function createRequest(client, command) {\n    return __awaiter(this, void 0, void 0, function () {\n        var interceptMiddleware, clientStack, handler;\n        var _this = this;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    interceptMiddleware = function (next) { return function (args) { return __awaiter(_this, void 0, void 0, function () {\n                        return __generator(this, function (_a) {\n                            return [2 /*return*/, { output: { request: args.request }, response: undefined }];\n                        });\n                    }); }; };\n                    clientStack = client.middlewareStack.clone();\n                    // @ts-ignore: add middleware to the last of 'build' step\n                    clientStack.add(interceptMiddleware, {\n                        step: \"build\",\n                        priority: \"low\",\n                    });\n                    handler = command.resolveMiddleware(clientStack, client.config, undefined);\n                    return [4 /*yield*/, handler(command).then(function (output) { return output.output.request; })];\n                case 1: \n                // @ts-ignore\n                return [2 /*return*/, _a.sent()];\n            }\n        });\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUdBLE1BQU0sVUFBZ0IsYUFBYSxDQUtqQyxNQUF5RCxFQUN6RCxPQUE2RTs7Ozs7OztvQkFHdkUsbUJBQW1CLEdBQTJDLFVBQUMsSUFBSSxJQUFLLE9BQUEsVUFBTyxJQUFJOzs0QkFDdkYsc0JBQU8sRUFBRSxNQUFNLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBUyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsRUFBQzs7eUJBQzFFLEVBRjZFLENBRTdFLENBQUM7b0JBQ0ksV0FBVyxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBRW5ELHlEQUF5RDtvQkFDekQsV0FBVyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRTt3QkFDbkMsSUFBSSxFQUFFLE9BQU87d0JBQ2IsUUFBUSxFQUFFLEtBQUs7cUJBQ2hCLENBQUMsQ0FBQztvQkFFRyxPQUFPLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO29CQUcxRSxxQkFBTSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsTUFBTSxJQUFLLE9BQUEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQXJCLENBQXFCLENBQUMsRUFBQTs7Z0JBRHJFLGFBQWE7Z0JBQ2Isc0JBQU8sU0FBOEQsRUFBQzs7OztDQUN2RSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENsaWVudCwgQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBCdWlsZE1pZGRsZXdhcmUsIEh0dHBSZXF1ZXN0LCBNZXRhZGF0YUJlYXJlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUmVxdWVzdDxcbiAgSW5wdXRUeXBlc1VuaW9uIGV4dGVuZHMgb2JqZWN0LFxuICBJbnB1dFR5cGUgZXh0ZW5kcyBJbnB1dFR5cGVzVW5pb24sXG4gIE91dHB1dFR5cGUgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlciA9IE1ldGFkYXRhQmVhcmVyXG4+KFxuICBjbGllbnQ6IENsaWVudDxhbnksIElucHV0VHlwZXNVbmlvbiwgTWV0YWRhdGFCZWFyZXIsIGFueT4sXG4gIGNvbW1hbmQ6IENvbW1hbmQ8SW5wdXRUeXBlLCBPdXRwdXRUeXBlLCBhbnksIElucHV0VHlwZXNVbmlvbiwgTWV0YWRhdGFCZWFyZXI+XG4pOiBQcm9taXNlPEh0dHBSZXF1ZXN0PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgY29uc3QgaW50ZXJjZXB0TWlkZGxld2FyZTogQnVpbGRNaWRkbGV3YXJlPElucHV0VHlwZSwgT3V0cHV0VHlwZT4gPSAobmV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICByZXR1cm4geyBvdXRwdXQ6IHsgcmVxdWVzdDogYXJncy5yZXF1ZXN0IH0gYXMgYW55LCByZXNwb25zZTogdW5kZWZpbmVkIH07XG4gIH07XG4gIGNvbnN0IGNsaWVudFN0YWNrID0gY2xpZW50Lm1pZGRsZXdhcmVTdGFjay5jbG9uZSgpO1xuXG4gIC8vIEB0cy1pZ25vcmU6IGFkZCBtaWRkbGV3YXJlIHRvIHRoZSBsYXN0IG9mICdidWlsZCcgc3RlcFxuICBjbGllbnRTdGFjay5hZGQoaW50ZXJjZXB0TWlkZGxld2FyZSwge1xuICAgIHN0ZXA6IFwiYnVpbGRcIixcbiAgICBwcmlvcml0eTogXCJsb3dcIixcbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlciA9IGNvbW1hbmQucmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNsaWVudC5jb25maWcsIHVuZGVmaW5lZCk7XG5cbiAgLy8gQHRzLWlnbm9yZVxuICByZXR1cm4gYXdhaXQgaGFuZGxlcihjb21tYW5kKS50aGVuKChvdXRwdXQpID0+IG91dHB1dC5vdXRwdXQucmVxdWVzdCk7XG59XG4iXX0=","var SHORT_TO_HEX = {};\nvar HEX_TO_SHORT = {};\nfor (var i = 0; i < 256; i++) {\n    var encodedByte = i.toString(16).toLowerCase();\n    if (encodedByte.length === 1) {\n        encodedByte = \"0\" + encodedByte;\n    }\n    SHORT_TO_HEX[i] = encodedByte;\n    HEX_TO_SHORT[encodedByte] = i;\n}\n/**\n * Converts a hexadecimal encoded string to a Uint8Array of bytes.\n *\n * @param encoded The hexadecimal encoded string\n */\nexport function fromHex(encoded) {\n    if (encoded.length % 2 !== 0) {\n        throw new Error(\"Hex encoded strings must have an even number length\");\n    }\n    var out = new Uint8Array(encoded.length / 2);\n    for (var i = 0; i < encoded.length; i += 2) {\n        var encodedByte = encoded.substr(i, 2).toLowerCase();\n        if (encodedByte in HEX_TO_SHORT) {\n            out[i / 2] = HEX_TO_SHORT[encodedByte];\n        }\n        else {\n            throw new Error(\"Cannot decode unrecognized sequence \" + encodedByte + \" as hexadecimal\");\n        }\n    }\n    return out;\n}\n/**\n * Converts a Uint8Array of binary data to a hexadecimal encoded string.\n *\n * @param bytes The binary data to encode\n */\nexport function toHex(bytes) {\n    var out = \"\";\n    for (var i = 0; i < bytes.byteLength; i++) {\n        out += SHORT_TO_HEX[bytes[i]];\n    }\n    return out;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxZQUFZLEdBQThCLEVBQUUsQ0FBQztBQUNuRCxJQUFNLFlBQVksR0FBOEIsRUFBRSxDQUFDO0FBRW5ELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDNUIsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMvQyxJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQzVCLFdBQVcsR0FBRyxNQUFJLFdBQWEsQ0FBQztLQUNqQztJQUVELFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUM7SUFDOUIsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUMvQjtBQUVEOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsT0FBTyxDQUFDLE9BQWU7SUFDckMsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDNUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxREFBcUQsQ0FBQyxDQUFDO0tBQ3hFO0lBRUQsSUFBTSxHQUFHLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMvQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFDLElBQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3ZELElBQUksV0FBVyxJQUFJLFlBQVksRUFBRTtZQUMvQixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0wsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBdUMsV0FBVyxvQkFBaUIsQ0FBQyxDQUFDO1NBQ3RGO0tBQ0Y7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTSxVQUFVLEtBQUssQ0FBQyxLQUFpQjtJQUNyQyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDYixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN6QyxHQUFHLElBQUksWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQy9CO0lBRUQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU0hPUlRfVE9fSEVYOiB7IFtrZXk6IG51bWJlcl06IHN0cmluZyB9ID0ge307XG5jb25zdCBIRVhfVE9fU0hPUlQ6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICBsZXQgZW5jb2RlZEJ5dGUgPSBpLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoZW5jb2RlZEJ5dGUubGVuZ3RoID09PSAxKSB7XG4gICAgZW5jb2RlZEJ5dGUgPSBgMCR7ZW5jb2RlZEJ5dGV9YDtcbiAgfVxuXG4gIFNIT1JUX1RPX0hFWFtpXSA9IGVuY29kZWRCeXRlO1xuICBIRVhfVE9fU0hPUlRbZW5jb2RlZEJ5dGVdID0gaTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGVuY29kZWQgc3RyaW5nIHRvIGEgVWludDhBcnJheSBvZiBieXRlcy5cbiAqXG4gKiBAcGFyYW0gZW5jb2RlZCBUaGUgaGV4YWRlY2ltYWwgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21IZXgoZW5jb2RlZDogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIGlmIChlbmNvZGVkLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJIZXggZW5jb2RlZCBzdHJpbmdzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBsZW5ndGhcIik7XG4gIH1cblxuICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShlbmNvZGVkLmxlbmd0aCAvIDIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBjb25zdCBlbmNvZGVkQnl0ZSA9IGVuY29kZWQuc3Vic3RyKGksIDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGVuY29kZWRCeXRlIGluIEhFWF9UT19TSE9SVCkge1xuICAgICAgb3V0W2kgLyAyXSA9IEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRlY29kZSB1bnJlY29nbml6ZWQgc2VxdWVuY2UgJHtlbmNvZGVkQnl0ZX0gYXMgaGV4YWRlY2ltYWxgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgVWludDhBcnJheSBvZiBiaW5hcnkgZGF0YSB0byBhIGhleGFkZWNpbWFsIGVuY29kZWQgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSBieXRlcyBUaGUgYmluYXJ5IGRhdGEgdG8gZW5jb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0hleChieXRlczogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBvdXQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmJ5dGVMZW5ndGg7IGkrKykge1xuICAgIG91dCArPSBTSE9SVF9UT19IRVhbYnl0ZXNbaV1dO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbiJdfQ==","export var ALGORITHM_QUERY_PARAM = \"X-Amz-Algorithm\";\nexport var CREDENTIAL_QUERY_PARAM = \"X-Amz-Credential\";\nexport var AMZ_DATE_QUERY_PARAM = \"X-Amz-Date\";\nexport var SIGNED_HEADERS_QUERY_PARAM = \"X-Amz-SignedHeaders\";\nexport var EXPIRES_QUERY_PARAM = \"X-Amz-Expires\";\nexport var SIGNATURE_QUERY_PARAM = \"X-Amz-Signature\";\nexport var TOKEN_QUERY_PARAM = \"X-Amz-Security-Token\";\nexport var AUTH_HEADER = \"authorization\";\nexport var AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nexport var DATE_HEADER = \"date\";\nexport var GENERATED_HEADERS = [AUTH_HEADER, AMZ_DATE_HEADER, DATE_HEADER];\nexport var SIGNATURE_HEADER = SIGNATURE_QUERY_PARAM.toLowerCase();\nexport var SHA256_HEADER = \"x-amz-content-sha256\";\nexport var TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\nexport var HOST_HEADER = \"host\";\nexport var ALWAYS_UNSIGNABLE_HEADERS = {\n    authorization: true,\n    \"cache-control\": true,\n    connection: true,\n    expect: true,\n    from: true,\n    \"keep-alive\": true,\n    \"max-forwards\": true,\n    pragma: true,\n    referer: true,\n    te: true,\n    trailer: true,\n    \"transfer-encoding\": true,\n    upgrade: true,\n    \"user-agent\": true,\n    \"x-amzn-trace-id\": true,\n};\nexport var PROXY_HEADER_PATTERN = /^proxy-/;\nexport var SEC_HEADER_PATTERN = /^sec-/;\nexport var UNSIGNABLE_PATTERNS = [/^proxy-/i, /^sec-/i];\nexport var ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256\";\nexport var EVENT_ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256-PAYLOAD\";\nexport var UNSIGNED_PAYLOAD = \"UNSIGNED-PAYLOAD\";\nexport var MAX_CACHE_SIZE = 50;\nexport var KEY_TYPE_IDENTIFIER = \"aws4_request\";\nexport var MAX_PRESIGNED_TTL = 60 * 60 * 24 * 7;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxxQkFBcUIsR0FBRyxpQkFBaUIsQ0FBQztBQUN2RCxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRyxrQkFBa0IsQ0FBQztBQUN6RCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxZQUFZLENBQUM7QUFDakQsTUFBTSxDQUFDLElBQU0sMEJBQTBCLEdBQUcscUJBQXFCLENBQUM7QUFDaEUsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsZUFBZSxDQUFDO0FBQ25ELE1BQU0sQ0FBQyxJQUFNLHFCQUFxQixHQUFHLGlCQUFpQixDQUFDO0FBQ3ZELE1BQU0sQ0FBQyxJQUFNLGlCQUFpQixHQUFHLHNCQUFzQixDQUFDO0FBRXhELE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRyxlQUFlLENBQUM7QUFDM0MsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ2xFLE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRyxNQUFNLENBQUM7QUFDbEMsTUFBTSxDQUFDLElBQU0saUJBQWlCLEdBQUcsQ0FBQyxXQUFXLEVBQUUsZUFBZSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzdFLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3BFLE1BQU0sQ0FBQyxJQUFNLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQztBQUNwRCxNQUFNLENBQUMsSUFBTSxZQUFZLEdBQUcsaUJBQWlCLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDNUQsTUFBTSxDQUFDLElBQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQztBQUVsQyxNQUFNLENBQUMsSUFBTSx5QkFBeUIsR0FBRztJQUN2QyxhQUFhLEVBQUUsSUFBSTtJQUNuQixlQUFlLEVBQUUsSUFBSTtJQUNyQixVQUFVLEVBQUUsSUFBSTtJQUNoQixNQUFNLEVBQUUsSUFBSTtJQUNaLElBQUksRUFBRSxJQUFJO0lBQ1YsWUFBWSxFQUFFLElBQUk7SUFDbEIsY0FBYyxFQUFFLElBQUk7SUFDcEIsTUFBTSxFQUFFLElBQUk7SUFDWixPQUFPLEVBQUUsSUFBSTtJQUNiLEVBQUUsRUFBRSxJQUFJO0lBQ1IsT0FBTyxFQUFFLElBQUk7SUFDYixtQkFBbUIsRUFBRSxJQUFJO0lBQ3pCLE9BQU8sRUFBRSxJQUFJO0lBQ2IsWUFBWSxFQUFFLElBQUk7SUFDbEIsaUJBQWlCLEVBQUUsSUFBSTtDQUN4QixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sb0JBQW9CLEdBQUcsU0FBUyxDQUFDO0FBRTlDLE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLE9BQU8sQ0FBQztBQUUxQyxNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRyxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUUxRCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxrQkFBa0IsQ0FBQztBQUV2RCxNQUFNLENBQUMsSUFBTSwwQkFBMEIsR0FBRywwQkFBMEIsQ0FBQztBQUVyRSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyxrQkFBa0IsQ0FBQztBQUVuRCxNQUFNLENBQUMsSUFBTSxjQUFjLEdBQUcsRUFBRSxDQUFDO0FBQ2pDLE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLGNBQWMsQ0FBQztBQUVsRCxNQUFNLENBQUMsSUFBTSxpQkFBaUIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQUxHT1JJVEhNX1FVRVJZX1BBUkFNID0gXCJYLUFtei1BbGdvcml0aG1cIjtcbmV4cG9ydCBjb25zdCBDUkVERU5USUFMX1FVRVJZX1BBUkFNID0gXCJYLUFtei1DcmVkZW50aWFsXCI7XG5leHBvcnQgY29uc3QgQU1aX0RBVEVfUVVFUllfUEFSQU0gPSBcIlgtQW16LURhdGVcIjtcbmV4cG9ydCBjb25zdCBTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTSA9IFwiWC1BbXotU2lnbmVkSGVhZGVyc1wiO1xuZXhwb3J0IGNvbnN0IEVYUElSRVNfUVVFUllfUEFSQU0gPSBcIlgtQW16LUV4cGlyZXNcIjtcbmV4cG9ydCBjb25zdCBTSUdOQVRVUkVfUVVFUllfUEFSQU0gPSBcIlgtQW16LVNpZ25hdHVyZVwiO1xuZXhwb3J0IGNvbnN0IFRPS0VOX1FVRVJZX1BBUkFNID0gXCJYLUFtei1TZWN1cml0eS1Ub2tlblwiO1xuXG5leHBvcnQgY29uc3QgQVVUSF9IRUFERVIgPSBcImF1dGhvcml6YXRpb25cIjtcbmV4cG9ydCBjb25zdCBBTVpfREFURV9IRUFERVIgPSBBTVpfREFURV9RVUVSWV9QQVJBTS50b0xvd2VyQ2FzZSgpO1xuZXhwb3J0IGNvbnN0IERBVEVfSEVBREVSID0gXCJkYXRlXCI7XG5leHBvcnQgY29uc3QgR0VORVJBVEVEX0hFQURFUlMgPSBbQVVUSF9IRUFERVIsIEFNWl9EQVRFX0hFQURFUiwgREFURV9IRUFERVJdO1xuZXhwb3J0IGNvbnN0IFNJR05BVFVSRV9IRUFERVIgPSBTSUdOQVRVUkVfUVVFUllfUEFSQU0udG9Mb3dlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBTSEEyNTZfSEVBREVSID0gXCJ4LWFtei1jb250ZW50LXNoYTI1NlwiO1xuZXhwb3J0IGNvbnN0IFRPS0VOX0hFQURFUiA9IFRPS0VOX1FVRVJZX1BBUkFNLnRvTG93ZXJDYXNlKCk7XG5leHBvcnQgY29uc3QgSE9TVF9IRUFERVIgPSBcImhvc3RcIjtcblxuZXhwb3J0IGNvbnN0IEFMV0FZU19VTlNJR05BQkxFX0hFQURFUlMgPSB7XG4gIGF1dGhvcml6YXRpb246IHRydWUsXG4gIFwiY2FjaGUtY29udHJvbFwiOiB0cnVlLFxuICBjb25uZWN0aW9uOiB0cnVlLFxuICBleHBlY3Q6IHRydWUsXG4gIGZyb206IHRydWUsXG4gIFwia2VlcC1hbGl2ZVwiOiB0cnVlLFxuICBcIm1heC1mb3J3YXJkc1wiOiB0cnVlLFxuICBwcmFnbWE6IHRydWUsXG4gIHJlZmVyZXI6IHRydWUsXG4gIHRlOiB0cnVlLFxuICB0cmFpbGVyOiB0cnVlLFxuICBcInRyYW5zZmVyLWVuY29kaW5nXCI6IHRydWUsXG4gIHVwZ3JhZGU6IHRydWUsXG4gIFwidXNlci1hZ2VudFwiOiB0cnVlLFxuICBcIngtYW16bi10cmFjZS1pZFwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IFBST1hZX0hFQURFUl9QQVRURVJOID0gL15wcm94eS0vO1xuXG5leHBvcnQgY29uc3QgU0VDX0hFQURFUl9QQVRURVJOID0gL15zZWMtLztcblxuZXhwb3J0IGNvbnN0IFVOU0lHTkFCTEVfUEFUVEVSTlMgPSBbL15wcm94eS0vaSwgL15zZWMtL2ldO1xuXG5leHBvcnQgY29uc3QgQUxHT1JJVEhNX0lERU5USUZJRVIgPSBcIkFXUzQtSE1BQy1TSEEyNTZcIjtcblxuZXhwb3J0IGNvbnN0IEVWRU5UX0FMR09SSVRITV9JREVOVElGSUVSID0gXCJBV1M0LUhNQUMtU0hBMjU2LVBBWUxPQURcIjtcblxuZXhwb3J0IGNvbnN0IFVOU0lHTkVEX1BBWUxPQUQgPSBcIlVOU0lHTkVELVBBWUxPQURcIjtcblxuZXhwb3J0IGNvbnN0IE1BWF9DQUNIRV9TSVpFID0gNTA7XG5leHBvcnQgY29uc3QgS0VZX1RZUEVfSURFTlRJRklFUiA9IFwiYXdzNF9yZXF1ZXN0XCI7XG5cbmV4cG9ydCBjb25zdCBNQVhfUFJFU0lHTkVEX1RUTCA9IDYwICogNjAgKiAyNCAqIDc7XG4iXX0=","import { __awaiter, __generator, __values } from \"tslib\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { KEY_TYPE_IDENTIFIER, MAX_CACHE_SIZE } from \"./constants\";\nvar signingKeyCache = {};\nvar cacheQueue = [];\n/**\n * Create a string describing the scope of credentials used to sign a request.\n *\n * @param shortDate The current calendar date in the form YYYYMMDD.\n * @param region    The AWS region in which the service resides.\n * @param service   The service to which the signed request is being sent.\n */\nexport function createScope(shortDate, region, service) {\n    return shortDate + \"/\" + region + \"/\" + service + \"/\" + KEY_TYPE_IDENTIFIER;\n}\n/**\n * Derive a signing key from its composite parts\n *\n * @param sha256Constructor A constructor function that can instantiate SHA-256\n *                          hash objects.\n * @param credentials       The credentials with which the request will be\n *                          signed.\n * @param shortDate         The current calendar date in the form YYYYMMDD.\n * @param region            The AWS region in which the service resides.\n * @param service           The service to which the signed request is being\n *                          sent.\n */\nexport var getSigningKey = function (sha256Constructor, credentials, shortDate, region, service) { return __awaiter(void 0, void 0, void 0, function () {\n    var credsHash, cacheKey, key, _a, _b, signable, e_1_1;\n    var e_1, _c;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0: return [4 /*yield*/, hmac(sha256Constructor, credentials.secretAccessKey, credentials.accessKeyId)];\n            case 1:\n                credsHash = _d.sent();\n                cacheKey = shortDate + \":\" + region + \":\" + service + \":\" + toHex(credsHash) + \":\" + credentials.sessionToken;\n                if (cacheKey in signingKeyCache) {\n                    return [2 /*return*/, signingKeyCache[cacheKey]];\n                }\n                cacheQueue.push(cacheKey);\n                while (cacheQueue.length > MAX_CACHE_SIZE) {\n                    delete signingKeyCache[cacheQueue.shift()];\n                }\n                key = \"AWS4\" + credentials.secretAccessKey;\n                _d.label = 2;\n            case 2:\n                _d.trys.push([2, 7, 8, 9]);\n                _a = __values([shortDate, region, service, KEY_TYPE_IDENTIFIER]), _b = _a.next();\n                _d.label = 3;\n            case 3:\n                if (!!_b.done) return [3 /*break*/, 6];\n                signable = _b.value;\n                return [4 /*yield*/, hmac(sha256Constructor, key, signable)];\n            case 4:\n                key = _d.sent();\n                _d.label = 5;\n            case 5:\n                _b = _a.next();\n                return [3 /*break*/, 3];\n            case 6: return [3 /*break*/, 9];\n            case 7:\n                e_1_1 = _d.sent();\n                e_1 = { error: e_1_1 };\n                return [3 /*break*/, 9];\n            case 8:\n                try {\n                    if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                }\n                finally { if (e_1) throw e_1.error; }\n                return [7 /*endfinally*/];\n            case 9: return [2 /*return*/, (signingKeyCache[cacheKey] = key)];\n        }\n    });\n}); };\n/**\n * @internal\n */\nexport function clearCredentialCache() {\n    cacheQueue.length = 0;\n    Object.keys(signingKeyCache).forEach(function (cacheKey) {\n        delete signingKeyCache[cacheKey];\n    });\n}\nfunction hmac(ctor, secret, data) {\n    var hash = new ctor(secret);\n    hash.update(data);\n    return hash.digest();\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlZGVudGlhbERlcml2YXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY3JlZGVudGlhbERlcml2YXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUVuRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsY0FBYyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRWxFLElBQU0sZUFBZSxHQUFrQyxFQUFFLENBQUM7QUFDMUQsSUFBTSxVQUFVLEdBQWtCLEVBQUUsQ0FBQztBQUVyQzs7Ozs7O0dBTUc7QUFDSCxNQUFNLFVBQVUsV0FBVyxDQUFDLFNBQWlCLEVBQUUsTUFBYyxFQUFFLE9BQWU7SUFDNUUsT0FBVSxTQUFTLFNBQUksTUFBTSxTQUFJLE9BQU8sU0FBSSxtQkFBcUIsQ0FBQztBQUNwRSxDQUFDO0FBRUQ7Ozs7Ozs7Ozs7O0dBV0c7QUFDSCxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQUcsVUFDM0IsaUJBQWtDLEVBQ2xDLFdBQXdCLEVBQ3hCLFNBQWlCLEVBQ2pCLE1BQWMsRUFDZCxPQUFlOzs7OztvQkFFRyxxQkFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsV0FBVyxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsV0FBVyxDQUFDLEVBQUE7O2dCQUEvRixTQUFTLEdBQUcsU0FBbUY7Z0JBQy9GLFFBQVEsR0FBTSxTQUFTLFNBQUksTUFBTSxTQUFJLE9BQU8sU0FBSSxLQUFLLENBQUMsU0FBUyxDQUFDLFNBQUksV0FBVyxDQUFDLFlBQWMsQ0FBQztnQkFDckcsSUFBSSxRQUFRLElBQUksZUFBZSxFQUFFO29CQUMvQixzQkFBTyxlQUFlLENBQUMsUUFBUSxDQUFDLEVBQUM7aUJBQ2xDO2dCQUVELFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzFCLE9BQU8sVUFBVSxDQUFDLE1BQU0sR0FBRyxjQUFjLEVBQUU7b0JBQ3pDLE9BQU8sZUFBZSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQVksQ0FBQyxDQUFDO2lCQUN0RDtnQkFFRyxHQUFHLEdBQWUsU0FBTyxXQUFXLENBQUMsZUFBaUIsQ0FBQzs7OztnQkFDcEMsS0FBQSxTQUFBLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsbUJBQW1CLENBQUMsQ0FBQTs7OztnQkFBN0QsUUFBUTtnQkFDWCxxQkFBTSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxFQUFBOztnQkFBbEQsR0FBRyxHQUFHLFNBQTRDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBRXJELHNCQUFPLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEdBQWlCLENBQUMsRUFBQzs7O0tBQ3hELENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sVUFBVSxvQkFBb0I7SUFDbEMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDdEIsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxRQUFRO1FBQzVDLE9BQU8sZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ25DLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsSUFBSSxDQUFDLElBQXFCLEVBQUUsTUFBa0IsRUFBRSxJQUFnQjtJQUN2RSxJQUFNLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3ZCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDcmVkZW50aWFscywgSGFzaENvbnN0cnVjdG9yLCBTb3VyY2VEYXRhIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5pbXBvcnQgeyBLRVlfVFlQRV9JREVOVElGSUVSLCBNQVhfQ0FDSEVfU0laRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5jb25zdCBzaWduaW5nS2V5Q2FjaGU6IHsgW2tleTogc3RyaW5nXTogVWludDhBcnJheSB9ID0ge307XG5jb25zdCBjYWNoZVF1ZXVlOiBBcnJheTxzdHJpbmc+ID0gW107XG5cbi8qKlxuICogQ3JlYXRlIGEgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIHNjb3BlIG9mIGNyZWRlbnRpYWxzIHVzZWQgdG8gc2lnbiBhIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIHNob3J0RGF0ZSBUaGUgY3VycmVudCBjYWxlbmRhciBkYXRlIGluIHRoZSBmb3JtIFlZWVlNTURELlxuICogQHBhcmFtIHJlZ2lvbiAgICBUaGUgQVdTIHJlZ2lvbiBpbiB3aGljaCB0aGUgc2VydmljZSByZXNpZGVzLlxuICogQHBhcmFtIHNlcnZpY2UgICBUaGUgc2VydmljZSB0byB3aGljaCB0aGUgc2lnbmVkIHJlcXVlc3QgaXMgYmVpbmcgc2VudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNjb3BlKHNob3J0RGF0ZTogc3RyaW5nLCByZWdpb246IHN0cmluZywgc2VydmljZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke3Nob3J0RGF0ZX0vJHtyZWdpb259LyR7c2VydmljZX0vJHtLRVlfVFlQRV9JREVOVElGSUVSfWA7XG59XG5cbi8qKlxuICogRGVyaXZlIGEgc2lnbmluZyBrZXkgZnJvbSBpdHMgY29tcG9zaXRlIHBhcnRzXG4gKlxuICogQHBhcmFtIHNoYTI1NkNvbnN0cnVjdG9yIEEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBjYW4gaW5zdGFudGlhdGUgU0hBLTI1NlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2ggb2JqZWN0cy5cbiAqIEBwYXJhbSBjcmVkZW50aWFscyAgICAgICBUaGUgY3JlZGVudGlhbHMgd2l0aCB3aGljaCB0aGUgcmVxdWVzdCB3aWxsIGJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmVkLlxuICogQHBhcmFtIHNob3J0RGF0ZSAgICAgICAgIFRoZSBjdXJyZW50IGNhbGVuZGFyIGRhdGUgaW4gdGhlIGZvcm0gWVlZWU1NREQuXG4gKiBAcGFyYW0gcmVnaW9uICAgICAgICAgICAgVGhlIEFXUyByZWdpb24gaW4gd2hpY2ggdGhlIHNlcnZpY2UgcmVzaWRlcy5cbiAqIEBwYXJhbSBzZXJ2aWNlICAgICAgICAgICBUaGUgc2VydmljZSB0byB3aGljaCB0aGUgc2lnbmVkIHJlcXVlc3QgaXMgYmVpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBzZW50LlxuICovXG5leHBvcnQgY29uc3QgZ2V0U2lnbmluZ0tleSA9IGFzeW5jIChcbiAgc2hhMjU2Q29uc3RydWN0b3I6IEhhc2hDb25zdHJ1Y3RvcixcbiAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzLFxuICBzaG9ydERhdGU6IHN0cmluZyxcbiAgcmVnaW9uOiBzdHJpbmcsXG4gIHNlcnZpY2U6IHN0cmluZ1xuKTogUHJvbWlzZTxVaW50OEFycmF5PiA9PiB7XG4gIGNvbnN0IGNyZWRzSGFzaCA9IGF3YWl0IGhtYWMoc2hhMjU2Q29uc3RydWN0b3IsIGNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleSwgY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQpO1xuICBjb25zdCBjYWNoZUtleSA9IGAke3Nob3J0RGF0ZX06JHtyZWdpb259OiR7c2VydmljZX06JHt0b0hleChjcmVkc0hhc2gpfToke2NyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbn1gO1xuICBpZiAoY2FjaGVLZXkgaW4gc2lnbmluZ0tleUNhY2hlKSB7XG4gICAgcmV0dXJuIHNpZ25pbmdLZXlDYWNoZVtjYWNoZUtleV07XG4gIH1cblxuICBjYWNoZVF1ZXVlLnB1c2goY2FjaGVLZXkpO1xuICB3aGlsZSAoY2FjaGVRdWV1ZS5sZW5ndGggPiBNQVhfQ0FDSEVfU0laRSkge1xuICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVRdWV1ZS5zaGlmdCgpIGFzIHN0cmluZ107XG4gIH1cblxuICBsZXQga2V5OiBTb3VyY2VEYXRhID0gYEFXUzQke2NyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleX1gO1xuICBmb3IgKGNvbnN0IHNpZ25hYmxlIG9mIFtzaG9ydERhdGUsIHJlZ2lvbiwgc2VydmljZSwgS0VZX1RZUEVfSURFTlRJRklFUl0pIHtcbiAgICBrZXkgPSBhd2FpdCBobWFjKHNoYTI1NkNvbnN0cnVjdG9yLCBrZXksIHNpZ25hYmxlKTtcbiAgfVxuICByZXR1cm4gKHNpZ25pbmdLZXlDYWNoZVtjYWNoZUtleV0gPSBrZXkgYXMgVWludDhBcnJheSk7XG59O1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDcmVkZW50aWFsQ2FjaGUoKTogdm9pZCB7XG4gIGNhY2hlUXVldWUubGVuZ3RoID0gMDtcbiAgT2JqZWN0LmtleXMoc2lnbmluZ0tleUNhY2hlKS5mb3JFYWNoKChjYWNoZUtleSkgPT4ge1xuICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVLZXldO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaG1hYyhjdG9yOiBIYXNoQ29uc3RydWN0b3IsIHNlY3JldDogU291cmNlRGF0YSwgZGF0YTogU291cmNlRGF0YSk6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBoYXNoID0gbmV3IGN0b3Ioc2VjcmV0KTtcbiAgaGFzaC51cGRhdGUoZGF0YSk7XG4gIHJldHVybiBoYXNoLmRpZ2VzdCgpO1xufVxuIl19","import { __values } from \"tslib\";\nimport { ALWAYS_UNSIGNABLE_HEADERS, PROXY_HEADER_PATTERN, SEC_HEADER_PATTERN } from \"./constants\";\n/**\n * @internal\n */\nexport function getCanonicalHeaders(_a, unsignableHeaders, signableHeaders) {\n    var e_1, _b;\n    var headers = _a.headers;\n    var canonical = {};\n    try {\n        for (var _c = __values(Object.keys(headers).sort()), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var headerName = _d.value;\n            var canonicalHeaderName = headerName.toLowerCase();\n            if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS || (unsignableHeaders === null || unsignableHeaders === void 0 ? void 0 : unsignableHeaders.has(canonicalHeaderName)) ||\n                PROXY_HEADER_PATTERN.test(canonicalHeaderName) ||\n                SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n                if (!signableHeaders || (signableHeaders && !signableHeaders.has(canonicalHeaderName))) {\n                    continue;\n                }\n            }\n            canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\\s+/g, \" \");\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return canonical;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2Fub25pY2FsSGVhZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9nZXRDYW5vbmljYWxIZWFkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxPQUFPLEVBQUUseUJBQXlCLEVBQUUsb0JBQW9CLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFbEc7O0dBRUc7QUFDSCxNQUFNLFVBQVUsbUJBQW1CLENBQ2pDLEVBQXdCLEVBQ3hCLGlCQUErQixFQUMvQixlQUE2Qjs7UUFGM0IsT0FBTyxhQUFBO0lBSVQsSUFBTSxTQUFTLEdBQWMsRUFBRSxDQUFDOztRQUNoQyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBLGdCQUFBLDRCQUFFO1lBQWpELElBQU0sVUFBVSxXQUFBO1lBQ25CLElBQU0sbUJBQW1CLEdBQUcsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3JELElBQ0UsbUJBQW1CLElBQUkseUJBQXlCLEtBQ2hELGlCQUFpQixhQUFqQixpQkFBaUIsdUJBQWpCLGlCQUFpQixDQUFFLEdBQUcsQ0FBQyxtQkFBbUIsRUFBQztnQkFDM0Msb0JBQW9CLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDO2dCQUM5QyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsRUFDNUM7Z0JBQ0EsSUFBSSxDQUFDLGVBQWUsSUFBSSxDQUFDLGVBQWUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxFQUFFO29CQUN0RixTQUFTO2lCQUNWO2FBQ0Y7WUFFRCxTQUFTLENBQUMsbUJBQW1CLENBQUMsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztTQUNsRjs7Ozs7Ozs7O0lBRUQsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhlYWRlckJhZywgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgQUxXQVlTX1VOU0lHTkFCTEVfSEVBREVSUywgUFJPWFlfSEVBREVSX1BBVFRFUk4sIFNFQ19IRUFERVJfUEFUVEVSTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2Fub25pY2FsSGVhZGVycyhcbiAgeyBoZWFkZXJzIH06IEh0dHBSZXF1ZXN0LFxuICB1bnNpZ25hYmxlSGVhZGVycz86IFNldDxzdHJpbmc+LFxuICBzaWduYWJsZUhlYWRlcnM/OiBTZXQ8c3RyaW5nPlxuKTogSGVhZGVyQmFnIHtcbiAgY29uc3QgY2Fub25pY2FsOiBIZWFkZXJCYWcgPSB7fTtcbiAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpLnNvcnQoKSkge1xuICAgIGNvbnN0IGNhbm9uaWNhbEhlYWRlck5hbWUgPSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKFxuICAgICAgY2Fub25pY2FsSGVhZGVyTmFtZSBpbiBBTFdBWVNfVU5TSUdOQUJMRV9IRUFERVJTIHx8XG4gICAgICB1bnNpZ25hYmxlSGVhZGVycz8uaGFzKGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICBQUk9YWV9IRUFERVJfUEFUVEVSTi50ZXN0KGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICBTRUNfSEVBREVSX1BBVFRFUk4udGVzdChjYW5vbmljYWxIZWFkZXJOYW1lKVxuICAgICkge1xuICAgICAgaWYgKCFzaWduYWJsZUhlYWRlcnMgfHwgKHNpZ25hYmxlSGVhZGVycyAmJiAhc2lnbmFibGVIZWFkZXJzLmhhcyhjYW5vbmljYWxIZWFkZXJOYW1lKSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2Fub25pY2FsW2Nhbm9uaWNhbEhlYWRlck5hbWVdID0gaGVhZGVyc1toZWFkZXJOYW1lXS50cmltKCkucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7XG4gIH1cblxuICByZXR1cm4gY2Fub25pY2FsO1xufVxuIl19","export var escapeUri = function (uri) {\n    // AWS percent-encodes some extra non-standard characters in a URI\n    return encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\n};\nvar hexEncode = function (c) { return \"%\" + c.charCodeAt(0).toString(16).toUpperCase(); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLXVyaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lc2NhcGUtdXJpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxJQUFNLFNBQVMsR0FBRyxVQUFDLEdBQVc7SUFDbkMsa0VBQWtFO0lBQ2xFLE9BQUEsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUM7QUFBdEQsQ0FBc0QsQ0FBQztBQUV6RCxJQUFNLFNBQVMsR0FBRyxVQUFDLENBQVMsSUFBSyxPQUFBLE1BQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFJLEVBQWhELENBQWdELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZXNjYXBlVXJpID0gKHVyaTogc3RyaW5nKTogc3RyaW5nID0+XG4gIC8vIEFXUyBwZXJjZW50LWVuY29kZXMgc29tZSBleHRyYSBub24tc3RhbmRhcmQgY2hhcmFjdGVycyBpbiBhIFVSSVxuICBlbmNvZGVVUklDb21wb25lbnQodXJpKS5yZXBsYWNlKC9bIScoKSpdL2csIGhleEVuY29kZSk7XG5cbmNvbnN0IGhleEVuY29kZSA9IChjOiBzdHJpbmcpID0+IGAlJHtjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YDtcbiJdfQ==","import { __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\n/**\n * @internal\n */\nexport function getPayloadHash(_a, hashConstructor) {\n    var headers = _a.headers, body = _a.body;\n    return __awaiter(this, void 0, void 0, function () {\n        var _b, _c, headerName, hashCtor, _d;\n        var e_1, _e;\n        return __generator(this, function (_f) {\n            switch (_f.label) {\n                case 0:\n                    try {\n                        for (_b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                            headerName = _c.value;\n                            if (headerName.toLowerCase() === SHA256_HEADER) {\n                                return [2 /*return*/, headers[headerName]];\n                            }\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_c && !_c.done && (_e = _b.return)) _e.call(_b);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                    if (!(body == undefined)) return [3 /*break*/, 1];\n                    return [2 /*return*/, \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"];\n                case 1:\n                    if (!(typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body))) return [3 /*break*/, 3];\n                    hashCtor = new hashConstructor();\n                    hashCtor.update(body);\n                    _d = toHex;\n                    return [4 /*yield*/, hashCtor.digest()];\n                case 2: return [2 /*return*/, _d.apply(void 0, [_f.sent()])];\n                case 3: \n                // As any defined body that is not a string or binary data is a stream, this\n                // body is unsignable. Attempt to send the request with an unsigned payload,\n                // which may or may not be accepted by the service.\n                return [2 /*return*/, UNSIGNED_PAYLOAD];\n            }\n        });\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0UGF5bG9hZEhhc2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZ2V0UGF5bG9hZEhhc2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUV6RCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFbkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUU5RDs7R0FFRztBQUNILE1BQU0sVUFBZ0IsY0FBYyxDQUNsQyxFQUE4QixFQUM5QixlQUFnQztRQUQ5QixPQUFPLGFBQUEsRUFBRSxJQUFJLFVBQUE7Ozs7Ozs7O3dCQUdmLEtBQXlCLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLDRDQUFFOzRCQUFwQyxVQUFVOzRCQUNuQixJQUFJLFVBQVUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxhQUFhLEVBQUU7Z0NBQzlDLHNCQUFPLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBQzs2QkFDNUI7eUJBQ0Y7Ozs7Ozs7Ozt5QkFFRyxDQUFBLElBQUksSUFBSSxTQUFTLENBQUEsRUFBakIsd0JBQWlCO29CQUNuQixzQkFBTyxrRUFBa0UsRUFBQzs7eUJBQ2pFLENBQUEsT0FBTyxJQUFJLEtBQUssUUFBUSxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFBLEVBQTNFLHdCQUEyRTtvQkFDOUUsUUFBUSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7b0JBQ3ZDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ2YsS0FBQSxLQUFLLENBQUE7b0JBQUMscUJBQU0sUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFBO3dCQUFwQyxzQkFBTyxrQkFBTSxTQUF1QixFQUFDLEVBQUM7O2dCQUd4Qyw0RUFBNEU7Z0JBQzVFLDRFQUE0RTtnQkFDNUUsbURBQW1EO2dCQUNuRCxzQkFBTyxnQkFBZ0IsRUFBQzs7OztDQUN6QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXlCdWZmZXIgfSBmcm9tIFwiQGF3cy1zZGsvaXMtYXJyYXktYnVmZmVyXCI7XG5pbXBvcnQgeyBIYXNoQ29uc3RydWN0b3IsIEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5pbXBvcnQgeyBTSEEyNTZfSEVBREVSLCBVTlNJR05FRF9QQVlMT0FEIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYXlsb2FkSGFzaChcbiAgeyBoZWFkZXJzLCBib2R5IH06IEh0dHBSZXF1ZXN0LFxuICBoYXNoQ29uc3RydWN0b3I6IEhhc2hDb25zdHJ1Y3RvclxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgaWYgKGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSA9PT0gU0hBMjU2X0hFQURFUikge1xuICAgICAgcmV0dXJuIGhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgfVxuICB9XG5cbiAgaWYgKGJvZHkgPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIFwiZTNiMGM0NDI5OGZjMWMxNDlhZmJmNGM4OTk2ZmI5MjQyN2FlNDFlNDY0OWI5MzRjYTQ5NTk5MWI3ODUyYjg1NVwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiIHx8IEFycmF5QnVmZmVyLmlzVmlldyhib2R5KSB8fCBpc0FycmF5QnVmZmVyKGJvZHkpKSB7XG4gICAgY29uc3QgaGFzaEN0b3IgPSBuZXcgaGFzaENvbnN0cnVjdG9yKCk7XG4gICAgaGFzaEN0b3IudXBkYXRlKGJvZHkpO1xuICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoQ3Rvci5kaWdlc3QoKSk7XG4gIH1cblxuICAvLyBBcyBhbnkgZGVmaW5lZCBib2R5IHRoYXQgaXMgbm90IGEgc3RyaW5nIG9yIGJpbmFyeSBkYXRhIGlzIGEgc3RyZWFtLCB0aGlzXG4gIC8vIGJvZHkgaXMgdW5zaWduYWJsZS4gQXR0ZW1wdCB0byBzZW5kIHRoZSByZXF1ZXN0IHdpdGggYW4gdW5zaWduZWQgcGF5bG9hZCxcbiAgLy8gd2hpY2ggbWF5IG9yIG1heSBub3QgYmUgYWNjZXB0ZWQgYnkgdGhlIHNlcnZpY2UuXG4gIHJldHVybiBVTlNJR05FRF9QQVlMT0FEO1xufVxuIl19","export var isArrayBuffer = function (arg) {\n    return (typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer) ||\n        Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\";\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLElBQU0sYUFBYSxHQUFHLFVBQUMsR0FBUTtJQUNwQyxPQUFBLENBQUMsT0FBTyxXQUFXLEtBQUssVUFBVSxJQUFJLEdBQUcsWUFBWSxXQUFXLENBQUM7UUFDakUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLHNCQUFzQjtBQUQ5RCxDQUM4RCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGlzQXJyYXlCdWZmZXIgPSAoYXJnOiBhbnkpOiBhcmcgaXMgQXJyYXlCdWZmZXIgPT5cbiAgKHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIGFyZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiO1xuIl19","import { __assign, __read, __rest, __spread } from \"tslib\";\n/**\n * @internal\n */\nexport function cloneRequest(_a) {\n    var headers = _a.headers, query = _a.query, rest = __rest(_a, [\"headers\", \"query\"]);\n    return __assign(__assign({}, rest), { headers: __assign({}, headers), query: query ? cloneQuery(query) : undefined });\n}\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce(function (carry, paramName) {\n        var _a;\n        var param = query[paramName];\n        return __assign(__assign({}, carry), (_a = {}, _a[paramName] = Array.isArray(param) ? __spread(param) : param, _a));\n    }, {});\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xvbmVSZXF1ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Nsb25lUmVxdWVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUE7O0dBRUc7QUFDSCxNQUFNLFVBQVUsWUFBWSxDQUFDLEVBQXdDO0lBQXRDLElBQUEsT0FBTyxhQUFBLEVBQUUsS0FBSyxXQUFBLEVBQUssSUFBSSxjQUF6QixvQkFBMkIsQ0FBRjtJQUNwRCw2QkFDSyxJQUFJLEtBQ1AsT0FBTyxlQUFPLE9BQU8sR0FDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLElBQzVDO0FBQ0osQ0FBQztBQUVELFNBQVMsVUFBVSxDQUFDLEtBQXdCO0lBQzFDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQyxLQUF3QixFQUFFLFNBQWlCOztRQUMzRSxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0IsNkJBQ0ssS0FBSyxnQkFDUCxTQUFTLElBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFVBQUssS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLE9BQ3REO0lBQ0osQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0LCBRdWVyeVBhcmFtZXRlckJhZyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVSZXF1ZXN0KHsgaGVhZGVycywgcXVlcnksIC4uLnJlc3QgfTogSHR0cFJlcXVlc3QpOiBIdHRwUmVxdWVzdCB7XG4gIHJldHVybiB7XG4gICAgLi4ucmVzdCxcbiAgICBoZWFkZXJzOiB7IC4uLmhlYWRlcnMgfSxcbiAgICBxdWVyeTogcXVlcnkgPyBjbG9uZVF1ZXJ5KHF1ZXJ5KSA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xvbmVRdWVyeShxdWVyeTogUXVlcnlQYXJhbWV0ZXJCYWcpOiBRdWVyeVBhcmFtZXRlckJhZyB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeSkucmVkdWNlKChjYXJyeTogUXVlcnlQYXJhbWV0ZXJCYWcsIHBhcmFtTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcGFyYW0gPSBxdWVyeVtwYXJhbU5hbWVdO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jYXJyeSxcbiAgICAgIFtwYXJhbU5hbWVdOiBBcnJheS5pc0FycmF5KHBhcmFtKSA/IFsuLi5wYXJhbV0gOiBwYXJhbSxcbiAgICB9O1xuICB9LCB7fSk7XG59XG4iXX0=","import { __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\nimport { GENERATED_HEADERS } from \"./constants\";\n/**\n * @internal\n */\nexport function prepareRequest(request) {\n    var e_1, _a;\n    // Create a clone of the request object that does not clone the body\n    request = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request);\n    try {\n        for (var _b = __values(Object.keys(request.headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var headerName = _c.value;\n            if (GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {\n                delete request.headers[headerName];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return request;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlcGFyZVJlcXVlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcHJlcGFyZVJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFaEQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsY0FBYyxDQUFDLE9BQW9COztJQUNqRCxvRUFBb0U7SUFDcEUsT0FBTyxHQUFHLE9BQVEsT0FBZSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFFLE9BQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDOztRQUUxRyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtZQUFsRCxJQUFNLFVBQVUsV0FBQTtZQUNuQixJQUFJLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtnQkFDNUQsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2FBQ3BDO1NBQ0Y7Ozs7Ozs7OztJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBjbG9uZVJlcXVlc3QgfSBmcm9tIFwiLi9jbG9uZVJlcXVlc3RcIjtcbmltcG9ydCB7IEdFTkVSQVRFRF9IRUFERVJTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlUmVxdWVzdChyZXF1ZXN0OiBIdHRwUmVxdWVzdCk6IEh0dHBSZXF1ZXN0IHtcbiAgLy8gQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIHJlcXVlc3Qgb2JqZWN0IHRoYXQgZG9lcyBub3QgY2xvbmUgdGhlIGJvZHlcbiAgcmVxdWVzdCA9IHR5cGVvZiAocmVxdWVzdCBhcyBhbnkpLmNsb25lID09PSBcImZ1bmN0aW9uXCIgPyAocmVxdWVzdCBhcyBhbnkpLmNsb25lKCkgOiBjbG9uZVJlcXVlc3QocmVxdWVzdCk7XG5cbiAgZm9yIChjb25zdCBoZWFkZXJOYW1lIG9mIE9iamVjdC5rZXlzKHJlcXVlc3QuaGVhZGVycykpIHtcbiAgICBpZiAoR0VORVJBVEVEX0hFQURFUlMuaW5kZXhPZihoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0LmhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcXVlc3Q7XG59XG4iXX0=","export function iso8601(time) {\n    return toDate(time)\n        .toISOString()\n        .replace(/\\.\\d{3}Z$/, \"Z\");\n}\nexport function toDate(time) {\n    if (typeof time === \"number\") {\n        return new Date(time * 1000);\n    }\n    if (typeof time === \"string\") {\n        if (Number(time)) {\n            return new Date(Number(time) * 1000);\n        }\n        return new Date(time);\n    }\n    return time;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbERhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbERhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLE9BQU8sQ0FBQyxJQUE0QjtJQUNsRCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUM7U0FDaEIsV0FBVyxFQUFFO1NBQ2IsT0FBTyxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUMvQixDQUFDO0FBRUQsTUFBTSxVQUFVLE1BQU0sQ0FBQyxJQUE0QjtJQUNqRCxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtRQUM1QixPQUFPLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztLQUM5QjtJQUVELElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQzVCLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE9BQU8sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1NBQ3RDO1FBQ0QsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN2QjtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc284NjAxKHRpbWU6IG51bWJlciB8IHN0cmluZyB8IERhdGUpOiBzdHJpbmcge1xuICByZXR1cm4gdG9EYXRlKHRpbWUpXG4gICAgLnRvSVNPU3RyaW5nKClcbiAgICAucmVwbGFjZSgvXFwuXFxkezN9WiQvLCBcIlpcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0RhdGUodGltZTogbnVtYmVyIHwgc3RyaW5nIHwgRGF0ZSk6IERhdGUge1xuICBpZiAodHlwZW9mIHRpbWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodGltZSAqIDEwMDApO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0aW1lID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKE51bWJlcih0aW1lKSkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKE51bWJlcih0aW1lKSAqIDEwMDApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUodGltZSk7XG4gIH1cblxuICByZXR1cm4gdGltZTtcbn1cbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { ALGORITHM_IDENTIFIER, ALGORITHM_QUERY_PARAM, AMZ_DATE_HEADER, AMZ_DATE_QUERY_PARAM, AUTH_HEADER, CREDENTIAL_QUERY_PARAM, EVENT_ALGORITHM_IDENTIFIER, EXPIRES_QUERY_PARAM, MAX_PRESIGNED_TTL, SHA256_HEADER, SIGNATURE_QUERY_PARAM, SIGNED_HEADERS_QUERY_PARAM, TOKEN_HEADER, TOKEN_QUERY_PARAM, } from \"./constants\";\nimport { createScope, getSigningKey } from \"./credentialDerivation\";\nimport { getCanonicalHeaders } from \"./getCanonicalHeaders\";\nimport { getCanonicalQuery } from \"./getCanonicalQuery\";\nimport { getPayloadHash } from \"./getPayloadHash\";\nimport { hasHeader } from \"./hasHeader\";\nimport { moveHeadersToQuery } from \"./moveHeadersToQuery\";\nimport { prepareRequest } from \"./prepareRequest\";\nimport { iso8601 } from \"./utilDate\";\nvar SignatureV4 = /** @class */ (function () {\n    function SignatureV4(_a) {\n        var applyChecksum = _a.applyChecksum, credentials = _a.credentials, region = _a.region, service = _a.service, sha256 = _a.sha256, _b = _a.uriEscapePath, uriEscapePath = _b === void 0 ? true : _b;\n        this.service = service;\n        this.sha256 = sha256;\n        this.uriEscapePath = uriEscapePath;\n        // default to true if applyChecksum isn't set\n        this.applyChecksum = typeof applyChecksum === \"boolean\" ? applyChecksum : true;\n        this.regionProvider = normalizeRegionProvider(region);\n        this.credentialProvider = normalizeCredentialsProvider(credentials);\n    }\n    SignatureV4.prototype.presign = function (originalRequest, options) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, signingDate, _b, expiresIn, unsignableHeaders, unhoistableHeaders, signableHeaders, signingRegion, signingService, credentials, region, _c, _d, longDate, shortDate, scope, request, canonicalHeaders, _e, _f, _g, _h, _j, _k;\n            return __generator(this, function (_l) {\n                switch (_l.label) {\n                    case 0:\n                        _a = options.signingDate, signingDate = _a === void 0 ? new Date() : _a, _b = options.expiresIn, expiresIn = _b === void 0 ? 3600 : _b, unsignableHeaders = options.unsignableHeaders, unhoistableHeaders = options.unhoistableHeaders, signableHeaders = options.signableHeaders, signingRegion = options.signingRegion, signingService = options.signingService;\n                        return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _l.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _c = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _c = (_l.sent());\n                        _l.label = 4;\n                    case 4:\n                        region = _c;\n                        _d = formatDate(signingDate), longDate = _d.longDate, shortDate = _d.shortDate;\n                        if (expiresIn > MAX_PRESIGNED_TTL) {\n                            return [2 /*return*/, Promise.reject(\"Signature version 4 presigned URLs\" + \" must have an expiration date less than one week in\" + \" the future\")];\n                        }\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        request = moveHeadersToQuery(prepareRequest(originalRequest), { unhoistableHeaders: unhoistableHeaders });\n                        if (credentials.sessionToken) {\n                            request.query[TOKEN_QUERY_PARAM] = credentials.sessionToken;\n                        }\n                        request.query[ALGORITHM_QUERY_PARAM] = ALGORITHM_IDENTIFIER;\n                        request.query[CREDENTIAL_QUERY_PARAM] = credentials.accessKeyId + \"/\" + scope;\n                        request.query[AMZ_DATE_QUERY_PARAM] = longDate;\n                        request.query[EXPIRES_QUERY_PARAM] = expiresIn.toString(10);\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        request.query[SIGNED_HEADERS_QUERY_PARAM] = getCanonicalHeaderList(canonicalHeaders);\n                        _e = request.query;\n                        _f = SIGNATURE_QUERY_PARAM;\n                        _g = this.getSignature;\n                        _h = [longDate,\n                            scope,\n                            this.getSigningKey(credentials, region, shortDate, signingService)];\n                        _j = this.createCanonicalRequest;\n                        _k = [request, canonicalHeaders];\n                        return [4 /*yield*/, getPayloadHash(originalRequest, this.sha256)];\n                    case 5: return [4 /*yield*/, _g.apply(this, _h.concat([_j.apply(this, _k.concat([_l.sent()]))]))];\n                    case 6:\n                        _e[_f] = _l.sent();\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.sign = function (toSign, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (typeof toSign === \"string\") {\n                    return [2 /*return*/, this.signString(toSign, options)];\n                }\n                else if (toSign.headers && toSign.payload) {\n                    return [2 /*return*/, this.signEvent(toSign, options)];\n                }\n                else {\n                    return [2 /*return*/, this.signRequest(toSign, options)];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    SignatureV4.prototype.signEvent = function (_a, _b) {\n        var headers = _a.headers, payload = _a.payload;\n        var _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, priorSignature = _b.priorSignature, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var region, _d, _e, shortDate, longDate, scope, hashedPayload, hash, hashedHeaders, _f, stringToSign;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0:\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 1];\n                        _d = signingRegion;\n                        return [3 /*break*/, 3];\n                    case 1: return [4 /*yield*/, this.regionProvider()];\n                    case 2:\n                        _d = (_g.sent());\n                        _g.label = 3;\n                    case 3:\n                        region = _d;\n                        _e = formatDate(signingDate), shortDate = _e.shortDate, longDate = _e.longDate;\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        return [4 /*yield*/, getPayloadHash({ headers: {}, body: payload }, this.sha256)];\n                    case 4:\n                        hashedPayload = _g.sent();\n                        hash = new this.sha256();\n                        hash.update(headers);\n                        _f = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 5:\n                        hashedHeaders = _f.apply(void 0, [_g.sent()]);\n                        stringToSign = [\n                            EVENT_ALGORITHM_IDENTIFIER,\n                            longDate,\n                            scope,\n                            priorSignature,\n                            hashedHeaders,\n                            hashedPayload,\n                        ].join(\"\\n\");\n                        return [2 /*return*/, this.signString(stringToSign, { signingDate: signingDate, signingRegion: region, signingService: signingService })];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signString = function (stringToSign, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, region, _d, shortDate, hash, _e, _f, _g;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0: return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _h.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _d = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _d = (_h.sent());\n                        _h.label = 4;\n                    case 4:\n                        region = _d;\n                        shortDate = formatDate(signingDate).shortDate;\n                        _f = (_e = this.sha256).bind;\n                        return [4 /*yield*/, this.getSigningKey(credentials, region, shortDate, signingService)];\n                    case 5:\n                        hash = new (_f.apply(_e, [void 0, _h.sent()]))();\n                        hash.update(stringToSign);\n                        _g = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 6: return [2 /*return*/, _g.apply(void 0, [_h.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signRequest = function (requestToSign, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, signableHeaders = _b.signableHeaders, unsignableHeaders = _b.unsignableHeaders, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, region, _d, request, _e, longDate, shortDate, scope, payloadHash, canonicalHeaders, signature;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0: return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _f.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _d = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _d = (_f.sent());\n                        _f.label = 4;\n                    case 4:\n                        region = _d;\n                        request = prepareRequest(requestToSign);\n                        _e = formatDate(signingDate), longDate = _e.longDate, shortDate = _e.shortDate;\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        request.headers[AMZ_DATE_HEADER] = longDate;\n                        if (credentials.sessionToken) {\n                            request.headers[TOKEN_HEADER] = credentials.sessionToken;\n                        }\n                        return [4 /*yield*/, getPayloadHash(request, this.sha256)];\n                    case 5:\n                        payloadHash = _f.sent();\n                        if (!hasHeader(SHA256_HEADER, request.headers) && this.applyChecksum) {\n                            request.headers[SHA256_HEADER] = payloadHash;\n                        }\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        return [4 /*yield*/, this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, payloadHash))];\n                    case 6:\n                        signature = _f.sent();\n                        request.headers[AUTH_HEADER] =\n                            ALGORITHM_IDENTIFIER + \" \" +\n                                (\"Credential=\" + credentials.accessKeyId + \"/\" + scope + \", \") +\n                                (\"SignedHeaders=\" + getCanonicalHeaderList(canonicalHeaders) + \", \") +\n                                (\"Signature=\" + signature);\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.createCanonicalRequest = function (request, canonicalHeaders, payloadHash) {\n        var sortedHeaders = Object.keys(canonicalHeaders).sort();\n        return request.method + \"\\n\" + this.getCanonicalPath(request) + \"\\n\" + getCanonicalQuery(request) + \"\\n\" + sortedHeaders.map(function (name) { return name + \":\" + canonicalHeaders[name]; }).join(\"\\n\") + \"\\n\\n\" + sortedHeaders.join(\";\") + \"\\n\" + payloadHash;\n    };\n    SignatureV4.prototype.createStringToSign = function (longDate, credentialScope, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var hash, hashedRequest;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        hash = new this.sha256();\n                        hash.update(canonicalRequest);\n                        return [4 /*yield*/, hash.digest()];\n                    case 1:\n                        hashedRequest = _a.sent();\n                        return [2 /*return*/, ALGORITHM_IDENTIFIER + \"\\n\" + longDate + \"\\n\" + credentialScope + \"\\n\" + toHex(hashedRequest)];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getCanonicalPath = function (_a) {\n        var path = _a.path;\n        if (this.uriEscapePath) {\n            var doubleEncoded = encodeURIComponent(path.replace(/^\\//, \"\"));\n            return \"/\" + doubleEncoded.replace(/%2F/g, \"/\");\n        }\n        return path;\n    };\n    SignatureV4.prototype.getSignature = function (longDate, credentialScope, keyPromise, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var stringToSign, hash, _a, _b, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0: return [4 /*yield*/, this.createStringToSign(longDate, credentialScope, canonicalRequest)];\n                    case 1:\n                        stringToSign = _d.sent();\n                        _b = (_a = this.sha256).bind;\n                        return [4 /*yield*/, keyPromise];\n                    case 2:\n                        hash = new (_b.apply(_a, [void 0, _d.sent()]))();\n                        hash.update(stringToSign);\n                        _c = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 3: return [2 /*return*/, _c.apply(void 0, [_d.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getSigningKey = function (credentials, region, shortDate, service) {\n        return getSigningKey(this.sha256, credentials, shortDate, region, service || this.service);\n    };\n    return SignatureV4;\n}());\nexport { SignatureV4 };\nvar formatDate = function (now) {\n    var longDate = iso8601(now).replace(/[\\-:]/g, \"\");\n    return {\n        longDate: longDate,\n        shortDate: longDate.substr(0, 8),\n    };\n};\nvar getCanonicalHeaderList = function (headers) { return Object.keys(headers).sort().join(\";\"); };\nvar normalizeRegionProvider = function (region) {\n    if (typeof region === \"string\") {\n        var promisified_1 = Promise.resolve(region);\n        return function () { return promisified_1; };\n    }\n    else {\n        return region;\n    }\n};\nvar normalizeCredentialsProvider = function (credentials) {\n    if (typeof credentials === \"object\") {\n        var promisified_2 = Promise.resolve(credentials);\n        return function () { return promisified_2; };\n    }\n    else {\n        return credentials;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2lnbmF0dXJlVjQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvU2lnbmF0dXJlVjQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQWlCQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFbkQsT0FBTyxFQUNMLG9CQUFvQixFQUNwQixxQkFBcUIsRUFDckIsZUFBZSxFQUNmLG9CQUFvQixFQUNwQixXQUFXLEVBQ1gsc0JBQXNCLEVBQ3RCLDBCQUEwQixFQUMxQixtQkFBbUIsRUFDbkIsaUJBQWlCLEVBQ2pCLGFBQWEsRUFDYixxQkFBcUIsRUFDckIsMEJBQTBCLEVBQzFCLFlBQVksRUFDWixpQkFBaUIsR0FDbEIsTUFBTSxhQUFhLENBQUM7QUFDckIsT0FBTyxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN4QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQztBQWtEckM7SUFRRSxxQkFBWSxFQU84QjtZQU54QyxhQUFhLG1CQUFBLEVBQ2IsV0FBVyxpQkFBQSxFQUNYLE1BQU0sWUFBQSxFQUNOLE9BQU8sYUFBQSxFQUNQLE1BQU0sWUFBQSxFQUNOLHFCQUFvQixFQUFwQixhQUFhLG1CQUFHLElBQUksS0FBQTtRQUVwQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJ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YztJQUNoQyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNwRCxPQUFPO1FBQ0wsUUFBUSxVQUFBO1FBQ1IsU0FBUyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUNqQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsSUFBTSxzQkFBc0IsR0FBRyxVQUFDLE9BQWUsSUFBYSxPQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFyQyxDQUFxQyxDQUFDO0FBRWxHLElBQU0sdUJBQXVCLEdBQUcsVUFBQyxNQUFpQztJQUNoRSxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTtRQUM5QixJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7U0FBTTtRQUNMLE9BQU8sTUFBTSxDQUFDO0tBQ2Y7QUFDSCxDQUFDLENBQUM7QUFFRixJQUFNLDRCQUE0QixHQUFHLFVBQUMsV0FBZ0Q7SUFDcEYsSUFBSSxPQUFPLFdBQVcsS0FBSyxRQUFRLEVBQUU7UUFDbkMsSUFBTSxhQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNqRCxPQUFPLGNBQU0sT0FBQSxhQUFXLEVBQVgsQ0FBVyxDQUFDO0tBQzFCO1NBQU07UUFDTCxPQUFPLFdBQVcsQ0FBQztLQUNwQjtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENyZWRlbnRpYWxzLFxuICBEYXRlSW5wdXQsXG4gIEV2ZW50U2lnbmVyLFxuICBFdmVudFNpZ25pbmdBcmd1bWVudHMsXG4gIEZvcm1hdHRlZEV2ZW50LFxuICBIYXNoQ29uc3RydWN0b3IsXG4gIEhlYWRlckJhZyxcbiAgSHR0cFJlcXVlc3QsXG4gIFByb3ZpZGVyLFxuICBSZXF1ZXN0UHJlc2lnbmVyLFxuICBSZXF1ZXN0UHJlc2lnbmluZ0FyZ3VtZW50cyxcbiAgUmVxdWVzdFNpZ25lcixcbiAgUmVxdWVzdFNpZ25pbmdBcmd1bWVudHMsXG4gIFNpZ25pbmdBcmd1bWVudHMsXG4gIFN0cmluZ1NpZ25lcixcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuXG5pbXBvcnQge1xuICBBTEdPUklUSE1fSURFTlRJRklFUixcbiAgQUxHT1JJVEhNX1FVRVJZX1BBUkFNLFxuICBBTVpfREFURV9IRUFERVIsXG4gIEFNWl9EQVRFX1FVRVJZX1BBUkFNLFxuICBBVVRIX0hFQURFUixcbiAgQ1JFREVOVElBTF9RVUVSWV9QQVJBTSxcbiAgRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIsXG4gIEVYUElSRVNfUVVFUllfUEFSQU0sXG4gIE1BWF9QUkVTSUdORURfVFRMLFxuICBTSEEyNTZfSEVBREVSLFxuICBTSUdOQVRVUkVfUVVFUllfUEFSQU0sXG4gIFNJR05FRF9IRUFERVJTX1FVRVJZX1BBUkFNLFxuICBUT0tFTl9IRUFERVIsXG4gIFRPS0VOX1FVRVJZX1BBUkFNLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGNyZWF0ZVNjb3BlLCBnZXRTaWduaW5nS2V5IH0gZnJvbSBcIi4vY3JlZGVudGlhbERlcml2YXRpb25cIjtcbmltcG9ydCB7IGdldENhbm9uaWNhbEhlYWRlcnMgfSBmcm9tIFwiLi9nZXRDYW5vbmljYWxIZWFkZXJzXCI7XG5pbXBvcnQgeyBnZXRDYW5vbmljYWxRdWVyeSB9IGZyb20gXCIuL2dldENhbm9uaWNhbFF1ZXJ5XCI7XG5pbXBvcnQgeyBnZXRQYXlsb2FkSGFzaCB9IGZyb20gXCIuL2dldFBheWxvYWRIYXNoXCI7XG5pbXBvcnQgeyBoYXNIZWFkZXIgfSBmcm9tIFwiLi9oYXNIZWFkZXJcIjtcbmltcG9ydCB7IG1vdmVIZWFkZXJzVG9RdWVyeSB9IGZyb20gXCIuL21vdmVIZWFkZXJzVG9RdWVyeVwiO1xuaW1wb3J0IHsgcHJlcGFyZVJlcXVlc3QgfSBmcm9tIFwiLi9wcmVwYXJlUmVxdWVzdFwiO1xuaW1wb3J0IHsgaXNvODYwMSB9IGZyb20gXCIuL3V0aWxEYXRlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmF0dXJlVjRJbml0IHtcbiAgLyoqXG4gICAqIFRoZSBzZXJ2aWNlIHNpZ25pbmcgbmFtZS5cbiAgICovXG4gIHNlcnZpY2U6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHJlZ2lvbiBuYW1lIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVcbiAgICogcmVzb2x2ZWQgd2l0aCB0aGUgcmVnaW9uIG5hbWUuXG4gICAqL1xuICByZWdpb246IHN0cmluZyB8IFByb3ZpZGVyPHN0cmluZz47XG5cbiAgLyoqXG4gICAqIFRoZSBjcmVkZW50aWFscyB3aXRoIHdoaWNoIHRoZSByZXF1ZXN0IHNob3VsZCBiZSBzaWduZWQgb3IgYSBmdW5jdGlvblxuICAgKiB0aGF0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIGNyZWRlbnRpYWxzLlxuICAgKi9cbiAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzIHwgUHJvdmlkZXI8Q3JlZGVudGlhbHM+O1xuXG4gIC8qKlxuICAgKiBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciBhIGhhc2ggb2JqZWN0IHRoYXQgd2lsbCBjYWxjdWxhdGUgU0hBLTI1NiBITUFDXG4gICAqIGNoZWNrc3Vtcy5cbiAgICovXG4gIHNoYTI1Nj86IEhhc2hDb25zdHJ1Y3RvcjtcblxuICAvKipcbiAgICogV2hldGhlciB0byB1cmktZXNjYXBlIHRoZSByZXF1ZXN0IFVSSSBwYXRoIGFzIHBhcnQgb2YgY29tcHV0aW5nIHRoZVxuICAgKiBjYW5vbmljYWwgcmVxdWVzdCBzdHJpbmcuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIGV2ZXJ5IEFXUyBzZXJ2aWNlLCBleGNlcHRcbiAgICogQW1hem9uIFMzLCBhcyBvZiBsYXRlIDIwMTcuXG4gICAqXG4gICAqIEBkZWZhdWx0IFt0cnVlXVxuICAgKi9cbiAgdXJpRXNjYXBlUGF0aD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gY2FsY3VsYXRlIGEgY2hlY2tzdW0gb2YgdGhlIHJlcXVlc3QgYm9keSBhbmQgaW5jbHVkZSBpdCBhc1xuICAgKiBlaXRoZXIgYSByZXF1ZXN0IGhlYWRlciAod2hlbiBzaWduaW5nKSBvciBhcyBhIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJcbiAgICogKHdoZW4gcHJlc2lnbmluZykuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIEFXUyBHbGFjaWVyIGFuZCBBbWF6b24gUzMgYW5kIG9wdGlvbmFsIGZvclxuICAgKiBldmVyeSBvdGhlciBBV1Mgc2VydmljZSBhcyBvZiBsYXRlIDIwMTcuXG4gICAqXG4gICAqIEBkZWZhdWx0IFt0cnVlXVxuICAgKi9cbiAgYXBwbHlDaGVja3N1bT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmF0dXJlVjRDcnlwdG9Jbml0IHtcbiAgc2hhMjU2OiBIYXNoQ29uc3RydWN0b3I7XG59XG5cbmV4cG9ydCBjbGFzcyBTaWduYXR1cmVWNCBpbXBsZW1lbnRzIFJlcXVlc3RQcmVzaWduZXIsIFJlcXVlc3RTaWduZXIsIFN0cmluZ1NpZ25lciwgRXZlbnRTaWduZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IHNlcnZpY2U6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSByZWdpb25Qcm92aWRlcjogUHJvdmlkZXI8c3RyaW5nPjtcbiAgcHJpdmF0ZSByZWFkb25seSBjcmVkZW50aWFsUHJvdmlkZXI6IFByb3ZpZGVyPENyZWRlbnRpYWxzPjtcbiAgcHJpdmF0ZSByZWFkb25seSBzaGEyNTY6IEhhc2hDb25zdHJ1Y3RvcjtcbiAgcHJpdmF0ZSByZWFkb25seSB1cmlFc2NhcGVQYXRoOiBib29sZWFuO1xuICBwcml2YXRlIHJlYWRvbmx5IGFwcGx5Q2hlY2tzdW06IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGFwcGx5Q2hlY2tzdW0sXG4gICAgY3JlZGVudGlhbHMsXG4gICAgcmVnaW9uLFxuICAgIHNlcnZpY2UsXG4gICAgc2hhMjU2LFxuICAgIHVyaUVzY2FwZVBhdGggPSB0cnVlLFxuICB9OiBTaWduYXR1cmVWNEluaXQgJiBTaWduYXR1cmVWNENyeXB0b0luaXQpIHtcbiAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgIHRoaXMuc2hhMjU2ID0gc2hhMjU2O1xuICAgIHRoaXMudXJpRXNjYXBlUGF0aCA9IHVyaUVzY2FwZVBhdGg7XG4gICAgLy8gZGVmYXVsdCB0byB0cnVlIGlmIGFwcGx5Q2hlY2tzdW0gaXNuJ3Qgc2V0XG4gICAgdGhpcy5hcHBseUNoZWNrc3VtID0gdHlwZW9mIGFwcGx5Q2hlY2tzdW0gPT09IFwiYm9vbGVhblwiID8gYXBwbHlDaGVja3N1bSA6IHRydWU7XG4gICAgdGhpcy5yZWdpb25Qcm92aWRlciA9IG5vcm1hbGl6ZVJlZ2lvblByb3ZpZGVyKHJlZ2lvbik7XG4gICAgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIgPSBub3JtYWxpemVDcmVkZW50aWFsc1Byb3ZpZGVyKGNyZWRlbnRpYWxzKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBwcmVzaWduKG9yaWdpbmFsUmVxdWVzdDogSHR0cFJlcXVlc3QsIG9wdGlvbnM6IFJlcXVlc3RQcmVzaWduaW5nQXJndW1lbnRzID0ge30pOiBQcm9taXNlPEh0dHBSZXF1ZXN0PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgZXhwaXJlc0luID0gMzYwMCxcbiAgICAgIHVuc2lnbmFibGVIZWFkZXJzLFxuICAgICAgdW5ob2lzdGFibGVIZWFkZXJzLFxuICAgICAgc2lnbmFibGVIZWFkZXJzLFxuICAgICAgc2lnbmluZ1JlZ2lvbixcbiAgICAgIHNpZ25pbmdTZXJ2aWNlLFxuICAgIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIoKTtcbiAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuXG4gICAgY29uc3QgeyBsb25nRGF0ZSwgc2hvcnREYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcbiAgICBpZiAoZXhwaXJlc0luID4gTUFYX1BSRVNJR05FRF9UVEwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgXCJTaWduYXR1cmUgdmVyc2lvbiA0IHByZXNpZ25lZCBVUkxzXCIgKyBcIiBtdXN0IGhhdmUgYW4gZXhwaXJhdGlvbiBkYXRlIGxlc3MgdGhhbiBvbmUgd2VlayBpblwiICsgXCIgdGhlIGZ1dHVyZVwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHNjb3BlID0gY3JlYXRlU2NvcGUoc2hvcnREYXRlLCByZWdpb24sIHNpZ25pbmdTZXJ2aWNlID8/IHRoaXMuc2VydmljZSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IG1vdmVIZWFkZXJzVG9RdWVyeShwcmVwYXJlUmVxdWVzdChvcmlnaW5hbFJlcXVlc3QpLCB7IHVuaG9pc3RhYmxlSGVhZGVycyB9KTtcblxuICAgIGlmIChjcmVkZW50aWFscy5zZXNzaW9uVG9rZW4pIHtcbiAgICAgIHJlcXVlc3QucXVlcnlbVE9LRU5fUVVFUllfUEFSQU1dID0gY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuO1xuICAgIH1cbiAgICByZXF1ZXN0LnF1ZXJ5W0FMR09SSVRITV9RVUVSWV9QQVJBTV0gPSBBTEdPUklUSE1fSURFTlRJRklFUjtcbiAgICByZXF1ZXN0LnF1ZXJ5W0NSRURFTlRJQUxfUVVFUllfUEFSQU1dID0gYCR7Y3JlZGVudGlhbHMuYWNjZXNzS2V5SWR9LyR7c2NvcGV9YDtcbiAgICByZXF1ZXN0LnF1ZXJ5W0FNWl9EQVRFX1FVRVJZX1BBUkFNXSA9IGxvbmdEYXRlO1xuICAgIHJlcXVlc3QucXVlcnlbRVhQSVJFU19RVUVSWV9QQVJBTV0gPSBleHBpcmVzSW4udG9TdHJpbmcoMTApO1xuXG4gICAgY29uc3QgY2Fub25pY2FsSGVhZGVycyA9IGdldENhbm9uaWNhbEhlYWRlcnMocmVxdWVzdCwgdW5zaWduYWJsZUhlYWRlcnMsIHNpZ25hYmxlSGVhZGVycyk7XG4gICAgcmVxdWVzdC5xdWVyeVtTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTV0gPSBnZXRDYW5vbmljYWxIZWFkZXJMaXN0KGNhbm9uaWNhbEhlYWRlcnMpO1xuXG4gICAgcmVxdWVzdC5xdWVyeVtTSUdOQVRVUkVfUVVFUllfUEFSQU1dID0gYXdhaXQgdGhpcy5nZXRTaWduYXR1cmUoXG4gICAgICBsb25nRGF0ZSxcbiAgICAgIHNjb3BlLFxuICAgICAgdGhpcy5nZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2lnbmluZ1NlcnZpY2UpLFxuICAgICAgdGhpcy5jcmVhdGVDYW5vbmljYWxSZXF1ZXN0KHJlcXVlc3QsIGNhbm9uaWNhbEhlYWRlcnMsIGF3YWl0IGdldFBheWxvYWRIYXNoKG9yaWdpbmFsUmVxdWVzdCwgdGhpcy5zaGEyNTYpKVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzaWduKHN0cmluZ1RvU2lnbjogc3RyaW5nLCBvcHRpb25zPzogU2lnbmluZ0FyZ3VtZW50cyk6IFByb21pc2U8c3RyaW5nPjtcbiAgcHVibGljIGFzeW5jIHNpZ24oZXZlbnQ6IEZvcm1hdHRlZEV2ZW50LCBvcHRpb25zOiBFdmVudFNpZ25pbmdBcmd1bWVudHMpOiBQcm9taXNlPHN0cmluZz47XG4gIHB1YmxpYyBhc3luYyBzaWduKHJlcXVlc3RUb1NpZ246IEh0dHBSZXF1ZXN0LCBvcHRpb25zPzogUmVxdWVzdFNpZ25pbmdBcmd1bWVudHMpOiBQcm9taXNlPEh0dHBSZXF1ZXN0PjtcbiAgcHVibGljIGFzeW5jIHNpZ24odG9TaWduOiBhbnksIG9wdGlvbnM6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgaWYgKHR5cGVvZiB0b1NpZ24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpZ25TdHJpbmcodG9TaWduLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHRvU2lnbi5oZWFkZXJzICYmIHRvU2lnbi5wYXlsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaWduRXZlbnQodG9TaWduLCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuc2lnblJlcXVlc3QodG9TaWduLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNpZ25FdmVudChcbiAgICB7IGhlYWRlcnMsIHBheWxvYWQgfTogRm9ybWF0dGVkRXZlbnQsXG4gICAgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHByaW9yU2lnbmF0dXJlLCBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSB9OiBFdmVudFNpZ25pbmdBcmd1bWVudHNcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgIGNvbnN0IHsgc2hvcnREYXRlLCBsb25nRGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShzaG9ydERhdGUsIHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPz8gdGhpcy5zZXJ2aWNlKTtcbiAgICBjb25zdCBoYXNoZWRQYXlsb2FkID0gYXdhaXQgZ2V0UGF5bG9hZEhhc2goeyBoZWFkZXJzOiB7fSwgYm9keTogcGF5bG9hZCB9IGFzIGFueSwgdGhpcy5zaGEyNTYpO1xuICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoKTtcbiAgICBoYXNoLnVwZGF0ZShoZWFkZXJzKTtcbiAgICBjb25zdCBoYXNoZWRIZWFkZXJzID0gdG9IZXgoYXdhaXQgaGFzaC5kaWdlc3QoKSk7XG4gICAgY29uc3Qgc3RyaW5nVG9TaWduID0gW1xuICAgICAgRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIsXG4gICAgICBsb25nRGF0ZSxcbiAgICAgIHNjb3BlLFxuICAgICAgcHJpb3JTaWduYXR1cmUsXG4gICAgICBoYXNoZWRIZWFkZXJzLFxuICAgICAgaGFzaGVkUGF5bG9hZCxcbiAgICBdLmpvaW4oXCJcXG5cIik7XG4gICAgcmV0dXJuIHRoaXMuc2lnblN0cmluZyhzdHJpbmdUb1NpZ24sIHsgc2lnbmluZ0RhdGUsIHNpZ25pbmdSZWdpb246IHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNpZ25TdHJpbmcoXG4gICAgc3RyaW5nVG9TaWduOiBzdHJpbmcsXG4gICAgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH06IFNpZ25pbmdBcmd1bWVudHMgPSB7fVxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIoKTtcbiAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgIGNvbnN0IHsgc2hvcnREYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcblxuICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoYXdhaXQgdGhpcy5nZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2lnbmluZ1NlcnZpY2UpKTtcbiAgICBoYXNoLnVwZGF0ZShzdHJpbmdUb1NpZ24pO1xuICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoLmRpZ2VzdCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2lnblJlcXVlc3QoXG4gICAgcmVxdWVzdFRvU2lnbjogSHR0cFJlcXVlc3QsXG4gICAge1xuICAgICAgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgc2lnbmFibGVIZWFkZXJzLFxuICAgICAgdW5zaWduYWJsZUhlYWRlcnMsXG4gICAgICBzaWduaW5nUmVnaW9uLFxuICAgICAgc2lnbmluZ1NlcnZpY2UsXG4gICAgfTogUmVxdWVzdFNpZ25pbmdBcmd1bWVudHMgPSB7fVxuICApOiBQcm9taXNlPEh0dHBSZXF1ZXN0PiB7XG4gICAgY29uc3QgY3JlZGVudGlhbHMgPSBhd2FpdCB0aGlzLmNyZWRlbnRpYWxQcm92aWRlcigpO1xuICAgIGNvbnN0IHJlZ2lvbiA9IHNpZ25pbmdSZWdpb24gPz8gKGF3YWl0IHRoaXMucmVnaW9uUHJvdmlkZXIoKSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IHByZXBhcmVSZXF1ZXN0KHJlcXVlc3RUb1NpZ24pO1xuICAgIGNvbnN0IHsgbG9uZ0RhdGUsIHNob3J0RGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShzaG9ydERhdGUsIHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPz8gdGhpcy5zZXJ2aWNlKTtcblxuICAgIHJlcXVlc3QuaGVhZGVyc1tBTVpfREFURV9IRUFERVJdID0gbG9uZ0RhdGU7XG4gICAgaWYgKGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbikge1xuICAgICAgcmVxdWVzdC5oZWFkZXJzW1RPS0VOX0hFQURFUl0gPSBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW47XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bG9hZEhhc2ggPSBhd2FpdCBnZXRQYXlsb2FkSGFzaChyZXF1ZXN0LCB0aGlzLnNoYTI1Nik7XG4gICAgaWYgKCFoYXNIZWFkZXIoU0hBMjU2X0hFQURFUiwgcmVxdWVzdC5oZWFkZXJzKSAmJiB0aGlzLmFwcGx5Q2hlY2tzdW0pIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVyc1tTSEEyNTZfSEVBREVSXSA9IHBheWxvYWRIYXNoO1xuICAgIH1cblxuICAgIGNvbnN0IGNhbm9uaWNhbEhlYWRlcnMgPSBnZXRDYW5vbmljYWxIZWFkZXJzKHJlcXVlc3QsIHVuc2lnbmFibGVIZWFkZXJzLCBzaWduYWJsZUhlYWRlcnMpO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IHRoaXMuZ2V0U2lnbmF0dXJlKFxuICAgICAgbG9uZ0RhdGUsXG4gICAgICBzY29wZSxcbiAgICAgIHRoaXMuZ2V0U2lnbmluZ0tleShjcmVkZW50aWFscywgcmVnaW9uLCBzaG9ydERhdGUsIHNpZ25pbmdTZXJ2aWNlKSxcbiAgICAgIHRoaXMuY3JlYXRlQ2Fub25pY2FsUmVxdWVzdChyZXF1ZXN0LCBjYW5vbmljYWxIZWFkZXJzLCBwYXlsb2FkSGFzaClcbiAgICApO1xuXG4gICAgcmVxdWVzdC5oZWFkZXJzW0FVVEhfSEVBREVSXSA9XG4gICAgICBgJHtBTEdPUklUSE1fSURFTlRJRklFUn0gYCArXG4gICAgICBgQ3JlZGVudGlhbD0ke2NyZWRlbnRpYWxzLmFjY2Vzc0tleUlkfS8ke3Njb3BlfSwgYCArXG4gICAgICBgU2lnbmVkSGVhZGVycz0ke2dldENhbm9uaWNhbEhlYWRlckxpc3QoY2Fub25pY2FsSGVhZGVycyl9LCBgICtcbiAgICAgIGBTaWduYXR1cmU9JHtzaWduYXR1cmV9YDtcblxuICAgIHJldHVybiByZXF1ZXN0O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDYW5vbmljYWxSZXF1ZXN0KHJlcXVlc3Q6IEh0dHBSZXF1ZXN0LCBjYW5vbmljYWxIZWFkZXJzOiBIZWFkZXJCYWcsIHBheWxvYWRIYXNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNvcnRlZEhlYWRlcnMgPSBPYmplY3Qua2V5cyhjYW5vbmljYWxIZWFkZXJzKS5zb3J0KCk7XG4gICAgcmV0dXJuIGAke3JlcXVlc3QubWV0aG9kfVxuJHt0aGlzLmdldENhbm9uaWNhbFBhdGgocmVxdWVzdCl9XG4ke2dldENhbm9uaWNhbFF1ZXJ5KHJlcXVlc3QpfVxuJHtzb3J0ZWRIZWFkZXJzLm1hcCgobmFtZSkgPT4gYCR7bmFtZX06JHtjYW5vbmljYWxIZWFkZXJzW25hbWVdfWApLmpvaW4oXCJcXG5cIil9XG5cbiR7c29ydGVkSGVhZGVycy5qb2luKFwiO1wiKX1cbiR7cGF5bG9hZEhhc2h9YDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlU3RyaW5nVG9TaWduKFxuICAgIGxvbmdEYXRlOiBzdHJpbmcsXG4gICAgY3JlZGVudGlhbFNjb3BlOiBzdHJpbmcsXG4gICAgY2Fub25pY2FsUmVxdWVzdDogc3RyaW5nXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1NigpO1xuICAgIGhhc2gudXBkYXRlKGNhbm9uaWNhbFJlcXVlc3QpO1xuICAgIGNvbnN0IGhhc2hlZFJlcXVlc3QgPSBhd2FpdCBoYXNoLmRpZ2VzdCgpO1xuXG4gICAgcmV0dXJuIGAke0FMR09SSVRITV9JREVOVElGSUVSfVxuJHtsb25nRGF0ZX1cbiR7Y3JlZGVudGlhbFNjb3BlfVxuJHt0b0hleChoYXNoZWRSZXF1ZXN0KX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDYW5vbmljYWxQYXRoKHsgcGF0aCB9OiBIdHRwUmVxdWVzdCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMudXJpRXNjYXBlUGF0aCkge1xuICAgICAgY29uc3QgZG91YmxlRW5jb2RlZCA9IGVuY29kZVVSSUNvbXBvbmVudChwYXRoLnJlcGxhY2UoL15cXC8vLCBcIlwiKSk7XG4gICAgICByZXR1cm4gYC8ke2RvdWJsZUVuY29kZWQucmVwbGFjZSgvJTJGL2csIFwiL1wiKX1gO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRTaWduYXR1cmUoXG4gICAgbG9uZ0RhdGU6IHN0cmluZyxcbiAgICBjcmVkZW50aWFsU2NvcGU6IHN0cmluZyxcbiAgICBrZXlQcm9taXNlOiBQcm9taXNlPFVpbnQ4QXJyYXk+LFxuICAgIGNhbm9uaWNhbFJlcXVlc3Q6IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IHN0cmluZ1RvU2lnbiA9IGF3YWl0IHRoaXMuY3JlYXRlU3RyaW5nVG9TaWduKGxvbmdEYXRlLCBjcmVkZW50aWFsU2NvcGUsIGNhbm9uaWNhbFJlcXVlc3QpO1xuXG4gICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1Nihhd2FpdCBrZXlQcm9taXNlKTtcbiAgICBoYXNoLnVwZGF0ZShzdHJpbmdUb1NpZ24pO1xuICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoLmRpZ2VzdCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2lnbmluZ0tleShcbiAgICBjcmVkZW50aWFsczogQ3JlZGVudGlhbHMsXG4gICAgcmVnaW9uOiBzdHJpbmcsXG4gICAgc2hvcnREYXRlOiBzdHJpbmcsXG4gICAgc2VydmljZT86IHN0cmluZ1xuICApOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICByZXR1cm4gZ2V0U2lnbmluZ0tleSh0aGlzLnNoYTI1NiwgY3JlZGVudGlhbHMsIHNob3J0RGF0ZSwgcmVnaW9uLCBzZXJ2aWNlIHx8IHRoaXMuc2VydmljZSk7XG4gIH1cbn1cblxuY29uc3QgZm9ybWF0RGF0ZSA9IChub3c6IERhdGVJbnB1dCk6IHsgbG9uZ0RhdGU6IHN0cmluZzsgc2hvcnREYXRlOiBzdHJpbmcgfSA9PiB7XG4gIGNvbnN0IGxvbmdEYXRlID0gaXNvODYwMShub3cpLnJlcGxhY2UoL1tcXC06XS9nLCBcIlwiKTtcbiAgcmV0dXJuIHtcbiAgICBsb25nRGF0ZSxcbiAgICBzaG9ydERhdGU6IGxvbmdEYXRlLnN1YnN0cigwLCA4KSxcbiAgfTtcbn07XG5cbmNvbnN0IGdldENhbm9uaWNhbEhlYWRlckxpc3QgPSAoaGVhZGVyczogb2JqZWN0KTogc3RyaW5nID0+IE9iamVjdC5rZXlzKGhlYWRlcnMpLnNvcnQoKS5qb2luKFwiO1wiKTtcblxuY29uc3Qgbm9ybWFsaXplUmVnaW9uUHJvdmlkZXIgPSAocmVnaW9uOiBzdHJpbmcgfCBQcm92aWRlcjxzdHJpbmc+KTogUHJvdmlkZXI8c3RyaW5nPiA9PiB7XG4gIGlmICh0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUocmVnaW9uKTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlZ2lvbjtcbiAgfVxufTtcblxuY29uc3Qgbm9ybWFsaXplQ3JlZGVudGlhbHNQcm92aWRlciA9IChjcmVkZW50aWFsczogQ3JlZGVudGlhbHMgfCBQcm92aWRlcjxDcmVkZW50aWFscz4pOiBQcm92aWRlcjxDcmVkZW50aWFscz4gPT4ge1xuICBpZiAodHlwZW9mIGNyZWRlbnRpYWxzID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUoY3JlZGVudGlhbHMpO1xuICAgIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlZGVudGlhbHM7XG4gIH1cbn07XG4iXX0=","import { __assign, __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\n/**\n * @internal\n */\nexport function moveHeadersToQuery(request, options) {\n    var e_1, _a;\n    var _b;\n    if (options === void 0) { options = {}; }\n    var _c = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request), headers = _c.headers, _d = _c.query, query = _d === void 0 ? {} : _d;\n    try {\n        for (var _e = __values(Object.keys(headers)), _f = _e.next(); !_f.done; _f = _e.next()) {\n            var name = _f.value;\n            var lname = name.toLowerCase();\n            if (lname.substr(0, 6) === \"x-amz-\" && !((_b = options.unhoistableHeaders) === null || _b === void 0 ? void 0 : _b.has(lname))) {\n                query[name] = headers[name];\n                delete headers[name];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return __assign(__assign({}, request), { headers: headers,\n        query: query });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW92ZUhlYWRlcnNUb1F1ZXJ5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vdmVIZWFkZXJzVG9RdWVyeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTlDOztHQUVHO0FBQ0gsTUFBTSxVQUFVLGtCQUFrQixDQUNoQyxPQUFvQixFQUNwQixPQUFrRDs7O0lBQWxELHdCQUFBLEVBQUEsWUFBa0Q7SUFFNUMsSUFBQSxLQUNKLE9BQVEsT0FBZSxDQUFDLEtBQUssS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFFLE9BQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUR6RixPQUFPLGFBQUEsRUFBRSxhQUErQixFQUEvQixLQUFLLG1CQUFHLEVBQXVCLEtBQ2lELENBQUM7O1FBQ2xHLEtBQW1CLElBQUEsS0FBQSxTQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUEsZ0JBQUEsNEJBQUU7WUFBcEMsSUFBTSxJQUFJLFdBQUE7WUFDYixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDakMsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxRQUFRLElBQUksUUFBQyxPQUFPLENBQUMsa0JBQWtCLDBDQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUMsRUFBRTtnQkFDOUUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDNUIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDdEI7U0FDRjs7Ozs7Ozs7O0lBRUQsNkJBQ0ssT0FBTyxLQUNWLE9BQU8sU0FBQTtRQUNQLEtBQUssT0FBQSxJQUNMO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0LCBRdWVyeVBhcmFtZXRlckJhZyB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBjbG9uZVJlcXVlc3QgfSBmcm9tIFwiLi9jbG9uZVJlcXVlc3RcIjtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVIZWFkZXJzVG9RdWVyeShcbiAgcmVxdWVzdDogSHR0cFJlcXVlc3QsXG4gIG9wdGlvbnM6IHsgdW5ob2lzdGFibGVIZWFkZXJzPzogU2V0PHN0cmluZz4gfSA9IHt9XG4pOiBIdHRwUmVxdWVzdCAmIHsgcXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnIH0ge1xuICBjb25zdCB7IGhlYWRlcnMsIHF1ZXJ5ID0ge30gYXMgUXVlcnlQYXJhbWV0ZXJCYWcgfSA9XG4gICAgdHlwZW9mIChyZXF1ZXN0IGFzIGFueSkuY2xvbmUgPT09IFwiZnVuY3Rpb25cIiA/IChyZXF1ZXN0IGFzIGFueSkuY2xvbmUoKSA6IGNsb25lUmVxdWVzdChyZXF1ZXN0KTtcbiAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7XG4gICAgY29uc3QgbG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxuYW1lLnN1YnN0cigwLCA2KSA9PT0gXCJ4LWFtei1cIiAmJiAhb3B0aW9ucy51bmhvaXN0YWJsZUhlYWRlcnM/LmhhcyhsbmFtZSkpIHtcbiAgICAgIHF1ZXJ5W25hbWVdID0gaGVhZGVyc1tuYW1lXTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4ucmVxdWVzdCxcbiAgICBoZWFkZXJzLFxuICAgIHF1ZXJ5LFxuICB9O1xufVxuIl19","import { __values } from \"tslib\";\nexport function hasHeader(soughtHeader, headers) {\n    var e_1, _a;\n    soughtHeader = soughtHeader.toLowerCase();\n    try {\n        for (var _b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var headerName = _c.value;\n            if (soughtHeader === headerName.toLowerCase()) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzSGVhZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2hhc0hlYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBRUEsTUFBTSxVQUFVLFNBQVMsQ0FBQyxZQUFvQixFQUFFLE9BQWtCOztJQUNoRSxZQUFZLEdBQUcsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDOztRQUMxQyxLQUF5QixJQUFBLEtBQUEsU0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLGdCQUFBLDRCQUFFO1lBQTFDLElBQU0sVUFBVSxXQUFBO1lBQ25CLElBQUksWUFBWSxLQUFLLFVBQVUsQ0FBQyxXQUFXLEVBQUUsRUFBRTtnQkFDN0MsT0FBTyxJQUFJLENBQUM7YUFDYjtTQUNGOzs7Ozs7Ozs7SUFFRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWFkZXJCYWcgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0hlYWRlcihzb3VnaHRIZWFkZXI6IHN0cmluZywgaGVhZGVyczogSGVhZGVyQmFnKTogYm9vbGVhbiB7XG4gIHNvdWdodEhlYWRlciA9IHNvdWdodEhlYWRlci50b0xvd2VyQ2FzZSgpO1xuICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICBpZiAoc291Z2h0SGVhZGVyID09PSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cbiJdfQ==","import { __values } from \"tslib\";\nimport { escapeUri } from \"@aws-sdk/util-uri-escape\";\nimport { SIGNATURE_HEADER } from \"./constants\";\n/**\n * @internal\n */\nexport function getCanonicalQuery(_a) {\n    var e_1, _b;\n    var _c = _a.query, query = _c === void 0 ? {} : _c;\n    var keys = [];\n    var serialized = {};\n    var _loop_1 = function (key) {\n        if (key.toLowerCase() === SIGNATURE_HEADER) {\n            return \"continue\";\n        }\n        keys.push(key);\n        var value = query[key];\n        if (typeof value === \"string\") {\n            serialized[key] = escapeUri(key) + \"=\" + escapeUri(value);\n        }\n        else if (Array.isArray(value)) {\n            serialized[key] = value\n                .slice(0)\n                .sort()\n                .reduce(function (encoded, value) { return encoded.concat([escapeUri(key) + \"=\" + escapeUri(value)]); }, [])\n                .join(\"&\");\n        }\n    };\n    try {\n        for (var _d = __values(Object.keys(query).sort()), _e = _d.next(); !_e.done; _e = _d.next()) {\n            var key = _e.value;\n            _loop_1(key);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return keys\n        .map(function (key) { return serialized[key]; })\n        .filter(function (serialized) { return serialized; }) // omit any falsy values\n        .join(\"&\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2Fub25pY2FsUXVlcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZ2V0Q2Fub25pY2FsUXVlcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVyRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFL0M7O0dBRUc7QUFDSCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsRUFBMkI7O1FBQXpCLGFBQVUsRUFBVixLQUFLLG1CQUFHLEVBQUUsS0FBQTtJQUM1QyxJQUFNLElBQUksR0FBa0IsRUFBRSxDQUFDO0lBQy9CLElBQU0sVUFBVSxHQUE4QixFQUFFLENBQUM7NEJBQ3RDLEdBQUc7UUFDWixJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUUsS0FBSyxnQkFBZ0IsRUFBRTs7U0FFM0M7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQzdCLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBTSxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBRyxDQUFDO1NBQzNEO2FBQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQy9CLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLO2lCQUNwQixLQUFLLENBQUMsQ0FBQyxDQUFDO2lCQUNSLElBQUksRUFBRTtpQkFDTixNQUFNLENBQ0wsVUFBQyxPQUFzQixFQUFFLEtBQWEsSUFBSyxPQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBSSxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBRyxDQUFDLENBQUMsRUFBekQsQ0FBeUQsRUFDcEcsRUFBRSxDQUNIO2lCQUNBLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNkOzs7UUFsQkgsS0FBa0IsSUFBQSxLQUFBLFNBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxnQkFBQTtZQUF0QyxJQUFNLEdBQUcsV0FBQTtvQkFBSCxHQUFHO1NBbUJiOzs7Ozs7Ozs7SUFFRCxPQUFPLElBQUk7U0FDUixHQUFHLENBQUMsVUFBQyxHQUFHLElBQUssT0FBQSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQWYsQ0FBZSxDQUFDO1NBQzdCLE1BQU0sQ0FBQyxVQUFDLFVBQVUsSUFBSyxPQUFBLFVBQVUsRUFBVixDQUFVLENBQUMsQ0FBQyx3QkFBd0I7U0FDM0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5cbmltcG9ydCB7IFNJR05BVFVSRV9IRUFERVIgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENhbm9uaWNhbFF1ZXJ5KHsgcXVlcnkgPSB7fSB9OiBIdHRwUmVxdWVzdCk6IHN0cmluZyB7XG4gIGNvbnN0IGtleXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgY29uc3Qgc2VyaWFsaXplZDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhxdWVyeSkuc29ydCgpKSB7XG4gICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBTSUdOQVRVUkVfSEVBREVSKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gYCR7ZXNjYXBlVXJpKGtleSl9PSR7ZXNjYXBlVXJpKHZhbHVlKX1gO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbHVlXG4gICAgICAgIC5zbGljZSgwKVxuICAgICAgICAuc29ydCgpXG4gICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgKGVuY29kZWQ6IEFycmF5PHN0cmluZz4sIHZhbHVlOiBzdHJpbmcpID0+IGVuY29kZWQuY29uY2F0KFtgJHtlc2NhcGVVcmkoa2V5KX09JHtlc2NhcGVVcmkodmFsdWUpfWBdKSxcbiAgICAgICAgICBbXVxuICAgICAgICApXG4gICAgICAgIC5qb2luKFwiJlwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ga2V5c1xuICAgIC5tYXAoKGtleSkgPT4gc2VyaWFsaXplZFtrZXldKVxuICAgIC5maWx0ZXIoKHNlcmlhbGl6ZWQpID0+IHNlcmlhbGl6ZWQpIC8vIG9taXQgYW55IGZhbHN5IHZhbHVlc1xuICAgIC5qb2luKFwiJlwiKTtcbn1cbiJdfQ==","import { __assign, __awaiter, __generator, __rest } from \"tslib\";\nimport { SignatureV4 } from \"@aws-sdk/signature-v4\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\nvar S3RequestPresigner = /** @class */ (function () {\n    function S3RequestPresigner(options) {\n        var resolvedOptions = __assign({ \n            // Allow `signingName` because we want to support usecase of supply client's resolved config\n            // directly. Where service equals signingName.\n            service: options.signingName || options.service || \"s3\", uriEscapePath: options.uriEscapePath || false }, options);\n        this.signer = new SignatureV4(resolvedOptions);\n    }\n    S3RequestPresigner.prototype.presign = function (requestToSign, _a) {\n        if (_a === void 0) { _a = {}; }\n        var _b = _a.unsignableHeaders, unsignableHeaders = _b === void 0 ? new Set() : _b, _c = _a.unhoistableHeaders, unhoistableHeaders = _c === void 0 ? new Set() : _c, options = __rest(_a, [\"unsignableHeaders\", \"unhoistableHeaders\"]);\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_d) {\n                unsignableHeaders.add(\"content-type\");\n                // S3 requires SSE headers to be signed in headers instead of query\n                // See: https://github.com/aws/aws-sdk-js-v3/issues/1576\n                Object.keys(requestToSign.headers)\n                    .map(function (header) { return header.toLowerCase(); })\n                    .filter(function (header) { return header.startsWith(\"x-amz-server-side-encryption\"); })\n                    .forEach(function (header) {\n                    unhoistableHeaders.add(header);\n                });\n                requestToSign.headers[SHA256_HEADER] = UNSIGNED_PAYLOAD;\n                if (!requestToSign.headers[\"host\"]) {\n                    requestToSign.headers.host = requestToSign.hostname;\n                }\n                return [2 /*return*/, this.signer.presign(requestToSign, __assign({ expiresIn: 900, unsignableHeaders: unsignableHeaders,\n                        unhoistableHeaders: unhoistableHeaders }, options))];\n            });\n        });\n    };\n    return S3RequestPresigner;\n}());\nexport { S3RequestPresigner };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlc2lnbmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3ByZXNpZ25lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBMEMsTUFBTSx1QkFBdUIsQ0FBQztBQUk1RixPQUFPLEVBQUUsYUFBYSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sYUFBYSxDQUFDO0FBYzlEO0lBRUUsNEJBQVksT0FBa0M7UUFDNUMsSUFBTSxlQUFlO1lBQ25CLDRGQUE0RjtZQUM1Riw4Q0FBOEM7WUFDOUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxXQUFXLElBQUksT0FBTyxDQUFDLE9BQU8sSUFBSSxJQUFJLEVBQ3ZELGFBQWEsRUFBRSxPQUFPLENBQUMsYUFBYSxJQUFJLEtBQUssSUFDMUMsT0FBTyxDQUNYLENBQUM7UUFDRixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFWSxvQ0FBTyxHQUFwQixVQUNFLGFBQTJCLEVBQzNCLEVBQThHO1FBQTlHLG1CQUFBLEVBQUEsT0FBOEc7UUFBNUcsSUFBQSx5QkFBNkIsRUFBN0IsaUJBQWlCLG1CQUFHLElBQUksR0FBRyxFQUFFLEtBQUEsRUFBRSwwQkFBOEIsRUFBOUIsa0JBQWtCLG1CQUFHLElBQUksR0FBRyxFQUFFLEtBQUEsRUFBSyxPQUFPLGNBQTNFLDJDQUE2RSxDQUFGOzs7Z0JBRTNFLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDdEMsbUVBQW1FO2dCQUNuRSx3REFBd0Q7Z0JBQ3hELE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQztxQkFDL0IsR0FBRyxDQUFDLFVBQUMsTUFBTSxJQUFLLE9BQUEsTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFwQixDQUFvQixDQUFDO3FCQUNyQyxNQUFNLENBQUMsVUFBQyxNQUFNLElBQUssT0FBQSxNQUFNLENBQUMsVUFBVSxDQUFDLDhCQUE4QixDQUFDLEVBQWpELENBQWlELENBQUM7cUJBQ3JFLE9BQU8sQ0FBQyxVQUFDLE1BQU07b0JBQ2Qsa0JBQWtCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNqQyxDQUFDLENBQUMsQ0FBQztnQkFDTCxhQUFhLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxHQUFHLGdCQUFnQixDQUFDO2dCQUN4RCxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtvQkFDbEMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDLFFBQVEsQ0FBQztpQkFDckQ7Z0JBQ0Qsc0JBQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxhQUN0QyxTQUFTLEVBQUUsR0FBRyxFQUNkLGlCQUFpQixtQkFBQTt3QkFDakIsa0JBQWtCLG9CQUFBLElBQ2YsT0FBTyxFQUNWLEVBQUM7OztLQUNKO0lBQ0gseUJBQUM7QUFBRCxDQUFDLEFBckNELElBcUNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2lnbmF0dXJlVjQsIFNpZ25hdHVyZVY0Q3J5cHRvSW5pdCwgU2lnbmF0dXJlVjRJbml0IH0gZnJvbSBcIkBhd3Mtc2RrL3NpZ25hdHVyZS12NFwiO1xuaW1wb3J0IHsgUmVxdWVzdFByZXNpZ25lciwgUmVxdWVzdFByZXNpZ25pbmdBcmd1bWVudHMgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IEh0dHBSZXF1ZXN0IGFzIElIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBTSEEyNTZfSEVBREVSLCBVTlNJR05FRF9QQVlMT0FEIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogUGFydGlhbEJ5PFQsIEs+IG1ha2VzIHByb3BlcnRpZXMgc3BlY2lmaWVkIGluIEsgb3B0aW9uYWwgaW4gaW50ZXJmYWNlIFRcbiAqIHNlZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDMxNTk4ODcvbWFrZS1hLXNpbmdsZS1wcm9wZXJ0eS1vcHRpb25hbC1pbi10eXBlc2NyaXB0XG4gKiAqL1xudHlwZSBPbWl0PFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFBpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj47XG50eXBlIFBhcnRpYWxCeTxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+ICYgUGFydGlhbDxQaWNrPFQsIEs+PjtcblxuZXhwb3J0IHR5cGUgUzNSZXF1ZXN0UHJlc2lnbmVyT3B0aW9ucyA9IFBhcnRpYWxCeTxcbiAgU2lnbmF0dXJlVjRJbml0ICYgU2lnbmF0dXJlVjRDcnlwdG9Jbml0LFxuICBcInNlcnZpY2VcIiB8IFwidXJpRXNjYXBlUGF0aFwiXG4+ICYgeyBzaWduaW5nTmFtZT86IHN0cmluZyB9O1xuXG5leHBvcnQgY2xhc3MgUzNSZXF1ZXN0UHJlc2lnbmVyIGltcGxlbWVudHMgUmVxdWVzdFByZXNpZ25lciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2lnbmVyOiBTaWduYXR1cmVWNDtcbiAgY29uc3RydWN0b3Iob3B0aW9uczogUzNSZXF1ZXN0UHJlc2lnbmVyT3B0aW9ucykge1xuICAgIGNvbnN0IHJlc29sdmVkT3B0aW9ucyA9IHtcbiAgICAgIC8vIEFsbG93IGBzaWduaW5nTmFtZWAgYmVjYXVzZSB3ZSB3YW50IHRvIHN1cHBvcnQgdXNlY2FzZSBvZiBzdXBwbHkgY2xpZW50J3MgcmVzb2x2ZWQgY29uZmlnXG4gICAgICAvLyBkaXJlY3RseS4gV2hlcmUgc2VydmljZSBlcXVhbHMgc2lnbmluZ05hbWUuXG4gICAgICBzZXJ2aWNlOiBvcHRpb25zLnNpZ25pbmdOYW1lIHx8IG9wdGlvbnMuc2VydmljZSB8fCBcInMzXCIsXG4gICAgICB1cmlFc2NhcGVQYXRoOiBvcHRpb25zLnVyaUVzY2FwZVBhdGggfHwgZmFsc2UsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH07XG4gICAgdGhpcy5zaWduZXIgPSBuZXcgU2lnbmF0dXJlVjQocmVzb2x2ZWRPcHRpb25zKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBwcmVzaWduKFxuICAgIHJlcXVlc3RUb1NpZ246IElIdHRwUmVxdWVzdCxcbiAgICB7IHVuc2lnbmFibGVIZWFkZXJzID0gbmV3IFNldCgpLCB1bmhvaXN0YWJsZUhlYWRlcnMgPSBuZXcgU2V0KCksIC4uLm9wdGlvbnMgfTogUmVxdWVzdFByZXNpZ25pbmdBcmd1bWVudHMgPSB7fVxuICApOiBQcm9taXNlPElIdHRwUmVxdWVzdD4ge1xuICAgIHVuc2lnbmFibGVIZWFkZXJzLmFkZChcImNvbnRlbnQtdHlwZVwiKTtcbiAgICAvLyBTMyByZXF1aXJlcyBTU0UgaGVhZGVycyB0byBiZSBzaWduZWQgaW4gaGVhZGVycyBpbnN0ZWFkIG9mIHF1ZXJ5XG4gICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYXdzL2F3cy1zZGstanMtdjMvaXNzdWVzLzE1NzZcbiAgICBPYmplY3Qua2V5cyhyZXF1ZXN0VG9TaWduLmhlYWRlcnMpXG4gICAgICAubWFwKChoZWFkZXIpID0+IGhlYWRlci50b0xvd2VyQ2FzZSgpKVxuICAgICAgLmZpbHRlcigoaGVhZGVyKSA9PiBoZWFkZXIuc3RhcnRzV2l0aChcIngtYW16LXNlcnZlci1zaWRlLWVuY3J5cHRpb25cIikpXG4gICAgICAuZm9yRWFjaCgoaGVhZGVyKSA9PiB7XG4gICAgICAgIHVuaG9pc3RhYmxlSGVhZGVycy5hZGQoaGVhZGVyKTtcbiAgICAgIH0pO1xuICAgIHJlcXVlc3RUb1NpZ24uaGVhZGVyc1tTSEEyNTZfSEVBREVSXSA9IFVOU0lHTkVEX1BBWUxPQUQ7XG4gICAgaWYgKCFyZXF1ZXN0VG9TaWduLmhlYWRlcnNbXCJob3N0XCJdKSB7XG4gICAgICByZXF1ZXN0VG9TaWduLmhlYWRlcnMuaG9zdCA9IHJlcXVlc3RUb1NpZ24uaG9zdG5hbWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNpZ25lci5wcmVzaWduKHJlcXVlc3RUb1NpZ24sIHtcbiAgICAgIGV4cGlyZXNJbjogOTAwLFxuICAgICAgdW5zaWduYWJsZUhlYWRlcnMsXG4gICAgICB1bmhvaXN0YWJsZUhlYWRlcnMsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH0pO1xuICB9XG59XG4iXX0=","export var UNSIGNED_PAYLOAD = \"UNSIGNED-PAYLOAD\";\nexport var SHA256_HEADER = \"X-Amz-Content-Sha256\";\nexport var ALGORITHM_QUERY_PARAM = \"X-Amz-Algorithm\";\nexport var CREDENTIAL_QUERY_PARAM = \"X-Amz-Credential\";\nexport var AMZ_DATE_QUERY_PARAM = \"X-Amz-Date\";\nexport var SIGNED_HEADERS_QUERY_PARAM = \"X-Amz-SignedHeaders\";\nexport var EXPIRES_QUERY_PARAM = \"X-Amz-Expires\";\nexport var HOST_HEADER = \"host\";\nexport var ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyxrQkFBa0IsQ0FBQztBQUNuRCxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQUcsc0JBQXNCLENBQUM7QUFFcEQsTUFBTSxDQUFDLElBQU0scUJBQXFCLEdBQUcsaUJBQWlCLENBQUM7QUFDdkQsTUFBTSxDQUFDLElBQU0sc0JBQXNCLEdBQUcsa0JBQWtCLENBQUM7QUFDekQsTUFBTSxDQUFDLElBQU0sb0JBQW9CLEdBQUcsWUFBWSxDQUFDO0FBQ2pELE1BQU0sQ0FBQyxJQUFNLDBCQUEwQixHQUFHLHFCQUFxQixDQUFDO0FBQ2hFLE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLGVBQWUsQ0FBQztBQUNuRCxNQUFNLENBQUMsSUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDO0FBQ2xDLE1BQU0sQ0FBQyxJQUFNLG9CQUFvQixHQUFHLGtCQUFrQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFVOU0lHTkVEX1BBWUxPQUQgPSBcIlVOU0lHTkVELVBBWUxPQURcIjtcbmV4cG9ydCBjb25zdCBTSEEyNTZfSEVBREVSID0gXCJYLUFtei1Db250ZW50LVNoYTI1NlwiO1xuXG5leHBvcnQgY29uc3QgQUxHT1JJVEhNX1FVRVJZX1BBUkFNID0gXCJYLUFtei1BbGdvcml0aG1cIjtcbmV4cG9ydCBjb25zdCBDUkVERU5USUFMX1FVRVJZX1BBUkFNID0gXCJYLUFtei1DcmVkZW50aWFsXCI7XG5leHBvcnQgY29uc3QgQU1aX0RBVEVfUVVFUllfUEFSQU0gPSBcIlgtQW16LURhdGVcIjtcbmV4cG9ydCBjb25zdCBTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTSA9IFwiWC1BbXotU2lnbmVkSGVhZGVyc1wiO1xuZXhwb3J0IGNvbnN0IEVYUElSRVNfUVVFUllfUEFSQU0gPSBcIlgtQW16LUV4cGlyZXNcIjtcbmV4cG9ydCBjb25zdCBIT1NUX0hFQURFUiA9IFwiaG9zdFwiO1xuZXhwb3J0IGNvbnN0IEFMR09SSVRITV9JREVOVElGSUVSID0gXCJBV1M0LUhNQUMtU0hBMjU2XCI7XG4iXX0=","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { formatUrl } from \"@aws-sdk/util-format-url\";\nimport { S3RequestPresigner } from \"./presigner\";\nexport var getSignedUrl = function (client, command, options) {\n    if (options === void 0) { options = {}; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var s3Presigner, presignInterceptMiddleware, middlewareName, presigned, output;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    s3Presigner = new S3RequestPresigner(__assign({}, client.config));\n                    presignInterceptMiddleware = function (next, context) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n                        var request, presigned;\n                        var _a, _b;\n                        return __generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0:\n                                    request = args.request;\n                                    if (!HttpRequest.isInstance(request)) {\n                                        throw new Error(\"Request to be presigned is not an valid HTTP request.\");\n                                    }\n                                    // Retry information headers are not meaningful in presigned URLs\n                                    delete request.headers[\"amz-sdk-invocation-id\"];\n                                    delete request.headers[\"amz-sdk-request\"];\n                                    return [4 /*yield*/, s3Presigner.presign(request, __assign(__assign({}, options), { signingRegion: (_a = options.signingRegion) !== null && _a !== void 0 ? _a : context[\"signing_region\"], signingService: (_b = options.signingService) !== null && _b !== void 0 ? _b : context[\"signing_service\"] }))];\n                                case 1:\n                                    presigned = _c.sent();\n                                    return [2 /*return*/, {\n                                            // Intercept the middleware stack by returning fake response\n                                            response: {},\n                                            output: {\n                                                $metadata: { httpStatusCode: 200 },\n                                                presigned: presigned,\n                                            },\n                                        }];\n                            }\n                        });\n                    }); }; };\n                    middlewareName = \"presignInterceptMiddleware\";\n                    client.middlewareStack.addRelativeTo(presignInterceptMiddleware, {\n                        name: middlewareName,\n                        relation: \"before\",\n                        toMiddleware: \"awsAuthMiddleware\",\n                        override: true,\n                    });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, , 3, 4]);\n                    return [4 /*yield*/, client.send(command)];\n                case 2:\n                    output = _a.sent();\n                    //@ts-ignore the output is faked, so it's not actually OutputType\n                    presigned = output.presigned;\n                    return [3 /*break*/, 4];\n                case 3:\n                    client.middlewareStack.remove(middlewareName);\n                    return [7 /*endfinally*/];\n                case 4: return [2 /*return*/, formatUrl(presigned)];\n            }\n        });\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0U2lnbmVkVXJsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dldFNpZ25lZFVybC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBR3JELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVyRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFakQsTUFBTSxDQUFDLElBQU0sWUFBWSxHQUFHLFVBSzFCLE1BQXlELEVBQ3pELE9BQTZFLEVBQzdFLE9BQXdDO0lBQXhDLHdCQUFBLEVBQUEsWUFBd0M7Ozs7OztvQkFFbEMsV0FBVyxHQUFHLElBQUksa0JBQWtCLGNBQU0sTUFBTSxDQUFDLE1BQU0sRUFBRyxDQUFDO29CQUMzRCwwQkFBMEIsR0FBcUQsVUFBQyxJQUFJLEVBQUUsT0FBTyxJQUFLLE9BQUEsVUFDdEcsSUFBSTs7Ozs7O29DQUVJLE9BQU8sR0FBSyxJQUFJLFFBQVQsQ0FBVTtvQ0FDekIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUU7d0NBQ3BDLE1BQU0sSUFBSSxLQUFLLENBQUMsdURBQXVELENBQUMsQ0FBQztxQ0FDMUU7b0NBQ0QsaUVBQWlFO29DQUNqRSxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQztvQ0FDaEQsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7b0NBRXhCLHFCQUFNLFdBQVcsQ0FBQyxPQUFPLENBQUMsT0FBTyx3QkFDOUMsT0FBTyxLQUNWLGFBQWEsUUFBRSxPQUFPLENBQUMsYUFBYSxtQ0FBSSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFDakUsY0FBYyxRQUFFLE9BQU8sQ0FBQyxjQUFjLG1DQUFJLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxJQUNwRSxFQUFBOztvQ0FKSSxTQUFTLEdBQUcsU0FJaEI7b0NBQ0Ysc0JBQU87NENBQ0wsNERBQTREOzRDQUM1RCxRQUFRLEVBQUUsRUFBRTs0Q0FDWixNQUFNLEVBQUU7Z0RBQ04sU0FBUyxFQUFFLEVBQUUsY0FBYyxFQUFFLEdBQUcsRUFBRTtnREFDbEMsU0FBUyxXQUFBOzZDQUNWO3lDQUNLLEVBQUM7Ozt5QkFDVixFQXhCdUcsQ0F3QnZHLENBQUM7b0JBQ0ksY0FBYyxHQUFHLDRCQUE0QixDQUFDO29CQUNwRCxNQUFNLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQywwQkFBMEIsRUFBRTt3QkFDL0QsSUFBSSxFQUFFLGNBQWM7d0JBQ3BCLFFBQVEsRUFBRSxRQUFRO3dCQUNsQixZQUFZLEVBQUUsbUJBQW1CO3dCQUNqQyxRQUFRLEVBQUUsSUFBSTtxQkFDZixDQUFDLENBQUM7Ozs7b0JBSWMscUJBQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBQTs7b0JBQW5DLE1BQU0sR0FBRyxTQUEwQjtvQkFDekMsaUVBQWlFO29CQUNqRSxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQzs7O29CQUU3QixNQUFNLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQzs7d0JBR2hELHNCQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBQzs7OztDQUM3QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgQ2xpZW50LCBDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IEJ1aWxkTWlkZGxld2FyZSwgTWV0YWRhdGFCZWFyZXIsIFJlcXVlc3RQcmVzaWduaW5nQXJndW1lbnRzIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBmb3JtYXRVcmwgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1mb3JtYXQtdXJsXCI7XG5cbmltcG9ydCB7IFMzUmVxdWVzdFByZXNpZ25lciB9IGZyb20gXCIuL3ByZXNpZ25lclwiO1xuXG5leHBvcnQgY29uc3QgZ2V0U2lnbmVkVXJsID0gYXN5bmMgPFxuICBJbnB1dFR5cGVzVW5pb24gZXh0ZW5kcyBvYmplY3QsXG4gIElucHV0VHlwZSBleHRlbmRzIElucHV0VHlwZXNVbmlvbixcbiAgT3V0cHV0VHlwZSBleHRlbmRzIE1ldGFkYXRhQmVhcmVyID0gTWV0YWRhdGFCZWFyZXJcbj4oXG4gIGNsaWVudDogQ2xpZW50PGFueSwgSW5wdXRUeXBlc1VuaW9uLCBNZXRhZGF0YUJlYXJlciwgYW55PixcbiAgY29tbWFuZDogQ29tbWFuZDxJbnB1dFR5cGUsIE91dHB1dFR5cGUsIGFueSwgSW5wdXRUeXBlc1VuaW9uLCBNZXRhZGF0YUJlYXJlcj4sXG4gIG9wdGlvbnM6IFJlcXVlc3RQcmVzaWduaW5nQXJndW1lbnRzID0ge31cbik6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gIGNvbnN0IHMzUHJlc2lnbmVyID0gbmV3IFMzUmVxdWVzdFByZXNpZ25lcih7IC4uLmNsaWVudC5jb25maWcgfSk7XG4gIGNvbnN0IHByZXNpZ25JbnRlcmNlcHRNaWRkbGV3YXJlOiBCdWlsZE1pZGRsZXdhcmU8SW5wdXRUeXBlc1VuaW9uLCBNZXRhZGF0YUJlYXJlcj4gPSAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKFxuICAgIGFyZ3NcbiAgKSA9PiB7XG4gICAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICAgIGlmICghSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWVzdCB0byBiZSBwcmVzaWduZWQgaXMgbm90IGFuIHZhbGlkIEhUVFAgcmVxdWVzdC5cIik7XG4gICAgfVxuICAgIC8vIFJldHJ5IGluZm9ybWF0aW9uIGhlYWRlcnMgYXJlIG5vdCBtZWFuaW5nZnVsIGluIHByZXNpZ25lZCBVUkxzXG4gICAgZGVsZXRlIHJlcXVlc3QuaGVhZGVyc1tcImFtei1zZGstaW52b2NhdGlvbi1pZFwiXTtcbiAgICBkZWxldGUgcmVxdWVzdC5oZWFkZXJzW1wiYW16LXNkay1yZXF1ZXN0XCJdO1xuXG4gICAgY29uc3QgcHJlc2lnbmVkID0gYXdhaXQgczNQcmVzaWduZXIucHJlc2lnbihyZXF1ZXN0LCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgc2lnbmluZ1JlZ2lvbjogb3B0aW9ucy5zaWduaW5nUmVnaW9uID8/IGNvbnRleHRbXCJzaWduaW5nX3JlZ2lvblwiXSxcbiAgICAgIHNpZ25pbmdTZXJ2aWNlOiBvcHRpb25zLnNpZ25pbmdTZXJ2aWNlID8/IGNvbnRleHRbXCJzaWduaW5nX3NlcnZpY2VcIl0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIEludGVyY2VwdCB0aGUgbWlkZGxld2FyZSBzdGFjayBieSByZXR1cm5pbmcgZmFrZSByZXNwb25zZVxuICAgICAgcmVzcG9uc2U6IHt9LFxuICAgICAgb3V0cHV0OiB7XG4gICAgICAgICRtZXRhZGF0YTogeyBodHRwU3RhdHVzQ29kZTogMjAwIH0sXG4gICAgICAgIHByZXNpZ25lZCxcbiAgICAgIH0sXG4gICAgfSBhcyBhbnk7XG4gIH07XG4gIGNvbnN0IG1pZGRsZXdhcmVOYW1lID0gXCJwcmVzaWduSW50ZXJjZXB0TWlkZGxld2FyZVwiO1xuICBjbGllbnQubWlkZGxld2FyZVN0YWNrLmFkZFJlbGF0aXZlVG8ocHJlc2lnbkludGVyY2VwdE1pZGRsZXdhcmUsIHtcbiAgICBuYW1lOiBtaWRkbGV3YXJlTmFtZSxcbiAgICByZWxhdGlvbjogXCJiZWZvcmVcIixcbiAgICB0b01pZGRsZXdhcmU6IFwiYXdzQXV0aE1pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbiAgfSk7XG5cbiAgbGV0IHByZXNpZ25lZDogSHR0cFJlcXVlc3Q7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgY2xpZW50LnNlbmQoY29tbWFuZCk7XG4gICAgLy9AdHMtaWdub3JlIHRoZSBvdXRwdXQgaXMgZmFrZWQsIHNvIGl0J3Mgbm90IGFjdHVhbGx5IE91dHB1dFR5cGVcbiAgICBwcmVzaWduZWQgPSBvdXRwdXQucHJlc2lnbmVkO1xuICB9IGZpbmFsbHkge1xuICAgIGNsaWVudC5taWRkbGV3YXJlU3RhY2sucmVtb3ZlKG1pZGRsZXdhcmVOYW1lKTtcbiAgfVxuXG4gIHJldHVybiBmb3JtYXRVcmwocHJlc2lnbmVkKTtcbn07XG4iXX0=","/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { HttpResponse } from '@aws-sdk/protocol-http';\nimport { buildQueryString } from '@aws-sdk/querystring-builder';\nimport axios from 'axios';\nimport { ConsoleLogger as Logger, Platform } from '@aws-amplify/core';\nvar logger = new Logger('axios-http-handler');\nexport var SEND_UPLOAD_PROGRESS_EVENT = 'sendUploadProgress';\nexport var SEND_DOWNLOAD_PROGRESS_EVENT = 'sendDownloadProgress';\nfunction isBlob(body) {\n    return typeof Blob !== 'undefined' && body instanceof Blob;\n}\nvar normalizeHeaders = function (headers, normalizedName) {\n    var e_1, _a;\n    try {\n        for (var _b = __values(Object.entries(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _d = __read(_c.value, 2), k = _d[0], v = _d[1];\n            if (k !== normalizedName &&\n                k.toUpperCase() === normalizedName.toUpperCase()) {\n                headers[normalizedName] = v;\n                delete headers[k];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n};\nexport var reactNativeRequestTransformer = [\n    function (data, headers) {\n        if (isBlob(data)) {\n            normalizeHeaders(headers, 'Content-Type');\n            normalizeHeaders(headers, 'Accept');\n            return data;\n        }\n        // Axios' default transformRequest is an array\n        return axios.defaults.transformRequest[0].call(null, data, headers);\n    },\n];\nvar AxiosHttpHandler = /** @class */ (function () {\n    function AxiosHttpHandler(httpOptions, emitter, cancelTokenSource) {\n        if (httpOptions === void 0) { httpOptions = {}; }\n        this.httpOptions = httpOptions;\n        this.emitter = emitter;\n        this.cancelTokenSource = cancelTokenSource;\n    }\n    AxiosHttpHandler.prototype.destroy = function () {\n        // Do nothing. TLS and HTTP/2 connection pooling is handled by the\n        // browser.\n    };\n    AxiosHttpHandler.prototype.handle = function (request, options) {\n        var requestTimeoutInMs = this.httpOptions.requestTimeout;\n        var emitter = this.emitter;\n        var path = request.path;\n        if (request.query) {\n            var queryString = buildQueryString(request.query);\n            if (queryString) {\n                path += \"?\" + queryString;\n            }\n        }\n        var port = request.port;\n        var url = request.protocol + \"//\" + request.hostname + (port ? \":\" + port : '') + path;\n        var axiosRequest = {};\n        axiosRequest.url = url;\n        axiosRequest.method = request.method;\n        axiosRequest.headers = request.headers;\n        // The host header is automatically added by the browser and adding it explicitly in the\n        // axios request throws an error https://github.com/aws-amplify/amplify-js/issues/5376\n        // This is because the host header is a forbidden header for the http client to set\n        // see https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name and\n        // https://fetch.spec.whatwg.org/#forbidden-header-name\n        // The reason we are removing this header here instead of in the aws-sdk's client\n        // middleware is that the host header is required to be in the request signature and if\n        // we remove it from the middlewares, then the request fails because the header is added\n        // by the browser but is absent from the signature.\n        delete axiosRequest.headers['host'];\n        if (request.body) {\n            axiosRequest.data = request.body;\n        }\n        else {\n            // Fix for https://github.com/aws-amplify/amplify-js/issues/5432\n            // If the POST request body is empty but content-type header is set, axios is forcibly removing it\n            // See https://github.com/axios/axios/issues/1535 and refusing to fix it https://github.com/axios/axios/issues/755\n            // This change is a workaround to set the data as null (instead of undefined) to prevent axios from\n            // removing the content-type header. Link for the source code\n            // https://github.com/axios/axios/blob/dc4bc49673943e35280e5df831f5c3d0347a9393/lib/adapters/xhr.js#L121-L123\n            if (axiosRequest.headers['Content-Type']) {\n                axiosRequest.data = null;\n            }\n        }\n        if (emitter) {\n            axiosRequest.onUploadProgress = function (event) {\n                emitter.emit(SEND_UPLOAD_PROGRESS_EVENT, event);\n                logger.debug(event);\n            };\n            axiosRequest.onDownloadProgress = function (event) {\n                emitter.emit(SEND_DOWNLOAD_PROGRESS_EVENT, event);\n                logger.debug(event);\n            };\n        }\n        // If a cancel token source is passed down from the provider, allows cancellation of in-flight requests\n        if (this.cancelTokenSource) {\n            axiosRequest.cancelToken = this.cancelTokenSource.token;\n        }\n        // From gamma release, aws-sdk now expects all response type to be of blob or streams\n        axiosRequest.responseType = 'blob';\n        // In Axios, Blobs are identified by calling Object.prototype.toString on the object. However, on React Native,\n        // calling Object.prototype.toString on a Blob returns '[object Object]' instead of '[object Blob]', which causes \n        // Axios to treat Blobs as generic Javascript objects. Therefore we need a to use a custom request transformer\n        // to correctly handle Blob in React Native.\n        if (Platform.isReactNative) {\n            axiosRequest.transformRequest = reactNativeRequestTransformer;\n        }\n        var raceOfPromises = [\n            axios\n                .request(axiosRequest)\n                .then(function (response) {\n                return {\n                    response: new HttpResponse({\n                        headers: response.headers,\n                        statusCode: response.status,\n                        body: response.data,\n                    }),\n                };\n            })\n                .catch(function (error) {\n                // Error\n                logger.error(error.message);\n                throw error;\n            }),\n            requestTimeout(requestTimeoutInMs),\n        ];\n        return Promise.race(raceOfPromises);\n    };\n    return AxiosHttpHandler;\n}());\nexport { AxiosHttpHandler };\nfunction requestTimeout(timeoutInMs) {\n    if (timeoutInMs === void 0) { timeoutInMs = 0; }\n    return new Promise(function (resolve, reject) {\n        if (timeoutInMs) {\n            setTimeout(function () {\n                var timeoutError = new Error(\"Request did not complete within \" + timeoutInMs + \" ms\");\n                timeoutError.name = 'TimeoutError';\n                reject(timeoutError);\n            }, timeoutInMs);\n        }\n    });\n}\n//# sourceMappingURL=axios-http-handler.js.map","export var StorageErrorStrings;\n(function (StorageErrorStrings) {\n    StorageErrorStrings[\"NO_CREDENTIALS\"] = \"No credentials\";\n    StorageErrorStrings[\"NO_SRC_KEY\"] = \"source param should be an object with the property \\\"key\\\" with value of type string\";\n    StorageErrorStrings[\"NO_DEST_KEY\"] = \"destination param should be an object with the property \\\"key\\\" with value of type string\";\n})(StorageErrorStrings || (StorageErrorStrings = {}));\nexport var AWSS3ProviderMultipartCopierErrors;\n(function (AWSS3ProviderMultipartCopierErrors) {\n    AWSS3ProviderMultipartCopierErrors[\"CLEANUP_FAILED\"] = \"Multipart copy clean up failed\";\n    AWSS3ProviderMultipartCopierErrors[\"NO_OBJECT_FOUND\"] = \"Object does not exist\";\n    AWSS3ProviderMultipartCopierErrors[\"INVALID_QUEUESIZE\"] = \"Queue size must be a positive number\";\n    AWSS3ProviderMultipartCopierErrors[\"NO_COPYSOURCE\"] = \"You must specify a copy source\";\n    AWSS3ProviderMultipartCopierErrors[\"MAX_NUM_PARTS_EXCEEDED\"] = \"Only a maximum of 10000 parts are allowed\";\n})(AWSS3ProviderMultipartCopierErrors || (AWSS3ProviderMultipartCopierErrors = {}));\n//# sourceMappingURL=StorageErrorStrings.js.map","import { __extends } from \"tslib\";\nimport { PutObjectOutput, PutObjectRequest } from \"../models/models_0\";\nimport { deserializeAws_restXmlPutObjectCommand, serializeAws_restXmlPutObjectCommand } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { getSsecPlugin } from \"@aws-sdk/middleware-ssec\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Adds an object to a bucket. You must have WRITE permissions on a bucket to add an object\n *          to it.</p>\n *\n *\n *          <p>Amazon S3 never adds partial objects; if you receive a success response, Amazon S3 added the\n *          entire object to the bucket.</p>\n *\n *          <p>Amazon S3 is a distributed system. If it receives multiple write requests for the same object\n *          simultaneously, it overwrites all but the last object written. Amazon S3 does not provide object\n *          locking; if you need this, make sure to build it into your application layer or use\n *          versioning instead.</p>\n *\n *          <p>To ensure that data is not corrupted traversing the network, use the\n *             <code>Content-MD5</code> header. When you use this header, Amazon S3 checks the object\n *          against the provided MD5 value and, if they do not match, returns an error. Additionally,\n *          you can calculate the MD5 while putting an object to Amazon S3 and compare the returned ETag to\n *          the calculated MD5 value.</p>\n *          <note>\n *             <p> The <code>Content-MD5</code> header is required for any request to upload an object\n *             with a retention period configured using Amazon S3 Object Lock. For more information about\n *             Amazon S3 Object Lock, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/object-lock-overview.html\">Amazon S3 Object Lock Overview</a>\n *             in the <i>Amazon Simple Storage Service Developer Guide</i>. </p>\n *          </note>\n *\n *\n *          <p>\n *             <b>Server-side Encryption</b>\n *          </p>\n *          <p>You can optionally request server-side encryption. With server-side encryption, Amazon S3 encrypts your data as it writes it to disks in its data centers and decrypts the data\n *          when you access it. You have the option to provide your own encryption key or use AWS\n *          managed encryption keys (SSE-S3 or SSE-KMS). For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html\">Using Server-Side\n *             Encryption</a>.</p>\n *          <p>If you request server-side encryption using AWS Key Management Service (SSE-KMS), you can enable an S3 Bucket Key at the object-level. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/bucket-key.html\">Amazon S3 Bucket Keys</a> in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *          <p>\n *             <b>Access Control List (ACL)-Specific Request\n *          Headers</b>\n *          </p>\n *          <p>You can use headers to grant ACL- based permissions. By default, all objects are\n *          private. Only the owner has full access control. When adding a new object, you can grant\n *          permissions to individual AWS accounts or to predefined groups defined by Amazon S3. These\n *          permissions are then added to the ACL on the object. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html\">Access Control List\n *             (ACL) Overview</a> and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-using-rest-api.html\">Managing ACLs Using the REST\n *             API</a>. </p>\n *\n *          <p>\n *             <b>Storage Class Options</b>\n *          </p>\n *          <p>By default, Amazon S3 uses the STANDARD Storage Class to store newly created objects. The\n *          STANDARD storage class provides high durability and high availability. Depending on\n *          performance needs, you can specify a different Storage Class. Amazon S3 on Outposts only uses\n *          the OUTPOSTS Storage Class. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-class-intro.html\">Storage Classes</a> in the <i>Amazon S3\n *             Service Developer Guide</i>.</p>\n *\n *\n *          <p>\n *             <b>Versioning</b>\n *          </p>\n *          <p>If you enable versioning for a bucket, Amazon S3 automatically generates a unique version ID\n *          for the object being stored. Amazon S3 returns this ID in the response. When you enable\n *          versioning for a bucket, if Amazon S3 receives multiple write requests for the same object\n *          simultaneously, it stores all of the objects.</p>\n *          <p>For more information about versioning, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/AddingObjectstoVersioningEnabledBuckets.html\">Adding Objects to\n *             Versioning Enabled Buckets</a>. For information about returning the versioning state\n *          of a bucket, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketVersioning.html\">GetBucketVersioning</a>. </p>\n *\n *\n *          <p class=\"title\">\n *             <b>Related Resources</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CopyObject.html\">CopyObject</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteObject.html\">DeleteObject</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar PutObjectCommand = /** @class */ (function (_super) {\n    __extends(PutObjectCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function PutObjectCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    PutObjectCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getSsecPlugin(configuration));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"PutObjectCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: PutObjectRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: PutObjectOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    PutObjectCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlPutObjectCommand(input, context);\n    };\n    PutObjectCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlPutObjectCommand(output, context);\n    };\n    return PutObjectCommand;\n}($Command));\nexport { PutObjectCommand };\n//# sourceMappingURL=PutObjectCommand.js.map","import { __assign } from \"tslib\";\nimport { Encryption, } from \"./models_0\";\nimport { SENSITIVE_STRING } from \"@aws-sdk/smithy-client\";\nexport var MetadataEntry;\n(function (MetadataEntry) {\n    MetadataEntry.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(MetadataEntry || (MetadataEntry = {}));\nexport var S3Location;\n(function (S3Location) {\n    S3Location.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Encryption && { Encryption: Encryption.filterSensitiveLog(obj.Encryption) }))); };\n})(S3Location || (S3Location = {}));\nexport var OutputLocation;\n(function (OutputLocation) {\n    OutputLocation.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.S3 && { S3: S3Location.filterSensitiveLog(obj.S3) }))); };\n})(OutputLocation || (OutputLocation = {}));\nexport var FileHeaderInfo;\n(function (FileHeaderInfo) {\n    FileHeaderInfo[\"IGNORE\"] = \"IGNORE\";\n    FileHeaderInfo[\"NONE\"] = \"NONE\";\n    FileHeaderInfo[\"USE\"] = \"USE\";\n})(FileHeaderInfo || (FileHeaderInfo = {}));\nexport var CSVInput;\n(function (CSVInput) {\n    CSVInput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CSVInput || (CSVInput = {}));\nexport var JSONType;\n(function (JSONType) {\n    JSONType[\"DOCUMENT\"] = \"DOCUMENT\";\n    JSONType[\"LINES\"] = \"LINES\";\n})(JSONType || (JSONType = {}));\nexport var JSONInput;\n(function (JSONInput) {\n    JSONInput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(JSONInput || (JSONInput = {}));\nexport var ParquetInput;\n(function (ParquetInput) {\n    ParquetInput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ParquetInput || (ParquetInput = {}));\nexport var InputSerialization;\n(function (InputSerialization) {\n    InputSerialization.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(InputSerialization || (InputSerialization = {}));\nexport var QuoteFields;\n(function (QuoteFields) {\n    QuoteFields[\"ALWAYS\"] = \"ALWAYS\";\n    QuoteFields[\"ASNEEDED\"] = \"ASNEEDED\";\n})(QuoteFields || (QuoteFields = {}));\nexport var CSVOutput;\n(function (CSVOutput) {\n    CSVOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CSVOutput || (CSVOutput = {}));\nexport var JSONOutput;\n(function (JSONOutput) {\n    JSONOutput.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(JSONOutput || (JSONOutput = {}));\nexport var OutputSerialization;\n(function (OutputSerialization) {\n    OutputSerialization.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(OutputSerialization || (OutputSerialization = {}));\nexport var SelectParameters;\n(function (SelectParameters) {\n    SelectParameters.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(SelectParameters || (SelectParameters = {}));\nexport var RestoreRequestType;\n(function (RestoreRequestType) {\n    RestoreRequestType[\"SELECT\"] = \"SELECT\";\n})(RestoreRequestType || (RestoreRequestType = {}));\nexport var RestoreRequest;\n(function (RestoreRequest) {\n    RestoreRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.OutputLocation && { OutputLocation: OutputLocation.filterSensitiveLog(obj.OutputLocation) }))); };\n})(RestoreRequest || (RestoreRequest = {}));\nexport var RestoreObjectRequest;\n(function (RestoreObjectRequest) {\n    RestoreObjectRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.RestoreRequest && { RestoreRequest: RestoreRequest.filterSensitiveLog(obj.RestoreRequest) }))); };\n})(RestoreObjectRequest || (RestoreObjectRequest = {}));\nexport var ContinuationEvent;\n(function (ContinuationEvent) {\n    ContinuationEvent.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ContinuationEvent || (ContinuationEvent = {}));\nexport var EndEvent;\n(function (EndEvent) {\n    EndEvent.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(EndEvent || (EndEvent = {}));\nexport var Progress;\n(function (Progress) {\n    Progress.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Progress || (Progress = {}));\nexport var ProgressEvent;\n(function (ProgressEvent) {\n    ProgressEvent.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ProgressEvent || (ProgressEvent = {}));\nexport var RecordsEvent;\n(function (RecordsEvent) {\n    RecordsEvent.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(RecordsEvent || (RecordsEvent = {}));\nexport var Stats;\n(function (Stats) {\n    Stats.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(Stats || (Stats = {}));\nexport var StatsEvent;\n(function (StatsEvent) {\n    StatsEvent.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(StatsEvent || (StatsEvent = {}));\nexport var SelectObjectContentEventStream;\n(function (SelectObjectContentEventStream) {\n    SelectObjectContentEventStream.visit = function (value, visitor) {\n        if (value.Records !== undefined)\n            return visitor.Records(value.Records);\n        if (value.Stats !== undefined)\n            return visitor.Stats(value.Stats);\n        if (value.Progress !== undefined)\n            return visitor.Progress(value.Progress);\n        if (value.Cont !== undefined)\n            return visitor.Cont(value.Cont);\n        if (value.End !== undefined)\n            return visitor.End(value.End);\n        return visitor._(value.$unknown[0], value.$unknown[1]);\n    };\n    SelectObjectContentEventStream.filterSensitiveLog = function (obj) {\n        var _a;\n        if (obj.Records !== undefined)\n            return { Records: RecordsEvent.filterSensitiveLog(obj.Records) };\n        if (obj.Stats !== undefined)\n            return { Stats: StatsEvent.filterSensitiveLog(obj.Stats) };\n        if (obj.Progress !== undefined)\n            return { Progress: ProgressEvent.filterSensitiveLog(obj.Progress) };\n        if (obj.Cont !== undefined)\n            return { Cont: ContinuationEvent.filterSensitiveLog(obj.Cont) };\n        if (obj.End !== undefined)\n            return { End: EndEvent.filterSensitiveLog(obj.End) };\n        if (obj.$unknown !== undefined)\n            return _a = {}, _a[obj.$unknown[0]] = \"UNKNOWN\", _a;\n    };\n})(SelectObjectContentEventStream || (SelectObjectContentEventStream = {}));\nexport var SelectObjectContentOutput;\n(function (SelectObjectContentOutput) {\n    SelectObjectContentOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.Payload && { Payload: \"STREAMING_CONTENT\" }))); };\n})(SelectObjectContentOutput || (SelectObjectContentOutput = {}));\nexport var RequestProgress;\n(function (RequestProgress) {\n    RequestProgress.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(RequestProgress || (RequestProgress = {}));\nexport var ScanRange;\n(function (ScanRange) {\n    ScanRange.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(ScanRange || (ScanRange = {}));\nexport var SelectObjectContentRequest;\n(function (SelectObjectContentRequest) {\n    SelectObjectContentRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSECustomerKey && { SSECustomerKey: SENSITIVE_STRING }))); };\n})(SelectObjectContentRequest || (SelectObjectContentRequest = {}));\nexport var UploadPartOutput;\n(function (UploadPartOutput) {\n    UploadPartOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING }))); };\n})(UploadPartOutput || (UploadPartOutput = {}));\nexport var UploadPartRequest;\n(function (UploadPartRequest) {\n    UploadPartRequest.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSECustomerKey && { SSECustomerKey: SENSITIVE_STRING }))); };\n})(UploadPartRequest || (UploadPartRequest = {}));\nexport var CopyPartResult;\n(function (CopyPartResult) {\n    CopyPartResult.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n})(CopyPartResult || (CopyPartResult = {}));\nexport var UploadPartCopyOutput;\n(function (UploadPartCopyOutput) {\n    UploadPartCopyOutput.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.SSEKMSKeyId && { SSEKMSKeyId: SENSITIVE_STRING }))); };\n})(UploadPartCopyOutput || (UploadPartCopyOutput = {}));\nexport var UploadPartCopyRequest;\n(function (UploadPartCopyRequest) {\n    UploadPartCopyRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.SSECustomerKey && { SSECustomerKey: SENSITIVE_STRING })), (obj.CopySourceSSECustomerKey && { CopySourceSSECustomerKey: SENSITIVE_STRING }))); };\n})(UploadPartCopyRequest || (UploadPartCopyRequest = {}));\n//# sourceMappingURL=models_1.js.map","import { __extends } from \"tslib\";\nimport { CreateMultipartUploadOutput, CreateMultipartUploadRequest } from \"../models/models_0\";\nimport { deserializeAws_restXmlCreateMultipartUploadCommand, serializeAws_restXmlCreateMultipartUploadCommand, } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { getSsecPlugin } from \"@aws-sdk/middleware-ssec\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>This operation initiates a multipart upload and returns an upload ID. This upload ID is\n *          used to associate all of the parts in the specific multipart upload. You specify this\n *          upload ID in each of your subsequent upload part requests (see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPart.html\">UploadPart</a>). You also include this\n *          upload ID in the final request to either complete or abort the multipart upload\n *          request.</p>\n *\n *          <p>For more information about multipart uploads, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html\">Multipart Upload Overview</a>.</p>\n *\n *          <p>If you have configured a lifecycle rule to abort incomplete multipart uploads, the\n *          upload must complete within the number of days specified in the bucket lifecycle\n *          configuration. Otherwise, the incomplete multipart upload becomes eligible for an abort\n *          operation and Amazon S3 aborts the multipart upload. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html#mpu-abort-incomplete-mpu-lifecycle-config\">Aborting\n *             Incomplete Multipart Uploads Using a Bucket Lifecycle Policy</a>.</p>\n *\n *          <p>For information about the permissions required to use the multipart upload API, see\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuAndPermissions.html\">Multipart Upload API and\n *             Permissions</a>.</p>\n *\n *          <p>For request signing, multipart upload is just a series of regular requests. You initiate\n *          a multipart upload, send one or more requests to upload parts, and then complete the\n *          multipart upload process. You sign each request individually. There is nothing special\n *          about signing multipart upload requests. For more information about signing, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html\">Authenticating\n *             Requests (AWS Signature Version 4)</a>.</p>\n *\n *          <note>\n *             <p> After you initiate a multipart upload and upload one or more parts, to stop being\n *             charged for storing the uploaded parts, you must either complete or abort the multipart\n *             upload. Amazon S3 frees up the space used to store the parts and stop charging you for\n *             storing them only after you either complete or abort a multipart upload. </p>\n *          </note>\n *\n *          <p>You can optionally request server-side encryption. For server-side encryption, Amazon S3\n *          encrypts your data as it writes it to disks in its data centers and decrypts it when you\n *          access it. You can provide your own encryption key, or use AWS Key Management Service (AWS\n *          KMS) customer master keys (CMKs) or Amazon S3-managed encryption keys. If you choose to provide\n *          your own encryption key, the request headers you provide in <a href=\"AmazonS3/latest/API/API_UploadPart.html\">UploadPart</a> and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPartCopy.html\">UploadPartCopy</a> requests must match the headers you used in the request to\n *          initiate the upload by using <code>CreateMultipartUpload</code>. </p>\n *          <p>To perform a multipart upload with encryption using an AWS KMS CMK, the requester must\n *          have permission to the <code>kms:Encrypt</code>, <code>kms:Decrypt</code>,\n *             <code>kms:ReEncrypt*</code>, <code>kms:GenerateDataKey*</code>, and\n *             <code>kms:DescribeKey</code> actions on the key. These permissions are required because\n *          Amazon S3 must decrypt and read data from the encrypted file parts before it completes the\n *          multipart upload.</p>\n *\n *          <p>If your AWS Identity and Access Management (IAM) user or role is in the same AWS account\n *          as the AWS KMS CMK, then you must have these permissions on the key policy. If your IAM\n *          user or role belongs to a different account than the key, then you must have the\n *          permissions on both the key policy and your IAM user or role.</p>\n *\n *\n *          <p> For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html\">Protecting\n *             Data Using Server-Side Encryption</a>.</p>\n *\n *          <dl>\n *             <dt>Access Permissions</dt>\n *             <dd>\n *                <p>When copying an object, you can optionally specify the accounts or groups that\n *                   should be granted specific permissions on the new object. There are two ways to\n *                   grant the permissions using the request headers:</p>\n *                <ul>\n *                   <li>\n *                      <p>Specify a canned ACL with the <code>x-amz-acl</code> request header. For\n *                         more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#CannedACL\">Canned ACL</a>.</p>\n *                   </li>\n *                   <li>\n *                      <p>Specify access permissions explicitly with the\n *                            <code>x-amz-grant-read</code>, <code>x-amz-grant-read-acp</code>,\n *                            <code>x-amz-grant-write-acp</code>, and\n *                            <code>x-amz-grant-full-control</code> headers. These parameters map to\n *                         the set of permissions that Amazon S3 supports in an ACL. For more information,\n *                         see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html\">Access Control List (ACL)\n *                            Overview</a>.</p>\n *                   </li>\n *                </ul>\n *                <p>You can use either a canned ACL or specify access permissions explicitly. You\n *                   cannot do both.</p>\n *             </dd>\n *             <dt>Server-Side- Encryption-Specific Request Headers</dt>\n *             <dd>\n *                <p>You can optionally tell Amazon S3 to encrypt data at rest using server-side\n *                   encryption. Server-side encryption is for data encryption at rest. Amazon S3 encrypts\n *                   your data as it writes it to disks in its data centers and decrypts it when you\n *                   access it. The option you use depends on whether you want to use AWS managed\n *                   encryption keys or provide your own encryption key. </p>\n *                <ul>\n *                   <li>\n *                      <p>Use encryption keys managed by Amazon S3 or customer master keys (CMKs) stored\n *                         in AWS Key Management Service (AWS KMS)  If you want AWS to manage the keys\n *                         used to encrypt data, specify the following headers in the request.</p>\n *                      <ul>\n *                         <li>\n *                            <p>x-amz-server-side-encryption</p>\n *                         </li>\n *                         <li>\n *                            <p>x-amz-server-side-encryption-aws-kms-key-id</p>\n *                         </li>\n *                         <li>\n *                            <p>x-amz-server-side-encryption-context</p>\n *                         </li>\n *                      </ul>\n *                      <note>\n *                         <p>If you specify <code>x-amz-server-side-encryption:aws:kms</code>, but\n *                            don't provide <code>x-amz-server-side-encryption-aws-kms-key-id</code>,\n *                            Amazon S3 uses the AWS managed CMK in AWS KMS to protect the data.</p>\n *                      </note>\n *                      <important>\n *                         <p>All GET and PUT requests for an object protected by AWS KMS fail if\n *                            you don't make them with SSL or by using SigV4.</p>\n *                      </important>\n *                      <p>For more information about server-side encryption with CMKs stored in AWS\n *                         KMS (SSE-KMS), see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html\">Protecting Data Using Server-Side Encryption with CMKs stored in AWS\n *                            KMS</a>.</p>\n *                   </li>\n *                   <li>\n *                      <p>Use customer-provided encryption keys  If you want to manage your own\n *                         encryption keys, provide all the following headers in the request.</p>\n *                      <ul>\n *                         <li>\n *                            <p>x-amz-server-side-encryption-customer-algorithm</p>\n *                         </li>\n *                         <li>\n *                            <p>x-amz-server-side-encryption-customer-key</p>\n *                         </li>\n *                         <li>\n *                            <p>x-amz-server-side-encryption-customer-key-MD5</p>\n *                         </li>\n *                      </ul>\n *                      <p>For more information about server-side encryption with CMKs stored in AWS\n *                         KMS (SSE-KMS), see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html\">Protecting Data Using Server-Side Encryption with CMKs stored in AWS\n *                            KMS</a>.</p>\n *                   </li>\n *                </ul>\n *             </dd>\n *             <dt>Access-Control-List (ACL)-Specific Request Headers</dt>\n *             <dd>\n *                <p>You also can use the following access controlrelated headers with this\n *                   operation. By default, all objects are private. Only the owner has full access\n *                   control. When adding a new object, you can grant permissions to individual AWS\n *                   accounts or to predefined groups defined by Amazon S3. These permissions are then added\n *                   to the access control list (ACL) on the object. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/S3_ACLs_UsingACLs.html\">Using ACLs</a>. With this\n *                   operation, you can grant access permissions using one of the following two\n *                   methods:</p>\n *                <ul>\n *                   <li>\n *                      <p>Specify a canned ACL (<code>x-amz-acl</code>)  Amazon S3 supports a set of\n *                         predefined ACLs, known as <i>canned ACLs</i>. Each canned ACL\n *                         has a predefined set of grantees and permissions. For more information, see\n *                            <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#CannedACL\">Canned\n *                         ACL</a>.</p>\n *                   </li>\n *                   <li>\n *                      <p>Specify access permissions explicitly  To explicitly grant access\n *                         permissions to specific AWS accounts or groups, use the following headers.\n *                         Each header maps to specific permissions that Amazon S3 supports in an ACL. For\n *                         more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html\">Access\n *                            Control List (ACL) Overview</a>. In the header, you specify a list of\n *                         grantees who get the specific permission. To grant permissions explicitly,\n *                         use:</p>\n *                      <ul>\n *                         <li>\n *                            <p>x-amz-grant-read</p>\n *                         </li>\n *                         <li>\n *                            <p>x-amz-grant-write</p>\n *                         </li>\n *                         <li>\n *                            <p>x-amz-grant-read-acp</p>\n *                         </li>\n *                         <li>\n *                            <p>x-amz-grant-write-acp</p>\n *                         </li>\n *                         <li>\n *                            <p>x-amz-grant-full-control</p>\n *                         </li>\n *                      </ul>\n *                      <p>You specify each grantee as a type=value pair, where the type is one of\n *                         the following:</p>\n *                      <ul>\n *                         <li>\n *                            <p>\n *                               <code>id</code>  if the value specified is the canonical user ID\n *                               of an AWS account</p>\n *                         </li>\n *                         <li>\n *                            <p>\n *                               <code>uri</code>  if you are granting permissions to a predefined\n *                               group</p>\n *                         </li>\n *                         <li>\n *                            <p>\n *                               <code>emailAddress</code>  if the value specified is the email\n *                               address of an AWS account</p>\n *                            <note>\n *                               <p>Using email addresses to specify a grantee is only supported in the following AWS Regions: </p>\n *                               <ul>\n *                                  <li>\n *                                     <p>US East (N. Virginia)</p>\n *                                  </li>\n *                                  <li>\n *                                     <p>US West (N. California)</p>\n *                                  </li>\n *                                  <li>\n *                                     <p> US West (Oregon)</p>\n *                                  </li>\n *                                  <li>\n *                                     <p> Asia Pacific (Singapore)</p>\n *                                  </li>\n *                                  <li>\n *                                     <p>Asia Pacific (Sydney)</p>\n *                                  </li>\n *                                  <li>\n *                                     <p>Asia Pacific (Tokyo)</p>\n *                                  </li>\n *                                  <li>\n *                                     <p>Europe (Ireland)</p>\n *                                  </li>\n *                                  <li>\n *                                     <p>South America (So Paulo)</p>\n *                                  </li>\n *                               </ul>\n *                               <p>For a list of all the Amazon S3 supported Regions and endpoints, see <a href=\"https://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region\">Regions and Endpoints</a> in the AWS General Reference.</p>\n *                            </note>\n *                         </li>\n *                      </ul>\n *                      <p>For example, the following <code>x-amz-grant-read</code> header grants the AWS accounts identified by account IDs permissions to read object data and its metadata:</p>\n *                      <p>\n *                         <code>x-amz-grant-read: id=\"11112222333\", id=\"444455556666\" </code>\n *                      </p>\n *                   </li>\n *                </ul>\n *\n *             </dd>\n *          </dl>\n *\n *          <p>The following operations are related to <code>CreateMultipartUpload</code>:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPart.html\">UploadPart</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CompleteMultipartUpload.html\">CompleteMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_AbortMultipartUpload.html\">AbortMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListParts.html\">ListParts</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListMultipartUploads.html\">ListMultipartUploads</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar CreateMultipartUploadCommand = /** @class */ (function (_super) {\n    __extends(CreateMultipartUploadCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function CreateMultipartUploadCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    CreateMultipartUploadCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getSsecPlugin(configuration));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"CreateMultipartUploadCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: CreateMultipartUploadRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: CreateMultipartUploadOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    CreateMultipartUploadCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlCreateMultipartUploadCommand(input, context);\n    };\n    CreateMultipartUploadCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlCreateMultipartUploadCommand(output, context);\n    };\n    return CreateMultipartUploadCommand;\n}($Command));\nexport { CreateMultipartUploadCommand };\n//# sourceMappingURL=CreateMultipartUploadCommand.js.map","import { __extends } from \"tslib\";\nimport { UploadPartOutput, UploadPartRequest } from \"../models/models_1\";\nimport { deserializeAws_restXmlUploadPartCommand, serializeAws_restXmlUploadPartCommand, } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { getSsecPlugin } from \"@aws-sdk/middleware-ssec\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Uploads a part in a multipart upload.</p>\n *          <note>\n *             <p>In this operation, you provide part data in your request. However, you have an option\n *             to specify your existing Amazon S3 object as a data source for the part you are uploading. To\n *             upload a part from an existing object, you use the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPartCopy.html\">UploadPartCopy</a> operation.\n *          </p>\n *          </note>\n *\n *          <p>You must initiate a multipart upload (see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>)\n *          before you can upload any part. In response to your initiate request, Amazon S3 returns an\n *          upload ID, a unique identifier, that you must include in your upload part request.</p>\n *          <p>Part numbers can be any number from 1 to 10,000, inclusive. A part number uniquely\n *          identifies a part and also defines its position within the object being created. If you\n *          upload a new part using the same part number that was used with a previous part, the\n *          previously uploaded part is overwritten. Each part must be at least 5 MB in size, except\n *          the last part. There is no size limit on the last part of your multipart upload.</p>\n *          <p>To ensure that data is not corrupted when traversing the network, specify the\n *             <code>Content-MD5</code> header in the upload part request. Amazon S3 checks the part data\n *          against the provided MD5 value. If they do not match, Amazon S3 returns an error. </p>\n *\n *          <p>If the upload request is signed with Signature Version 4, then AWS S3 uses the\n *             <code>x-amz-content-sha256</code> header as a checksum instead of\n *             <code>Content-MD5</code>. For more information see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-auth-using-authorization-header.html\">Authenticating Requests: Using the Authorization Header (AWS Signature Version\n *             4)</a>. </p>\n *\n *\n *\n *          <p>\n *             <b>Note:</b> After you initiate multipart upload and upload\n *          one or more parts, you must either complete or abort multipart upload in order to stop\n *          getting charged for storage of the uploaded parts. Only after you either complete or abort\n *          multipart upload, Amazon S3 frees up the parts storage and stops charging you for the parts\n *          storage.</p>\n *\n *          <p>For more information on multipart uploads, go to <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuoverview.html\">Multipart Upload Overview</a> in the\n *             <i>Amazon Simple Storage Service Developer Guide </i>.</p>\n *          <p>For information on the permissions required to use the multipart upload API, go to\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuAndPermissions.html\">Multipart Upload API and\n *             Permissions</a> in the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *\n *          <p>You can optionally request server-side encryption where Amazon S3 encrypts your data as it\n *          writes it to disks in its data centers and decrypts it for you when you access it. You have\n *          the option of providing your own encryption key, or you can use the AWS managed encryption\n *          keys. If you choose to provide your own encryption key, the request headers you provide in\n *          the request must match the headers you used in the request to initiate the upload by using\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>. For more information, go to <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html\">Using Server-Side Encryption</a> in\n *          the <i>Amazon Simple Storage Service Developer Guide</i>.</p>\n *\n *          <p>Server-side encryption is supported by the S3 Multipart Upload actions. Unless you are\n *          using a customer-provided encryption key, you don't need to specify the encryption\n *          parameters in each UploadPart request. Instead, you only need to specify the server-side\n *          encryption parameters in the initial Initiate Multipart request. For more information, see\n *             <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>.</p>\n *\n *          <p>If you requested server-side encryption using a customer-provided encryption key in your\n *          initiate multipart upload request, you must provide identical encryption information in\n *          each part upload using the following headers.</p>\n *\n *\n *          <ul>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-algorithm</p>\n *             </li>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-key</p>\n *             </li>\n *             <li>\n *                <p>x-amz-server-side-encryption-customer-key-MD5</p>\n *             </li>\n *          </ul>\n *\n *          <p class=\"title\">\n *             <b>Special Errors</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <ul>\n *                   <li>\n *                      <p>\n *                         <i>Code: NoSuchUpload</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>Cause: The specified multipart upload does not exist. The upload\n *                         ID might be invalid, or the multipart upload might have been aborted or\n *                         completed.</i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i> HTTP Status Code: 404 Not Found </i>\n *                      </p>\n *                   </li>\n *                   <li>\n *                      <p>\n *                         <i>SOAP Fault Code Prefix: Client</i>\n *                      </p>\n *                   </li>\n *                </ul>\n *             </li>\n *          </ul>\n *\n *\n *\n *\n *\n *\n *          <p class=\"title\">\n *             <b>Related Resources</b>\n *          </p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CompleteMultipartUpload.html\">CompleteMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_AbortMultipartUpload.html\">AbortMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListParts.html\">ListParts</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListMultipartUploads.html\">ListMultipartUploads</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar UploadPartCommand = /** @class */ (function (_super) {\n    __extends(UploadPartCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function UploadPartCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    UploadPartCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getSsecPlugin(configuration));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"UploadPartCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: UploadPartRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: UploadPartOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    UploadPartCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlUploadPartCommand(input, context);\n    };\n    UploadPartCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlUploadPartCommand(output, context);\n    };\n    return UploadPartCommand;\n}($Command));\nexport { UploadPartCommand };\n//# sourceMappingURL=UploadPartCommand.js.map","import { __extends } from \"tslib\";\nimport { CompleteMultipartUploadOutput, CompleteMultipartUploadRequest } from \"../models/models_0\";\nimport { deserializeAws_restXmlCompleteMultipartUploadCommand, serializeAws_restXmlCompleteMultipartUploadCommand, } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getThrow200ExceptionsPlugin } from \"@aws-sdk/middleware-sdk-s3\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Completes a multipart upload by assembling previously uploaded parts.</p>\n *          <p>You first initiate the multipart upload and then upload all parts using the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPart.html\">UploadPart</a>\n *          operation. After successfully uploading all relevant parts of an upload, you call this\n *          operation to complete the upload. Upon receiving this request, Amazon S3 concatenates all\n *          the parts in ascending order by part number to create a new object. In the Complete\n *          Multipart Upload request, you must provide the parts list. You must ensure that the parts\n *          list is complete. This operation concatenates the parts that you provide in the list. For\n *          each part in the list, you must provide the part number and the <code>ETag</code> value,\n *          returned after that part was uploaded.</p>\n *          <p>Processing of a Complete Multipart Upload request could take several minutes to\n *          complete. After Amazon S3 begins processing the request, it sends an HTTP response header that\n *          specifies a 200 OK response. While processing is in progress, Amazon S3 periodically sends white\n *          space characters to keep the connection from timing out. Because a request could fail after\n *          the initial 200 OK response has been sent, it is important that you check the response body\n *          to determine whether the request succeeded.</p>\n *          <p>Note that if <code>CompleteMultipartUpload</code> fails, applications should be prepared\n *          to retry the failed requests. For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/ErrorBestPractices.html\">Amazon S3 Error Best Practices</a>.</p>\n *          <p>For more information about multipart uploads, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/uploadobjusingmpu.html\">Uploading Objects Using Multipart\n *             Upload</a>.</p>\n *          <p>For information about permissions required to use the multipart upload API, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuAndPermissions.html\">Multipart Upload API and\n *          Permissions</a>.</p>\n *\n *\n *          <p>\n *             <code>CompleteMultipartUpload</code> has the following special errors:</p>\n *          <ul>\n *             <li>\n *                <p>Error code: <code>EntityTooSmall</code>\n *                </p>\n *                <ul>\n *                   <li>\n *                      <p>Description: Your proposed upload is smaller than the minimum allowed object\n *                      size. Each part must be at least 5 MB in size, except the last part.</p>\n *                   </li>\n *                   <li>\n *                      <p>400 Bad Request</p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p>Error code: <code>InvalidPart</code>\n *                </p>\n *                <ul>\n *                   <li>\n *                      <p>Description: One or more of the specified parts could not be found. The part\n *                      might not have been uploaded, or the specified entity tag might not have\n *                      matched the part's entity tag.</p>\n *                   </li>\n *                   <li>\n *                      <p>400 Bad Request</p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p>Error code: <code>InvalidPartOrder</code>\n *                </p>\n *                <ul>\n *                   <li>\n *                      <p>Description: The list of parts was not in ascending order. The parts list\n *                      must be specified in order by part number.</p>\n *                   </li>\n *                   <li>\n *                      <p>400 Bad Request</p>\n *                   </li>\n *                </ul>\n *             </li>\n *             <li>\n *                <p>Error code: <code>NoSuchUpload</code>\n *                </p>\n *                <ul>\n *                   <li>\n *                      <p>Description: The specified multipart upload does not exist. The upload ID\n *                      might be invalid, or the multipart upload might have been aborted or\n *                      completed.</p>\n *                   </li>\n *                   <li>\n *                      <p>404 Not Found</p>\n *                   </li>\n *                </ul>\n *             </li>\n *          </ul>\n *\n *          <p>The following operations are related to <code>CompleteMultipartUpload</code>:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPart.html\">UploadPart</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_AbortMultipartUpload.html\">AbortMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListParts.html\">ListParts</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListMultipartUploads.html\">ListMultipartUploads</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar CompleteMultipartUploadCommand = /** @class */ (function (_super) {\n    __extends(CompleteMultipartUploadCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function CompleteMultipartUploadCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    CompleteMultipartUploadCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getThrow200ExceptionsPlugin(configuration));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"CompleteMultipartUploadCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: CompleteMultipartUploadRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: CompleteMultipartUploadOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    CompleteMultipartUploadCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlCompleteMultipartUploadCommand(input, context);\n    };\n    CompleteMultipartUploadCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlCompleteMultipartUploadCommand(output, context);\n    };\n    return CompleteMultipartUploadCommand;\n}($Command));\nexport { CompleteMultipartUploadCommand };\n//# sourceMappingURL=CompleteMultipartUploadCommand.js.map","import { __extends } from \"tslib\";\nimport { AbortMultipartUploadOutput, AbortMultipartUploadRequest } from \"../models/models_0\";\nimport { deserializeAws_restXmlAbortMultipartUploadCommand, serializeAws_restXmlAbortMultipartUploadCommand, } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>This operation aborts a multipart upload. After a multipart upload is aborted, no\n *          additional parts can be uploaded using that upload ID. The storage consumed by any\n *          previously uploaded parts will be freed. However, if any part uploads are currently in\n *          progress, those part uploads might or might not succeed. As a result, it might be necessary\n *          to abort a given multipart upload multiple times in order to completely free all storage\n *          consumed by all parts. </p>\n *          <p>To verify that all parts have been removed, so you don't get charged for the part\n *          storage, you should call the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListParts.html\">ListParts</a> operation and ensure that\n *          the parts list is empty.</p>\n *          <p>For information about permissions required to use the multipart upload API, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuAndPermissions.html\">Multipart Upload API and\n *          Permissions</a>.</p>\n *          <p>The following operations are related to <code>AbortMultipartUpload</code>:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPart.html\">UploadPart</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CompleteMultipartUpload.html\">CompleteMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListParts.html\">ListParts</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListMultipartUploads.html\">ListMultipartUploads</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar AbortMultipartUploadCommand = /** @class */ (function (_super) {\n    __extends(AbortMultipartUploadCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function AbortMultipartUploadCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    AbortMultipartUploadCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"AbortMultipartUploadCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: AbortMultipartUploadRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: AbortMultipartUploadOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    AbortMultipartUploadCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlAbortMultipartUploadCommand(input, context);\n    };\n    AbortMultipartUploadCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlAbortMultipartUploadCommand(output, context);\n    };\n    return AbortMultipartUploadCommand;\n}($Command));\nexport { AbortMultipartUploadCommand };\n//# sourceMappingURL=AbortMultipartUploadCommand.js.map","import { __extends } from \"tslib\";\nimport { ListPartsOutput, ListPartsRequest } from \"../models/models_0\";\nimport { deserializeAws_restXmlListPartsCommand, serializeAws_restXmlListPartsCommand } from \"../protocols/Aws_restXml\";\nimport { getBucketEndpointPlugin } from \"@aws-sdk/middleware-bucket-endpoint\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Lists the parts that have been uploaded for a specific multipart upload. This operation\n *          must include the upload ID, which you obtain by sending the initiate multipart upload\n *          request (see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>).\n *          This request returns a maximum of 1,000 uploaded parts. The default number of parts\n *          returned is 1,000 parts. You can restrict the number of parts returned by specifying the\n *             <code>max-parts</code> request parameter. If your multipart upload consists of more than\n *          1,000 parts, the response returns an <code>IsTruncated</code> field with the value of true,\n *          and a <code>NextPartNumberMarker</code> element. In subsequent <code>ListParts</code>\n *          requests you can include the part-number-marker query string parameter and set its value to\n *          the <code>NextPartNumberMarker</code> field value from the previous response.</p>\n *\n *          <p>For more information on multipart uploads, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/uploadobjusingmpu.html\">Uploading Objects Using Multipart\n *             Upload</a>.</p>\n *\n *          <p>For information on permissions required to use the multipart upload API, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/mpuAndPermissions.html\">Multipart Upload API and\n *          Permissions</a>.</p>\n *\n *          <p>The following operations are related to <code>ListParts</code>:</p>\n *          <ul>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html\">CreateMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPart.html\">UploadPart</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CompleteMultipartUpload.html\">CompleteMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_AbortMultipartUpload.html\">AbortMultipartUpload</a>\n *                </p>\n *             </li>\n *             <li>\n *                <p>\n *                   <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListMultipartUploads.html\">ListMultipartUploads</a>\n *                </p>\n *             </li>\n *          </ul>\n */\nvar ListPartsCommand = /** @class */ (function (_super) {\n    __extends(ListPartsCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function ListPartsCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    /**\n     * @internal\n     */\n    ListPartsCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        this.middlewareStack.use(getBucketEndpointPlugin(configuration));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var clientName = \"S3Client\";\n        var commandName = \"ListPartsCommand\";\n        var handlerExecutionContext = {\n            logger: logger,\n            clientName: clientName,\n            commandName: commandName,\n            inputFilterSensitiveLog: ListPartsRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: ListPartsOutput.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    ListPartsCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restXmlListPartsCommand(input, context);\n    };\n    ListPartsCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restXmlListPartsCommand(output, context);\n    };\n    return ListPartsCommand;\n}($Command));\nexport { ListPartsCommand };\n//# sourceMappingURL=ListPartsCommand.js.map","/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ConsoleLogger as Logger, getAmplifyUserAgent, Credentials, } from '@aws-amplify/core';\nimport { S3Client, PutObjectCommand, CreateMultipartUploadCommand, UploadPartCommand, CompleteMultipartUploadCommand, ListPartsCommand, AbortMultipartUploadCommand, } from '@aws-sdk/client-s3';\nimport { AxiosHttpHandler, SEND_UPLOAD_PROGRESS_EVENT, SEND_DOWNLOAD_PROGRESS_EVENT } from './axios-http-handler';\nimport * as events from 'events';\nvar logger = new Logger('AWSS3ProviderManagedUpload');\nvar localTestingStorageEndpoint = 'http://localhost:20005';\nvar SET_CONTENT_LENGTH_HEADER = 'contentLengthMiddleware';\nvar AWSS3ProviderManagedUpload = /** @class */ (function () {\n    function AWSS3ProviderManagedUpload(params, opts, emitter) {\n        // Defaults\n        this.minPartSize = 5 * 1024 * 1024; // in MB\n        this.queueSize = 4;\n        // Data for current upload\n        this.body = null;\n        this.params = null;\n        this.opts = null;\n        this.completedParts = [];\n        this.cancel = false;\n        // Progress reporting\n        this.bytesUploaded = 0;\n        this.totalBytesToUpload = 0;\n        this.emitter = null;\n        this.params = params;\n        this.opts = opts;\n        this.emitter = emitter;\n    }\n    AWSS3ProviderManagedUpload.prototype.upload = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, putObjectCommand, s3, uploadId, numberOfPartsToUpload, parts, start;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this;\n                        return [4 /*yield*/, this.validateAndSanitizeBody(this.params.Body)];\n                    case 1:\n                        _a.body = _b.sent();\n                        this.totalBytesToUpload = this.byteLength(this.body);\n                        if (!(this.totalBytesToUpload <= this.minPartSize)) return [3 /*break*/, 3];\n                        // Multipart upload is not required. Upload the sanitized body as is\n                        this.params.Body = this.body;\n                        putObjectCommand = new PutObjectCommand(this.params);\n                        return [4 /*yield*/, this._createNewS3Client(this.opts, this.emitter)];\n                    case 2:\n                        s3 = _b.sent();\n                        return [2 /*return*/, s3.send(putObjectCommand)];\n                    case 3: return [4 /*yield*/, this.createMultiPartUpload()];\n                    case 4:\n                        uploadId = _b.sent();\n                        numberOfPartsToUpload = Math.ceil(this.totalBytesToUpload / this.minPartSize);\n                        parts = this.createParts();\n                        start = 0;\n                        _b.label = 5;\n                    case 5:\n                        if (!(start < numberOfPartsToUpload)) return [3 /*break*/, 10];\n                        /** This first block will try to cancel the upload if the cancel\n                         *\trequest came before any parts uploads have started.\n                         **/\n                        return [4 /*yield*/, this.checkIfUploadCancelled(uploadId)];\n                    case 6:\n                        /** This first block will try to cancel the upload if the cancel\n                         *\trequest came before any parts uploads have started.\n                         **/\n                        _b.sent();\n                        // Upload as many as `queueSize` parts simultaneously\n                        return [4 /*yield*/, this.uploadParts(uploadId, parts.slice(start, start + this.queueSize))];\n                    case 7:\n                        // Upload as many as `queueSize` parts simultaneously\n                        _b.sent();\n                        /** Call cleanup a second time in case there were part upload requests\n                         *  in flight. This is to ensure that all parts are cleaned up.\n                         */\n                        return [4 /*yield*/, this.checkIfUploadCancelled(uploadId)];\n                    case 8:\n                        /** Call cleanup a second time in case there were part upload requests\n                         *  in flight. This is to ensure that all parts are cleaned up.\n                         */\n                        _b.sent();\n                        _b.label = 9;\n                    case 9:\n                        start += this.queueSize;\n                        return [3 /*break*/, 5];\n                    case 10:\n                        parts.map(function (part) {\n                            _this.removeEventListener(part);\n                        });\n                        return [4 /*yield*/, this.finishMultiPartUpload(uploadId)];\n                    case 11: \n                    // Step 3: Finalize the upload such that S3 can recreate the file\n                    return [2 /*return*/, _b.sent()];\n                }\n            });\n        });\n    };\n    AWSS3ProviderManagedUpload.prototype.createParts = function () {\n        var parts = [];\n        for (var bodyStart = 0; bodyStart < this.totalBytesToUpload;) {\n            var bodyEnd = Math.min(bodyStart + this.minPartSize, this.totalBytesToUpload);\n            parts.push({\n                bodyPart: this.body.slice(bodyStart, bodyEnd),\n                partNumber: parts.length + 1,\n                emitter: new events.EventEmitter(),\n                _lastUploadedBytes: 0,\n            });\n            bodyStart += this.minPartSize;\n        }\n        return parts;\n    };\n    AWSS3ProviderManagedUpload.prototype.createMultiPartUpload = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var createMultiPartUploadCommand, s3, response;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        createMultiPartUploadCommand = new CreateMultipartUploadCommand(this.params);\n                        return [4 /*yield*/, this._createNewS3Client(this.opts)];\n                    case 1:\n                        s3 = _a.sent();\n                        // @aws-sdk/client-s3 seems to be ignoring the `ContentType` parameter, so we\n                        // are explicitly adding it via middleware.\n                        // https://github.com/aws/aws-sdk-js-v3/issues/2000\n                        s3.middlewareStack.add(function (next) { return function (args) {\n                            if (_this.params.ContentType &&\n                                args &&\n                                args.request &&\n                                args.request.headers) {\n                                args.request.headers['Content-Type'] = _this.params.ContentType;\n                            }\n                            return next(args);\n                        }; }, {\n                            step: 'build',\n                        });\n                        return [4 /*yield*/, s3.send(createMultiPartUploadCommand)];\n                    case 2:\n                        response = _a.sent();\n                        logger.debug(response.UploadId);\n                        return [2 /*return*/, response.UploadId];\n                }\n            });\n        });\n    };\n    /**\n     * @private Not to be extended outside of tests\n     * @VisibleFotTesting\n     */\n    AWSS3ProviderManagedUpload.prototype.uploadParts = function (uploadId, parts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var allResults, i, error_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, Promise.all(parts.map(function (part) { return __awaiter(_this, void 0, void 0, function () {\n                                var s3;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0:\n                                            this.setupEventListener(part);\n                                            return [4 /*yield*/, this._createNewS3Client(this.opts, part.emitter)];\n                                        case 1:\n                                            s3 = _a.sent();\n                                            return [2 /*return*/, s3.send(new UploadPartCommand({\n                                                    PartNumber: part.partNumber,\n                                                    Body: part.bodyPart,\n                                                    UploadId: uploadId,\n                                                    Key: this.params.Key,\n                                                    Bucket: this.params.Bucket,\n                                                }))];\n                                    }\n                                });\n                            }); }))];\n                    case 1:\n                        allResults = _a.sent();\n                        // The order of resolved promises is the same as input promise order.\n                        for (i = 0; i < allResults.length; i++) {\n                            this.completedParts.push({\n                                PartNumber: parts[i].partNumber,\n                                ETag: allResults[i].ETag,\n                            });\n                        }\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _a.sent();\n                        logger.error('error happened while uploading a part. Cancelling the multipart upload', error_1);\n                        this.cancelUpload();\n                        return [2 /*return*/];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSS3ProviderManagedUpload.prototype.finishMultiPartUpload = function (uploadId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var input, completeUploadCommand, s3, data, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        input = {\n                            Bucket: this.params.Bucket,\n                            Key: this.params.Key,\n                            UploadId: uploadId,\n                            MultipartUpload: { Parts: this.completedParts },\n                        };\n                        completeUploadCommand = new CompleteMultipartUploadCommand(input);\n                        return [4 /*yield*/, this._createNewS3Client(this.opts)];\n                    case 1:\n                        s3 = _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, s3.send(completeUploadCommand)];\n                    case 3:\n                        data = _a.sent();\n                        return [2 /*return*/, data.Key];\n                    case 4:\n                        error_2 = _a.sent();\n                        logger.error('error happened while finishing the upload. Cancelling the multipart upload', error_2);\n                        this.cancelUpload();\n                        return [2 /*return*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSS3ProviderManagedUpload.prototype.checkIfUploadCancelled = function (uploadId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var errorMessage, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.cancel) return [3 /*break*/, 5];\n                        errorMessage = 'Upload was cancelled.';\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.cleanup(uploadId)];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_3 = _a.sent();\n                        errorMessage += \" \" + error_3.message;\n                        return [3 /*break*/, 4];\n                    case 4: throw new Error(errorMessage);\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSS3ProviderManagedUpload.prototype.cancelUpload = function () {\n        this.cancel = true;\n    };\n    AWSS3ProviderManagedUpload.prototype.cleanup = function (uploadId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var input, s3, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // Reset this's state\n                        this.body = null;\n                        this.completedParts = [];\n                        this.bytesUploaded = 0;\n                        this.totalBytesToUpload = 0;\n                        input = {\n                            Bucket: this.params.Bucket,\n                            Key: this.params.Key,\n                            UploadId: uploadId,\n                        };\n                        return [4 /*yield*/, this._createNewS3Client(this.opts)];\n                    case 1:\n                        s3 = _a.sent();\n                        return [4 /*yield*/, s3.send(new AbortMultipartUploadCommand(input))];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, s3.send(new ListPartsCommand(input))];\n                    case 3:\n                        data = _a.sent();\n                        if (data && data.Parts && data.Parts.length > 0) {\n                            throw new Error('Multi Part upload clean up failed');\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSS3ProviderManagedUpload.prototype.removeEventListener = function (part) {\n        part.emitter.removeAllListeners(SEND_UPLOAD_PROGRESS_EVENT);\n        part.emitter.removeAllListeners(SEND_DOWNLOAD_PROGRESS_EVENT);\n    };\n    AWSS3ProviderManagedUpload.prototype.setupEventListener = function (part) {\n        var _this = this;\n        part.emitter.on(SEND_UPLOAD_PROGRESS_EVENT, function (progress) {\n            _this.progressChanged(part.partNumber, progress.loaded - part._lastUploadedBytes);\n            part._lastUploadedBytes = progress.loaded;\n        });\n    };\n    AWSS3ProviderManagedUpload.prototype.progressChanged = function (partNumber, incrementalUpdate) {\n        this.bytesUploaded += incrementalUpdate;\n        this.emitter.emit(SEND_UPLOAD_PROGRESS_EVENT, {\n            loaded: this.bytesUploaded,\n            total: this.totalBytesToUpload,\n            part: partNumber,\n            key: this.params.Key,\n        });\n    };\n    AWSS3ProviderManagedUpload.prototype.byteLength = function (input) {\n        if (input === null || input === undefined)\n            return 0;\n        if (typeof input.byteLength === 'number') {\n            return input.byteLength;\n        }\n        else if (typeof input.length === 'number') {\n            return input.length;\n        }\n        else if (typeof input.size === 'number') {\n            return input.size;\n        }\n        else if (typeof input.path === 'string') {\n            /* NodeJs Support\n            return require('fs').lstatSync(input.path).size;\n            */\n        }\n        else {\n            throw new Error('Cannot determine length of ' + input);\n        }\n    };\n    AWSS3ProviderManagedUpload.prototype.validateAndSanitizeBody = function (body) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.isGenericObject(body)) {\n                    // Any javascript object\n                    return [2 /*return*/, JSON.stringify(body)];\n                }\n                else {\n                    // Files, arrayBuffer etc\n                    return [2 /*return*/, body];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    AWSS3ProviderManagedUpload.prototype.isGenericObject = function (body) {\n        if (body !== null && typeof body === 'object') {\n            try {\n                return !(this.byteLength(body) >= 0);\n            }\n            catch (error) {\n                // If we cannot determine the length of the body, consider it\n                // as a generic object and upload a stringified version of it\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @private\n     * creates an S3 client with new V3 aws sdk\n     */\n    AWSS3ProviderManagedUpload.prototype._createNewS3Client = function (config, emitter) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, region, dangerouslyConnectToHttpEndpointForTesting, cancelTokenSource, localTestingConfig, client;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._getCredentials()];\n                    case 1:\n                        credentials = _a.sent();\n                        region = config.region, dangerouslyConnectToHttpEndpointForTesting = config.dangerouslyConnectToHttpEndpointForTesting, cancelTokenSource = config.cancelTokenSource;\n                        localTestingConfig = {};\n                        if (dangerouslyConnectToHttpEndpointForTesting) {\n                            localTestingConfig = {\n                                endpoint: localTestingStorageEndpoint,\n                                tls: false,\n                                bucketEndpoint: false,\n                                forcePathStyle: true,\n                            };\n                        }\n                        client = new S3Client(__assign(__assign({ region: region,\n                            credentials: credentials }, localTestingConfig), { requestHandler: new AxiosHttpHandler({}, emitter, cancelTokenSource), customUserAgent: getAmplifyUserAgent() }));\n                        client.middlewareStack.remove(SET_CONTENT_LENGTH_HEADER);\n                        return [2 /*return*/, client];\n                }\n            });\n        });\n    };\n    /**\n     * @private\n     */\n    AWSS3ProviderManagedUpload.prototype._getCredentials = function () {\n        return Credentials.get()\n            .then(function (credentials) {\n            if (!credentials)\n                return false;\n            var cred = Credentials.shear(credentials);\n            logger.debug('set credentials for storage', cred);\n            return cred;\n        })\n            .catch(function (error) {\n            logger.warn('ensure credentials error', error);\n            return false;\n        });\n    };\n    return AWSS3ProviderManagedUpload;\n}());\nexport { AWSS3ProviderManagedUpload };\n//# sourceMappingURL=AWSS3ProviderManagedUpload.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger, Hub, Credentials, Parser, getAmplifyUserAgent, } from '@aws-amplify/core';\nimport { S3Client, GetObjectCommand, DeleteObjectCommand, ListObjectsCommand, CopyObjectCommand, } from '@aws-sdk/client-s3';\nimport { formatUrl } from '@aws-sdk/util-format-url';\nimport { createRequest } from '@aws-sdk/util-create-request';\nimport { S3RequestPresigner } from '@aws-sdk/s3-request-presigner';\nimport { AxiosHttpHandler, SEND_DOWNLOAD_PROGRESS_EVENT, SEND_UPLOAD_PROGRESS_EVENT } from './axios-http-handler';\nimport { StorageErrorStrings } from '../common/StorageErrorStrings';\nimport { AWSS3ProviderManagedUpload } from './AWSS3ProviderManagedUpload';\nimport * as events from 'events';\nvar logger = new Logger('AWSS3Provider');\nvar AMPLIFY_SYMBOL = (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function'\n    ? Symbol.for('amplify_default')\n    : '@@amplify_default');\nvar SET_CONTENT_LENGTH_HEADER = 'contentLengthMiddleware';\nvar DEFAULT_STORAGE_LEVEL = 'public';\nvar DEFAULT_PRESIGN_EXPIRATION = 900;\nvar dispatchStorageEvent = function (track, event, attrs, metrics, message) {\n    if (track) {\n        var data = { attrs: attrs };\n        if (metrics) {\n            data['metrics'] = metrics;\n        }\n        Hub.dispatch('storage', {\n            event: event,\n            data: data,\n            message: message,\n        }, 'Storage', AMPLIFY_SYMBOL);\n    }\n};\nvar localTestingStorageEndpoint = 'http://localhost:20005';\n/**\n * Provide storage methods to use AWS S3\n */\nvar AWSS3Provider = /** @class */ (function () {\n    /**\n     * Initialize Storage with AWS configurations\n     * @param {Object} config - Configuration object for storage\n     */\n    function AWSS3Provider(config) {\n        this._config = config ? config : {};\n        logger.debug('Storage Options', this._config);\n    }\n    /**\n     * get the category of the plugin\n     */\n    AWSS3Provider.prototype.getCategory = function () {\n        return AWSS3Provider.CATEGORY;\n    };\n    /**\n     * get provider name of the plugin\n     */\n    AWSS3Provider.prototype.getProviderName = function () {\n        return AWSS3Provider.PROVIDER_NAME;\n    };\n    /**\n     * Configure Storage part with aws configuration\n     * @param {Object} config - Configuration of the Storage\n     * @return {Object} - Current configuration\n     */\n    AWSS3Provider.prototype.configure = function (config) {\n        logger.debug('configure Storage', config);\n        if (!config)\n            return this._config;\n        var amplifyConfig = Parser.parseMobilehubConfig(config);\n        this._config = Object.assign({}, this._config, amplifyConfig.Storage);\n        if (!this._config.bucket) {\n            logger.debug('Do not have bucket yet');\n        }\n        return this._config;\n    };\n    /**\n     * Copy an object from a source object to a new object within the same bucket. Can optionally copy files across\n     * different level or identityId (if source object's level is 'protected').\n     *\n     * @async\n     * @param {S3CopySource} src - Key and optionally access level and identityId of the source object.\n     * @param {S3CopyDestination} dest - Key and optionally access level of the destination object.\n     * @param {S3ProviderCopyConfig} [config] - Optional configuration for s3 commands.\n     * @return {Promise<S3ProviderCopyOutput>} The key of the copied object.\n     */\n    AWSS3Provider.prototype.copy = function (src, dest, config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, opt, acl, bucket, cacheControl, expires, track, serverSideEncryption, SSECustomerAlgorithm, SSECustomerKey, SSECustomerKeyMD5, SSEKMSKeyId, _a, srcLevel, srcIdentityId, srcKey, _b, destLevel, destKey, srcPrefix, destPrefix, finalSrcKey, finalDestKey, params, s3, error_1;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _c.sent();\n                        if (!credentialsOK || !this._isWithCredentials(this._config)) {\n                            throw new Error(StorageErrorStrings.NO_CREDENTIALS);\n                        }\n                        opt = Object.assign({}, this._config, config);\n                        acl = opt.acl, bucket = opt.bucket, cacheControl = opt.cacheControl, expires = opt.expires, track = opt.track, serverSideEncryption = opt.serverSideEncryption, SSECustomerAlgorithm = opt.SSECustomerAlgorithm, SSECustomerKey = opt.SSECustomerKey, SSECustomerKeyMD5 = opt.SSECustomerKeyMD5, SSEKMSKeyId = opt.SSEKMSKeyId;\n                        _a = src.level, srcLevel = _a === void 0 ? DEFAULT_STORAGE_LEVEL : _a, srcIdentityId = src.identityId, srcKey = src.key;\n                        _b = dest.level, destLevel = _b === void 0 ? DEFAULT_STORAGE_LEVEL : _b, destKey = dest.key;\n                        if (!srcKey || typeof srcKey !== 'string') {\n                            throw new Error(StorageErrorStrings.NO_SRC_KEY);\n                        }\n                        if (!destKey || typeof destKey !== 'string') {\n                            throw new Error(StorageErrorStrings.NO_DEST_KEY);\n                        }\n                        if (srcLevel !== 'protected' && srcIdentityId) {\n                            logger.warn(\"You may copy files from another user if the source level is \\\"protected\\\", currently it's \" + srcLevel);\n                        }\n                        srcPrefix = this._prefix(__assign(__assign(__assign({}, opt), { level: srcLevel }), (srcIdentityId && { identityId: srcIdentityId })));\n                        destPrefix = this._prefix(__assign(__assign({}, opt), { level: destLevel }));\n                        finalSrcKey = bucket + \"/\" + srcPrefix + srcKey;\n                        finalDestKey = \"\" + destPrefix + destKey;\n                        logger.debug(\"copying \" + finalSrcKey + \" to \" + finalDestKey);\n                        params = {\n                            Bucket: bucket,\n                            CopySource: finalSrcKey,\n                            Key: finalDestKey,\n                            // Copies over metadata like contentType as well\n                            MetadataDirective: 'COPY',\n                        };\n                        if (cacheControl)\n                            params.CacheControl = cacheControl;\n                        if (expires)\n                            params.Expires = expires;\n                        if (serverSideEncryption) {\n                            params.ServerSideEncryption = serverSideEncryption;\n                        }\n                        if (SSECustomerAlgorithm) {\n                            params.SSECustomerAlgorithm = SSECustomerAlgorithm;\n                        }\n                        if (SSECustomerKey) {\n                            params.SSECustomerKey = SSECustomerKey;\n                        }\n                        if (SSECustomerKeyMD5) {\n                            params.SSECustomerKeyMD5 = SSECustomerKeyMD5;\n                        }\n                        if (SSEKMSKeyId) {\n                            params.SSEKMSKeyId = SSEKMSKeyId;\n                        }\n                        if (acl)\n                            params.ACL = acl;\n                        s3 = this._createNewS3Client(opt);\n                        s3.middlewareStack.remove(SET_CONTENT_LENGTH_HEADER);\n                        _c.label = 2;\n                    case 2:\n                        _c.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, s3.send(new CopyObjectCommand(params))];\n                    case 3:\n                        _c.sent();\n                        dispatchStorageEvent(track, 'copy', {\n                            method: 'copy',\n                            result: 'success',\n                        }, null, \"Copy success from \" + srcKey + \" to \" + destKey);\n                        return [2 /*return*/, {\n                                key: destKey,\n                            }];\n                    case 4:\n                        error_1 = _c.sent();\n                        dispatchStorageEvent(track, 'copy', {\n                            method: 'copy',\n                            result: 'failed',\n                        }, null, \"Copy failed from \" + srcKey + \" to \" + destKey);\n                        throw error_1;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSS3Provider.prototype.get = function (key, config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, opt, bucket, download, cacheControl, contentDisposition, contentEncoding, contentLanguage, contentType, expires, track, progressCallback, prefix, final_key, emitter, s3, params, getObjectCommand, response, error_2, signer, request, url, _a, error_3;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _b.sent();\n                        if (!credentialsOK || !this._isWithCredentials(this._config)) {\n                            throw new Error(StorageErrorStrings.NO_CREDENTIALS);\n                        }\n                        opt = Object.assign({}, this._config, config);\n                        bucket = opt.bucket, download = opt.download, cacheControl = opt.cacheControl, contentDisposition = opt.contentDisposition, contentEncoding = opt.contentEncoding, contentLanguage = opt.contentLanguage, contentType = opt.contentType, expires = opt.expires, track = opt.track, progressCallback = opt.progressCallback;\n                        prefix = this._prefix(opt);\n                        final_key = prefix + key;\n                        emitter = new events.EventEmitter();\n                        s3 = this._createNewS3Client(opt, emitter);\n                        logger.debug('get ' + key + ' from ' + final_key);\n                        params = {\n                            Bucket: bucket,\n                            Key: final_key,\n                        };\n                        // See: https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#getObject-property\n                        if (cacheControl)\n                            params.ResponseCacheControl = cacheControl;\n                        if (contentDisposition)\n                            params.ResponseContentDisposition = contentDisposition;\n                        if (contentEncoding)\n                            params.ResponseContentEncoding = contentEncoding;\n                        if (contentLanguage)\n                            params.ResponseContentLanguage = contentLanguage;\n                        if (contentType)\n                            params.ResponseContentType = contentType;\n                        if (!(download === true)) return [3 /*break*/, 5];\n                        getObjectCommand = new GetObjectCommand(params);\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, 4, , 5]);\n                        if (progressCallback) {\n                            if (typeof progressCallback === 'function') {\n                                emitter.on(SEND_DOWNLOAD_PROGRESS_EVENT, function (progress) {\n                                    progressCallback(progress);\n                                });\n                            }\n                            else {\n                                logger.warn('progressCallback should be a function, not a ' + typeof progressCallback);\n                            }\n                        }\n                        return [4 /*yield*/, s3.send(getObjectCommand)];\n                    case 3:\n                        response = _b.sent();\n                        emitter.removeAllListeners(SEND_DOWNLOAD_PROGRESS_EVENT);\n                        dispatchStorageEvent(track, 'download', { method: 'get', result: 'success' }, {\n                            fileSize: Number(response.Body['size'] || response.Body['length']),\n                        }, \"Download success for \" + key);\n                        return [2 /*return*/, response];\n                    case 4:\n                        error_2 = _b.sent();\n                        dispatchStorageEvent(track, 'download', {\n                            method: 'get',\n                            result: 'failed',\n                        }, null, \"Download failed with \" + error_2.message);\n                        throw error_2;\n                    case 5:\n                        _b.trys.push([5, 8, , 9]);\n                        signer = new S3RequestPresigner(__assign({}, s3.config));\n                        return [4 /*yield*/, createRequest(s3, new GetObjectCommand(params))];\n                    case 6:\n                        request = _b.sent();\n                        _a = formatUrl;\n                        return [4 /*yield*/, signer.presign(request, { expiresIn: expires || DEFAULT_PRESIGN_EXPIRATION })];\n                    case 7:\n                        url = _a.apply(void 0, [_b.sent()]);\n                        dispatchStorageEvent(track, 'getSignedUrl', { method: 'get', result: 'success' }, null, \"Signed URL: \" + url);\n                        return [2 /*return*/, url];\n                    case 8:\n                        error_3 = _b.sent();\n                        logger.warn('get signed url error', error_3);\n                        dispatchStorageEvent(track, 'getSignedUrl', { method: 'get', result: 'failed' }, null, \"Could not get a signed URL for \" + key);\n                        throw error_3;\n                    case 9: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Put a file in S3 bucket specified to configure method\n     * @param {string} key - key of the object\n     * @param {PutObjectCommandInput[\"Body\"]} object - File to be put in Amazon S3 bucket\n     * @param {S3ProviderPutConfig} [config] - Optional configuration for the underlying S3 command\n     * @return {Promise<S3ProviderPutOutput>} - promise resolves to an object with the new object's key on success\n     */\n    AWSS3Provider.prototype.put = function (key, object, config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, opt, bucket, track, progressCallback, contentType, contentDisposition, contentEncoding, cacheControl, expires, metadata, tagging, acl, serverSideEncryption, SSECustomerAlgorithm, SSECustomerKey, SSECustomerKeyMD5, SSEKMSKeyId, type, prefix, final_key, params, emitter, uploader, response, error_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK || !this._isWithCredentials(this._config)) {\n                            throw new Error(StorageErrorStrings.NO_CREDENTIALS);\n                        }\n                        opt = Object.assign({}, this._config, config);\n                        bucket = opt.bucket, track = opt.track, progressCallback = opt.progressCallback;\n                        contentType = opt.contentType, contentDisposition = opt.contentDisposition, contentEncoding = opt.contentEncoding, cacheControl = opt.cacheControl, expires = opt.expires, metadata = opt.metadata, tagging = opt.tagging, acl = opt.acl;\n                        serverSideEncryption = opt.serverSideEncryption, SSECustomerAlgorithm = opt.SSECustomerAlgorithm, SSECustomerKey = opt.SSECustomerKey, SSECustomerKeyMD5 = opt.SSECustomerKeyMD5, SSEKMSKeyId = opt.SSEKMSKeyId;\n                        type = contentType ? contentType : 'binary/octet-stream';\n                        prefix = this._prefix(opt);\n                        final_key = prefix + key;\n                        logger.debug('put ' + key + ' to ' + final_key);\n                        params = {\n                            Bucket: bucket,\n                            Key: final_key,\n                            Body: object,\n                            ContentType: type,\n                        };\n                        if (cacheControl) {\n                            params.CacheControl = cacheControl;\n                        }\n                        if (contentDisposition) {\n                            params.ContentDisposition = contentDisposition;\n                        }\n                        if (contentEncoding) {\n                            params.ContentEncoding = contentEncoding;\n                        }\n                        if (expires) {\n                            params.Expires = expires;\n                        }\n                        if (metadata) {\n                            params.Metadata = metadata;\n                        }\n                        if (tagging) {\n                            params.Tagging = tagging;\n                        }\n                        if (serverSideEncryption) {\n                            params.ServerSideEncryption = serverSideEncryption;\n                        }\n                        if (SSECustomerAlgorithm) {\n                            params.SSECustomerAlgorithm = SSECustomerAlgorithm;\n                        }\n                        if (SSECustomerKey) {\n                            params.SSECustomerKey = SSECustomerKey;\n                        }\n                        if (SSECustomerKeyMD5) {\n                            params.SSECustomerKeyMD5 = SSECustomerKeyMD5;\n                        }\n                        if (SSEKMSKeyId) {\n                            params.SSEKMSKeyId = SSEKMSKeyId;\n                        }\n                        emitter = new events.EventEmitter();\n                        uploader = new AWSS3ProviderManagedUpload(params, opt, emitter);\n                        if (acl) {\n                            params.ACL = acl;\n                        }\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        if (progressCallback) {\n                            if (typeof progressCallback === 'function') {\n                                emitter.on(SEND_UPLOAD_PROGRESS_EVENT, function (progress) {\n                                    progressCallback(progress);\n                                });\n                            }\n                            else {\n                                logger.warn('progressCallback should be a function, not a ' + typeof progressCallback);\n                            }\n                        }\n                        return [4 /*yield*/, uploader.upload()];\n                    case 3:\n                        response = _a.sent();\n                        logger.debug('upload result', response);\n                        dispatchStorageEvent(track, 'upload', { method: 'put', result: 'success' }, null, \"Upload success for \" + key);\n                        return [2 /*return*/, {\n                                key: key,\n                            }];\n                    case 4:\n                        error_4 = _a.sent();\n                        logger.warn('error uploading', error_4);\n                        dispatchStorageEvent(track, 'upload', { method: 'put', result: 'failed' }, null, \"Error uploading \" + key);\n                        throw error_4;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Remove the object for specified key\n     * @param {string} key - key of the object\n     * @param {S3ProviderRemoveConfig} [config] - Optional configuration for the underlying S3 command\n     * @return {Promise<S3ProviderRemoveOutput>} - Promise resolves upon successful removal of the object\n     */\n    AWSS3Provider.prototype.remove = function (key, config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, opt, bucket, track, prefix, final_key, s3, params, deleteObjectCommand, response, error_5;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK || !this._isWithCredentials(this._config)) {\n                            throw new Error(StorageErrorStrings.NO_CREDENTIALS);\n                        }\n                        opt = Object.assign({}, this._config, config);\n                        bucket = opt.bucket, track = opt.track;\n                        prefix = this._prefix(opt);\n                        final_key = prefix + key;\n                        s3 = this._createNewS3Client(opt);\n                        logger.debug('remove ' + key + ' from ' + final_key);\n                        params = {\n                            Bucket: bucket,\n                            Key: final_key,\n                        };\n                        deleteObjectCommand = new DeleteObjectCommand(params);\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, s3.send(deleteObjectCommand)];\n                    case 3:\n                        response = _a.sent();\n                        dispatchStorageEvent(track, 'delete', { method: 'remove', result: 'success' }, null, \"Deleted \" + key + \" successfully\");\n                        return [2 /*return*/, response];\n                    case 4:\n                        error_5 = _a.sent();\n                        dispatchStorageEvent(track, 'delete', { method: 'remove', result: 'failed' }, null, \"Deletion of \" + key + \" failed with \" + error_5);\n                        throw error_5;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * List bucket objects relative to the level and prefix specified\n     * @param {string} path - the path that contains objects\n     * @param {S3ProviderListConfig} [config] - Optional configuration for the underlying S3 command\n     * @return {Promise<S3ProviderListOutput>} - Promise resolves to list of keys, eTags, lastModified and file size for\n     * all objects in path\n     */\n    AWSS3Provider.prototype.list = function (path, config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentialsOK, opt, bucket, track, maxKeys, prefix, final_path, s3, params, listObjectsCommand, response, list, error_6;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._ensureCredentials()];\n                    case 1:\n                        credentialsOK = _a.sent();\n                        if (!credentialsOK || !this._isWithCredentials(this._config)) {\n                            throw new Error(StorageErrorStrings.NO_CREDENTIALS);\n                        }\n                        opt = Object.assign({}, this._config, config);\n                        bucket = opt.bucket, track = opt.track, maxKeys = opt.maxKeys;\n                        prefix = this._prefix(opt);\n                        final_path = prefix + path;\n                        s3 = this._createNewS3Client(opt);\n                        logger.debug('list ' + path + ' from ' + final_path);\n                        params = {\n                            Bucket: bucket,\n                            Prefix: final_path,\n                            MaxKeys: maxKeys,\n                        };\n                        listObjectsCommand = new ListObjectsCommand(params);\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, s3.send(listObjectsCommand)];\n                    case 3:\n                        response = _a.sent();\n                        list = [];\n                        if (response && response.Contents) {\n                            list = response.Contents.map(function (item) {\n                                return {\n                                    key: item.Key.substr(prefix.length),\n                                    eTag: item.ETag,\n                                    lastModified: item.LastModified,\n                                    size: item.Size,\n                                };\n                            });\n                        }\n                        dispatchStorageEvent(track, 'list', { method: 'list', result: 'success' }, null, list.length + \" items returned from list operation\");\n                        logger.debug('list', list);\n                        return [2 /*return*/, list];\n                    case 4:\n                        error_6 = _a.sent();\n                        logger.warn('list error', error_6);\n                        dispatchStorageEvent(track, 'list', { method: 'list', result: 'failed' }, null, \"Listing items failed: \" + error_6.message);\n                        throw error_6;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSS3Provider.prototype._ensureCredentials = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, cred, error_7;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, Credentials.get()];\n                    case 1:\n                        credentials = _a.sent();\n                        if (!credentials)\n                            return [2 /*return*/, false];\n                        cred = Credentials.shear(credentials);\n                        logger.debug('set credentials for storage', cred);\n                        this._config.credentials = cred;\n                        return [2 /*return*/, true];\n                    case 2:\n                        error_7 = _a.sent();\n                        logger.warn('ensure credentials error', error_7);\n                        return [2 /*return*/, false];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSS3Provider.prototype._isWithCredentials = function (config) {\n        return typeof config === 'object' && config.hasOwnProperty('credentials');\n    };\n    AWSS3Provider.prototype._prefix = function (config) {\n        var credentials = config.credentials, level = config.level;\n        var customPrefix = config.customPrefix || {};\n        var identityId = config.identityId || credentials.identityId;\n        var privatePath = (customPrefix.private !== undefined ? customPrefix.private : 'private/') + identityId + '/';\n        var protectedPath = (customPrefix.protected !== undefined ? customPrefix.protected : 'protected/') + identityId + '/';\n        var publicPath = customPrefix.public !== undefined ? customPrefix.public : 'public/';\n        switch (level) {\n            case 'private':\n                return privatePath;\n            case 'protected':\n                return protectedPath;\n            default:\n                return publicPath;\n        }\n    };\n    /**\n     * Creates an S3 client with new V3 aws sdk\n     */\n    AWSS3Provider.prototype._createNewS3Client = function (config, emitter) {\n        var region = config.region, credentials = config.credentials, cancelTokenSource = config.cancelTokenSource, dangerouslyConnectToHttpEndpointForTesting = config.dangerouslyConnectToHttpEndpointForTesting;\n        var localTestingConfig = {};\n        if (dangerouslyConnectToHttpEndpointForTesting) {\n            localTestingConfig = {\n                endpoint: localTestingStorageEndpoint,\n                tls: false,\n                bucketEndpoint: false,\n                forcePathStyle: true,\n            };\n        }\n        var s3client = new S3Client(__assign(__assign({ region: region,\n            credentials: credentials, customUserAgent: getAmplifyUserAgent() }, localTestingConfig), { requestHandler: new AxiosHttpHandler({}, emitter, cancelTokenSource) }));\n        return s3client;\n    };\n    AWSS3Provider.CATEGORY = 'Storage';\n    AWSS3Provider.PROVIDER_NAME = 'AWSS3';\n    return AWSS3Provider;\n}());\nexport { AWSS3Provider };\n/**\n * @deprecated use named import\n */\nexport default AWSS3Provider;\n//# sourceMappingURL=AWSS3Provider.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { ConsoleLogger as Logger, Parser } from '@aws-amplify/core';\nimport { AWSS3Provider } from './providers';\nimport axios from 'axios';\nvar logger = new Logger('StorageClass');\nvar DEFAULT_PROVIDER = 'AWSS3';\n/**\n * Provide storage methods to use AWS S3\n */\nvar Storage = /** @class */ (function () {\n    /**\n     * Initialize Storage\n     * @param {Object} config - Configuration object for storage\n     */\n    function Storage() {\n        this._config = {};\n        this._pluggables = [];\n        this._cancelTokenSourceMap = new WeakMap();\n        logger.debug('Storage Options', this._config);\n        this.get = this.get.bind(this);\n        this.put = this.put.bind(this);\n        this.remove = this.remove.bind(this);\n        this.list = this.list.bind(this);\n    }\n    Storage.prototype.getModuleName = function () {\n        return 'Storage';\n    };\n    /**\n     * add plugin into Storage category\n     * @param {Object} pluggable - an instance of the plugin\n     */\n    Storage.prototype.addPluggable = function (pluggable) {\n        if (pluggable && pluggable.getCategory() === 'Storage') {\n            this._pluggables.push(pluggable);\n            var config = {};\n            config = pluggable.configure(this._config[pluggable.getProviderName()]);\n            return config;\n        }\n    };\n    /**\n     * Get the plugin object\n     * @param providerName - the name of the plugin\n     */\n    Storage.prototype.getPluggable = function (providerName) {\n        var pluggable = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === providerName; });\n        if (pluggable === undefined) {\n            logger.debug('No plugin found with providerName', providerName);\n            return null;\n        }\n        else\n            return pluggable;\n    };\n    /**\n     * Remove the plugin object\n     * @param providerName - the name of the plugin\n     */\n    Storage.prototype.removePluggable = function (providerName) {\n        this._pluggables = this._pluggables.filter(function (pluggable) { return pluggable.getProviderName() !== providerName; });\n        return;\n    };\n    /**\n     * Configure Storage\n     * @param {Object} config - Configuration object for storage\n     * @return {Object} - Current configuration\n     */\n    Storage.prototype.configure = function (config) {\n        var _this = this;\n        logger.debug('configure Storage');\n        if (!config)\n            return this._config;\n        var amplifyConfig = Parser.parseMobilehubConfig(config);\n        var storageKeysFromConfig = Object.keys(amplifyConfig.Storage);\n        var storageArrayKeys = [\n            'bucket',\n            'region',\n            'level',\n            'track',\n            'customPrefix',\n            'serverSideEncryption',\n            'SSECustomerAlgorithm',\n            'SSECustomerKey',\n            'SSECustomerKeyMD5',\n            'SSEKMSKeyId',\n        ];\n        var isInStorageArrayKeys = function (k) {\n            return storageArrayKeys.some(function (x) { return x === k; });\n        };\n        var checkConfigKeysFromArray = function (k) {\n            return k.find(function (k) { return isInStorageArrayKeys(k); });\n        };\n        if (storageKeysFromConfig &&\n            checkConfigKeysFromArray(storageKeysFromConfig) &&\n            !amplifyConfig.Storage[DEFAULT_PROVIDER]) {\n            amplifyConfig.Storage[DEFAULT_PROVIDER] = {};\n        }\n        Object.entries(amplifyConfig.Storage).map(function (_a) {\n            var _b = __read(_a, 2), key = _b[0], value = _b[1];\n            if (key && isInStorageArrayKeys(key) && value !== undefined) {\n                amplifyConfig.Storage[DEFAULT_PROVIDER][key] = value;\n                delete amplifyConfig.Storage[key];\n            }\n        });\n        // only update new values for each provider\n        Object.keys(amplifyConfig.Storage).forEach(function (providerName) {\n            if (typeof amplifyConfig.Storage[providerName] !== 'string') {\n                _this._config[providerName] = __assign(__assign({}, _this._config[providerName]), amplifyConfig.Storage[providerName]);\n            }\n        });\n        this._pluggables.forEach(function (pluggable) {\n            pluggable.configure(_this._config[pluggable.getProviderName()]);\n        });\n        if (this._pluggables.length === 0) {\n            this.addPluggable(new AWSS3Provider());\n        }\n        return this._config;\n    };\n    Storage.prototype.getCancellableTokenSource = function () {\n        return axios.CancelToken.source();\n    };\n    Storage.prototype.updateRequestToBeCancellable = function (request, cancelTokenSource) {\n        this._cancelTokenSourceMap.set(request, cancelTokenSource);\n    };\n    /**\n     * Cancels an inflight request\n     *\n     * @param {Promise<any>} request - The request to cancel\n     * @param {string} [message] - A message to include in the cancelation exception\n     */\n    Storage.prototype.cancel = function (request, message) {\n        var cancelTokenSource = this._cancelTokenSourceMap.get(request);\n        if (cancelTokenSource) {\n            cancelTokenSource.cancel(message);\n        }\n        else {\n            logger.debug('The request does not map to any cancel token');\n        }\n    };\n    /**\n     * Copies a file from the src key to dest key.\n     *\n     * @param {string} src - key of the source object.\n     * @param {string} dest - key of the destination object.\n     * @param {any} [config] - config.\n     * @return {Promise<any>} - A promise resolves to the copied object's key.\n     */\n    Storage.prototype.copy = function (src, dest, config) {\n        var _a = (config || {}).provider, provider = _a === void 0 ? DEFAULT_PROVIDER : _a;\n        var prov = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n        if (prov === undefined) {\n            logger.debug('No plugin found with providerName', provider);\n            return Promise.reject('No plugin found in Storage for the provider');\n        }\n        var cancelTokenSource = this.getCancellableTokenSource();\n        var responsePromise = prov.copy(src, dest, __assign(__assign({}, config), { cancelTokenSource: cancelTokenSource }));\n        this.updateRequestToBeCancellable(responsePromise, cancelTokenSource);\n        return responsePromise;\n    };\n    /**\n     * Get a presigned URL of the file or the object data when download:true\n     *\n     * @param {string} key - key of the object\n     * @param {Object} [config] - { level : private|protected|public, download: true|false }\n     * @return - A promise resolves to either a presigned url or the object\n     */\n    Storage.prototype.get = function (key, config) {\n        var _a = (config || {}).provider, provider = _a === void 0 ? DEFAULT_PROVIDER : _a;\n        var prov = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n        if (prov === undefined) {\n            logger.debug('No plugin found with providerName', provider);\n            return Promise.reject('No plugin found in Storage for the provider');\n        }\n        var cancelTokenSource = this.getCancellableTokenSource();\n        var responsePromise = prov.get(key, __assign(__assign({}, config), { cancelTokenSource: cancelTokenSource }));\n        this.updateRequestToBeCancellable(responsePromise, cancelTokenSource);\n        return responsePromise;\n    };\n    Storage.prototype.isCancelError = function (error) {\n        return axios.isCancel(error);\n    };\n    /**\n     * Put a file in storage bucket specified to configure method\n     * @param {string} key - key of the object\n     * @param {Object} object - File to be put in bucket\n     * @param {Object} [config] - { level : private|protected|public, contentType: MIME Types,\n     *  progressCallback: function }\n     * @return - promise resolves to object on success\n     */\n    Storage.prototype.put = function (key, object, config) {\n        var _a = (config || {}).provider, provider = _a === void 0 ? DEFAULT_PROVIDER : _a;\n        var prov = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n        if (prov === undefined) {\n            logger.debug('No plugin found with providerName', provider);\n            return Promise.reject('No plugin found in Storage for the provider');\n        }\n        var cancelTokenSource = this.getCancellableTokenSource();\n        var responsePromise = prov.put(key, object, __assign(__assign({}, config), { cancelTokenSource: cancelTokenSource }));\n        this.updateRequestToBeCancellable(responsePromise, cancelTokenSource);\n        return responsePromise;\n    };\n    /**\n     * Remove the object for specified key\n     * @param {string} key - key of the object\n     * @param {Object} [config] - { level : private|protected|public }\n     * @return - Promise resolves upon successful removal of the object\n     */\n    Storage.prototype.remove = function (key, config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, provider, prov;\n            return __generator(this, function (_b) {\n                _a = (config || {}).provider, provider = _a === void 0 ? DEFAULT_PROVIDER : _a;\n                prov = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n                if (prov === undefined) {\n                    logger.debug('No plugin found with providerName', provider);\n                    return [2 /*return*/, Promise.reject('No plugin found in Storage for the provider')];\n                }\n                return [2 /*return*/, prov.remove(key, config)];\n            });\n        });\n    };\n    /**\n     * List bucket objects relative to the level and prefix specified\n     * @param {String} path - the path that contains objects\n     * @param {Object} [config] - { level : private|protected|public, maxKeys: NUMBER }\n     * @return - Promise resolves to list of keys for all objects in path\n     */\n    Storage.prototype.list = function (path, config) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, provider, prov;\n            return __generator(this, function (_b) {\n                _a = (config || {}).provider, provider = _a === void 0 ? DEFAULT_PROVIDER : _a;\n                prov = this._pluggables.find(function (pluggable) { return pluggable.getProviderName() === provider; });\n                if (prov === undefined) {\n                    logger.debug('No plugin found with providerName', provider);\n                    return [2 /*return*/, Promise.reject('No plugin found in Storage for the provider')];\n                }\n                return [2 /*return*/, prov.list(path, config)];\n            });\n        });\n    };\n    return Storage;\n}());\nexport { Storage };\n/**\n * @deprecated use named import\n */\nexport default Storage;\n//# sourceMappingURL=Storage.js.map","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Storage as StorageClass } from './Storage';\nimport { Amplify, ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('Storage');\nvar _instance = null;\nvar getInstance = function () {\n    if (_instance) {\n        return _instance;\n    }\n    logger.debug('Create Storage Instance, debug');\n    _instance = new StorageClass();\n    _instance.vault = new StorageClass();\n    var old_configure = _instance.configure;\n    _instance.configure = function (options) {\n        logger.debug('storage configure called');\n        var vaultConfig = __assign({}, old_configure.call(_instance, options));\n        // set level private for each provider for the vault\n        Object.keys(vaultConfig).forEach(function (providerName) {\n            if (typeof vaultConfig[providerName] !== 'string') {\n                vaultConfig[providerName] = __assign(__assign({}, vaultConfig[providerName]), { level: 'private' });\n            }\n        });\n        logger.debug('storage vault configure called');\n        _instance.vault.configure(vaultConfig);\n    };\n    return _instance;\n};\nexport var Storage = getInstance();\nAmplify.register(Storage);\n/**\n * @deprecated use named import\n */\nexport default Storage;\nexport { StorageClass };\nexport * from './providers';\n//# sourceMappingURL=index.js.map","import { fromUtf8 as jsFromUtf8, toUtf8 as jsToUtf8 } from \"./pureJs\";\nimport { fromUtf8 as textEncoderFromUtf8, toUtf8 as textEncoderToUtf8 } from \"./whatwgEncodingApi\";\nexport var fromUtf8 = function (input) {\n    return typeof TextEncoder === \"function\" ? textEncoderFromUtf8(input) : jsFromUtf8(input);\n};\nexport var toUtf8 = function (input) {\n    return typeof TextDecoder === \"function\" ? textEncoderToUtf8(input) : jsToUtf8(input);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsSUFBSSxVQUFVLEVBQUUsTUFBTSxJQUFJLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxJQUFJLG1CQUFtQixFQUFFLE1BQU0sSUFBSSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBS25HLE1BQU0sQ0FBQyxJQUFNLFFBQVEsR0FBRyxVQUFDLEtBQWE7SUFDcEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO0FBQWxGLENBQWtGLENBQUM7QUFFckYsTUFBTSxDQUFDLElBQU0sTUFBTSxHQUFHLFVBQUMsS0FBaUI7SUFDdEMsT0FBQSxPQUFPLFdBQVcsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO0FBQTlFLENBQThFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tVXRmOCBhcyBqc0Zyb21VdGY4LCB0b1V0ZjggYXMganNUb1V0ZjggfSBmcm9tIFwiLi9wdXJlSnNcIjtcbmltcG9ydCB7IGZyb21VdGY4IGFzIHRleHRFbmNvZGVyRnJvbVV0ZjgsIHRvVXRmOCBhcyB0ZXh0RW5jb2RlclRvVXRmOCB9IGZyb20gXCIuL3doYXR3Z0VuY29kaW5nQXBpXCI7XG5cbmRlY2xhcmUgY29uc3QgVGV4dERlY29kZXI6IEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBmcm9tVXRmOCA9IChpbnB1dDogc3RyaW5nKTogVWludDhBcnJheSA9PlxuICB0eXBlb2YgVGV4dEVuY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyRnJvbVV0ZjgoaW5wdXQpIDoganNGcm9tVXRmOChpbnB1dCk7XG5cbmV4cG9ydCBjb25zdCB0b1V0ZjggPSAoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcgPT5cbiAgdHlwZW9mIFRleHREZWNvZGVyID09PSBcImZ1bmN0aW9uXCIgPyB0ZXh0RW5jb2RlclRvVXRmOChpbnB1dCkgOiBqc1RvVXRmOChpbnB1dCk7XG4iXX0=","export function fromUtf8(input) {\n    return new TextEncoder().encode(input);\n}\nexport function toUtf8(input) {\n    return new TextDecoder(\"utf-8\").decode(input);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hhdHdnRW5jb2RpbmdBcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvd2hhdHdnRW5jb2RpbmdBcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUNBLE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBYTtJQUNwQyxPQUFPLElBQUksV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLE9BQU8sSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZGVjbGFyYXRpb24gb2YgdGhlIGdsb2JhbCBUZXh0RW5jb2RlciBhbmQgVGV4dERlY29kZXIgY29uc3RydWN0b3JzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9lbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcvXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5uYW1lc3BhY2UgRW5jb2Rpbmcge1xuICBpbnRlcmZhY2UgVGV4dERlY29kZXJPcHRpb25zIHtcbiAgICBmYXRhbD86IGJvb2xlYW47XG4gICAgaWdub3JlQk9NPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlT3B0aW9ucyB7XG4gICAgc3RyZWFtPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlciB7XG4gICAgcmVhZG9ubHkgZW5jb2Rpbmc6IHN0cmluZztcbiAgICByZWFkb25seSBmYXRhbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBpZ25vcmVCT006IGJvb2xlYW47XG4gICAgZGVjb2RlKGlucHV0PzogQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcsIG9wdGlvbnM/OiBUZXh0RGVjb2RlT3B0aW9ucyk6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGV4dERlY29kZXJDb25zdHJ1Y3RvciB7XG4gICAgbmV3IChsYWJlbD86IHN0cmluZywgb3B0aW9ucz86IFRleHREZWNvZGVyT3B0aW9ucyk6IFRleHREZWNvZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIFRleHRFbmNvZGVyIHtcbiAgICByZWFkb25seSBlbmNvZGluZzogXCJ1dGYtOFwiO1xuICAgIGVuY29kZShpbnB1dD86IHN0cmluZyk6IFVpbnQ4QXJyYXk7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRleHRFbmNvZGVyQ29uc3RydWN0b3Ige1xuICAgIG5ldyAoKTogVGV4dEVuY29kZXI7XG4gIH1cbn1cblxuZGVjbGFyZSBjb25zdCBUZXh0RGVjb2RlcjogRW5jb2RpbmcuVGV4dERlY29kZXJDb25zdHJ1Y3RvcjtcblxuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRW5jb2RpbmcuVGV4dEVuY29kZXJDb25zdHJ1Y3RvcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGlucHV0KTtcbn1cbiJdfQ==","/**\n * Converts a JS string from its native UCS-2/UTF-16 representation into a\n * Uint8Array of the bytes used to represent the equivalent characters in UTF-8.\n *\n * Cribbed from the `goog.crypt.stringToUtf8ByteArray` function in the Google\n * Closure library, though updated to use typed arrays.\n */\nexport var fromUtf8 = function (input) {\n    var bytes = [];\n    for (var i = 0, len = input.length; i < len; i++) {\n        var value = input.charCodeAt(i);\n        if (value < 0x80) {\n            bytes.push(value);\n        }\n        else if (value < 0x800) {\n            bytes.push((value >> 6) | 192, (value & 63) | 128);\n        }\n        else if (i + 1 < input.length && (value & 0xfc00) === 0xd800 && (input.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\n            var surrogatePair = 0x10000 + ((value & 1023) << 10) + (input.charCodeAt(++i) & 1023);\n            bytes.push((surrogatePair >> 18) | 240, ((surrogatePair >> 12) & 63) | 128, ((surrogatePair >> 6) & 63) | 128, (surrogatePair & 63) | 128);\n        }\n        else {\n            bytes.push((value >> 12) | 224, ((value >> 6) & 63) | 128, (value & 63) | 128);\n        }\n    }\n    return Uint8Array.from(bytes);\n};\n/**\n * Converts a typed array of bytes containing UTF-8 data into a native JS\n * string.\n *\n * Partly cribbed from the `goog.crypt.utf8ByteArrayToString` function in the\n * Google Closure library, though updated to use typed arrays and to better\n * handle astral plane code points.\n */\nexport var toUtf8 = function (input) {\n    var decoded = \"\";\n    for (var i = 0, len = input.length; i < len; i++) {\n        var byte = input[i];\n        if (byte < 0x80) {\n            decoded += String.fromCharCode(byte);\n        }\n        else if (192 <= byte && byte < 224) {\n            var nextByte = input[++i];\n            decoded += String.fromCharCode(((byte & 31) << 6) | (nextByte & 63));\n        }\n        else if (240 <= byte && byte < 365) {\n            var surrogatePair = [byte, input[++i], input[++i], input[++i]];\n            var encoded = \"%\" + surrogatePair.map(function (byteValue) { return byteValue.toString(16); }).join(\"%\");\n            decoded += decodeURIComponent(encoded);\n        }\n        else {\n            decoded += String.fromCharCode(((byte & 15) << 12) | ((input[++i] & 63) << 6) | (input[++i] & 63));\n        }\n    }\n    return decoded;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZUpzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3B1cmVKcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxRQUFRLEdBQUcsVUFBQyxLQUFhO0lBQ3BDLElBQU0sS0FBSyxHQUFrQixFQUFFLENBQUM7SUFDaEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksS0FBSyxHQUFHLElBQUksRUFBRTtZQUNoQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ25CO2FBQU0sSUFBSSxLQUFLLEdBQUcsS0FBSyxFQUFFO1lBQ3hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FBQyxDQUFDO1NBQ3hFO2FBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxFQUFFO1lBQy9HLElBQU0sYUFBYSxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQVksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQVksQ0FBQyxDQUFDO1lBQ3hHLEtBQUssQ0FBQyxJQUFJLENBQ1IsQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBVSxFQUNsQyxDQUFDLENBQUMsYUFBYSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFDL0MsQ0FBQyxDQUFDLGFBQWEsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLEVBQzlDLENBQUMsYUFBYSxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FDeEMsQ0FBQztTQUNIO2FBQU07WUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFRLENBQUMsR0FBRyxHQUFVLENBQUMsQ0FBQztTQUNqSDtLQUNGO0lBRUQsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQUVGOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLENBQUMsSUFBTSxNQUFNLEdBQUcsVUFBQyxLQUFpQjtJQUN0QyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDakIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFO1lBQ2YsT0FBTyxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVUsRUFBRTtZQUNsRCxJQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM1QixPQUFPLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLEVBQVEsQ0FBQyxDQUFDLENBQUM7U0FDakY7YUFBTSxJQUFJLEdBQVUsSUFBSSxJQUFJLElBQUksSUFBSSxHQUFHLEdBQVcsRUFBRTtZQUNuRCxJQUFNLGFBQWEsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLElBQU0sT0FBTyxHQUFHLEdBQUcsR0FBRyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUMsU0FBUyxJQUFLLE9BQUEsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6RixPQUFPLElBQUksa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNMLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUM1QixDQUFDLENBQUMsSUFBSSxHQUFHLEVBQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxDQUNuRixDQUFDO1NBQ0g7S0FDRjtJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKUyBzdHJpbmcgZnJvbSBpdHMgbmF0aXZlIFVDUy0yL1VURi0xNiByZXByZXNlbnRhdGlvbiBpbnRvIGFcbiAqIFVpbnQ4QXJyYXkgb2YgdGhlIGJ5dGVzIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlcXVpdmFsZW50IGNoYXJhY3RlcnMgaW4gVVRGLTguXG4gKlxuICogQ3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXlgIGZ1bmN0aW9uIGluIHRoZSBHb29nbGVcbiAqIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5ID0+IHtcbiAgY29uc3QgYnl0ZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmICh2YWx1ZSA8IDB4ODApIHtcbiAgICAgIGJ5dGVzLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAweDgwMCkge1xuICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gNikgfCAwYjExMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICB9IGVsc2UgaWYgKGkgKyAxIDwgaW5wdXQubGVuZ3RoICYmICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAoaW5wdXQuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSAweDEwMDAwICsgKCh2YWx1ZSAmIDBiMTExMTExMTExMSkgPDwgMTApICsgKGlucHV0LmNoYXJDb2RlQXQoKytpKSAmIDBiMTExMTExMTExMSk7XG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICAoc3Vycm9nYXRlUGFpciA+PiAxOCkgfCAwYjExMTEwMDAwLFxuICAgICAgICAoKHN1cnJvZ2F0ZVBhaXIgPj4gMTIpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKChzdXJyb2dhdGVQYWlyID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKHN1cnJvZ2F0ZVBhaXIgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBieXRlcy5wdXNoKCh2YWx1ZSA+PiAxMikgfCAwYjExMTAwMDAwLCAoKHZhbHVlID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCwgKHZhbHVlICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShieXRlcyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgdHlwZWQgYXJyYXkgb2YgYnl0ZXMgY29udGFpbmluZyBVVEYtOCBkYXRhIGludG8gYSBuYXRpdmUgSlNcbiAqIHN0cmluZy5cbiAqXG4gKiBQYXJ0bHkgY3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC51dGY4Qnl0ZUFycmF5VG9TdHJpbmdgIGZ1bmN0aW9uIGluIHRoZVxuICogR29vZ2xlIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cyBhbmQgdG8gYmV0dGVyXG4gKiBoYW5kbGUgYXN0cmFsIHBsYW5lIGNvZGUgcG9pbnRzLlxuICovXG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0OiBVaW50OEFycmF5KTogc3RyaW5nID0+IHtcbiAgbGV0IGRlY29kZWQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBieXRlID0gaW5wdXRbaV07XG4gICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XG4gICAgfSBlbHNlIGlmICgwYjExMDAwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTExMDAwMDApIHtcbiAgICAgIGNvbnN0IG5leHRCeXRlID0gaW5wdXRbKytpXTtcbiAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGJ5dGUgJiAwYjExMTExKSA8PCA2KSB8IChuZXh0Qnl0ZSAmIDBiMTExMTExKSk7XG4gICAgfSBlbHNlIGlmICgwYjExMTEwMDAwIDw9IGJ5dGUgJiYgYnl0ZSA8IDBiMTAxMTAxMTAxKSB7XG4gICAgICBjb25zdCBzdXJyb2dhdGVQYWlyID0gW2J5dGUsIGlucHV0WysraV0sIGlucHV0WysraV0sIGlucHV0WysraV1dO1xuICAgICAgY29uc3QgZW5jb2RlZCA9IFwiJVwiICsgc3Vycm9nYXRlUGFpci5tYXAoKGJ5dGVWYWx1ZSkgPT4gYnl0ZVZhbHVlLnRvU3RyaW5nKDE2KSkuam9pbihcIiVcIik7XG4gICAgICBkZWNvZGVkICs9IGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICAoKGJ5dGUgJiAwYjExMTEpIDw8IDEyKSB8ICgoaW5wdXRbKytpXSAmIDBiMTExMTExKSA8PCA2KSB8IChpbnB1dFsrK2ldICYgMGIxMTExMTEpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWNvZGVkO1xufTtcbiJdfQ=="],"sourceRoot":""}