{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _isWhiteSpace = _interopRequireDefault(require(\"../../glyph/isWhiteSpace\"));\n\nvar WHITESPACE_PRIORITY = 1;\nvar LETTER_PRIORITY = 2;\nvar EXPAND_WHITESPACE_FACTOR = {\n  before: 0.5,\n  after: 0.5,\n  priority: WHITESPACE_PRIORITY,\n  unconstrained: false\n};\nvar EXPAND_CHAR_FACTOR = {\n  before: 0.14453125,\n  // 37/256\n  after: 0.14453125,\n  priority: LETTER_PRIORITY,\n  unconstrained: false\n};\nvar SHRINK_WHITESPACE_FACTOR = {\n  before: -0.04296875,\n  // -11/256\n  after: -0.04296875,\n  priority: WHITESPACE_PRIORITY,\n  unconstrained: false\n};\nvar SHRINK_CHAR_FACTOR = {\n  before: -0.04296875,\n  after: -0.04296875,\n  priority: LETTER_PRIORITY,\n  unconstrained: false\n};\n\nvar getCharFactor = function getCharFactor(direction, options) {\n  var expandCharFactor = R.propOr({}, 'expandCharFactor', options);\n  var shrinkCharFactor = R.propOr({}, 'shrinkCharFactor', options);\n  return direction === 'GROW' ? R.merge(EXPAND_CHAR_FACTOR, expandCharFactor) : R.merge(SHRINK_CHAR_FACTOR, shrinkCharFactor);\n};\n\nvar getWhitespaceFactor = function getWhitespaceFactor(direction, options) {\n  var expandWhitespaceFactor = R.propOr({}, 'expandWhitespaceFactor', options);\n  var shrinkWhitespaceFactor = R.propOr({}, 'shrinkWhitespaceFactor', options);\n  return direction === 'GROW' ? R.merge(EXPAND_WHITESPACE_FACTOR, expandWhitespaceFactor) : R.merge(SHRINK_WHITESPACE_FACTOR, shrinkWhitespaceFactor);\n};\n\nvar factor = function factor(direction, options) {\n  return function (glyphs) {\n    var charFactor = getCharFactor(direction, options);\n    var whitespaceFactor = getWhitespaceFactor(direction, options);\n    var factors = [];\n\n    for (var index = 0; index < glyphs.length; index += 1) {\n      var f = void 0;\n      var glyph = glyphs[index];\n\n      if ((0, _isWhiteSpace.default)(glyph)) {\n        f = R.clone(whitespaceFactor);\n\n        if (index === glyphs.length - 1) {\n          f.before = 0;\n\n          if (index > 0) {\n            factors[index - 1].after = 0;\n          }\n        }\n      } else if (glyph.isMark && index > 0) {\n        f = R.clone(factors[index - 1]);\n        f.before = 0;\n        factors[index - 1].after = 0;\n      } else {\n        f = R.clone(charFactor);\n      }\n\n      factors.push(f);\n    }\n\n    return factors;\n  };\n};\n\nvar getFactors = function getFactors(gap, line, options) {\n  var direction = gap > 0 ? 'GROW' : 'SHRINK';\n  var getFactor = factor(direction, options);\n  var concatFactors = R.useWith(R.concat, [R.identity, R.compose(getFactor, R.prop('glyphs'))]);\n  return R.compose(R.adjust(-1, R.assoc('after', 0)), R.adjust(0, R.assoc('before', 0)), R.reduce(concatFactors, []), R.prop('runs'))(line);\n};\n\nvar _default = getFactors;\nexports.default = _default;","map":{"version":3,"sources":["/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/node_modules/@react-pdf/textkit/lib/engines/justification/getFactors.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","__esModule","default","R","_isWhiteSpace","WHITESPACE_PRIORITY","LETTER_PRIORITY","EXPAND_WHITESPACE_FACTOR","before","after","priority","unconstrained","EXPAND_CHAR_FACTOR","SHRINK_WHITESPACE_FACTOR","SHRINK_CHAR_FACTOR","getCharFactor","direction","options","expandCharFactor","propOr","shrinkCharFactor","merge","getWhitespaceFactor","expandWhitespaceFactor","shrinkWhitespaceFactor","factor","glyphs","charFactor","whitespaceFactor","factors","index","length","f","glyph","clone","isMark","push","getFactors","gap","line","getFactor","concatFactors","useWith","concat","identity","compose","prop","adjust","assoc","reduce","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _isWhiteSpace = _interopRequireDefault(require(\"../../glyph/isWhiteSpace\"));\n\nvar WHITESPACE_PRIORITY = 1;\nvar LETTER_PRIORITY = 2;\nvar EXPAND_WHITESPACE_FACTOR = {\n  before: 0.5,\n  after: 0.5,\n  priority: WHITESPACE_PRIORITY,\n  unconstrained: false\n};\nvar EXPAND_CHAR_FACTOR = {\n  before: 0.14453125,\n  // 37/256\n  after: 0.14453125,\n  priority: LETTER_PRIORITY,\n  unconstrained: false\n};\nvar SHRINK_WHITESPACE_FACTOR = {\n  before: -0.04296875,\n  // -11/256\n  after: -0.04296875,\n  priority: WHITESPACE_PRIORITY,\n  unconstrained: false\n};\nvar SHRINK_CHAR_FACTOR = {\n  before: -0.04296875,\n  after: -0.04296875,\n  priority: LETTER_PRIORITY,\n  unconstrained: false\n};\n\nvar getCharFactor = function getCharFactor(direction, options) {\n  var expandCharFactor = R.propOr({}, 'expandCharFactor', options);\n  var shrinkCharFactor = R.propOr({}, 'shrinkCharFactor', options);\n  return direction === 'GROW' ? R.merge(EXPAND_CHAR_FACTOR, expandCharFactor) : R.merge(SHRINK_CHAR_FACTOR, shrinkCharFactor);\n};\n\nvar getWhitespaceFactor = function getWhitespaceFactor(direction, options) {\n  var expandWhitespaceFactor = R.propOr({}, 'expandWhitespaceFactor', options);\n  var shrinkWhitespaceFactor = R.propOr({}, 'shrinkWhitespaceFactor', options);\n  return direction === 'GROW' ? R.merge(EXPAND_WHITESPACE_FACTOR, expandWhitespaceFactor) : R.merge(SHRINK_WHITESPACE_FACTOR, shrinkWhitespaceFactor);\n};\n\nvar factor = function factor(direction, options) {\n  return function (glyphs) {\n    var charFactor = getCharFactor(direction, options);\n    var whitespaceFactor = getWhitespaceFactor(direction, options);\n    var factors = [];\n\n    for (var index = 0; index < glyphs.length; index += 1) {\n      var f = void 0;\n      var glyph = glyphs[index];\n\n      if ((0, _isWhiteSpace.default)(glyph)) {\n        f = R.clone(whitespaceFactor);\n\n        if (index === glyphs.length - 1) {\n          f.before = 0;\n\n          if (index > 0) {\n            factors[index - 1].after = 0;\n          }\n        }\n      } else if (glyph.isMark && index > 0) {\n        f = R.clone(factors[index - 1]);\n        f.before = 0;\n        factors[index - 1].after = 0;\n      } else {\n        f = R.clone(charFactor);\n      }\n\n      factors.push(f);\n    }\n\n    return factors;\n  };\n};\n\nvar getFactors = function getFactors(gap, line, options) {\n  var direction = gap > 0 ? 'GROW' : 'SHRINK';\n  var getFactor = factor(direction, options);\n  var concatFactors = R.useWith(R.concat, [R.identity, R.compose(getFactor, R.prop('glyphs'))]);\n  return R.compose(R.adjust(-1, R.assoc('after', 0)), R.adjust(0, R.assoc('before', 0)), R.reduce(concatFactors, []), R.prop('runs'))(line);\n};\n\nvar _default = getFactors;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}