{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport React from 'react';\nimport createElement from './create-element';\nimport checkForListedLanguage from './checkForListedLanguage';\nvar newLineRegex = /\\n/g;\n\nfunction getNewLines(str) {\n  return str.match(newLineRegex);\n}\n\nfunction getAllLineNumbers(_ref) {\n  var lines = _ref.lines,\n      startingLineNumber = _ref.startingLineNumber,\n      style = _ref.style;\n  return lines.map(function (_, i) {\n    var number = i + startingLineNumber;\n    return React.createElement(\"span\", {\n      key: \"line-\".concat(i),\n      className: \"react-syntax-highlighter-line-number\",\n      style: typeof style === 'function' ? style(number) : style\n    }, \"\".concat(number, \"\\n\"));\n  });\n}\n\nfunction AllLineNumbers(_ref2) {\n  var codeString = _ref2.codeString,\n      codeStyle = _ref2.codeStyle,\n      _ref2$containerStyle = _ref2.containerStyle,\n      containerStyle = _ref2$containerStyle === void 0 ? {\n    float: 'left',\n    paddingRight: '10px'\n  } : _ref2$containerStyle,\n      _ref2$numberStyle = _ref2.numberStyle,\n      numberStyle = _ref2$numberStyle === void 0 ? {} : _ref2$numberStyle,\n      startingLineNumber = _ref2.startingLineNumber;\n  return React.createElement(\"code\", {\n    style: Object.assign({}, codeStyle, containerStyle)\n  }, getAllLineNumbers({\n    lines: codeString.replace(/\\n$/, '').split('\\n'),\n    style: numberStyle,\n    startingLineNumber: startingLineNumber\n  }));\n}\n\nfunction getEmWidthOfNumber(num) {\n  return \"\".concat(num.toString().length, \".25em\");\n}\n\nfunction getInlineLineNumber(lineNumber, inlineLineNumberStyle) {\n  return {\n    type: 'element',\n    tagName: 'span',\n    properties: {\n      key: \"line-number--\".concat(lineNumber),\n      className: ['comment', 'linenumber', 'react-syntax-highlighter-line-number'],\n      style: inlineLineNumberStyle\n    },\n    children: [{\n      type: 'text',\n      value: lineNumber\n    }]\n  };\n}\n\nfunction assembleLineNumberStyles(lineNumberStyle, lineNumber, largestLineNumber) {\n  // minimally necessary styling for line numbers\n  var defaultLineNumberStyle = {\n    display: 'inline-block',\n    minWidth: getEmWidthOfNumber(largestLineNumber),\n    paddingRight: '1em',\n    textAlign: 'right',\n    userSelect: 'none'\n  }; // prep custom styling\n\n  var customLineNumberStyle = typeof lineNumberStyle === 'function' ? lineNumberStyle(lineNumber) : lineNumberStyle; // combine\n\n  var assembledStyle = _objectSpread({}, defaultLineNumberStyle, customLineNumberStyle);\n\n  return assembledStyle;\n}\n\nfunction createLineElement(_ref3) {\n  var children = _ref3.children,\n      lineNumber = _ref3.lineNumber,\n      lineNumberStyle = _ref3.lineNumberStyle,\n      largestLineNumber = _ref3.largestLineNumber,\n      showInlineLineNumbers = _ref3.showInlineLineNumbers,\n      _ref3$lineProps = _ref3.lineProps,\n      lineProps = _ref3$lineProps === void 0 ? {} : _ref3$lineProps,\n      _ref3$className = _ref3.className,\n      className = _ref3$className === void 0 ? [] : _ref3$className,\n      showLineNumbers = _ref3.showLineNumbers,\n      wrapLongLines = _ref3.wrapLongLines;\n  var properties = typeof lineProps === 'function' ? lineProps(lineNumber) : lineProps;\n  properties['className'] = className;\n\n  if (lineNumber && showInlineLineNumbers) {\n    var inlineLineNumberStyle = assembleLineNumberStyles(lineNumberStyle, lineNumber, largestLineNumber);\n    children.unshift(getInlineLineNumber(lineNumber, inlineLineNumberStyle));\n  }\n\n  if (wrapLongLines & showLineNumbers) {\n    properties.style = _objectSpread({}, properties.style, {\n      display: 'flex'\n    });\n  }\n\n  return {\n    type: 'element',\n    tagName: 'span',\n    properties: properties,\n    children: children\n  };\n}\n\nfunction flattenCodeTree(tree) {\n  var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var newTree = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  for (var i = 0; i < tree.length; i++) {\n    var node = tree[i];\n\n    if (node.type === 'text') {\n      newTree.push(createLineElement({\n        children: [node],\n        className: _toConsumableArray(new Set(className))\n      }));\n    } else if (node.children) {\n      var classNames = className.concat(node.properties.className);\n      newTree = newTree.concat(flattenCodeTree(node.children, classNames));\n    }\n  }\n\n  return newTree;\n}\n\nfunction processLines(codeTree, wrapLines, lineProps, showLineNumbers, showInlineLineNumbers, startingLineNumber, largestLineNumber, lineNumberStyle, wrapLongLines) {\n  var _ref4;\n\n  var tree = flattenCodeTree(codeTree.value);\n  var newTree = [];\n  var lastLineBreakIndex = -1;\n  var index = 0;\n\n  function createWrappedLine(children, lineNumber) {\n    var className = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    return createLineElement({\n      children: children,\n      lineNumber: lineNumber,\n      lineNumberStyle: lineNumberStyle,\n      largestLineNumber: largestLineNumber,\n      showInlineLineNumbers: showInlineLineNumbers,\n      lineProps: lineProps,\n      className: className,\n      showLineNumbers: showLineNumbers,\n      wrapLongLines: wrapLongLines\n    });\n  }\n\n  function createUnwrappedLine(children, lineNumber) {\n    if (showLineNumbers && lineNumber && showInlineLineNumbers) {\n      var inlineLineNumberStyle = assembleLineNumberStyles(lineNumberStyle, lineNumber, largestLineNumber);\n      children.unshift(getInlineLineNumber(lineNumber, inlineLineNumberStyle));\n    }\n\n    return children;\n  }\n\n  function createLine(children, lineNumber) {\n    var className = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    return wrapLines || className.length > 0 ? createWrappedLine(children, lineNumber, className) : createUnwrappedLine(children, lineNumber);\n  }\n\n  var _loop = function _loop() {\n    var node = tree[index];\n    var value = node.children[0].value;\n    var newLines = getNewLines(value);\n\n    if (newLines) {\n      var splitValue = value.split('\\n');\n      splitValue.forEach(function (text, i) {\n        var lineNumber = showLineNumbers && newTree.length + startingLineNumber;\n        var newChild = {\n          type: 'text',\n          value: \"\".concat(text, \"\\n\")\n        }; // if it's the first line\n\n        if (i === 0) {\n          var _children = tree.slice(lastLineBreakIndex + 1, index).concat(createLineElement({\n            children: [newChild],\n            className: node.properties.className\n          }));\n\n          var _line = createLine(_children, lineNumber);\n\n          newTree.push(_line); // if it's the last line\n        } else if (i === splitValue.length - 1) {\n          var stringChild = tree[index + 1] && tree[index + 1].children && tree[index + 1].children[0];\n\n          if (stringChild) {\n            var lastLineInPreviousSpan = {\n              type: 'text',\n              value: \"\".concat(text)\n            };\n            var newElem = createLineElement({\n              children: [lastLineInPreviousSpan],\n              className: node.properties.className\n            });\n            tree.splice(index + 1, 0, newElem);\n          } else {\n            var _children2 = [newChild];\n\n            var _line2 = createLine(_children2, lineNumber, node.properties.className);\n\n            newTree.push(_line2);\n          } // if it's neither the first nor the last line\n\n        } else {\n          var _children3 = [newChild];\n\n          var _line3 = createLine(_children3, lineNumber, node.properties.className);\n\n          newTree.push(_line3);\n        }\n      });\n      lastLineBreakIndex = index;\n    }\n\n    index++;\n  };\n\n  while (index < tree.length) {\n    _loop();\n  }\n\n  if (lastLineBreakIndex !== tree.length - 1) {\n    var children = tree.slice(lastLineBreakIndex + 1, tree.length);\n\n    if (children && children.length) {\n      var lineNumber = showLineNumbers && newTree.length + startingLineNumber;\n      var line = createLine(children, lineNumber);\n      newTree.push(line);\n    }\n  }\n\n  return wrapLines ? newTree : (_ref4 = []).concat.apply(_ref4, newTree);\n}\n\nfunction defaultRenderer(_ref5) {\n  var rows = _ref5.rows,\n      stylesheet = _ref5.stylesheet,\n      useInlineStyles = _ref5.useInlineStyles;\n  return rows.map(function (node, i) {\n    return createElement({\n      node: node,\n      stylesheet: stylesheet,\n      useInlineStyles: useInlineStyles,\n      key: \"code-segement\".concat(i)\n    });\n  });\n} // only highlight.js has the highlightAuto method\n\n\nfunction isHighlightJs(astGenerator) {\n  return astGenerator && typeof astGenerator.highlightAuto !== 'undefined';\n}\n\nfunction getCodeTree(_ref6) {\n  var astGenerator = _ref6.astGenerator,\n      language = _ref6.language,\n      code = _ref6.code,\n      defaultCodeValue = _ref6.defaultCodeValue; // figure out whether we're using lowlight/highlight or refractor/prism\n  // then attempt highlighting accordingly\n  // lowlight/highlight?\n\n  if (isHighlightJs(astGenerator)) {\n    var hasLanguage = checkForListedLanguage(astGenerator, language);\n\n    if (language === 'text') {\n      return {\n        value: defaultCodeValue,\n        language: 'text'\n      };\n    } else if (hasLanguage) {\n      return astGenerator.highlight(language, code);\n    } else {\n      return astGenerator.highlightAuto(code);\n    }\n  } // must be refractor/prism, then\n\n\n  try {\n    return language && language !== 'text' ? {\n      value: astGenerator.highlight(code, language)\n    } : {\n      value: defaultCodeValue\n    };\n  } catch (e) {\n    return {\n      value: defaultCodeValue\n    };\n  }\n}\n\nexport default function (defaultAstGenerator, defaultStyle) {\n  return function SyntaxHighlighter(_ref7) {\n    var language = _ref7.language,\n        children = _ref7.children,\n        _ref7$style = _ref7.style,\n        style = _ref7$style === void 0 ? defaultStyle : _ref7$style,\n        _ref7$customStyle = _ref7.customStyle,\n        customStyle = _ref7$customStyle === void 0 ? {} : _ref7$customStyle,\n        _ref7$codeTagProps = _ref7.codeTagProps,\n        codeTagProps = _ref7$codeTagProps === void 0 ? {\n      className: language ? \"language-\".concat(language) : undefined,\n      style: _objectSpread({}, style['code[class*=\"language-\"]'], style[\"code[class*=\\\"language-\".concat(language, \"\\\"]\")])\n    } : _ref7$codeTagProps,\n        _ref7$useInlineStyles = _ref7.useInlineStyles,\n        useInlineStyles = _ref7$useInlineStyles === void 0 ? true : _ref7$useInlineStyles,\n        _ref7$showLineNumbers = _ref7.showLineNumbers,\n        showLineNumbers = _ref7$showLineNumbers === void 0 ? false : _ref7$showLineNumbers,\n        _ref7$showInlineLineN = _ref7.showInlineLineNumbers,\n        showInlineLineNumbers = _ref7$showInlineLineN === void 0 ? true : _ref7$showInlineLineN,\n        _ref7$startingLineNum = _ref7.startingLineNumber,\n        startingLineNumber = _ref7$startingLineNum === void 0 ? 1 : _ref7$startingLineNum,\n        lineNumberContainerStyle = _ref7.lineNumberContainerStyle,\n        _ref7$lineNumberStyle = _ref7.lineNumberStyle,\n        lineNumberStyle = _ref7$lineNumberStyle === void 0 ? {} : _ref7$lineNumberStyle,\n        wrapLines = _ref7.wrapLines,\n        _ref7$wrapLongLines = _ref7.wrapLongLines,\n        wrapLongLines = _ref7$wrapLongLines === void 0 ? false : _ref7$wrapLongLines,\n        _ref7$lineProps = _ref7.lineProps,\n        lineProps = _ref7$lineProps === void 0 ? {} : _ref7$lineProps,\n        renderer = _ref7.renderer,\n        _ref7$PreTag = _ref7.PreTag,\n        PreTag = _ref7$PreTag === void 0 ? 'pre' : _ref7$PreTag,\n        _ref7$CodeTag = _ref7.CodeTag,\n        CodeTag = _ref7$CodeTag === void 0 ? 'code' : _ref7$CodeTag,\n        _ref7$code = _ref7.code,\n        code = _ref7$code === void 0 ? Array.isArray(children) ? children[0] : children : _ref7$code,\n        astGenerator = _ref7.astGenerator,\n        rest = _objectWithoutProperties(_ref7, [\"language\", \"children\", \"style\", \"customStyle\", \"codeTagProps\", \"useInlineStyles\", \"showLineNumbers\", \"showInlineLineNumbers\", \"startingLineNumber\", \"lineNumberContainerStyle\", \"lineNumberStyle\", \"wrapLines\", \"wrapLongLines\", \"lineProps\", \"renderer\", \"PreTag\", \"CodeTag\", \"code\", \"astGenerator\"]);\n\n    astGenerator = astGenerator || defaultAstGenerator;\n    var allLineNumbers = showLineNumbers ? React.createElement(AllLineNumbers, {\n      containerStyle: lineNumberContainerStyle,\n      codeStyle: codeTagProps.style || {},\n      numberStyle: lineNumberStyle,\n      startingLineNumber: startingLineNumber,\n      codeString: code\n    }) : null;\n    var defaultPreStyle = style.hljs || style['pre[class*=\"language-\"]'] || {\n      backgroundColor: '#fff'\n    };\n    var generatorClassName = isHighlightJs(astGenerator) ? 'hljs' : 'prismjs';\n    var preProps = useInlineStyles ? Object.assign({}, rest, {\n      style: Object.assign({}, defaultPreStyle, customStyle)\n    }) : Object.assign({}, rest, {\n      className: rest.className ? \"\".concat(generatorClassName, \" \").concat(rest.className) : generatorClassName,\n      style: Object.assign({}, customStyle)\n    });\n\n    if (!astGenerator) {\n      return React.createElement(PreTag, preProps, allLineNumbers, React.createElement(CodeTag, codeTagProps, code));\n    }\n    /*\n     * Some custom renderers rely on individual row elements so we need to turn wrapLines on\n     * if renderer is provided and wrapLines is undefined.\n     */\n\n\n    if (wrapLines === undefined && renderer || wrapLongLines) wrapLines = true;\n    renderer = renderer || defaultRenderer;\n    var defaultCodeValue = [{\n      type: 'text',\n      value: code\n    }];\n    var codeTree = getCodeTree({\n      astGenerator: astGenerator,\n      language: language,\n      code: code,\n      defaultCodeValue: defaultCodeValue\n    });\n\n    if (codeTree.language === null) {\n      codeTree.value = defaultCodeValue;\n    } // determine largest line number so that we can force minWidth on all linenumber elements\n\n\n    var largestLineNumber = codeTree.value.length + startingLineNumber;\n    var rows = processLines(codeTree, wrapLines, lineProps, showLineNumbers, showInlineLineNumbers, startingLineNumber, largestLineNumber, lineNumberStyle, wrapLongLines);\n\n    if (wrapLongLines) {\n      codeTagProps.style = _objectSpread({}, codeTagProps.style, {\n        whiteSpace: 'pre-wrap'\n      });\n    } else {\n      codeTagProps.style = _objectSpread({}, codeTagProps.style, {\n        whiteSpace: 'pre'\n      });\n    }\n\n    return React.createElement(PreTag, preProps, React.createElement(CodeTag, codeTagProps, !showInlineLineNumbers && allLineNumbers, renderer({\n      rows: rows,\n      stylesheet: style,\n      useInlineStyles: useInlineStyles\n    })));\n  };\n}","map":{"version":3,"sources":["/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/node_modules/react-syntax-highlighter/dist/esm/highlight.js"],"names":["_objectWithoutProperties","_toConsumableArray","_objectSpread","React","createElement","checkForListedLanguage","newLineRegex","getNewLines","str","match","getAllLineNumbers","_ref","lines","startingLineNumber","style","map","_","i","number","key","concat","className","AllLineNumbers","_ref2","codeString","codeStyle","_ref2$containerStyle","containerStyle","float","paddingRight","_ref2$numberStyle","numberStyle","Object","assign","replace","split","getEmWidthOfNumber","num","toString","length","getInlineLineNumber","lineNumber","inlineLineNumberStyle","type","tagName","properties","children","value","assembleLineNumberStyles","lineNumberStyle","largestLineNumber","defaultLineNumberStyle","display","minWidth","textAlign","userSelect","customLineNumberStyle","assembledStyle","createLineElement","_ref3","showInlineLineNumbers","_ref3$lineProps","lineProps","_ref3$className","showLineNumbers","wrapLongLines","unshift","flattenCodeTree","tree","arguments","undefined","newTree","node","push","Set","classNames","processLines","codeTree","wrapLines","_ref4","lastLineBreakIndex","index","createWrappedLine","createUnwrappedLine","createLine","_loop","newLines","splitValue","forEach","text","newChild","_children","slice","_line","stringChild","lastLineInPreviousSpan","newElem","splice","_children2","_line2","_children3","_line3","line","apply","defaultRenderer","_ref5","rows","stylesheet","useInlineStyles","isHighlightJs","astGenerator","highlightAuto","getCodeTree","_ref6","language","code","defaultCodeValue","hasLanguage","highlight","e","defaultAstGenerator","defaultStyle","SyntaxHighlighter","_ref7","_ref7$style","_ref7$customStyle","customStyle","_ref7$codeTagProps","codeTagProps","_ref7$useInlineStyles","_ref7$showLineNumbers","_ref7$showInlineLineN","_ref7$startingLineNum","lineNumberContainerStyle","_ref7$lineNumberStyle","_ref7$wrapLongLines","_ref7$lineProps","renderer","_ref7$PreTag","PreTag","_ref7$CodeTag","CodeTag","_ref7$code","Array","isArray","rest","allLineNumbers","defaultPreStyle","hljs","backgroundColor","generatorClassName","preProps","whiteSpace"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport React from 'react';\nimport createElement from './create-element';\nimport checkForListedLanguage from './checkForListedLanguage';\nvar newLineRegex = /\\n/g;\n\nfunction getNewLines(str) {\n  return str.match(newLineRegex);\n}\n\nfunction getAllLineNumbers(_ref) {\n  var lines = _ref.lines,\n      startingLineNumber = _ref.startingLineNumber,\n      style = _ref.style;\n  return lines.map(function (_, i) {\n    var number = i + startingLineNumber;\n    return React.createElement(\"span\", {\n      key: \"line-\".concat(i),\n      className: \"react-syntax-highlighter-line-number\",\n      style: typeof style === 'function' ? style(number) : style\n    }, \"\".concat(number, \"\\n\"));\n  });\n}\n\nfunction AllLineNumbers(_ref2) {\n  var codeString = _ref2.codeString,\n      codeStyle = _ref2.codeStyle,\n      _ref2$containerStyle = _ref2.containerStyle,\n      containerStyle = _ref2$containerStyle === void 0 ? {\n    float: 'left',\n    paddingRight: '10px'\n  } : _ref2$containerStyle,\n      _ref2$numberStyle = _ref2.numberStyle,\n      numberStyle = _ref2$numberStyle === void 0 ? {} : _ref2$numberStyle,\n      startingLineNumber = _ref2.startingLineNumber;\n  return React.createElement(\"code\", {\n    style: Object.assign({}, codeStyle, containerStyle)\n  }, getAllLineNumbers({\n    lines: codeString.replace(/\\n$/, '').split('\\n'),\n    style: numberStyle,\n    startingLineNumber: startingLineNumber\n  }));\n}\n\nfunction getEmWidthOfNumber(num) {\n  return \"\".concat(num.toString().length, \".25em\");\n}\n\nfunction getInlineLineNumber(lineNumber, inlineLineNumberStyle) {\n  return {\n    type: 'element',\n    tagName: 'span',\n    properties: {\n      key: \"line-number--\".concat(lineNumber),\n      className: ['comment', 'linenumber', 'react-syntax-highlighter-line-number'],\n      style: inlineLineNumberStyle\n    },\n    children: [{\n      type: 'text',\n      value: lineNumber\n    }]\n  };\n}\n\nfunction assembleLineNumberStyles(lineNumberStyle, lineNumber, largestLineNumber) {\n  // minimally necessary styling for line numbers\n  var defaultLineNumberStyle = {\n    display: 'inline-block',\n    minWidth: getEmWidthOfNumber(largestLineNumber),\n    paddingRight: '1em',\n    textAlign: 'right',\n    userSelect: 'none'\n  }; // prep custom styling\n\n  var customLineNumberStyle = typeof lineNumberStyle === 'function' ? lineNumberStyle(lineNumber) : lineNumberStyle; // combine\n\n  var assembledStyle = _objectSpread({}, defaultLineNumberStyle, customLineNumberStyle);\n\n  return assembledStyle;\n}\n\nfunction createLineElement(_ref3) {\n  var children = _ref3.children,\n      lineNumber = _ref3.lineNumber,\n      lineNumberStyle = _ref3.lineNumberStyle,\n      largestLineNumber = _ref3.largestLineNumber,\n      showInlineLineNumbers = _ref3.showInlineLineNumbers,\n      _ref3$lineProps = _ref3.lineProps,\n      lineProps = _ref3$lineProps === void 0 ? {} : _ref3$lineProps,\n      _ref3$className = _ref3.className,\n      className = _ref3$className === void 0 ? [] : _ref3$className,\n      showLineNumbers = _ref3.showLineNumbers,\n      wrapLongLines = _ref3.wrapLongLines;\n  var properties = typeof lineProps === 'function' ? lineProps(lineNumber) : lineProps;\n  properties['className'] = className;\n\n  if (lineNumber && showInlineLineNumbers) {\n    var inlineLineNumberStyle = assembleLineNumberStyles(lineNumberStyle, lineNumber, largestLineNumber);\n    children.unshift(getInlineLineNumber(lineNumber, inlineLineNumberStyle));\n  }\n\n  if (wrapLongLines & showLineNumbers) {\n    properties.style = _objectSpread({}, properties.style, {\n      display: 'flex'\n    });\n  }\n\n  return {\n    type: 'element',\n    tagName: 'span',\n    properties: properties,\n    children: children\n  };\n}\n\nfunction flattenCodeTree(tree) {\n  var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var newTree = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  for (var i = 0; i < tree.length; i++) {\n    var node = tree[i];\n\n    if (node.type === 'text') {\n      newTree.push(createLineElement({\n        children: [node],\n        className: _toConsumableArray(new Set(className))\n      }));\n    } else if (node.children) {\n      var classNames = className.concat(node.properties.className);\n      newTree = newTree.concat(flattenCodeTree(node.children, classNames));\n    }\n  }\n\n  return newTree;\n}\n\nfunction processLines(codeTree, wrapLines, lineProps, showLineNumbers, showInlineLineNumbers, startingLineNumber, largestLineNumber, lineNumberStyle, wrapLongLines) {\n  var _ref4;\n\n  var tree = flattenCodeTree(codeTree.value);\n  var newTree = [];\n  var lastLineBreakIndex = -1;\n  var index = 0;\n\n  function createWrappedLine(children, lineNumber) {\n    var className = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    return createLineElement({\n      children: children,\n      lineNumber: lineNumber,\n      lineNumberStyle: lineNumberStyle,\n      largestLineNumber: largestLineNumber,\n      showInlineLineNumbers: showInlineLineNumbers,\n      lineProps: lineProps,\n      className: className,\n      showLineNumbers: showLineNumbers,\n      wrapLongLines: wrapLongLines\n    });\n  }\n\n  function createUnwrappedLine(children, lineNumber) {\n    if (showLineNumbers && lineNumber && showInlineLineNumbers) {\n      var inlineLineNumberStyle = assembleLineNumberStyles(lineNumberStyle, lineNumber, largestLineNumber);\n      children.unshift(getInlineLineNumber(lineNumber, inlineLineNumberStyle));\n    }\n\n    return children;\n  }\n\n  function createLine(children, lineNumber) {\n    var className = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    return wrapLines || className.length > 0 ? createWrappedLine(children, lineNumber, className) : createUnwrappedLine(children, lineNumber);\n  }\n\n  var _loop = function _loop() {\n    var node = tree[index];\n    var value = node.children[0].value;\n    var newLines = getNewLines(value);\n\n    if (newLines) {\n      var splitValue = value.split('\\n');\n      splitValue.forEach(function (text, i) {\n        var lineNumber = showLineNumbers && newTree.length + startingLineNumber;\n        var newChild = {\n          type: 'text',\n          value: \"\".concat(text, \"\\n\")\n        }; // if it's the first line\n\n        if (i === 0) {\n          var _children = tree.slice(lastLineBreakIndex + 1, index).concat(createLineElement({\n            children: [newChild],\n            className: node.properties.className\n          }));\n\n          var _line = createLine(_children, lineNumber);\n\n          newTree.push(_line); // if it's the last line\n        } else if (i === splitValue.length - 1) {\n          var stringChild = tree[index + 1] && tree[index + 1].children && tree[index + 1].children[0];\n\n          if (stringChild) {\n            var lastLineInPreviousSpan = {\n              type: 'text',\n              value: \"\".concat(text)\n            };\n            var newElem = createLineElement({\n              children: [lastLineInPreviousSpan],\n              className: node.properties.className\n            });\n            tree.splice(index + 1, 0, newElem);\n          } else {\n            var _children2 = [newChild];\n\n            var _line2 = createLine(_children2, lineNumber, node.properties.className);\n\n            newTree.push(_line2);\n          } // if it's neither the first nor the last line\n\n        } else {\n          var _children3 = [newChild];\n\n          var _line3 = createLine(_children3, lineNumber, node.properties.className);\n\n          newTree.push(_line3);\n        }\n      });\n      lastLineBreakIndex = index;\n    }\n\n    index++;\n  };\n\n  while (index < tree.length) {\n    _loop();\n  }\n\n  if (lastLineBreakIndex !== tree.length - 1) {\n    var children = tree.slice(lastLineBreakIndex + 1, tree.length);\n\n    if (children && children.length) {\n      var lineNumber = showLineNumbers && newTree.length + startingLineNumber;\n      var line = createLine(children, lineNumber);\n      newTree.push(line);\n    }\n  }\n\n  return wrapLines ? newTree : (_ref4 = []).concat.apply(_ref4, newTree);\n}\n\nfunction defaultRenderer(_ref5) {\n  var rows = _ref5.rows,\n      stylesheet = _ref5.stylesheet,\n      useInlineStyles = _ref5.useInlineStyles;\n  return rows.map(function (node, i) {\n    return createElement({\n      node: node,\n      stylesheet: stylesheet,\n      useInlineStyles: useInlineStyles,\n      key: \"code-segement\".concat(i)\n    });\n  });\n} // only highlight.js has the highlightAuto method\n\n\nfunction isHighlightJs(astGenerator) {\n  return astGenerator && typeof astGenerator.highlightAuto !== 'undefined';\n}\n\nfunction getCodeTree(_ref6) {\n  var astGenerator = _ref6.astGenerator,\n      language = _ref6.language,\n      code = _ref6.code,\n      defaultCodeValue = _ref6.defaultCodeValue;\n\n  // figure out whether we're using lowlight/highlight or refractor/prism\n  // then attempt highlighting accordingly\n  // lowlight/highlight?\n  if (isHighlightJs(astGenerator)) {\n    var hasLanguage = checkForListedLanguage(astGenerator, language);\n\n    if (language === 'text') {\n      return {\n        value: defaultCodeValue,\n        language: 'text'\n      };\n    } else if (hasLanguage) {\n      return astGenerator.highlight(language, code);\n    } else {\n      return astGenerator.highlightAuto(code);\n    }\n  } // must be refractor/prism, then\n\n\n  try {\n    return language && language !== 'text' ? {\n      value: astGenerator.highlight(code, language)\n    } : {\n      value: defaultCodeValue\n    };\n  } catch (e) {\n    return {\n      value: defaultCodeValue\n    };\n  }\n}\n\nexport default function (defaultAstGenerator, defaultStyle) {\n  return function SyntaxHighlighter(_ref7) {\n    var language = _ref7.language,\n        children = _ref7.children,\n        _ref7$style = _ref7.style,\n        style = _ref7$style === void 0 ? defaultStyle : _ref7$style,\n        _ref7$customStyle = _ref7.customStyle,\n        customStyle = _ref7$customStyle === void 0 ? {} : _ref7$customStyle,\n        _ref7$codeTagProps = _ref7.codeTagProps,\n        codeTagProps = _ref7$codeTagProps === void 0 ? {\n      className: language ? \"language-\".concat(language) : undefined,\n      style: _objectSpread({}, style['code[class*=\"language-\"]'], style[\"code[class*=\\\"language-\".concat(language, \"\\\"]\")])\n    } : _ref7$codeTagProps,\n        _ref7$useInlineStyles = _ref7.useInlineStyles,\n        useInlineStyles = _ref7$useInlineStyles === void 0 ? true : _ref7$useInlineStyles,\n        _ref7$showLineNumbers = _ref7.showLineNumbers,\n        showLineNumbers = _ref7$showLineNumbers === void 0 ? false : _ref7$showLineNumbers,\n        _ref7$showInlineLineN = _ref7.showInlineLineNumbers,\n        showInlineLineNumbers = _ref7$showInlineLineN === void 0 ? true : _ref7$showInlineLineN,\n        _ref7$startingLineNum = _ref7.startingLineNumber,\n        startingLineNumber = _ref7$startingLineNum === void 0 ? 1 : _ref7$startingLineNum,\n        lineNumberContainerStyle = _ref7.lineNumberContainerStyle,\n        _ref7$lineNumberStyle = _ref7.lineNumberStyle,\n        lineNumberStyle = _ref7$lineNumberStyle === void 0 ? {} : _ref7$lineNumberStyle,\n        wrapLines = _ref7.wrapLines,\n        _ref7$wrapLongLines = _ref7.wrapLongLines,\n        wrapLongLines = _ref7$wrapLongLines === void 0 ? false : _ref7$wrapLongLines,\n        _ref7$lineProps = _ref7.lineProps,\n        lineProps = _ref7$lineProps === void 0 ? {} : _ref7$lineProps,\n        renderer = _ref7.renderer,\n        _ref7$PreTag = _ref7.PreTag,\n        PreTag = _ref7$PreTag === void 0 ? 'pre' : _ref7$PreTag,\n        _ref7$CodeTag = _ref7.CodeTag,\n        CodeTag = _ref7$CodeTag === void 0 ? 'code' : _ref7$CodeTag,\n        _ref7$code = _ref7.code,\n        code = _ref7$code === void 0 ? Array.isArray(children) ? children[0] : children : _ref7$code,\n        astGenerator = _ref7.astGenerator,\n        rest = _objectWithoutProperties(_ref7, [\"language\", \"children\", \"style\", \"customStyle\", \"codeTagProps\", \"useInlineStyles\", \"showLineNumbers\", \"showInlineLineNumbers\", \"startingLineNumber\", \"lineNumberContainerStyle\", \"lineNumberStyle\", \"wrapLines\", \"wrapLongLines\", \"lineProps\", \"renderer\", \"PreTag\", \"CodeTag\", \"code\", \"astGenerator\"]);\n\n    astGenerator = astGenerator || defaultAstGenerator;\n    var allLineNumbers = showLineNumbers ? React.createElement(AllLineNumbers, {\n      containerStyle: lineNumberContainerStyle,\n      codeStyle: codeTagProps.style || {},\n      numberStyle: lineNumberStyle,\n      startingLineNumber: startingLineNumber,\n      codeString: code\n    }) : null;\n    var defaultPreStyle = style.hljs || style['pre[class*=\"language-\"]'] || {\n      backgroundColor: '#fff'\n    };\n    var generatorClassName = isHighlightJs(astGenerator) ? 'hljs' : 'prismjs';\n    var preProps = useInlineStyles ? Object.assign({}, rest, {\n      style: Object.assign({}, defaultPreStyle, customStyle)\n    }) : Object.assign({}, rest, {\n      className: rest.className ? \"\".concat(generatorClassName, \" \").concat(rest.className) : generatorClassName,\n      style: Object.assign({}, customStyle)\n    });\n\n    if (!astGenerator) {\n      return React.createElement(PreTag, preProps, allLineNumbers, React.createElement(CodeTag, codeTagProps, code));\n    }\n    /*\n     * Some custom renderers rely on individual row elements so we need to turn wrapLines on\n     * if renderer is provided and wrapLines is undefined.\n     */\n\n\n    if (wrapLines === undefined && renderer || wrapLongLines) wrapLines = true;\n    renderer = renderer || defaultRenderer;\n    var defaultCodeValue = [{\n      type: 'text',\n      value: code\n    }];\n    var codeTree = getCodeTree({\n      astGenerator: astGenerator,\n      language: language,\n      code: code,\n      defaultCodeValue: defaultCodeValue\n    });\n\n    if (codeTree.language === null) {\n      codeTree.value = defaultCodeValue;\n    } // determine largest line number so that we can force minWidth on all linenumber elements\n\n\n    var largestLineNumber = codeTree.value.length + startingLineNumber;\n    var rows = processLines(codeTree, wrapLines, lineProps, showLineNumbers, showInlineLineNumbers, startingLineNumber, largestLineNumber, lineNumberStyle, wrapLongLines);\n\n    if (wrapLongLines) {\n      codeTagProps.style = _objectSpread({}, codeTagProps.style, {\n        whiteSpace: 'pre-wrap'\n      });\n    } else {\n      codeTagProps.style = _objectSpread({}, codeTagProps.style, {\n        whiteSpace: 'pre'\n      });\n    }\n\n    return React.createElement(PreTag, preProps, React.createElement(CodeTag, codeTagProps, !showInlineLineNumbers && allLineNumbers, renderer({\n      rows: rows,\n      stylesheet: style,\n      useInlineStyles: useInlineStyles\n    })));\n  };\n}"]},"metadata":{},"sourceType":"module"}