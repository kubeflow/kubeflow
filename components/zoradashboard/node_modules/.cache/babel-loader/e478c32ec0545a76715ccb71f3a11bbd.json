{"ast":null,"code":"'use strict';\n\nmodule.exports = fromMarkdown; // These three are compiled away in the `dist/`\n\nvar toString = require('mdast-util-to-string');\n\nvar assign = require('micromark/dist/constant/assign');\n\nvar own = require('micromark/dist/constant/has-own-property');\n\nvar normalizeIdentifier = require('micromark/dist/util/normalize-identifier');\n\nvar safeFromInt = require('micromark/dist/util/safe-from-int');\n\nvar parser = require('micromark/dist/parse');\n\nvar preprocessor = require('micromark/dist/preprocess');\n\nvar postprocess = require('micromark/dist/postprocess');\n\nvar decode = require('parse-entities/decode-entity');\n\nvar stringifyPosition = require('unist-util-stringify-position');\n\nfunction fromMarkdown(value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding;\n    encoding = undefined;\n  }\n\n  return compiler(options)(postprocess(parser(options).document().write(preprocessor()(value, encoding, true))));\n} // Note this compiler only understand complete buffering, not streaming.\n\n\nfunction compiler(options) {\n  var settings = options || {};\n  var config = configure({\n    transforms: [],\n    canContainEols: ['emphasis', 'fragment', 'heading', 'paragraph', 'strong'],\n    enter: {\n      autolink: opener(link),\n      autolinkProtocol: onenterdata,\n      autolinkEmail: onenterdata,\n      atxHeading: opener(heading),\n      blockQuote: opener(blockQuote),\n      characterEscape: onenterdata,\n      characterReference: onenterdata,\n      codeFenced: opener(codeFlow),\n      codeFencedFenceInfo: buffer,\n      codeFencedFenceMeta: buffer,\n      codeIndented: opener(codeFlow, buffer),\n      codeText: opener(codeText, buffer),\n      codeTextData: onenterdata,\n      data: onenterdata,\n      codeFlowValue: onenterdata,\n      definition: opener(definition),\n      definitionDestinationString: buffer,\n      definitionLabelString: buffer,\n      definitionTitleString: buffer,\n      emphasis: opener(emphasis),\n      hardBreakEscape: opener(hardBreak),\n      hardBreakTrailing: opener(hardBreak),\n      htmlFlow: opener(html, buffer),\n      htmlFlowData: onenterdata,\n      htmlText: opener(html, buffer),\n      htmlTextData: onenterdata,\n      image: opener(image),\n      label: buffer,\n      link: opener(link),\n      listItem: opener(listItem),\n      listItemValue: onenterlistitemvalue,\n      listOrdered: opener(list, onenterlistordered),\n      listUnordered: opener(list),\n      paragraph: opener(paragraph),\n      reference: onenterreference,\n      referenceString: buffer,\n      resourceDestinationString: buffer,\n      resourceTitleString: buffer,\n      setextHeading: opener(heading),\n      strong: opener(strong),\n      thematicBreak: opener(thematicBreak)\n    },\n    exit: {\n      atxHeading: closer(),\n      atxHeadingSequence: onexitatxheadingsequence,\n      autolink: closer(),\n      autolinkEmail: onexitautolinkemail,\n      autolinkProtocol: onexitautolinkprotocol,\n      blockQuote: closer(),\n      characterEscapeValue: onexitdata,\n      characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n      characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n      characterReferenceValue: onexitcharacterreferencevalue,\n      codeFenced: closer(onexitcodefenced),\n      codeFencedFence: onexitcodefencedfence,\n      codeFencedFenceInfo: onexitcodefencedfenceinfo,\n      codeFencedFenceMeta: onexitcodefencedfencemeta,\n      codeFlowValue: onexitdata,\n      codeIndented: closer(onexitcodeindented),\n      codeText: closer(onexitcodetext),\n      codeTextData: onexitdata,\n      data: onexitdata,\n      definition: closer(),\n      definitionDestinationString: onexitdefinitiondestinationstring,\n      definitionLabelString: onexitdefinitionlabelstring,\n      definitionTitleString: onexitdefinitiontitlestring,\n      emphasis: closer(),\n      hardBreakEscape: closer(onexithardbreak),\n      hardBreakTrailing: closer(onexithardbreak),\n      htmlFlow: closer(onexithtmlflow),\n      htmlFlowData: onexitdata,\n      htmlText: closer(onexithtmltext),\n      htmlTextData: onexitdata,\n      image: closer(onexitimage),\n      label: onexitlabel,\n      labelText: onexitlabeltext,\n      lineEnding: onexitlineending,\n      link: closer(onexitlink),\n      listItem: closer(),\n      listOrdered: closer(),\n      listUnordered: closer(),\n      paragraph: closer(),\n      referenceString: onexitreferencestring,\n      resourceDestinationString: onexitresourcedestinationstring,\n      resourceTitleString: onexitresourcetitlestring,\n      resource: onexitresource,\n      setextHeading: closer(onexitsetextheading),\n      setextHeadingLineSequence: onexitsetextheadinglinesequence,\n      setextHeadingText: onexitsetextheadingtext,\n      strong: closer(),\n      thematicBreak: closer()\n    }\n  }, settings.mdastExtensions || []);\n  var data = {};\n  return compile;\n\n  function compile(events) {\n    var tree = {\n      type: 'root',\n      children: []\n    };\n    var stack = [tree];\n    var tokenStack = [];\n    var listStack = [];\n    var index = -1;\n    var handler;\n    var listStart;\n    var context = {\n      stack: stack,\n      tokenStack: tokenStack,\n      config: config,\n      enter: enter,\n      exit: exit,\n      buffer: buffer,\n      resume: resume,\n      setData: setData,\n      getData: getData\n    };\n\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (events[index][1].type === 'listOrdered' || events[index][1].type === 'listUnordered') {\n        if (events[index][0] === 'enter') {\n          listStack.push(index);\n        } else {\n          listStart = listStack.pop(index);\n          index = prepareList(events, listStart, index);\n        }\n      }\n    }\n\n    index = -1;\n\n    while (++index < events.length) {\n      handler = config[events[index][0]];\n\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(assign({\n          sliceSerialize: events[index][2].sliceSerialize\n        }, context), events[index][1]);\n      }\n    }\n\n    if (tokenStack.length) {\n      throw new Error('Cannot close document, a token (`' + tokenStack[tokenStack.length - 1].type + '`, ' + stringifyPosition({\n        start: tokenStack[tokenStack.length - 1].start,\n        end: tokenStack[tokenStack.length - 1].end\n      }) + ') is still open');\n    } // Figure out `root` position.\n\n\n    tree.position = {\n      start: point(events.length ? events[0][1].start : {\n        line: 1,\n        column: 1,\n        offset: 0\n      }),\n      end: point(events.length ? events[events.length - 2][1].end : {\n        line: 1,\n        column: 1,\n        offset: 0\n      })\n    };\n    index = -1;\n\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree;\n    }\n\n    return tree;\n  }\n\n  function prepareList(events, start, length) {\n    var index = start - 1;\n    var containerBalance = -1;\n    var listSpread = false;\n    var listItem;\n    var tailIndex;\n    var lineIndex;\n    var tailEvent;\n    var event;\n    var firstBlankLineIndex;\n    var atMarker;\n\n    while (++index <= length) {\n      event = events[index];\n\n      if (event[1].type === 'listUnordered' || event[1].type === 'listOrdered' || event[1].type === 'blockQuote') {\n        if (event[0] === 'enter') {\n          containerBalance++;\n        } else {\n          containerBalance--;\n        }\n\n        atMarker = undefined;\n      } else if (event[1].type === 'lineEndingBlank') {\n        if (event[0] === 'enter') {\n          if (listItem && !atMarker && !containerBalance && !firstBlankLineIndex) {\n            firstBlankLineIndex = index;\n          }\n\n          atMarker = undefined;\n        }\n      } else if (event[1].type === 'linePrefix' || event[1].type === 'listItemValue' || event[1].type === 'listItemMarker' || event[1].type === 'listItemPrefix' || event[1].type === 'listItemPrefixWhitespace') {// Empty.\n      } else {\n        atMarker = undefined;\n      }\n\n      if (!containerBalance && event[0] === 'enter' && event[1].type === 'listItemPrefix' || containerBalance === -1 && event[0] === 'exit' && (event[1].type === 'listUnordered' || event[1].type === 'listOrdered')) {\n        if (listItem) {\n          tailIndex = index;\n          lineIndex = undefined;\n\n          while (tailIndex--) {\n            tailEvent = events[tailIndex];\n\n            if (tailEvent[1].type === 'lineEnding' || tailEvent[1].type === 'lineEndingBlank') {\n              if (tailEvent[0] === 'exit') continue;\n\n              if (lineIndex) {\n                events[lineIndex][1].type = 'lineEndingBlank';\n                listSpread = true;\n              }\n\n              tailEvent[1].type = 'lineEnding';\n              lineIndex = tailIndex;\n            } else if (tailEvent[1].type === 'linePrefix' || tailEvent[1].type === 'blockQuotePrefix' || tailEvent[1].type === 'blockQuotePrefixWhitespace' || tailEvent[1].type === 'blockQuoteMarker' || tailEvent[1].type === 'listItemIndent') {// Empty\n            } else {\n              break;\n            }\n          }\n\n          if (firstBlankLineIndex && (!lineIndex || firstBlankLineIndex < lineIndex)) {\n            listItem._spread = true;\n          } // Fix position.\n\n\n          listItem.end = point(lineIndex ? events[lineIndex][1].start : event[1].end);\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]]);\n          index++;\n          length++;\n        } // Create a new list item.\n\n\n        if (event[1].type === 'listItemPrefix') {\n          listItem = {\n            type: 'listItem',\n            _spread: false,\n            start: point(event[1].start)\n          };\n          events.splice(index, 0, ['enter', listItem, event[2]]);\n          index++;\n          length++;\n          firstBlankLineIndex = undefined;\n          atMarker = true;\n        }\n      }\n    }\n\n    events[start][1]._spread = listSpread;\n    return length;\n  }\n\n  function setData(key, value) {\n    data[key] = value;\n  }\n\n  function getData(key) {\n    return data[key];\n  }\n\n  function point(d) {\n    return {\n      line: d.line,\n      column: d.column,\n      offset: d.offset\n    };\n  }\n\n  function opener(create, and) {\n    return open;\n\n    function open(token) {\n      enter.call(this, create(token), token);\n      if (and) and.call(this, token);\n    }\n  }\n\n  function buffer() {\n    this.stack.push({\n      type: 'fragment',\n      children: []\n    });\n  }\n\n  function enter(node, token) {\n    this.stack[this.stack.length - 1].children.push(node);\n    this.stack.push(node);\n    this.tokenStack.push(token);\n    node.position = {\n      start: point(token.start)\n    };\n    return node;\n  }\n\n  function closer(and) {\n    return close;\n\n    function close(token) {\n      if (and) and.call(this, token);\n      exit.call(this, token);\n    }\n  }\n\n  function exit(token) {\n    var node = this.stack.pop();\n    var open = this.tokenStack.pop();\n\n    if (!open) {\n      throw new Error('Cannot close `' + token.type + '` (' + stringifyPosition({\n        start: token.start,\n        end: token.end\n      }) + '): it’s not open');\n    } else if (open.type !== token.type) {\n      throw new Error('Cannot close `' + token.type + '` (' + stringifyPosition({\n        start: token.start,\n        end: token.end\n      }) + '): a different token (`' + open.type + '`, ' + stringifyPosition({\n        start: open.start,\n        end: open.end\n      }) + ') is open');\n    }\n\n    node.position.end = point(token.end);\n    return node;\n  }\n\n  function resume() {\n    return toString(this.stack.pop());\n  } //\n  // Handlers.\n  //\n\n\n  function onenterlistordered() {\n    setData('expectingFirstListItemValue', true);\n  }\n\n  function onenterlistitemvalue(token) {\n    if (getData('expectingFirstListItemValue')) {\n      this.stack[this.stack.length - 2].start = parseInt(this.sliceSerialize(token), 10);\n      setData('expectingFirstListItemValue');\n    }\n  }\n\n  function onexitcodefencedfenceinfo() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].lang = data;\n  }\n\n  function onexitcodefencedfencemeta() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].meta = data;\n  }\n\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (getData('flowCodeInside')) return;\n    this.buffer();\n    setData('flowCodeInside', true);\n  }\n\n  function onexitcodefenced() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].value = data.replace(/^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g, '');\n    setData('flowCodeInside');\n  }\n\n  function onexitcodeindented() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].value = data;\n  }\n\n  function onexitdefinitionlabelstring(token) {\n    // Discard label, use the source content instead.\n    var label = this.resume();\n    this.stack[this.stack.length - 1].label = label;\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(this.sliceSerialize(token)).toLowerCase();\n  }\n\n  function onexitdefinitiontitlestring() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].title = data;\n  }\n\n  function onexitdefinitiondestinationstring() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].url = data;\n  }\n\n  function onexitatxheadingsequence(token) {\n    if (!this.stack[this.stack.length - 1].depth) {\n      this.stack[this.stack.length - 1].depth = this.sliceSerialize(token).length;\n    }\n  }\n\n  function onexitsetextheadingtext() {\n    setData('setextHeadingSlurpLineEnding', true);\n  }\n\n  function onexitsetextheadinglinesequence(token) {\n    this.stack[this.stack.length - 1].depth = this.sliceSerialize(token).charCodeAt(0) === 61 ? 1 : 2;\n  }\n\n  function onexitsetextheading() {\n    setData('setextHeadingSlurpLineEnding');\n  }\n\n  function onenterdata(token) {\n    var siblings = this.stack[this.stack.length - 1].children;\n    var tail = siblings[siblings.length - 1];\n\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text();\n      tail.position = {\n        start: point(token.start)\n      };\n      this.stack[this.stack.length - 1].children.push(tail);\n    }\n\n    this.stack.push(tail);\n  }\n\n  function onexitdata(token) {\n    var tail = this.stack.pop();\n    tail.value += this.sliceSerialize(token);\n    tail.position.end = point(token.end);\n  }\n\n  function onexitlineending(token) {\n    var context = this.stack[this.stack.length - 1]; // If we’re at a hard break, include the line ending in there.\n\n    if (getData('atHardBreak')) {\n      context.children[context.children.length - 1].position.end = point(token.end);\n      setData('atHardBreak');\n      return;\n    }\n\n    if (!getData('setextHeadingSlurpLineEnding') && config.canContainEols.indexOf(context.type) > -1) {\n      onenterdata.call(this, token);\n      onexitdata.call(this, token);\n    }\n  }\n\n  function onexithardbreak() {\n    setData('atHardBreak', true);\n  }\n\n  function onexithtmlflow() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].value = data;\n  }\n\n  function onexithtmltext() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].value = data;\n  }\n\n  function onexitcodetext() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].value = data;\n  }\n\n  function onexitlink() {\n    var context = this.stack[this.stack.length - 1]; // To do: clean.\n\n    if (getData('inReference')) {\n      context.type += 'Reference';\n      context.referenceType = getData('referenceType') || 'shortcut';\n      delete context.url;\n      delete context.title;\n    } else {\n      delete context.identifier;\n      delete context.label;\n      delete context.referenceType;\n    }\n\n    setData('referenceType');\n  }\n\n  function onexitimage() {\n    var context = this.stack[this.stack.length - 1]; // To do: clean.\n\n    if (getData('inReference')) {\n      context.type += 'Reference';\n      context.referenceType = getData('referenceType') || 'shortcut';\n      delete context.url;\n      delete context.title;\n    } else {\n      delete context.identifier;\n      delete context.label;\n      delete context.referenceType;\n    }\n\n    setData('referenceType');\n  }\n\n  function onexitlabeltext(token) {\n    this.stack[this.stack.length - 2].identifier = normalizeIdentifier(this.sliceSerialize(token)).toLowerCase();\n  }\n\n  function onexitlabel() {\n    var fragment = this.stack[this.stack.length - 1];\n    var value = this.resume();\n    this.stack[this.stack.length - 1].label = value; // Assume a reference.\n\n    setData('inReference', true);\n\n    if (this.stack[this.stack.length - 1].type === 'link') {\n      this.stack[this.stack.length - 1].children = fragment.children;\n    } else {\n      this.stack[this.stack.length - 1].alt = value;\n    }\n  }\n\n  function onexitresourcedestinationstring() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].url = data;\n  }\n\n  function onexitresourcetitlestring() {\n    var data = this.resume();\n    this.stack[this.stack.length - 1].title = data;\n  }\n\n  function onexitresource() {\n    setData('inReference');\n  }\n\n  function onenterreference() {\n    setData('referenceType', 'collapsed');\n  }\n\n  function onexitreferencestring(token) {\n    var label = this.resume();\n    this.stack[this.stack.length - 1].label = label;\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(this.sliceSerialize(token)).toLowerCase();\n    setData('referenceType', 'full');\n  }\n\n  function onexitcharacterreferencemarker(token) {\n    setData('characterReferenceType', token.type);\n  }\n\n  function onexitcharacterreferencevalue(token) {\n    var data = this.sliceSerialize(token);\n    var type = getData('characterReferenceType');\n    var value;\n    var tail;\n\n    if (type) {\n      value = safeFromInt(data, type === 'characterReferenceMarkerNumeric' ? 10 : 16);\n      setData('characterReferenceType');\n    } else {\n      value = decode(data);\n    }\n\n    tail = this.stack.pop();\n    tail.value += value;\n    tail.position.end = point(token.end);\n  }\n\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token);\n    this.stack[this.stack.length - 1].url = this.sliceSerialize(token);\n  }\n\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token);\n    this.stack[this.stack.length - 1].url = 'mailto:' + this.sliceSerialize(token);\n  } //\n  // Creaters.\n  //\n\n\n  function blockQuote() {\n    return {\n      type: 'blockquote',\n      children: []\n    };\n  }\n\n  function codeFlow() {\n    return {\n      type: 'code',\n      lang: null,\n      meta: null,\n      value: ''\n    };\n  }\n\n  function codeText() {\n    return {\n      type: 'inlineCode',\n      value: ''\n    };\n  }\n\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    };\n  }\n\n  function emphasis() {\n    return {\n      type: 'emphasis',\n      children: []\n    };\n  }\n\n  function heading() {\n    return {\n      type: 'heading',\n      depth: undefined,\n      children: []\n    };\n  }\n\n  function hardBreak() {\n    return {\n      type: 'break'\n    };\n  }\n\n  function html() {\n    return {\n      type: 'html',\n      value: ''\n    };\n  }\n\n  function image() {\n    return {\n      type: 'image',\n      title: null,\n      url: '',\n      alt: null\n    };\n  }\n\n  function link() {\n    return {\n      type: 'link',\n      title: null,\n      url: '',\n      children: []\n    };\n  }\n\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    };\n  }\n\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    };\n  }\n\n  function paragraph() {\n    return {\n      type: 'paragraph',\n      children: []\n    };\n  }\n\n  function strong() {\n    return {\n      type: 'strong',\n      children: []\n    };\n  }\n\n  function text() {\n    return {\n      type: 'text',\n      value: ''\n    };\n  }\n\n  function thematicBreak() {\n    return {\n      type: 'thematicBreak'\n    };\n  }\n}\n\nfunction configure(config, extensions) {\n  var index = -1;\n\n  while (++index < extensions.length) {\n    extension(config, extensions[index]);\n  }\n\n  return config;\n}\n\nfunction extension(config, extension) {\n  var key;\n  var left;\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : config[key] = {};\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, extension[key]);\n    } else {\n      Object.assign(left, extension[key]);\n    }\n  }\n}","map":{"version":3,"sources":["/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/node_modules/mdast-util-from-markdown/dist/index.js"],"names":["module","exports","fromMarkdown","toString","require","assign","own","normalizeIdentifier","safeFromInt","parser","preprocessor","postprocess","decode","stringifyPosition","value","encoding","options","undefined","compiler","document","write","settings","config","configure","transforms","canContainEols","enter","autolink","opener","link","autolinkProtocol","onenterdata","autolinkEmail","atxHeading","heading","blockQuote","characterEscape","characterReference","codeFenced","codeFlow","codeFencedFenceInfo","buffer","codeFencedFenceMeta","codeIndented","codeText","codeTextData","data","codeFlowValue","definition","definitionDestinationString","definitionLabelString","definitionTitleString","emphasis","hardBreakEscape","hardBreak","hardBreakTrailing","htmlFlow","html","htmlFlowData","htmlText","htmlTextData","image","label","listItem","listItemValue","onenterlistitemvalue","listOrdered","list","onenterlistordered","listUnordered","paragraph","reference","onenterreference","referenceString","resourceDestinationString","resourceTitleString","setextHeading","strong","thematicBreak","exit","closer","atxHeadingSequence","onexitatxheadingsequence","onexitautolinkemail","onexitautolinkprotocol","characterEscapeValue","onexitdata","characterReferenceMarkerHexadecimal","onexitcharacterreferencemarker","characterReferenceMarkerNumeric","characterReferenceValue","onexitcharacterreferencevalue","onexitcodefenced","codeFencedFence","onexitcodefencedfence","onexitcodefencedfenceinfo","onexitcodefencedfencemeta","onexitcodeindented","onexitcodetext","onexitdefinitiondestinationstring","onexitdefinitionlabelstring","onexitdefinitiontitlestring","onexithardbreak","onexithtmlflow","onexithtmltext","onexitimage","onexitlabel","labelText","onexitlabeltext","lineEnding","onexitlineending","onexitlink","onexitreferencestring","onexitresourcedestinationstring","onexitresourcetitlestring","resource","onexitresource","onexitsetextheading","setextHeadingLineSequence","onexitsetextheadinglinesequence","setextHeadingText","onexitsetextheadingtext","mdastExtensions","compile","events","tree","type","children","stack","tokenStack","listStack","index","handler","listStart","context","resume","setData","getData","length","push","pop","prepareList","call","sliceSerialize","Error","start","end","position","point","line","column","offset","containerBalance","listSpread","tailIndex","lineIndex","tailEvent","event","firstBlankLineIndex","atMarker","_spread","splice","key","d","create","and","open","token","node","close","parseInt","lang","meta","replace","identifier","toLowerCase","title","url","depth","charCodeAt","siblings","tail","text","indexOf","referenceType","fragment","alt","ordered","spread","checked","extensions","extension","left","concat","Object"],"mappings":"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","sourcesContent":["'use strict'\n\nmodule.exports = fromMarkdown\n\n// These three are compiled away in the `dist/`\n\nvar toString = require('mdast-util-to-string')\nvar assign = require('micromark/dist/constant/assign')\nvar own = require('micromark/dist/constant/has-own-property')\nvar normalizeIdentifier = require('micromark/dist/util/normalize-identifier')\nvar safeFromInt = require('micromark/dist/util/safe-from-int')\nvar parser = require('micromark/dist/parse')\nvar preprocessor = require('micromark/dist/preprocess')\nvar postprocess = require('micromark/dist/postprocess')\nvar decode = require('parse-entities/decode-entity')\nvar stringifyPosition = require('unist-util-stringify-position')\n\nfunction fromMarkdown(value, encoding, options) {\n  if (typeof encoding !== 'string') {\n    options = encoding\n    encoding = undefined\n  }\n\n  return compiler(options)(\n    postprocess(\n      parser(options).document().write(preprocessor()(value, encoding, true))\n    )\n  )\n}\n\n// Note this compiler only understand complete buffering, not streaming.\nfunction compiler(options) {\n  var settings = options || {}\n  var config = configure(\n    {\n      transforms: [],\n      canContainEols: [\n        'emphasis',\n        'fragment',\n        'heading',\n        'paragraph',\n        'strong'\n      ],\n\n      enter: {\n        autolink: opener(link),\n        autolinkProtocol: onenterdata,\n        autolinkEmail: onenterdata,\n        atxHeading: opener(heading),\n        blockQuote: opener(blockQuote),\n        characterEscape: onenterdata,\n        characterReference: onenterdata,\n        codeFenced: opener(codeFlow),\n        codeFencedFenceInfo: buffer,\n        codeFencedFenceMeta: buffer,\n        codeIndented: opener(codeFlow, buffer),\n        codeText: opener(codeText, buffer),\n        codeTextData: onenterdata,\n        data: onenterdata,\n        codeFlowValue: onenterdata,\n        definition: opener(definition),\n        definitionDestinationString: buffer,\n        definitionLabelString: buffer,\n        definitionTitleString: buffer,\n        emphasis: opener(emphasis),\n        hardBreakEscape: opener(hardBreak),\n        hardBreakTrailing: opener(hardBreak),\n        htmlFlow: opener(html, buffer),\n        htmlFlowData: onenterdata,\n        htmlText: opener(html, buffer),\n        htmlTextData: onenterdata,\n        image: opener(image),\n        label: buffer,\n        link: opener(link),\n        listItem: opener(listItem),\n        listItemValue: onenterlistitemvalue,\n        listOrdered: opener(list, onenterlistordered),\n        listUnordered: opener(list),\n        paragraph: opener(paragraph),\n        reference: onenterreference,\n        referenceString: buffer,\n        resourceDestinationString: buffer,\n        resourceTitleString: buffer,\n        setextHeading: opener(heading),\n        strong: opener(strong),\n        thematicBreak: opener(thematicBreak)\n      },\n\n      exit: {\n        atxHeading: closer(),\n        atxHeadingSequence: onexitatxheadingsequence,\n        autolink: closer(),\n        autolinkEmail: onexitautolinkemail,\n        autolinkProtocol: onexitautolinkprotocol,\n        blockQuote: closer(),\n        characterEscapeValue: onexitdata,\n        characterReferenceMarkerHexadecimal: onexitcharacterreferencemarker,\n        characterReferenceMarkerNumeric: onexitcharacterreferencemarker,\n        characterReferenceValue: onexitcharacterreferencevalue,\n        codeFenced: closer(onexitcodefenced),\n        codeFencedFence: onexitcodefencedfence,\n        codeFencedFenceInfo: onexitcodefencedfenceinfo,\n        codeFencedFenceMeta: onexitcodefencedfencemeta,\n        codeFlowValue: onexitdata,\n        codeIndented: closer(onexitcodeindented),\n        codeText: closer(onexitcodetext),\n        codeTextData: onexitdata,\n        data: onexitdata,\n        definition: closer(),\n        definitionDestinationString: onexitdefinitiondestinationstring,\n        definitionLabelString: onexitdefinitionlabelstring,\n        definitionTitleString: onexitdefinitiontitlestring,\n        emphasis: closer(),\n        hardBreakEscape: closer(onexithardbreak),\n        hardBreakTrailing: closer(onexithardbreak),\n        htmlFlow: closer(onexithtmlflow),\n        htmlFlowData: onexitdata,\n        htmlText: closer(onexithtmltext),\n        htmlTextData: onexitdata,\n        image: closer(onexitimage),\n        label: onexitlabel,\n        labelText: onexitlabeltext,\n        lineEnding: onexitlineending,\n        link: closer(onexitlink),\n        listItem: closer(),\n        listOrdered: closer(),\n        listUnordered: closer(),\n        paragraph: closer(),\n        referenceString: onexitreferencestring,\n        resourceDestinationString: onexitresourcedestinationstring,\n        resourceTitleString: onexitresourcetitlestring,\n        resource: onexitresource,\n        setextHeading: closer(onexitsetextheading),\n        setextHeadingLineSequence: onexitsetextheadinglinesequence,\n        setextHeadingText: onexitsetextheadingtext,\n        strong: closer(),\n        thematicBreak: closer()\n      }\n    },\n\n    settings.mdastExtensions || []\n  )\n\n  var data = {}\n\n  return compile\n\n  function compile(events) {\n    var tree = {type: 'root', children: []}\n    var stack = [tree]\n    var tokenStack = []\n    var listStack = []\n    var index = -1\n    var handler\n    var listStart\n\n    var context = {\n      stack: stack,\n      tokenStack: tokenStack,\n      config: config,\n      enter: enter,\n      exit: exit,\n      buffer: buffer,\n      resume: resume,\n      setData: setData,\n      getData: getData\n    }\n\n    while (++index < events.length) {\n      // We preprocess lists to add `listItem` tokens, and to infer whether\n      // items the list itself are spread out.\n      if (\n        events[index][1].type === 'listOrdered' ||\n        events[index][1].type === 'listUnordered'\n      ) {\n        if (events[index][0] === 'enter') {\n          listStack.push(index)\n        } else {\n          listStart = listStack.pop(index)\n          index = prepareList(events, listStart, index)\n        }\n      }\n    }\n\n    index = -1\n\n    while (++index < events.length) {\n      handler = config[events[index][0]]\n\n      if (own.call(handler, events[index][1].type)) {\n        handler[events[index][1].type].call(\n          assign({sliceSerialize: events[index][2].sliceSerialize}, context),\n          events[index][1]\n        )\n      }\n    }\n\n    if (tokenStack.length) {\n      throw new Error(\n        'Cannot close document, a token (`' +\n          tokenStack[tokenStack.length - 1].type +\n          '`, ' +\n          stringifyPosition({\n            start: tokenStack[tokenStack.length - 1].start,\n            end: tokenStack[tokenStack.length - 1].end\n          }) +\n          ') is still open'\n      )\n    }\n\n    // Figure out `root` position.\n    tree.position = {\n      start: point(\n        events.length ? events[0][1].start : {line: 1, column: 1, offset: 0}\n      ),\n\n      end: point(\n        events.length\n          ? events[events.length - 2][1].end\n          : {line: 1, column: 1, offset: 0}\n      )\n    }\n\n    index = -1\n    while (++index < config.transforms.length) {\n      tree = config.transforms[index](tree) || tree\n    }\n\n    return tree\n  }\n\n  function prepareList(events, start, length) {\n    var index = start - 1\n    var containerBalance = -1\n    var listSpread = false\n    var listItem\n    var tailIndex\n    var lineIndex\n    var tailEvent\n    var event\n    var firstBlankLineIndex\n    var atMarker\n\n    while (++index <= length) {\n      event = events[index]\n\n      if (\n        event[1].type === 'listUnordered' ||\n        event[1].type === 'listOrdered' ||\n        event[1].type === 'blockQuote'\n      ) {\n        if (event[0] === 'enter') {\n          containerBalance++\n        } else {\n          containerBalance--\n        }\n\n        atMarker = undefined\n      } else if (event[1].type === 'lineEndingBlank') {\n        if (event[0] === 'enter') {\n          if (\n            listItem &&\n            !atMarker &&\n            !containerBalance &&\n            !firstBlankLineIndex\n          ) {\n            firstBlankLineIndex = index\n          }\n\n          atMarker = undefined\n        }\n      } else if (\n        event[1].type === 'linePrefix' ||\n        event[1].type === 'listItemValue' ||\n        event[1].type === 'listItemMarker' ||\n        event[1].type === 'listItemPrefix' ||\n        event[1].type === 'listItemPrefixWhitespace'\n      ) {\n        // Empty.\n      } else {\n        atMarker = undefined\n      }\n\n      if (\n        (!containerBalance &&\n          event[0] === 'enter' &&\n          event[1].type === 'listItemPrefix') ||\n        (containerBalance === -1 &&\n          event[0] === 'exit' &&\n          (event[1].type === 'listUnordered' ||\n            event[1].type === 'listOrdered'))\n      ) {\n        if (listItem) {\n          tailIndex = index\n          lineIndex = undefined\n\n          while (tailIndex--) {\n            tailEvent = events[tailIndex]\n\n            if (\n              tailEvent[1].type === 'lineEnding' ||\n              tailEvent[1].type === 'lineEndingBlank'\n            ) {\n              if (tailEvent[0] === 'exit') continue\n\n              if (lineIndex) {\n                events[lineIndex][1].type = 'lineEndingBlank'\n                listSpread = true\n              }\n\n              tailEvent[1].type = 'lineEnding'\n              lineIndex = tailIndex\n            } else if (\n              tailEvent[1].type === 'linePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefix' ||\n              tailEvent[1].type === 'blockQuotePrefixWhitespace' ||\n              tailEvent[1].type === 'blockQuoteMarker' ||\n              tailEvent[1].type === 'listItemIndent'\n            ) {\n              // Empty\n            } else {\n              break\n            }\n          }\n\n          if (\n            firstBlankLineIndex &&\n            (!lineIndex || firstBlankLineIndex < lineIndex)\n          ) {\n            listItem._spread = true\n          }\n\n          // Fix position.\n          listItem.end = point(\n            lineIndex ? events[lineIndex][1].start : event[1].end\n          )\n\n          events.splice(lineIndex || index, 0, ['exit', listItem, event[2]])\n          index++\n          length++\n        }\n\n        // Create a new list item.\n        if (event[1].type === 'listItemPrefix') {\n          listItem = {\n            type: 'listItem',\n            _spread: false,\n            start: point(event[1].start)\n          }\n\n          events.splice(index, 0, ['enter', listItem, event[2]])\n          index++\n          length++\n          firstBlankLineIndex = undefined\n          atMarker = true\n        }\n      }\n    }\n\n    events[start][1]._spread = listSpread\n    return length\n  }\n\n  function setData(key, value) {\n    data[key] = value\n  }\n\n  function getData(key) {\n    return data[key]\n  }\n\n  function point(d) {\n    return {line: d.line, column: d.column, offset: d.offset}\n  }\n\n  function opener(create, and) {\n    return open\n\n    function open(token) {\n      enter.call(this, create(token), token)\n      if (and) and.call(this, token)\n    }\n  }\n\n  function buffer() {\n    this.stack.push({type: 'fragment', children: []})\n  }\n\n  function enter(node, token) {\n    this.stack[this.stack.length - 1].children.push(node)\n    this.stack.push(node)\n    this.tokenStack.push(token)\n    node.position = {start: point(token.start)}\n    return node\n  }\n\n  function closer(and) {\n    return close\n\n    function close(token) {\n      if (and) and.call(this, token)\n      exit.call(this, token)\n    }\n  }\n\n  function exit(token) {\n    var node = this.stack.pop()\n    var open = this.tokenStack.pop()\n\n    if (!open) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): it’s not open'\n      )\n    } else if (open.type !== token.type) {\n      throw new Error(\n        'Cannot close `' +\n          token.type +\n          '` (' +\n          stringifyPosition({start: token.start, end: token.end}) +\n          '): a different token (`' +\n          open.type +\n          '`, ' +\n          stringifyPosition({start: open.start, end: open.end}) +\n          ') is open'\n      )\n    }\n\n    node.position.end = point(token.end)\n    return node\n  }\n\n  function resume() {\n    return toString(this.stack.pop())\n  }\n\n  //\n  // Handlers.\n  //\n\n  function onenterlistordered() {\n    setData('expectingFirstListItemValue', true)\n  }\n\n  function onenterlistitemvalue(token) {\n    if (getData('expectingFirstListItemValue')) {\n      this.stack[this.stack.length - 2].start = parseInt(\n        this.sliceSerialize(token),\n        10\n      )\n\n      setData('expectingFirstListItemValue')\n    }\n  }\n\n  function onexitcodefencedfenceinfo() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].lang = data\n  }\n\n  function onexitcodefencedfencemeta() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].meta = data\n  }\n\n  function onexitcodefencedfence() {\n    // Exit if this is the closing fence.\n    if (getData('flowCodeInside')) return\n    this.buffer()\n    setData('flowCodeInside', true)\n  }\n\n  function onexitcodefenced() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data.replace(\n      /^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g,\n      ''\n    )\n\n    setData('flowCodeInside')\n  }\n\n  function onexitcodeindented() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitdefinitionlabelstring(token) {\n    // Discard label, use the source content instead.\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitdefinitiontitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitdefinitiondestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitatxheadingsequence(token) {\n    if (!this.stack[this.stack.length - 1].depth) {\n      this.stack[this.stack.length - 1].depth = this.sliceSerialize(\n        token\n      ).length\n    }\n  }\n\n  function onexitsetextheadingtext() {\n    setData('setextHeadingSlurpLineEnding', true)\n  }\n\n  function onexitsetextheadinglinesequence(token) {\n    this.stack[this.stack.length - 1].depth =\n      this.sliceSerialize(token).charCodeAt(0) === 61 ? 1 : 2\n  }\n\n  function onexitsetextheading() {\n    setData('setextHeadingSlurpLineEnding')\n  }\n\n  function onenterdata(token) {\n    var siblings = this.stack[this.stack.length - 1].children\n    var tail = siblings[siblings.length - 1]\n\n    if (!tail || tail.type !== 'text') {\n      // Add a new text node.\n      tail = text()\n      tail.position = {start: point(token.start)}\n      this.stack[this.stack.length - 1].children.push(tail)\n    }\n\n    this.stack.push(tail)\n  }\n\n  function onexitdata(token) {\n    var tail = this.stack.pop()\n    tail.value += this.sliceSerialize(token)\n    tail.position.end = point(token.end)\n  }\n\n  function onexitlineending(token) {\n    var context = this.stack[this.stack.length - 1]\n\n    // If we’re at a hard break, include the line ending in there.\n    if (getData('atHardBreak')) {\n      context.children[context.children.length - 1].position.end = point(\n        token.end\n      )\n\n      setData('atHardBreak')\n      return\n    }\n\n    if (\n      !getData('setextHeadingSlurpLineEnding') &&\n      config.canContainEols.indexOf(context.type) > -1\n    ) {\n      onenterdata.call(this, token)\n      onexitdata.call(this, token)\n    }\n  }\n\n  function onexithardbreak() {\n    setData('atHardBreak', true)\n  }\n\n  function onexithtmlflow() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexithtmltext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitcodetext() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].value = data\n  }\n\n  function onexitlink() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitimage() {\n    var context = this.stack[this.stack.length - 1]\n\n    // To do: clean.\n    if (getData('inReference')) {\n      context.type += 'Reference'\n      context.referenceType = getData('referenceType') || 'shortcut'\n      delete context.url\n      delete context.title\n    } else {\n      delete context.identifier\n      delete context.label\n      delete context.referenceType\n    }\n\n    setData('referenceType')\n  }\n\n  function onexitlabeltext(token) {\n    this.stack[this.stack.length - 2].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n  }\n\n  function onexitlabel() {\n    var fragment = this.stack[this.stack.length - 1]\n    var value = this.resume()\n\n    this.stack[this.stack.length - 1].label = value\n\n    // Assume a reference.\n    setData('inReference', true)\n\n    if (this.stack[this.stack.length - 1].type === 'link') {\n      this.stack[this.stack.length - 1].children = fragment.children\n    } else {\n      this.stack[this.stack.length - 1].alt = value\n    }\n  }\n\n  function onexitresourcedestinationstring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].url = data\n  }\n\n  function onexitresourcetitlestring() {\n    var data = this.resume()\n    this.stack[this.stack.length - 1].title = data\n  }\n\n  function onexitresource() {\n    setData('inReference')\n  }\n\n  function onenterreference() {\n    setData('referenceType', 'collapsed')\n  }\n\n  function onexitreferencestring(token) {\n    var label = this.resume()\n    this.stack[this.stack.length - 1].label = label\n    this.stack[this.stack.length - 1].identifier = normalizeIdentifier(\n      this.sliceSerialize(token)\n    ).toLowerCase()\n    setData('referenceType', 'full')\n  }\n\n  function onexitcharacterreferencemarker(token) {\n    setData('characterReferenceType', token.type)\n  }\n\n  function onexitcharacterreferencevalue(token) {\n    var data = this.sliceSerialize(token)\n    var type = getData('characterReferenceType')\n    var value\n    var tail\n\n    if (type) {\n      value = safeFromInt(\n        data,\n        type === 'characterReferenceMarkerNumeric' ? 10 : 16\n      )\n\n      setData('characterReferenceType')\n    } else {\n      value = decode(data)\n    }\n\n    tail = this.stack.pop()\n    tail.value += value\n    tail.position.end = point(token.end)\n  }\n\n  function onexitautolinkprotocol(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url = this.sliceSerialize(token)\n  }\n\n  function onexitautolinkemail(token) {\n    onexitdata.call(this, token)\n    this.stack[this.stack.length - 1].url =\n      'mailto:' + this.sliceSerialize(token)\n  }\n\n  //\n  // Creaters.\n  //\n\n  function blockQuote() {\n    return {type: 'blockquote', children: []}\n  }\n\n  function codeFlow() {\n    return {type: 'code', lang: null, meta: null, value: ''}\n  }\n\n  function codeText() {\n    return {type: 'inlineCode', value: ''}\n  }\n\n  function definition() {\n    return {\n      type: 'definition',\n      identifier: '',\n      label: null,\n      title: null,\n      url: ''\n    }\n  }\n\n  function emphasis() {\n    return {type: 'emphasis', children: []}\n  }\n\n  function heading() {\n    return {type: 'heading', depth: undefined, children: []}\n  }\n\n  function hardBreak() {\n    return {type: 'break'}\n  }\n\n  function html() {\n    return {type: 'html', value: ''}\n  }\n\n  function image() {\n    return {type: 'image', title: null, url: '', alt: null}\n  }\n\n  function link() {\n    return {type: 'link', title: null, url: '', children: []}\n  }\n\n  function list(token) {\n    return {\n      type: 'list',\n      ordered: token.type === 'listOrdered',\n      start: null,\n      spread: token._spread,\n      children: []\n    }\n  }\n\n  function listItem(token) {\n    return {\n      type: 'listItem',\n      spread: token._spread,\n      checked: null,\n      children: []\n    }\n  }\n\n  function paragraph() {\n    return {type: 'paragraph', children: []}\n  }\n\n  function strong() {\n    return {type: 'strong', children: []}\n  }\n\n  function text() {\n    return {type: 'text', value: ''}\n  }\n\n  function thematicBreak() {\n    return {type: 'thematicBreak'}\n  }\n}\n\nfunction configure(config, extensions) {\n  var index = -1\n\n  while (++index < extensions.length) {\n    extension(config, extensions[index])\n  }\n\n  return config\n}\n\nfunction extension(config, extension) {\n  var key\n  var left\n\n  for (key in extension) {\n    left = own.call(config, key) ? config[key] : (config[key] = {})\n\n    if (key === 'canContainEols' || key === 'transforms') {\n      config[key] = [].concat(left, extension[key])\n    } else {\n      Object.assign(left, extension[key])\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}