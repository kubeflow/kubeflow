{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar P = _interopRequireWildcard(require(\"@react-pdf/primitives\"));\n\nvar _renderPath = _interopRequireDefault(require(\"./renderPath\"));\n\nvar _renderRect = _interopRequireDefault(require(\"./renderRect\"));\n\nvar _renderLine = _interopRequireDefault(require(\"./renderLine\"));\n\nvar _renderGroup = _interopRequireDefault(require(\"./renderGroup\"));\n\nvar _renderCircle = _interopRequireDefault(require(\"./renderCircle\"));\n\nvar _renderSvgText = _interopRequireDefault(require(\"./renderSvgText\"));\n\nvar _renderEllipse = _interopRequireDefault(require(\"./renderEllipse\"));\n\nvar _renderPolygon = _interopRequireDefault(require(\"./renderPolygon\"));\n\nvar _renderPolyline = _interopRequireDefault(require(\"./renderPolyline\"));\n\nvar _renderSvgImage = _interopRequireDefault(require(\"./renderSvgImage\"));\n\nvar _isPath = _interopRequireDefault(require(\"../utils/isPath\"));\n\nvar _isText = _interopRequireDefault(require(\"../utils/isText\"));\n\nvar _isRect = _interopRequireDefault(require(\"../utils/isRect\"));\n\nvar _isLine = _interopRequireDefault(require(\"../utils/isLine\"));\n\nvar _isTspan = _interopRequireDefault(require(\"../utils/isTspan\"));\n\nvar _isImage = _interopRequireDefault(require(\"../utils/isImage\"));\n\nvar _isGroup = _interopRequireDefault(require(\"../utils/isGroup\"));\n\nvar _isCircle = _interopRequireDefault(require(\"../utils/isCircle\"));\n\nvar _isEllipse = _interopRequireDefault(require(\"../utils/isEllipse\"));\n\nvar _isPolygon = _interopRequireDefault(require(\"../utils/isPolygon\"));\n\nvar _isPolyline = _interopRequireDefault(require(\"../utils/isPolyline\"));\n\nvar _isTextInstance = _interopRequireDefault(require(\"../utils/isTextInstance\"));\n\nvar _save = _interopRequireDefault(require(\"../operations/save\"));\n\nvar _restore = _interopRequireDefault(require(\"../operations/restore\"));\n\nvar _clipNode = _interopRequireDefault(require(\"../operations/clipNode\"));\n\nvar _transform = _interopRequireDefault(require(\"../operations/transform\"));\n\nvar _getBoundingBox = _interopRequireDefault(require(\"../svg/getBoundingBox\"));\n\nvar warnUnsupportedNode = R.tap(function (node) {\n  console.warn(\"SVG node of type \" + node.type + \" is not currenty supported\");\n});\n\nvar getProp = function getProp(d, p, v) {\n  return R.pathOr(d, ['props', p], v);\n};\n\nvar setStrokeWidth = function setStrokeWidth(ctx) {\n  return function (node) {\n    var lineWidth = getProp(0, 'strokeWidth', node);\n    if (lineWidth) ctx.lineWidth(lineWidth);\n    return node;\n  };\n};\n\nvar setStrokeColor = function setStrokeColor(ctx) {\n  return function (node) {\n    var strokeColor = getProp(null, 'stroke', node);\n    if (strokeColor) ctx.strokeColor(strokeColor);\n    return node;\n  };\n};\n\nvar setOpacity = function setOpacity(ctx) {\n  return function (node) {\n    var opacity = getProp(null, 'opacity', node);\n    if (!R.isNil(opacity)) ctx.opacity(opacity);\n    return node;\n  };\n};\n\nvar setFillOpacity = function setFillOpacity(ctx) {\n  return function (node) {\n    var fillOpacity = getProp(null, 'fillOpacity', node);\n    if (!R.isNil(fillOpacity)) ctx.fillOpacity(fillOpacity);\n    return node;\n  };\n};\n\nvar setStrokeOpacity = function setStrokeOpacity(ctx) {\n  return function (node) {\n    var strokeOpacity = getProp(null, 'strokeOpacity', node);\n    if (!R.isNil(strokeOpacity)) ctx.strokeOpacity(strokeOpacity);\n    return node;\n  };\n};\n\nvar setLineJoin = function setLineJoin(ctx) {\n  return function (node) {\n    var lineJoin = getProp(null, 'strokeLinejoin', node);\n    if (lineJoin) ctx.lineJoin(lineJoin);\n    return node;\n  };\n};\n\nvar setLineCap = function setLineCap(ctx) {\n  return function (node) {\n    var lineCap = getProp(null, 'strokeLinecap', node);\n    if (lineCap) ctx.lineCap(lineCap);\n    return node;\n  };\n};\n\nvar setLineDash = function setLineDash(ctx) {\n  return function (node) {\n    var value = getProp(null, 'strokeDasharray', node);\n    if (value) ctx.dash(R.split(',', value));\n    return node;\n  };\n};\n\nvar hasLinearGradientFill = R.pathEq(['props', 'fill', 'type'], P.LinearGradient);\nvar hasRadialGradientFill = R.pathEq(['props', 'fill', 'type'], P.RadialGradient); // Math simplified from https://github.com/devongovett/svgkit/blob/master/src/elements/SVGGradient.js#L104\n\nvar setLinearGradientFill = function setLinearGradientFill(ctx) {\n  return R.tap(function (node) {\n    var bbox = (0, _getBoundingBox.default)(node);\n    var gradient = getProp(null, 'fill', node);\n    var x1 = R.pathOr(0, ['props', 'x1'], gradient);\n    var y1 = R.pathOr(0, ['props', 'y1'], gradient);\n    var x2 = R.pathOr(1, ['props', 'x2'], gradient);\n    var y2 = R.pathOr(0, ['props', 'y2'], gradient);\n    var m0 = bbox[2] - bbox[0];\n    var m3 = bbox[3] - bbox[1];\n    var m4 = bbox[0];\n    var m5 = bbox[1];\n    var gx1 = m0 * x1 + m4;\n    var gy1 = m3 * y1 + m5;\n    var gx2 = m0 * x2 + m4;\n    var gy2 = m3 * y2 + m5;\n    var grad = ctx.linearGradient(gx1, gy1, gx2, gy2);\n    gradient.children.forEach(function (stop) {\n      grad.stop(stop.props.offset, stop.props.stopColor, stop.props.stopOpacity);\n    });\n    ctx.fill(grad);\n  });\n}; // Math simplified from https://github.com/devongovett/svgkit/blob/master/src/elements/SVGGradient.js#L155\n\n\nvar setRadialGradientFill = function setRadialGradientFill(ctx) {\n  return R.tap(function (node) {\n    var bbox = (0, _getBoundingBox.default)(node);\n    var gradient = getProp(null, 'fill', node);\n    var cx = R.pathOr(0.5, ['props', 'cx'], gradient);\n    var cy = R.pathOr(0.5, ['props', 'cy'], gradient);\n    var fx = R.pathOr(cx, ['props', 'fx'], gradient);\n    var fy = R.pathOr(cy, ['props', 'fy'], gradient);\n    var r = R.pathOr(0.5, ['props', 'r'], gradient);\n    var m0 = bbox[2] - bbox[0];\n    var m3 = bbox[3] - bbox[1];\n    var m4 = bbox[0];\n    var m5 = bbox[1];\n    var gr = r * m0;\n    var gcx = m0 * cx + m4;\n    var gcy = m3 * cy + m5;\n    var gfx = m0 * fx + m4;\n    var gfy = m3 * fy + m5;\n    var grad = ctx.radialGradient(gfx, gfy, 0, gcx, gcy, gr);\n    gradient.children.forEach(function (stop) {\n      grad.stop(stop.props.offset, stop.props.stopColor, stop.props.stopOpacity);\n    });\n    ctx.fill(grad);\n  });\n};\n\nvar setFillColor = function setFillColor(ctx) {\n  return R.tap(function (node) {\n    var fillColor = getProp(null, 'fill', node);\n    if (fillColor) ctx.fillColor(fillColor);\n  });\n};\n\nvar setFill = function setFill(ctx) {\n  return R.cond([[hasLinearGradientFill, setLinearGradientFill(ctx)], [hasRadialGradientFill, setRadialGradientFill(ctx)], [R.T, setFillColor(ctx)]]);\n};\n\nvar draw = function draw(ctx) {\n  return function (node) {\n    var props = R.propOr({}, 'props', node);\n\n    if (props.fill && props.stroke) {\n      ctx.fillAndStroke(props.fillRule);\n    } else if (props.fill) {\n      ctx.fill(props.fillRule);\n    } else if (props.stroke) {\n      ctx.stroke();\n    } else {\n      ctx.save();\n      ctx.opacity(0);\n      ctx.fill(null);\n      ctx.restore();\n    }\n\n    return node;\n  };\n};\n\nvar renderNode = function renderNode(ctx) {\n  return R.cond([[_isTspan.default, R.identity], [_isTextInstance.default, R.identity], [_isPath.default, (0, _renderPath.default)(ctx)], [_isRect.default, (0, _renderRect.default)(ctx)], [_isLine.default, (0, _renderLine.default)(ctx)], [_isGroup.default, (0, _renderGroup.default)(ctx)], [_isText.default, (0, _renderSvgText.default)(ctx)], [_isCircle.default, (0, _renderCircle.default)(ctx)], [_isImage.default, (0, _renderSvgImage.default)(ctx)], [_isEllipse.default, (0, _renderEllipse.default)(ctx)], [_isPolygon.default, (0, _renderPolygon.default)(ctx)], [_isPolyline.default, (0, _renderPolyline.default)(ctx)], [R.T, warnUnsupportedNode]]);\n};\n\nvar drawNode = function drawNode(ctx) {\n  return R.compose(draw(ctx), renderNode(ctx), (0, _transform.default)(ctx), setOpacity(ctx), setFillOpacity(ctx), setStrokeOpacity(ctx), setFill(ctx), setStrokeColor(ctx), setStrokeWidth(ctx), setLineJoin(ctx), setLineDash(ctx), setLineCap(ctx));\n};\n\nvar clipPath = function clipPath(ctx) {\n  return function (node) {\n    var value = R.path(['props', 'clipPath'], node);\n\n    if (value) {\n      R.compose(function () {\n        return ctx.clip();\n      }, R.forEach(renderNode(ctx)), R.propOr([], 'children'))(value);\n    }\n\n    return node;\n  };\n};\n\nvar drawChildren = function drawChildren(ctx) {\n  return function (node) {\n    return R.compose(R.map(R.compose((0, _restore.default)(ctx), drawChildren(ctx), drawNode(ctx), clipPath(ctx), (0, _save.default)(ctx))), R.propOr([], 'children'))(node);\n  };\n};\n\nvar defaultsZero = R.pathOr(0);\n\nvar resolveAspectRatio = function resolveAspectRatio(ctx) {\n  return function (node) {\n    var _node$box = node.box,\n        width = _node$box.width,\n        height = _node$box.height;\n    var _node$props = node.props,\n        viewBox = _node$props.viewBox,\n        _node$props$preserveA = _node$props.preserveAspectRatio,\n        preserveAspectRatio = _node$props$preserveA === void 0 ? {} : _node$props$preserveA;\n    var _preserveAspectRatio$ = preserveAspectRatio.meetOrSlice,\n        meetOrSlice = _preserveAspectRatio$ === void 0 ? 'meet' : _preserveAspectRatio$,\n        _preserveAspectRatio$2 = preserveAspectRatio.align,\n        align = _preserveAspectRatio$2 === void 0 ? 'xMidYMid' : _preserveAspectRatio$2;\n    if (viewBox == null || width == null || height == null) return node;\n    var x = (viewBox === null || viewBox === void 0 ? void 0 : viewBox.minX) || 0;\n    var y = (viewBox === null || viewBox === void 0 ? void 0 : viewBox.minY) || 0;\n    var logicalWidth = (viewBox === null || viewBox === void 0 ? void 0 : viewBox.maxX) || width;\n    var logicalHeight = (viewBox === null || viewBox === void 0 ? void 0 : viewBox.maxY) || height;\n    var logicalRatio = logicalWidth / logicalHeight;\n    var physicalRatio = width / height;\n    var scaleX = width / logicalWidth;\n    var scaleY = height / logicalHeight;\n\n    if (align === 'none') {\n      ctx.scale(scaleX, scaleY);\n      ctx.translate(-x, -y);\n      return node;\n    }\n\n    if (logicalRatio < physicalRatio && meetOrSlice === 'meet' || logicalRatio >= physicalRatio && meetOrSlice === 'slice') {\n      ctx.scale(scaleY, scaleY);\n\n      switch (align) {\n        case 'xMinYMin':\n        case 'xMinYMid':\n        case 'xMinYMax':\n          ctx.translate(-x, -y);\n          break;\n\n        case 'xMidYMin':\n        case 'xMidYMid':\n        case 'xMidYMax':\n          ctx.translate(-x - (logicalWidth - width * logicalHeight / height) / 2, -y);\n          break;\n\n        default:\n          ctx.translate(-x - (logicalWidth - width * logicalHeight / height), -y);\n      }\n    } else {\n      ctx.scale(scaleX, scaleX);\n\n      switch (align) {\n        case 'xMinYMin':\n        case 'xMidYMin':\n        case 'xMaxYMin':\n          ctx.translate(-x, -y);\n          break;\n\n        case 'xMinYMid':\n        case 'xMidYMid':\n        case 'xMaxYMid':\n          ctx.translate(-x, -y - (logicalHeight - height * logicalWidth / width) / 2);\n          break;\n\n        default:\n          ctx.translate(-x, -y - (logicalHeight - height * logicalWidth / width));\n      }\n    }\n\n    return node;\n  };\n};\n\nvar moveToOrigin = function moveToOrigin(ctx) {\n  return function (node) {\n    var _node$box2 = node.box,\n        top = _node$box2.top,\n        left = _node$box2.left;\n    var paddingLeft = defaultsZero('paddingLeft', node.box);\n    var paddingTop = defaultsZero('paddingTop', node.box);\n    ctx.translate(left + paddingLeft, top + paddingTop);\n    return node;\n  };\n};\n\nvar renderSvg = function renderSvg(ctx, node) {\n  R.compose((0, _restore.default)(ctx), drawChildren(ctx), resolveAspectRatio(ctx), moveToOrigin(ctx), (0, _clipNode.default)(ctx), (0, _save.default)(ctx))(node);\n  return node;\n};\n\nvar _default = R.curryN(2, renderSvg);\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/allan.chepkoy/cloud/kubeflow/components/zoradashboard/node_modules/@react-pdf/render/lib/primitives/renderSvg.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","__esModule","default","R","P","_renderPath","_renderRect","_renderLine","_renderGroup","_renderCircle","_renderSvgText","_renderEllipse","_renderPolygon","_renderPolyline","_renderSvgImage","_isPath","_isText","_isRect","_isLine","_isTspan","_isImage","_isGroup","_isCircle","_isEllipse","_isPolygon","_isPolyline","_isTextInstance","_save","_restore","_clipNode","_transform","_getBoundingBox","warnUnsupportedNode","tap","node","console","warn","type","getProp","d","p","v","pathOr","setStrokeWidth","ctx","lineWidth","setStrokeColor","strokeColor","setOpacity","opacity","isNil","setFillOpacity","fillOpacity","setStrokeOpacity","strokeOpacity","setLineJoin","lineJoin","setLineCap","lineCap","setLineDash","value","dash","split","hasLinearGradientFill","pathEq","LinearGradient","hasRadialGradientFill","RadialGradient","setLinearGradientFill","bbox","gradient","x1","y1","x2","y2","m0","m3","m4","m5","gx1","gy1","gx2","gy2","grad","linearGradient","children","forEach","stop","props","offset","stopColor","stopOpacity","fill","setRadialGradientFill","cx","cy","fx","fy","r","gr","gcx","gcy","gfx","gfy","radialGradient","setFillColor","fillColor","setFill","cond","T","draw","propOr","stroke","fillAndStroke","fillRule","save","restore","renderNode","identity","drawNode","compose","clipPath","path","clip","drawChildren","map","defaultsZero","resolveAspectRatio","_node$box","box","width","height","_node$props","viewBox","_node$props$preserveA","preserveAspectRatio","_preserveAspectRatio$","meetOrSlice","_preserveAspectRatio$2","align","x","minX","y","minY","logicalWidth","maxX","logicalHeight","maxY","logicalRatio","physicalRatio","scaleX","scaleY","scale","translate","moveToOrigin","_node$box2","top","left","paddingLeft","paddingTop","renderSvg","_default","curryN"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar P = _interopRequireWildcard(require(\"@react-pdf/primitives\"));\n\nvar _renderPath = _interopRequireDefault(require(\"./renderPath\"));\n\nvar _renderRect = _interopRequireDefault(require(\"./renderRect\"));\n\nvar _renderLine = _interopRequireDefault(require(\"./renderLine\"));\n\nvar _renderGroup = _interopRequireDefault(require(\"./renderGroup\"));\n\nvar _renderCircle = _interopRequireDefault(require(\"./renderCircle\"));\n\nvar _renderSvgText = _interopRequireDefault(require(\"./renderSvgText\"));\n\nvar _renderEllipse = _interopRequireDefault(require(\"./renderEllipse\"));\n\nvar _renderPolygon = _interopRequireDefault(require(\"./renderPolygon\"));\n\nvar _renderPolyline = _interopRequireDefault(require(\"./renderPolyline\"));\n\nvar _renderSvgImage = _interopRequireDefault(require(\"./renderSvgImage\"));\n\nvar _isPath = _interopRequireDefault(require(\"../utils/isPath\"));\n\nvar _isText = _interopRequireDefault(require(\"../utils/isText\"));\n\nvar _isRect = _interopRequireDefault(require(\"../utils/isRect\"));\n\nvar _isLine = _interopRequireDefault(require(\"../utils/isLine\"));\n\nvar _isTspan = _interopRequireDefault(require(\"../utils/isTspan\"));\n\nvar _isImage = _interopRequireDefault(require(\"../utils/isImage\"));\n\nvar _isGroup = _interopRequireDefault(require(\"../utils/isGroup\"));\n\nvar _isCircle = _interopRequireDefault(require(\"../utils/isCircle\"));\n\nvar _isEllipse = _interopRequireDefault(require(\"../utils/isEllipse\"));\n\nvar _isPolygon = _interopRequireDefault(require(\"../utils/isPolygon\"));\n\nvar _isPolyline = _interopRequireDefault(require(\"../utils/isPolyline\"));\n\nvar _isTextInstance = _interopRequireDefault(require(\"../utils/isTextInstance\"));\n\nvar _save = _interopRequireDefault(require(\"../operations/save\"));\n\nvar _restore = _interopRequireDefault(require(\"../operations/restore\"));\n\nvar _clipNode = _interopRequireDefault(require(\"../operations/clipNode\"));\n\nvar _transform = _interopRequireDefault(require(\"../operations/transform\"));\n\nvar _getBoundingBox = _interopRequireDefault(require(\"../svg/getBoundingBox\"));\n\nvar warnUnsupportedNode = R.tap(function (node) {\n  console.warn(\"SVG node of type \" + node.type + \" is not currenty supported\");\n});\n\nvar getProp = function getProp(d, p, v) {\n  return R.pathOr(d, ['props', p], v);\n};\n\nvar setStrokeWidth = function setStrokeWidth(ctx) {\n  return function (node) {\n    var lineWidth = getProp(0, 'strokeWidth', node);\n    if (lineWidth) ctx.lineWidth(lineWidth);\n    return node;\n  };\n};\n\nvar setStrokeColor = function setStrokeColor(ctx) {\n  return function (node) {\n    var strokeColor = getProp(null, 'stroke', node);\n    if (strokeColor) ctx.strokeColor(strokeColor);\n    return node;\n  };\n};\n\nvar setOpacity = function setOpacity(ctx) {\n  return function (node) {\n    var opacity = getProp(null, 'opacity', node);\n    if (!R.isNil(opacity)) ctx.opacity(opacity);\n    return node;\n  };\n};\n\nvar setFillOpacity = function setFillOpacity(ctx) {\n  return function (node) {\n    var fillOpacity = getProp(null, 'fillOpacity', node);\n    if (!R.isNil(fillOpacity)) ctx.fillOpacity(fillOpacity);\n    return node;\n  };\n};\n\nvar setStrokeOpacity = function setStrokeOpacity(ctx) {\n  return function (node) {\n    var strokeOpacity = getProp(null, 'strokeOpacity', node);\n    if (!R.isNil(strokeOpacity)) ctx.strokeOpacity(strokeOpacity);\n    return node;\n  };\n};\n\nvar setLineJoin = function setLineJoin(ctx) {\n  return function (node) {\n    var lineJoin = getProp(null, 'strokeLinejoin', node);\n    if (lineJoin) ctx.lineJoin(lineJoin);\n    return node;\n  };\n};\n\nvar setLineCap = function setLineCap(ctx) {\n  return function (node) {\n    var lineCap = getProp(null, 'strokeLinecap', node);\n    if (lineCap) ctx.lineCap(lineCap);\n    return node;\n  };\n};\n\nvar setLineDash = function setLineDash(ctx) {\n  return function (node) {\n    var value = getProp(null, 'strokeDasharray', node);\n    if (value) ctx.dash(R.split(',', value));\n    return node;\n  };\n};\n\nvar hasLinearGradientFill = R.pathEq(['props', 'fill', 'type'], P.LinearGradient);\nvar hasRadialGradientFill = R.pathEq(['props', 'fill', 'type'], P.RadialGradient); // Math simplified from https://github.com/devongovett/svgkit/blob/master/src/elements/SVGGradient.js#L104\n\nvar setLinearGradientFill = function setLinearGradientFill(ctx) {\n  return R.tap(function (node) {\n    var bbox = (0, _getBoundingBox.default)(node);\n    var gradient = getProp(null, 'fill', node);\n    var x1 = R.pathOr(0, ['props', 'x1'], gradient);\n    var y1 = R.pathOr(0, ['props', 'y1'], gradient);\n    var x2 = R.pathOr(1, ['props', 'x2'], gradient);\n    var y2 = R.pathOr(0, ['props', 'y2'], gradient);\n    var m0 = bbox[2] - bbox[0];\n    var m3 = bbox[3] - bbox[1];\n    var m4 = bbox[0];\n    var m5 = bbox[1];\n    var gx1 = m0 * x1 + m4;\n    var gy1 = m3 * y1 + m5;\n    var gx2 = m0 * x2 + m4;\n    var gy2 = m3 * y2 + m5;\n    var grad = ctx.linearGradient(gx1, gy1, gx2, gy2);\n    gradient.children.forEach(function (stop) {\n      grad.stop(stop.props.offset, stop.props.stopColor, stop.props.stopOpacity);\n    });\n    ctx.fill(grad);\n  });\n}; // Math simplified from https://github.com/devongovett/svgkit/blob/master/src/elements/SVGGradient.js#L155\n\n\nvar setRadialGradientFill = function setRadialGradientFill(ctx) {\n  return R.tap(function (node) {\n    var bbox = (0, _getBoundingBox.default)(node);\n    var gradient = getProp(null, 'fill', node);\n    var cx = R.pathOr(0.5, ['props', 'cx'], gradient);\n    var cy = R.pathOr(0.5, ['props', 'cy'], gradient);\n    var fx = R.pathOr(cx, ['props', 'fx'], gradient);\n    var fy = R.pathOr(cy, ['props', 'fy'], gradient);\n    var r = R.pathOr(0.5, ['props', 'r'], gradient);\n    var m0 = bbox[2] - bbox[0];\n    var m3 = bbox[3] - bbox[1];\n    var m4 = bbox[0];\n    var m5 = bbox[1];\n    var gr = r * m0;\n    var gcx = m0 * cx + m4;\n    var gcy = m3 * cy + m5;\n    var gfx = m0 * fx + m4;\n    var gfy = m3 * fy + m5;\n    var grad = ctx.radialGradient(gfx, gfy, 0, gcx, gcy, gr);\n    gradient.children.forEach(function (stop) {\n      grad.stop(stop.props.offset, stop.props.stopColor, stop.props.stopOpacity);\n    });\n    ctx.fill(grad);\n  });\n};\n\nvar setFillColor = function setFillColor(ctx) {\n  return R.tap(function (node) {\n    var fillColor = getProp(null, 'fill', node);\n    if (fillColor) ctx.fillColor(fillColor);\n  });\n};\n\nvar setFill = function setFill(ctx) {\n  return R.cond([[hasLinearGradientFill, setLinearGradientFill(ctx)], [hasRadialGradientFill, setRadialGradientFill(ctx)], [R.T, setFillColor(ctx)]]);\n};\n\nvar draw = function draw(ctx) {\n  return function (node) {\n    var props = R.propOr({}, 'props', node);\n\n    if (props.fill && props.stroke) {\n      ctx.fillAndStroke(props.fillRule);\n    } else if (props.fill) {\n      ctx.fill(props.fillRule);\n    } else if (props.stroke) {\n      ctx.stroke();\n    } else {\n      ctx.save();\n      ctx.opacity(0);\n      ctx.fill(null);\n      ctx.restore();\n    }\n\n    return node;\n  };\n};\n\nvar renderNode = function renderNode(ctx) {\n  return R.cond([[_isTspan.default, R.identity], [_isTextInstance.default, R.identity], [_isPath.default, (0, _renderPath.default)(ctx)], [_isRect.default, (0, _renderRect.default)(ctx)], [_isLine.default, (0, _renderLine.default)(ctx)], [_isGroup.default, (0, _renderGroup.default)(ctx)], [_isText.default, (0, _renderSvgText.default)(ctx)], [_isCircle.default, (0, _renderCircle.default)(ctx)], [_isImage.default, (0, _renderSvgImage.default)(ctx)], [_isEllipse.default, (0, _renderEllipse.default)(ctx)], [_isPolygon.default, (0, _renderPolygon.default)(ctx)], [_isPolyline.default, (0, _renderPolyline.default)(ctx)], [R.T, warnUnsupportedNode]]);\n};\n\nvar drawNode = function drawNode(ctx) {\n  return R.compose(draw(ctx), renderNode(ctx), (0, _transform.default)(ctx), setOpacity(ctx), setFillOpacity(ctx), setStrokeOpacity(ctx), setFill(ctx), setStrokeColor(ctx), setStrokeWidth(ctx), setLineJoin(ctx), setLineDash(ctx), setLineCap(ctx));\n};\n\nvar clipPath = function clipPath(ctx) {\n  return function (node) {\n    var value = R.path(['props', 'clipPath'], node);\n\n    if (value) {\n      R.compose(function () {\n        return ctx.clip();\n      }, R.forEach(renderNode(ctx)), R.propOr([], 'children'))(value);\n    }\n\n    return node;\n  };\n};\n\nvar drawChildren = function drawChildren(ctx) {\n  return function (node) {\n    return R.compose(R.map(R.compose((0, _restore.default)(ctx), drawChildren(ctx), drawNode(ctx), clipPath(ctx), (0, _save.default)(ctx))), R.propOr([], 'children'))(node);\n  };\n};\n\nvar defaultsZero = R.pathOr(0);\n\nvar resolveAspectRatio = function resolveAspectRatio(ctx) {\n  return function (node) {\n    var _node$box = node.box,\n        width = _node$box.width,\n        height = _node$box.height;\n    var _node$props = node.props,\n        viewBox = _node$props.viewBox,\n        _node$props$preserveA = _node$props.preserveAspectRatio,\n        preserveAspectRatio = _node$props$preserveA === void 0 ? {} : _node$props$preserveA;\n    var _preserveAspectRatio$ = preserveAspectRatio.meetOrSlice,\n        meetOrSlice = _preserveAspectRatio$ === void 0 ? 'meet' : _preserveAspectRatio$,\n        _preserveAspectRatio$2 = preserveAspectRatio.align,\n        align = _preserveAspectRatio$2 === void 0 ? 'xMidYMid' : _preserveAspectRatio$2;\n    if (viewBox == null || width == null || height == null) return node;\n    var x = (viewBox === null || viewBox === void 0 ? void 0 : viewBox.minX) || 0;\n    var y = (viewBox === null || viewBox === void 0 ? void 0 : viewBox.minY) || 0;\n    var logicalWidth = (viewBox === null || viewBox === void 0 ? void 0 : viewBox.maxX) || width;\n    var logicalHeight = (viewBox === null || viewBox === void 0 ? void 0 : viewBox.maxY) || height;\n    var logicalRatio = logicalWidth / logicalHeight;\n    var physicalRatio = width / height;\n    var scaleX = width / logicalWidth;\n    var scaleY = height / logicalHeight;\n\n    if (align === 'none') {\n      ctx.scale(scaleX, scaleY);\n      ctx.translate(-x, -y);\n      return node;\n    }\n\n    if (logicalRatio < physicalRatio && meetOrSlice === 'meet' || logicalRatio >= physicalRatio && meetOrSlice === 'slice') {\n      ctx.scale(scaleY, scaleY);\n\n      switch (align) {\n        case 'xMinYMin':\n        case 'xMinYMid':\n        case 'xMinYMax':\n          ctx.translate(-x, -y);\n          break;\n\n        case 'xMidYMin':\n        case 'xMidYMid':\n        case 'xMidYMax':\n          ctx.translate(-x - (logicalWidth - width * logicalHeight / height) / 2, -y);\n          break;\n\n        default:\n          ctx.translate(-x - (logicalWidth - width * logicalHeight / height), -y);\n      }\n    } else {\n      ctx.scale(scaleX, scaleX);\n\n      switch (align) {\n        case 'xMinYMin':\n        case 'xMidYMin':\n        case 'xMaxYMin':\n          ctx.translate(-x, -y);\n          break;\n\n        case 'xMinYMid':\n        case 'xMidYMid':\n        case 'xMaxYMid':\n          ctx.translate(-x, -y - (logicalHeight - height * logicalWidth / width) / 2);\n          break;\n\n        default:\n          ctx.translate(-x, -y - (logicalHeight - height * logicalWidth / width));\n      }\n    }\n\n    return node;\n  };\n};\n\nvar moveToOrigin = function moveToOrigin(ctx) {\n  return function (node) {\n    var _node$box2 = node.box,\n        top = _node$box2.top,\n        left = _node$box2.left;\n    var paddingLeft = defaultsZero('paddingLeft', node.box);\n    var paddingTop = defaultsZero('paddingTop', node.box);\n    ctx.translate(left + paddingLeft, top + paddingTop);\n    return node;\n  };\n};\n\nvar renderSvg = function renderSvg(ctx, node) {\n  R.compose((0, _restore.default)(ctx), drawChildren(ctx), resolveAspectRatio(ctx), moveToOrigin(ctx), (0, _clipNode.default)(ctx), (0, _save.default)(ctx))(node);\n  return node;\n};\n\nvar _default = R.curryN(2, renderSvg);\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}